{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/index.ts","src/routing/BackDecorator.ts","src/routing/RedirectDecorator.ts","src/routing/RoutingEvents.ts","src/routing/index.ts","src/session/IdentityService.ts","src/session/SessionService.ts","src/session/index.ts","src/transactions/Transaction.ts","src/transactions/TransactionError.ts","src/transactions/TransactionService.ts","src/transactions/TransactionStrings.ts","src/transactions/index.ts","src/translate/TranslateDirective.ts","src/translate/TranslateFilter.ts","src/translate/TranslateService.ts","src/translate/Translation.ts","src/translate/index.ts","src/utilities/Codes.ts","src/utilities/Format.ts","src/utilities/PageResetService.ts","src/utilities/ScrollService.ts","src/utilities/SystemInfo.ts","src/utilities/Tags.ts","src/utilities/TimerService.ts","src/utilities/index.ts","src/buttons.ts","src/dependencies/translate.ts","src/fabs/fab_tooltip_visibility.ts","src/refresh_button/refresh_button.ts","src/toggle_buttons/toggle_buttons.ts","temp/pip-webui-buttons-html.min.js","src/auxpanel/AuxPanelDirective.ts","src/auxpanel/AuxPanelPartDirective.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/split.ts","src/behaviors.ts","src/draggable/draggable.ts","src/focused/focused.ts","src/infinite_scroll/infinite_scroll.ts","src/selected/selected.ts","src/unsaved_changes/unsaved_changes.ts","src/color_picker/color_picker.ts","src/controls.ts","src/image_slider/image_slider.ts","src/image_slider/image_slider_service.ts","src/image_slider/slider_button.ts","src/image_slider/slider_indicator.ts","src/markdown/markdown.ts","src/popover/popover.ts","src/popover/popover_service.ts","src/progress/routing_progress.ts","src/toast/toasts.ts","temp/pip-webui-controls-html.min.js","src/lists.ts","src/tag_list/tag_list.ts","temp/pip-webui-lists-html.min.js","src/date/date.ts","src/date/date_filter.ts","src/date/date_service.ts","src/date_directive/date.ts","src/date_range_directive/date_range.ts","src/dates.ts","src/dependencies/translate.js","src/time_range_directive/time_range.ts","src/time_range_edit_directive/time_range_edit.ts","temp/pip-webui-dates-html.min.js","src/confirmation/ConfirmationController.ts","src/confirmation/ConfirmationService.ts","src/confirmation/index.ts","src/dialogs.ts","src/error_details/ErrorDetailsController.ts","src/error_details/ErrorDetailsService.ts","src/error_details/index.ts","src/information/InformationController.ts","src/information/InformationService.ts","src/information/index.ts","src/options/OptionsBigController.ts","src/options/OptionsBigService.ts","src/options/OptionsController.ts","src/options/OptionsService.ts","src/options/index.ts","temp/pip-webui-dialogs-html.min.js","src/actions/ActionsService.ts","src/actions/PrimaryActionsDirective.ts","src/actions/SecondaryActionsDirective.ts","src/actions/index.ts","src/appbar/AppBarDirective.ts","src/appbar/AppBarPartDirective.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/BreadcrumbDirective.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dependencies/TranslateFilter.ts","src/dropdown/DropdownDirective.ts","src/header/NavHeaderDirective.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIconDirective.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenuDirective.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBarDirective.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNavDirective.ts","src/sidenav/SideNavPartDirective.ts","src/sidenav/SideNavService.ts","src/sidenav/index.ts","src/tabs/TabsDirective.ts","temp/pip-webui-nav-html.min.js","src/bootbarn/BootBarnCoolTheme.ts","src/bootbarn/BootBarnMonochromeTheme.ts","src/bootbarn/BootBarnWarmTheme.ts","src/bootbarn/index.ts","src/common/ThemeService.ts","src/common/index.ts","src/default/DefaultAmberTheme.ts","src/default/DefaultBlueTheme.ts","src/default/DefaultGreenTheme.ts","src/default/DefaultGreyTheme.ts","src/default/DefaultNavyTheme.ts","src/default/DefaultOrangeTheme.ts","src/default/DefaultPinkTheme.ts","src/default/index.ts","src/common/errors_strings.ts","src/errors.ts","src/errors_pages/errors_module.ts","src/errors_pages/errors_pages.ts","src/errors_pages/errors_service.ts","src/forms/clear_errors.ts","src/forms/form_errors.ts","src/maintenance/maintenance.ts","src/missing_route/missing_route.ts","src/no_connection/no_connection.ts","src/no_connection_panel/no_connection_panel.ts","src/unknown/unknown.ts","src/unsupported/unsupported.ts","temp/pip-webui-errors-html.min.js","src/bar/bar_chart.ts","src/charts.ts","src/legend/interactive_legend.ts","src/line/line_chart.ts","src/pie/pie_chart.ts","temp/pip-webui-charts-html.min.js","src/location/location.ts","src/location_dialog/location_dialog.ts","src/location_edit/location_edit.ts","src/location_ip/location_ip.ts","src/location_map/location_map.ts","src/locations.ts","temp/pip-webui-locations-html.min.js","src/SettingsModule.ts","src/settings.ts","src/settings_page/SettingsPageController.ts","src/settings_page/SettingsPageRoutes.ts","src/settings_page/index.ts","src/settings_service/SettingsService.ts","src/settings_service/index.ts","src/user_settings/user_settings.ts","src/user_settings/user_settings_basic_info.ts","src/user_settings/user_settings_change_password.ts","src/user_settings/user_settings_sessions.ts","src/user_settings/user_settings_strings.ts","src/user_settings/user_settings_verify_email.ts","temp/pip-webui-settings-html.min.js","src/help.ts","src/help_page/help_page.ts","src/help_service/help_service.ts","temp/pip-webui-help-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","services","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","angular","__export","captureStateTranslations","$rootScope","$on","event","toState","toParams","fromState","fromParams","CurrentState","name","url","params","PreviousState","decorateBackStateService","$delegate","$window","goBack","history","back","goBackAndSelect","state","_","cloneDeep","extend","go","addBackStateDecorator","$provide","decorator","$inject","run","3","decorateRedirectStateProvider","redirect","RedirectedStates","addRedirectStateProviderDecorator","$timeout","isNull","preventDefault","transitionTo","location","addRedirectStateDecorator","config","4","hookRoutingEvents","$log","$state","RoutingVar","error","unfoundState","to","5","m","./RedirectDecorator","./RoutingEvents","6","IdentityRootVar","IdentityChangedEvent","IdentityService","setRootVar","identity","_setRootVar","_identity","_rootScope","_log","prototype","value","$emit","debug","JSON","stringify","enumerable","configurable","IdentityProvider","_service","get","set","$get","provider","SessionRootVar","SessionOpenedEvent","SessionClosedEvent","SessionService","session","_session","defineProperty","isOpened","open","fullReset","partialReset","close","oldSession","SessionProvider","8","./SessionService","9","Transaction","scope","_scope","_id","_operation","_progress","_error","message","reset","busy","failed","empty","aborted","id","begin","operation","Date","getTime","toString","update","progress","Math","max","abort","decode","10","TransactionError","details","cause","stack_trace","data","statusText","status","TransactionService","_transactions","create","transaction","Transaction_1","12","configureTransactionStrings","$injector","has","setTranslations","ENTERING","PROCESSING","LOADING","SAVING","pipTranslate","13","./TransactionError","./TransactionService","./TransactionStrings","14","restrict","key1","key2","link","element","attrs","key","translate","text","html","directive","translateDirective","translateHtmlDirective","translateFilter","optionalTranslateFilter","filter","language","__extends","d","b","__","constructor","p","hasOwnProperty","Object","LanguageRootVar","LanguageChangedEvent","TranslateService","translation","persist","$mdDateLocale","_persist","_translation","_window","_mdDateLocale","localStorage","getItem","save","changeLocale","locale","localeDate","moment","localeData","months","isArray","_months","format","shortMonths","_monthsShort","days","_weekdays","shortDays","_weekdaysMin","firstDayOfWeek","_week","dow","setItem","PageResetService_1","ResetPageEvent","use","translations","translateArray","keys","translateSet","keyProp","valueProp","translateObjects","items","translateWithPrefix","prefix","translateSetWithPrefix","translateSetWithPrefix2","_super","_this","TranslateProvider","Translation","./Translation","17","en","ru","es","pt","de","fr","_language","map","_translations","isUndefined","values","k","push","each","item","replace","toUpperCase","18","./TranslateFilter","./TranslateService","19","Codes","hash","result","charCodeAt","verification","random","substr","20","Format","cache","sample","maxLength","indexOf","substring","strRepeat","str","qty","getType","variable","slice","toLowerCase","fmt","match","parse_tree","arg_names","exec","_fmt","field_list","replacement_field","field_match","argv","tree_length","node_type","output","arg","cursor","sprintf","test","String","fromCharCode","parseInt","toExponential","parseFloat","toFixed","abs","pad_character","charAt","pad_length","pad","join","_i","arguments","args","parseFormat","21","hookResetEvents","pipPageReset","ResetAreaEvent","area","resetArea","ResetRootVar","ResetAreaRootVar","PageResetService","_timeout","performReset","scrollTo","parentElement","childElement","animationDuration","undefined","setTimeout","$","position","modDiff","scrollTop","top","animate","ScrollService","SystemInfo","ua","navigator","userAgent","search","version","browserName","browser","split","osAll","osAndroid","err","isDesktop","platform","isMobile","isCordova","isSupported","supported","edge","opera","chrome","browserVersion","service","Tags","normalizeOne","tag","trim","compressOne","equal","tag1","tag2","normalizeAll","tags","isString","compressAll","entity","searchFields","field","hashTags","concat","uniq","TimerEvent","timeout","DefaultEvents","TimerService","$interval","_started","_events","_interval","isStarted","addEvent","existingEvent","find","newEvent","startEvent","removeEvent","stopEvent","splice","clearEvents","stop","interval","cancel","ex","start","buttons","thisModule","$parse","controller","$scope","$attrs","trigGetter","pipFabTooltipVisibility","showGetter","pipFabShowTooltip","showSetter","assign","$watch","isOpen","template","$element","hide","$button","width","show","textGetter","pipText","visibleGetter","pipVisible","refreshGetter","pipRefresh","children","$text","css","onClick","newValue","ngDisabled","currentButtonValue","currentButton","multiselect","change","onlyToggle","templateUrl","$mdMedia","index","class","currentButtonIndex","buttonSelected","disabled","enterSpacePress","highlightButton","level","elem","on","addClass","removeClass","$templateCache","put","layouts","MediaService_1","AuxPanelDirective","AuxPanelDirectiveController","transclude","controllerAs","pipAuxPanel","normalSize","largeSize","_pipAuxPanel","isGtxs","Number","MainBreakpoints","xs","isGtlg","lg","../media/MediaService","2","AuxPanelPartDirectiveController","onAuxPanelChanged","currentPartValue","parts","partName","visible","partValue","pipAuxPanelPart","pos","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","apply","hookAuxPanelEvents","OpenAuxPanelEvent","CloseAuxPanelEvent","AuxPanelChangedEvent","AuxPanelStateChangedEvent","AuxPanelConfig","AuxPanelService","$mdSidenav","_config","_sidenav","classes","sendConfigEvent","_state","$broadcast","toggle","c","reject","cc","part","AuxPanelProvider","type","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","CardDirectiveLink","_element","_attrs","listener","resize","MainResizedEvent","left","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","floor","minHeight","MainBreakpointStatuses","space","min","hasClass","$header","$footer","$body","maxBodyHeight","outerHeight","cardDirective","7","dialogDirective","documentDirective","mainDirective","MainDirectiveController","mainBodyDirective","MainBodyDirectiveLink","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","breakpoint","isBoolean","$apply","../media/ResizeFunctions","simpleDirective","tilesDirective","convertToBoolean","pipInfinite","tilesOptions","gutter","isFitWidth","isResizeBound","transitionDuration","TilesDirectiveLink","_columnWidth","columnWidth","_prevContainerWidth","_masonry","Masonry","_sizer","appendTo","force","parent","log","columns","containerWidth","layout","LayoutResizedEvent","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","size","requestFrame","callback","frame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","win","target","srcElement","__resizeRAF__","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","defaultView","__resizeElement__","addEventListener","resizeListener","attachEvent","getComputedStyle","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","detachEvent","removeChild","pipSplit","splitElements","forwardTransition","addTransitionSequence","sequence","transitionSequences","toIndex","fromIndex","behaviors","inputEvent","isDefined","touches","originalEvent","$document","pipDraggable","initialize","attr","dragHandles","querySelectorAll","_dragHandle","toggleListeners","scrollContainer","scrollParent","pipScrollContainer","scrollContainerGetter","toBoolean","enable","onDestroy","pipDrag","onEnableChange","pipCenterAnchor","onCenterAnchor","_pressEvents","onpress","_hasTouch","nodeName","newVal","oldVal","_dragEnabled","_centerAnchor","isClickableElement","evt","button","saveElementStyles","cancelPress","_pressTimer","onlongpress","LONG_PRESS","_moveEvents","_releaseEvents","_elementStyle","off","offset","getBoundingClientRect","_dragOffset","allowTransform","scrollLeft","centerX","offsetWidth","centerY","offsetHeight","_mx","pageX","_my","pageY","_mrx","_mry","_tx","pageXOffset","_ty","pageYOffset","onmove","onrelease","_deregisterRootMoveListener","origEvent","_data","getDragData","x","y","tx","ty","onDragStartCallback","$data","$event","horizontalScroll","verticalScroll","dragToScroll","moveElement","uid","_myid","dragOffset","onDragComplete","onDragStopCallback","onDragSuccessCallback","transform","z-index","-webkit-transform","-ms-transform","eWidth","scrollX","scrollY","containerLeft","containerRight","activationDistance","scrollDistance","containerTop","containerHeight","innerHeight","containerBottom","containerScrollLeft","containerScrollTop","ngDrag","DocumentTouch","$id","pipDragStart","pipDragStop","pipDragSuccess","$eval","pipDragData","pipVerticalScroll","pipHorizontalScroll","pipActivationDistance","pipScrollDistance","noop","pipDrop","onDragStart","onDragMove","onDragEnd","_dropEnabled","isTouching","pipDragMove","onDragMoveCallback","pipDropSuccess","onDropCallback","$target","updateDragStyles","mouseX","mouseY","dragElement","touching","hitTest","_lastDropTouch","bounds","documentElement","right","bottom","absorbEvent_","stopPropagation","cancelBubble","returnValue","$mdConstant","rgba","color","focusedColor","arr","red","blue","green","opacity","opacityLimit","opacityDelta","setTabindex","checkTabindex","controls","findIndex","focusedTabindex","init","selector","withHidden","controlsLength","isOpacity","_color","keydownListener","keyCode","which","KEY_CODE","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","increment","moveToControl","focus","pipWithHidden","pipFocusedColor","pipFocusedTabindex","pipFocusedOpacity","ngModel","THROTTLE_MILLISECONDS","pipInfiniteScroll","pipScrollDisabled","pipScrollUseDocumentBottom","pipScrollListenForEvent","isNaN","clientHeight","offsetTop","ownerDocument","handleScrollDistance","v","handleScrollDisabled","scrollEnabled","checkWhenEnabled","onContainerScroll","handleScrollUseDocumentBottom","useDocumentBottom","changeContainer","newContainer","unbind","bind","handleScrollContainer","HTMLElement","append","parents","Array","immediateCheck","unregisterEventListener","windowElement","containerTopOffset","elementBottom","remaining","shouldScroll","$$phase","throttle","pipScrollParent","pipScrolImmediateCheck","selectItem","itemParams","isScrolled","itemIndex","itemId","className","modifier","itemsLength","raiseEvent","noScroll","scrollToItem","defineSelectedIndex","updateIndex","selectedItem","selectedIndex","selectedId","indexSetter","idSetter","onSelect","changeGetter","newIndex","oldIndex","oldSelectedIndex","$item","itemTop","itemHeight","itemBottom","indexGetter","pipSelected","idGetter","pipSelectedId","pipSelect","enterSpaceGetter","pipEnterSpacePress","pipNoScroll","pipSkipHidden","pipTreeList","currentElementTabinex","pipSelectedWatch","newSelectedId","newSelectedIndex","currentTarget","ENTER","SPACE","inc","unsavedChangesAvailable","unsavedChangesMessage","afterLeave","cancelLeave","onbeforeunload","$routing","unbindFunc","confirm","isFunction","colors","currentColor","colorChange","DEFAULT_COLORS","currentColorIndex","selectColor","sliderIndex","$pipImageSlider","setIndex","pipImageIndex","startInterval","timePromises","blocks","direction","throttled","DEFAULT_INTERVAL","stopInterval","restartInterval","pipAnimationType","pipAnimationInterval","swipeStart","toBlock","nextBlock","prevBlock","slideTo","nextIndex","registerSlider","removeSlider","register","sliderId","sliderScope","sliders","remove","getSlider","nextCarousel","prevCarousel","blockIndex","getSliderScope","pipButtonType","pipSliderId","pipSlideTo","MARKDOWN_ATTACHMENTS","checklist","documents","pictures","time","describeAttachments","array","attachString","attachTypes","attach","bindText","textString","isClamped","options","pipLineCount","isNumber","clampGetter","gfm","tables","breaks","sanitize","pedantic","smartLists","smartypents","marked","listGetter","pipList","pipRebind","$compile","backdropElement","closePopover","backdropClick","cancelCallback","onPopoverClick","$e","docWidth","docHeight","popover","calcHeight","title","footer","content","contentHeight","onResize","responsive","defaults","$parent","onShow","onHide","$new","isObject","locals","popoverTemplate","showProgress","logoUrl","loadProgressImage","image","$mdToast","toast","pipErrorDetailsDialog","actions","actionLenght","showDetails","onDetails","ok","onAction","action","showNextToast","toasts","showToast","currentToast","hideDelay","duration","SHOW_TIMEOUT","sounds","then","successCallback","addToast","removeToasts","removeToastsById","getToastById","onStateChangeSuccess","onClearToasts","clearToasts","showNotification","SHOW_TIMEOUT_NOTIFICATIONS","showMessage","showError","hideAllToasts","lists","pipTags","pipType","pipTypeLocal","tagsGetter","dates","formatTimeFilter","pipDateTime","formatTime","formatDateOptionalFilter","formatDateOptional","formatLongDateFilter","formatLongDate","formatShortDateFilter","formatShortDate","formatMiddleDateFilter","formatMiddleDate","formatMonthFilter","formatMonth","formatLongMonthFilter","formatLongMonth","formatYearFilter","formatYear","formatWeekFilter","formatWeek","formatShortWeekFilter","formatShortWeek","formatShortDateTimeFilter","formatShortDateTime","formatMiddleDateTimeFilter","formatMiddleDateTime","formatLongDateTimeFilter","formatLongDateTime","formatShortDateLongTimeFilter","firstTime","formatShortDateLongTime","formatMiddleDateLongTimeFilter","formatMiddleDateLongTime","formatLongDateLongTimeFilter","formatLongDateLongTime","bbFormatDateLongTimeFilter","bbFormatDateLongTime","formatFullDateTimeFilter","formatFullDateTime","formatShortTimeFilter","formatShortTime","formatLongTimeFilter","formatLongTime","formatShortDayOfWeekFilter","formatShortDayOfWeek","formatLongDayOfWeekFilter","formatLongDayOfWeek","formatLongMonthDayFilter","formatLongMonthDay","formatShortMonthDayFilter","formatShortMonthDay","formatDateRangeFilter","value1","value2","formatDateRange","formatDateTimeRangeFilter","formatDateTimeRange","formatISOWeekFilter","formatISOWeek","formatShortISOWeekFilter","formatShortISOWeek","formatISOWeekOrdinalFilter","formatISOWeekOrdinal","formatDateYFilter","formatDateY","formatLongDateYFilter","formatLongDateY","formatTodayDateLongTimeLongFilter","formatTodayDateLongTimeLong","formatTodayDateShortTimeLongFilter","formatTodayDateShortTimeLong","formatTodayDateLongTimeShortFilter","formatTodayDateLongTimeShort","formatTodayDateShortTimeShortFilter","formatTodayDateShortTimeShort","formatMillisecondsToSecondsFilter","formatMillisecondsToSeconds","formatElapsedIntervalFilter","formatElapsedInterval","getDateJSONFilter","getDateJSON","DateTimeConfig","DateTime","_momentRanged","_defaultFormat","timeZone","isUndefinedOrNull","getRange","getOperationRange","range","formatDateTime","basicFormat","date","formatTpl","utcOffset","isValid","formatDateTimeY","nowDate","formatMoment","longDateFormat","year","formatDay","formatMonthYearless","formatMonthDay","formatLL","formatYearlessLL","formatRange","dateStart","dateEnd","isSame","isAfter","month","toStartRange","startOf","toDate","toEndRange","mssOffset","add","toDateWithTime","formatDate","toTodayDate","day","useTimeZone","fromNow","getNextStart","category","getPrevStart","getNowStart","addHours","hours","toStartDay","toEndDay","toStartWeek","toEndWeek","toStartMonth","toEndMonth","toStartYear","toEndYear","DateTimeService","datetime","_datetime","DateTimeProvider","timeMode","model","ngChange","dayList","count","monthList","momentMonths","yearList","currentYear","getFullYear","startYear","endYear","years","adjustDay","getValue","isDate","getDate","getMonth","setValue","DAY","MONTH","YEAR","dayLabel","monthLabel","yearLabel","onYearChanged","disableControls","pipChanged","pipDateRangeType","pipDateFormat","pipNoLine","setCurrent","currentState","week","dateRangeType","fillLists","weeks","weekList","correctWeek","prevState","getUTCDate","getUTCMonth","getUTCFullYear","getWeekByDate","adjustWeek","getCountDay","nameDays","momentShortDays","weekday","dayOfWeek","startWeek","UTC","getUTCDay","getWeek","countDay","countPrevMonthDay","startDay","endDay","getTimezoneOffset","onChange","currentMonth","currentDay","currentDate","onDayChanged","onMonthChanged","onWeekChange","oldValue","onYearClick","onMonthClick","onDayClick","defineStartDate","pipStartDate","defineEndDate","pipEndDate","end","pipStartLabel","pipEndLabel","pipHideTime","pipSize","setDuration","startDate","endDate","startTime","endTime","validateStartDate","validateEndDate","setDate","defineDate","getTimeInterval","j","minutes","initDate","showTime","EVENT_NEW_END_TIME","EVENT_NEW_START_TIME","startLabel","endLabel","intervalTimeCollection","onChangeEndDate","onChangeStartTime","onChangeEndTime","isDisabled","$watchGroup","dialogs","ConfirmationParams","ConfirmationDialogController","$mdDialog","CONFIRM_TITLE","theme","onOk","onCancel","ConfirmationService","_mdDialog","targetEvent","./ConfirmationService","./confirmation","./error_details","./information","./options","ErrorStrings","errorDetails","dismissButton","errorMessage","errorCode","errorMethod","errorPath","errorText","ErrorParams","ErrorDetailsDialogController","ERROR_DETAILS","CODE","PATH","ERROR","METHOD","MESSAGE","DISMISS","$theme","ErrorDetailsService","./ErrorDetailsService","InformationStrings","InformationParams","InformationDialogController","INFORMATION_TITLE","pipFormat","truncate","console","InformationService","clickOutsideToClose","11","./InformationController","./InformationService","OptionsBigData","OptionsBigParams","noTitle","noActions","optionIndex","OptionsBigDialogController","option","selectedOptionName","deleted","OPTIONS_TITLE","applyButtonTitle","selectedOption","active","deletedTitle","hint","focusInput","onOptionSelect","onSelected","onKeyUp","list","OptionsBigService","OptionsData","icon","OptionsParams","OptionsDialogController","onKeyPress","OptionsService","16","./OptionsBigController","./OptionsBigService","./OptionsController","./OptionsService","nav","ActionsChangedEvent","SimpleActionItem","ActionItem","ActionsConfig","primaryGlobalActions","primaryLocalActions","secondaryGlobalActions","secondaryLocalActions","ActionsService","sendChangeEvent","primaryActions","secondaryActions","updateCount","clearCounts","ActionsProvider","PrimaryActionsController","$location","pipActions","onActionsChanged","isHidden","access","actionCount","clickAction","$mdOpenMenu","divider","originatorEv","menu","click","href","stateParams","localActions","globalActions","primaryActionsDirective","SecondaryActionsController","openMenu","ev","calcActions","secondaryActionsVisible","secondaryDividerVisible","secondaryActionsDirective","./ActionsService","./PrimaryActionsDirective","./SecondaryActionsDirective","AppBarDirectiveController","pipAppBar","onAppBarChanged","appbarDirective","AppBarPartDirectiveController","pipAppbarPart","appbarPartDirective","AppBarChangedEvent","AppBarConfig","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","./AppBarDirective","./AppBarPartDirective","./AppBarService","breadcrumbDirective","BreadcrumbController","pipBreadcrumb","_location","_injector","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","backCallback","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","subActions","onOpenMenu","onSubActionClick","./BreadcrumbService","BreadcrumbItem","BreadcrumbConfig","BreadcrumbService","criteria","showText","showItems","BreadcrumbProvider","NavService","appbar","breadcrumb","sidenav","header","showMenu","DropdownDirectiveController","pipTheme","pipMedia","currentTheme","media","activeIndex","select","pipChange","showDropdown","dropdownDirective","pipNavHeader","onImageLoad","setImageMarginCSS","imageBlock","onImageError","loadedDefaultImage","onStateChanged","showHeader","container","cssParams","clientWidth","imageWidth","naturalWidth","imageHeight","naturalHeight","margin","setImage","loadError","imageUrl","defaultImageUrl","$image","onNavHeaderChanged","subtitle","imageCss","onUserClick","onerror","navHeaderDirective","NavHeaderDirectiveController","NavHeaderChangedEvent","NavHeaderConfig","NavHeaderService","callbackOrEvent","NavHeaderProvider","clear","./NavHeaderService","NavIconDirectiveController","pipNavIcon","onNavIconChanged","onNavIconClick","navIconDirective","NavIconChangedEvent","NavIconConfig","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconProvider","setMenu","setIcon","setBack","./NavIconDirective","./NavIconService","./appbar","./breadcrumb","./common/NavService","./dependencies/TranslateFilter","./dropdown/DropdownDirective","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/TabsDirective","22","languagePickerDirective","languages","LanguagePickerDirectiveController","_translate","setLanguages","lang","onLanguageClick","NavMenuDirectiveController","pipSideNav","pipNavMenu","setCollapsible","collapsed","isCollapsed","onExpand","expanded","pipSideNavElement","isSectionEmpty","linkCollection","onConfigChanged","sections","expand","isExpanded","expandedButton","sideNavState","isActive","parentState","includes","current","defaultIcon","itemVisible","clickLink","navMenuDirective","24","NavMenuChangedEvent","NavMenuLink","NavMenuSection","NavMenuConfig","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","25","./NavMenuService","26","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","SearchService_2","SearchActivatedEvent","onKeyDown","searchBarDirective","27","CloseSearchEvent","SearchConfig","SearchService","SearchProvider","./SearchService","29","SideNavDirectiveController","checkSafari","pipSystemInfo","setBreakpoints","onSideNavChanged","onSideNavState","navState","setState","setSideNaveState","isResizing","mainWidth","mainContainer","sideNavWidth","currentWidth","mediaBreakpoints","sidenavState","isLockedOpen","showIconTooltype","xlarge","windowResize","debounce","sideNavDirective","SideNavPartDirectiveController","pipSidenavPart","sidenavPartDirective","31","hookSideNavEvents","SideNavStateChangedEvent","SideNavConfig","SideNavService","SideNavChangedEvent","SideNavProvider","./SideNavPartDirective","./SideNavService","33","tabDisabled","selected","activeTab","tabs","showShadow","showTabsShadow","showTabs","pipTabIndex","TabsDirectiveController","tabsDirective","34","themes","configureBootBarnCoolTheme","$mdThemingProvider","coolBackgroundPalette","extendPalette","A100","A200","definePalette","coolPrimaryPalette","300","500","contrastLightColors","coolAccentPalette","A700","primaryPalette","default","hue-1","backgroundPalette","hue-2","warnPalette","accentPalette","alwaysWatchTheme","configureBootBarnMonochromeTheme","monochromeBackgroundPalette","monochromePrimaryPalette","monochromeAccentPalette","configureBootBarnWarmTheme","warmBackgroundPalette","warmPrimaryPalette","warmAccentPalette","warmErrorPalette","./BootBarnCoolTheme","./BootBarnMonochromeTheme","./BootBarnWarmTheme","initTheme","ThemeRootVar","ThemeChangedEvent","ThemeResetPage","ThemeConfig","ThemeService","$mdTheming","_currentTheme","_theming","newTheme","THEMES","ThemeProvider","configureDefaultAmberTheme","orangeBackgroundPalette","orangePrimaryPalette","900","configureDefaultBlueTheme","registerBlueTheme","themeName","bluePrimaryPalette","contrastDefaultColor","contrastDarkColors","blueBackgroundPalette","blueAccentPalette","600","setDefaultTheme","configureDefaultGreenTheme","greenBackgroundPalette","greenPrimaryPalette","greenAccentPalette","configureDefaultGreyTheme","thirdPartyPalette","configureDefaultNavyTheme","greyPalette","700","tealPalette","configureDefaultOrangeTheme","RedBackgroundPalette","RedPrimaryPalette","800","configureDefaultPinkTheme","PinkBackgroundPalette","PinkPrimaryPalette","configureDefaultTheme","errors","ERROR_ROUTE_TITLE","ERROR_ROUTE_SUBTITLE","ERROR_ROUTE_CONTINUE","ERROR_ROUTE_TRY_AGAIN","ERROR_ROUTE_GO_BACK","ERROR_ROUTE_PAGE_TITLE","ERROR_UNKNOWN_TITLE","ERROR_UNKNOWN_SUBTITLE","ERROR_UNKNOWN_CLOSE","ERROR_UNKNOWN_DETAILS","ERROR_AVAILABLE_TITLE","ERROR_AVAILABLE_SUBTITLE","ERROR_AVAILABLE_CLOSE","ERROR_AVAILABLE_TRY_AGAIN","ERROR_RESPONDING_TITLE","ERROR_RESPONDING_SUBTITLE","ERROR_RESPONDING_RETRY","ERROR_UNSUPPORTED_TITLE","ERROR_UNSUPPORTED_SUBTITLE","ERROR_UNSUPPORTED_O","ERROR_UNSUPPORTED_O_VER","ERROR_UNSUPPORTED_IE","ERROR_UNSUPPORTED_IE_VER","ERROR_UNSUPPORTED_GC","ERROR_UNSUPPORTED_GC_VER","ERROR_UNSUPPORTED_FM","ERROR_UNSUPPORTED_FM_VER","$stateProvider","$httpProvider","interceptors","pipErrorsService","goToErrors","maintenanceError","noConnectionError","unknownError","checkSupported","ie","firefox","errorConfig","Unsupported","Active","MissingRoute","NoConnection","Unknown","Maintenance","factory","$q","responseError","rejection","ErrorStateItem","pipErrorsConfig","Name","Event","Title","SubTitle","Breadcrumb","Image","Params","getErrorItemByKey","errorName","pipErrorsProvider","configureErrorByKey","errorParams","defaultsDeep","configureErrors","$ctrls","clearFieldErrors","fieldController","$error","prop","$setValidity","clearFormErrors","formController","$serverError","errorsWithHint","isEmpty","touchedErrorsWithHint","form","$submitted","$touched","$dirty","resetFormErrors","$setPristine","$setUntouched","$setDirty","$setSubmitted","resetFieldsErrors","setFormError","errorFieldMap","goToUnhandledErrorPage","appHeader","pipNavService","onClose","errorKey","timeoutInterval","onContinue","absolute","urlBack","onRetry","retry","parseError","error_details","server_stacktrace","client_stacktrace","15","charts","pipBarChart","series","xTickFormat","yTickFormat","interactiveLegend","bindToController","$mdColorPalette","prepareData","seria","drawEmptyState","d3","chartElem","classed","configBarWidthAndLabel","labels","chartBars","getBBox","barHeight","barWidth","transition","materialColorToRgba","generateParameterColor","vm","chart","palette","legend","clone","scale","paletteColors","ordinal","updatedSeries","datum","updatedLegend","nv","addGraph","models","discreteBarChart","label","showValues","staggerLabels","showXAxis","showYAxis","valueFormat","tooltip","noData","yAxis","tickFormat","xAxis","utils","pipChartLegend","interactive","colorCheckboxes","checkboxContainers","legendTitles","prepareSeries","hex","pipLineChart","xFormat","dynamic","fixedHeight","dynamicHeight","getHeight","updateScroll","domains","boundary","bDiff","domDiff","isEqual","addZoom","svg","setData","newChart","xDomain","domain","yDomain","redraw","xScale","yScale","x_boundary","y_boundary","prevXDomain","prevScale","d3zoom","prevTranslate","nice","fixDomain","updateChart","zoomed","unzoomed","step","coordinates","point","keypress","setZoom","scaleExtent","behavior","zoom","center0","translate0","coordinates0","center1","getXMinMax","maxVal","minVal","tempMinVal","tempMaxVal","updateZoomOptions","sourceEvents","isVisibleX","isVisibleY","zoomIn","zoomOut","selectAll","heigth","lineChart","useInteractiveGuideline","showLegend","pipPieChart","donut","total","centered","pie","sort","arc","innerRadius","outerRadius","enter","centerChart","svgElem","leftMargin","renderTotalLabel","totalVal","reduce","sum","curr","titleElem","resizeTitleLabelUnwrap","boxSize","resizeTitleLabel","pieChart","showLabels","labelThreshold","growOnHover","donutRatio","locations","pipLocationName","pipLocationPos","pipLocationResize","pipShowLocationIcon","pipCollapse","clearMap","$mapControl","$mapContainer","generateMap","showMap","google","maps","LatLng","mapOptions","center","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","disableDoubleClickZoom","scrollwheel","draggable","Map","Marker","$name","$up","$down","collapsable","LOCATION_ADD_LOCATION","LOCATION_SET_LOCATION","LOCATION_ADD_PIN","LOCATION_REMOVE_PIN","locationName","locationPos","createMarker","marker","setMap","animation","Animation","DROP","thisMarker","addListener","getPosition","changeLocation","tid","lat","lng","geocoder","Geocoder","geocode","results","GeocoderStatus","OK","formatted_address","supportSet","geolocation","mapContainer","onAddPin","getCenter","onRemovePin","onZoomIn","getZoom","onZoomOut","onSetLocation","getCurrentPosition","coords","latitude","longitude","setCenter","maximumAge","enableHighAccuracy","onApply","$http","pipLocationEditDialog","pipLocationHolder","$empty","defineCoordinates","address","geometry","defineCoordinatesDebounced","onMapClick","onMapKeyPress","pipIpaddress","pipExtraInfo","ipAddress","jsonp","success","response","geoplugin_latitude","geoplugin_longitude","extraInfo","city","geoplugin_city","regionCode","geoplugin_regionCode","region","geoplugin_regionName","areaCode","geoplugin_areaCode","countryCode","geoplugin_countryCode","country","geoplugin_countryName","continentCode","geoplugin_continentCode","pipLocationPositions","pipIconPath","pipStretch","checkLocation","loc","determineCoordinates","fill","stroke","points","LatLngBounds","path","iconPath","fillColor","fillOpacity","strokeColor","strokeWeight","fitBounds","stretchMap","settings","SettingsPageController","pipSettings","_q","getTabs","tab","$user","sortBy","initSelect","getDefaultTab","onDropdownSelect","onNavigationSelect","tabIndex","tabId","configureSettingsPageRoutes","auth","SettingsTab","SettingsConfig","titleText","titleLogo","isNavIcon","SettingsService","getFullStateName","setDefaultTab","defaultTab","showTitleText","newTitleText","showTitleLogo","newTitleLogo","showNavIcon","SettingsProvider","_stateProvider","addTab","tabObj","existingTab","validateTab","stateConfig","pipSettingsProvider","pipTransaction","pipToasts","pipDataUser","pipDataParty","pipFormErrors","onPictureChanged","picture","onPictureCreated","sender","saveChanges","$party","$invalid","loc_pos","party","toJson","originalParty","updateParty","nameCopy","status_code","fromJson","updateUser","setCurrentTheme","onChangePassword","email","answer","onVerifyEmail","user","email_ver","genders","omit","onExit","onChangeBasicInfo","repeat","changePasData","new_password","showRepeatHint","onCheckRepeatPassword","changePassword","1107","1105","errorsRepeatWithHint","formPart","pipDataSessionProvider","resolve","sessions","readSessionsResolver","sessionId","readSessionIdResolver","pipDataSession","eachSeries","removeSession","without","onRemove","onRemoveAll","pipTranslateProvider","SETTINGS_TITLE","SETTINGS_BASIC_INFO_TITLE","SETTINGS_ACTIVE_SESSIONS_TITLE","SETTINGS_BASIC_INFO_FULL_NAME","SETTINGS_BASIC_INFO_VERIFY_HINT","SETTINGS_BASIC_INFO_VERIFY_CODE","SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_CHANGE_PASSWORD","SETTINGS_BASIC_INFO_NAME_HINT","SETTINGS_BASIC_INFO_WORDS_ABOUT_ME","SETTINGS_BASIC_INFO_GENDER","SETTINGS_BASIC_INFO_BIRTHDAY","SETTINGS_BASIC_INFO_LOCATION","SETTINGS_BASIC_INFO_PRIMARY_EMAIL","SETTINGS_BASIC_INFO_FROM","SETTINGS_BASIC_INFO_USER_ID","SETTINGS_CHANGE_PASSWORD_TITLE","SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD","SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD","SETTINGS_ACTIVE_SESSIONS_SUBTITLE","SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION","SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS","SETTINGS_ACTIVE_SESSION_OS","SETTINGS_ACTIVE_SESSION_ACTIVE","SETTINGS_BLACKLIST_TITLE","SETTINGS_BLACKLIST_SUBTITLE","SETTINGS_BLACKLIST_UNBLOCK","SETTINGS_BLACKLIST_EMPTY","SETTINGS_CONTACT_INFO_TITLE","SETTINGS_CONTACT_INFO_EMAIL","SETTINGS_CONTACT_INFO_ADD_EMAIL","SETTINGS_CONTACT_INFO_ADD_PHONE","SETTINGS_CONTACT_INFO_ADD_ADDRESS","SETTINGS_CONTACT_INFO_ADD_ACCOUNT","SETTINGS_CONTACT_INFO_ADD_URL","SETTINGS_CONTACT_INFO_ADDRESS","SETTINGS_CONTACT_INFO_PHONE","SETTINGS_CONTACT_INFO_ACCOUNT_NAME","SETTINGS_CONTACT_INFO_URL","THEME","HINT_PASSWORD","HINT_REPEAT_PASSWORD","ERROR_WRONG_PASSWORD","ERROR_IDENTICAL_PASSWORDS","REPEAT_PASSWORD_INVALID","ERROR_EMAIL_INVALID","onAbort","requestEmailVerification","onVerify","verifyEmail","verifyData","1106","1103","emailVerified","onRequestVerificationClick","help","HelpPageController","pipHelp","showMenuNavIcon","showShadowSm","showLocalActions"],"mappings":"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","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nimport './common';\nimport './default';\nimport './bootbarn';\n\nexport * from './common';","'use strict';\n\nexport let CurrentState: any;\nexport let PreviousState: any;\n\nfunction captureStateTranslations($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            CurrentState = {\n                name: toState.name, \n                url: toState.url, \n                params: toParams\n            };\n\n            PreviousState = {\n                name: fromState.name, \n                url: fromState.url, \n                params: fromParams\n            };\n        }\n    );\n\n}\n\nfunction decorateBackStateService($delegate, $window: ng.IWindowService) {\n    \"ngInject\";\n\n    $delegate.goBack = goBack;\n    $delegate.goBackAndSelect = goBackAndSelect;\n\n    return $delegate;\n    //////////////////////////////////////////////////\n\n    function goBack(): void {\n        $window.history.back()\n    }\n\n    function goBackAndSelect(params: any): void {\n        if (PreviousState != null \n            && PreviousState.name != null) {\n\n            let state = _.cloneDeep(PreviousState);\n\n            // Override selected parameters\n            state.params = _.extend(state.params, params);\n\n            $delegate.go(state.name, state.params);\n        } else {\n            $window.history.back();\n        }\n    }\n}\n\nfunction addBackStateDecorator($provide) {\n    $provide.decorator('$state', decorateBackStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addBackStateDecorator)\n    .run(captureStateTranslations);\n    ","'use strict';\n\nlet RedirectedStates: any = {};\n\nfunction decorateRedirectStateProvider($delegate) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n\n    return $delegate;\n    /////////////////////////////////////////////\n\n    // Specify automatic redirect from one state to another\n    function redirect(fromState, toState) {\n        RedirectedStates[fromState] = toState;  \n        return this;\n    }\n}\n\nfunction addRedirectStateProviderDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateProvider);\n}\n\nfunction decorateRedirectStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.redirect = redirect;\n    \n    return $delegate;\n    ////////////////////////////////\n    \n    // Todo: Move this code directly to event handler?\n    // Todo: Nothing calls this code!!\n    function redirect(event, state, params) {\n        let toState = RedirectedStates[state.name];\n        if (_.isFunction(toState)) {\n            toState = toState(state.name, params);\n\n            if (_.isNull(toState))\n                throw new Error('Redirected toState cannot be null');\n        }\n\n        if (!!toState) {\n            $timeout(() => {\n                event.preventDefault();\n                $delegate.transitionTo(toState, params, {location: 'replace'});\n            });\n\n            return true;\n        }\n\n        return false;\n    }\n}\n\nfunction addRedirectStateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('$state', decorateRedirectStateService);\n}\n\nangular\n    .module('pipRouting')\n    .config(addRedirectStateProviderDecorator)\n    .config(addRedirectStateDecorator);\n    ","'use strict';\n\nexport let RoutingVar: string = \"$routing\";\n\nfunction hookRoutingEvents(\n    $rootScope: ng.IRootScopeService,\n    $log: ng.ILogService,\n    $state: ng.ui.IStateService\n) {\n    \"ngInject\";\n\n    $rootScope.$on('$stateChangeStart',\n        (event, toState, toParams, fromState, fromParams) => {\n            $rootScope[RoutingVar] = true;\n        }\n    );\n\n    $rootScope.$on('$stateChangeSuccess',\n        (event, toState, toParams, fromState, fromParams) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;                \n        }\n    );\n\n    // Intercept route error\n    $rootScope.$on('$stateChangeError',\n        (event, toState, toParams, fromState, fromParams, error) => {\n            // Unset routing variable to disable page transition\n            $rootScope[RoutingVar] = false;\n\n            $log.error('Error while switching route to ' + toState.name);\n            $log.error(error);\n        }\n    );\n\n    // Intercept route error\n    $rootScope.$on('$stateNotFound',\n        function(event, unfoundState, fromState, fromParams) {\n            event.preventDefault();\n\n            $rootScope[RoutingVar] = false;\n\n            // Todo: Move to errors\n            $state.go('errors_missing_route',  {\n                    unfoundState: unfoundState,\n                    fromState : {\n                        to: fromState ? fromState.name : '',\n                        fromParams: fromParams\n                    }\n                }\n            );\n        }\n    );\n\n}\n\nangular\n    .module('pipRouting')\n    .run(hookRoutingEvents);\n    ","'use strict';\n\nangular.module('pipRouting', ['ui.router']);\n\nimport './BackDecorator';\nimport './RedirectDecorator';\nimport './RoutingEvents';\n\nexport * from './BackDecorator';\nexport * from './RoutingEvents';\n","'use strict';\n\nexport let IdentityRootVar = \"$identity\";\nexport let IdentityChangedEvent = \"pipIdentityChanged\";\n\nexport interface IIdentity {\n    id: string;\n    full_name: string;\n    details: string;\n    email: string;\n    photo_url: string;\n    groups: string[];\n}\n\nexport interface IIdentityService {\n    identity: any;\n}\n\nexport interface IIdentityProvider extends ng.IServiceProvider {\n    setRootVar: boolean;\n    identity: any;\n}\n\n\nclass IdentityService implements IIdentityService {\n    private _identity: any;\n    private _setRootVar: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean,\n        identity: any,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._identity = identity;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n\n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[IdentityRootVar] = this._identity;\n    }\n\n    public get identity(): any {\n        return this._identity;\n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n        this.setRootVar();\n        this._rootScope.$emit(IdentityChangedEvent, this._identity);\n\n        let identity: any = value || {};\n        this._log.debug(\"Changed identity to \" + JSON.stringify(identity));\n    }\n}\n\nclass IdentityProvider implements IdentityProvider {\n    private _setRootVar = true;\n    private _identity: any = null;\n    private _service: IdentityService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get identity(): any {\n        return this._identity;  \n    }\n\n    public set identity(value: any) {\n        this._identity = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new IdentityService(this._setRootVar, this._identity, $rootScope, $log);\n\n        return this._service;\n    }\n\n}\n\nangular\n    .module('pipSession')\n    .provider('pipIdentity', IdentityProvider);\n","'use strict';\n\nexport const SessionRootVar = \"$session\";\nexport const SessionOpenedEvent = \"pipSessionOpened\";\nexport const SessionClosedEvent = \"pipSessionClosed\";\n\nexport interface ISessionService {\n    session: any;\n    isOpened(): boolean;\n\n    open(session: any): void;\n    close(): void;\n}\n\nexport interface ISessionProvider extends ng.IServiceProvider {\n    setRootVar: boolean;\n    session: any;\n}\n\nclass SessionService implements ISessionService {\n    private _setRootVar: boolean;\n    private _session: any;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n\n    public constructor(\n        setRootVar: boolean, \n        session: any, \n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ) {\n        this._setRootVar = setRootVar;\n        this._session = session;\n        this._rootScope = $rootScope;\n        this._log = $log;\n\n        this.setRootVar();\n    }\n    \n    private setRootVar(): void {\n        if (this._setRootVar)\n            this._rootScope[SessionRootVar] = this._session;\n    }\n\n    public get session(): any {\n        return this._session;\n    }\n\n    public isOpened(): boolean {\n        return this._session != null;\n    }\n\n    public open(session: any, fullReset: boolean = false, partialReset: boolean = false) {\n        if (session == null)\n            throw new Error(\"Session cannot be null\");\n\n        this._session = session;\n        this.setRootVar();\n        this._rootScope.$emit(SessionOpenedEvent, session);\n\n        this._log.debug(\"Opened session \" + session);\n    }\n\n    public close(fullReset: boolean = false, partialReset: boolean = false) {\n        let oldSession = this._session;\n\n        this._session = null;\n        this.setRootVar();\n        this._rootScope.$emit(SessionClosedEvent, oldSession);\n\n        this._log.debug(\"Closed session \" + oldSession);\n    }\n}\n\nclass SessionProvider implements ISessionProvider {\n    private _setRootVar = true;\n    private _session: any = null;\n    private _service: SessionService = null;\n\n    public constructor() { }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get session(): any {\n        return this._session;  \n    }\n\n    public set session(value: any) {\n        this._session = value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SessionService(this._setRootVar, this._session, $rootScope, $log);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipSession')\n    .provider('pipSession', SessionProvider); \n","'use strict';\n\nangular.module('pipSession', []);\n\nimport './IdentityService';\nimport './SessionService';\n\nexport * from './IdentityService';\nexport * from './SessionService';\n","'use strict';\n\nimport { TransactionError } from './TransactionError'\n\nexport class Transaction {\n    private _scope: string = null;\n    private _id: string = null;\n    private _operation: string = null;\n    private _error: TransactionError = new TransactionError();\n    private _progress: number = 0;\n\n    public constructor(scope: string) {\n        this._scope = scope;\n    }\n\n    public get scope(): string {\n        return this._scope;\n    }\n\n    public get id(): string {\n        return this._id;\n    }\n\n    public get operation(): string {\n        return this._operation;\n    }\n\n    public get progress(): number {\n        return this._progress;\n    }\n\n    public get error(): TransactionError {\n        return this._error;\n    }\n\n    public get errorMessage(): string {\n        return this._error.message;\n    }\n\n    public reset(): void {\n        this._id = null;\n        this._operation = null;\n        this._progress = 0;\n        this._error.reset();\n    }\n\n    public busy(): boolean {\n        return this._id != null;\n    }\n\n    public failed(): boolean {\n        return !this._error.empty();\n    }\n\n    public aborted(id: string): boolean {\n        return this._id != id;\n    }\n\n    public begin(operation: string): string {\n        // Transaction is already running\n        if (this._id != null) return null;\n\n        this._id = new Date().getTime().toString();\n        this._operation = operation || 'PROCESSING'\n        this._error.reset();\n\n        return this._id;\n    }\n\n    public update(progress: number): void {\n        this._progress = Math.max(progress, 100);\n    }\n\n    public abort(): void {\n        this._id = null;\n        this._error.reset();\n    }\n\n    public end(error?: any): void {\n        this._error.decode(error);\n        this._id = null;\n    }\n}\n","'use strict';\n\nexport class TransactionError {\n    public code: string;\n    public message: string;\n    public details: any;\n    public cause: string;\n    public stack_trace: string;\n\n    public constructor(error?: any) {\n        if (error != null)\n            this.decode(error);\n    }\n\n    public reset(): void {\n        this.code = null;\n        this.message = null;\n        this.details = null;\n        this.cause = null;\n        this.stack_trace = null;\n    }\n\n    public empty(): boolean {\n        return this.message = null && this.code == null;\n    }\n\n    public decode(error: any): void {\n        this.reset();\n\n        if (error == null) return;\n\n        // Process regular messages\n        if (error.message) \n            this.message = error.message;\n\n        // Process server application errors\n        if (error.data) {\n            if (error.data.code) { \n                // process server error codes here\n                this.message = this.message || 'ERROR_' + error.data.code;\n                this.code = this.code || error.data.code;\n            }\n\n            if (error.data.message)\n                this.message = this.message || error.data.message;\n\n            this.message = this.message || error.data;\n            this.details = this.details || error.data;\n\n            this.cause = error.data.cause;\n            this.stack_trace = error.data.stack_trace;\n            this.details = error.data.details;            \n        }\n\n        // Process standard HTTP errors\n        if (error.statusText)\n            this.message = this.message || error.statusText;\n\n        if (error.status) {\n            this.message = this.message || 'ERROR_' + error.status;\n            this.code = this.code || error.status;\n        }\n        \n        this.message = this.message || error;\n        this.details = this.details || error;\n    }\n}\n","'use strict';\n\nimport { Transaction } from './Transaction';\n\nexport interface ITransactionService {\n    create(scope?: string): Transaction;\n    get(scope?: string): Transaction;\n}\n\nclass TransactionService implements ITransactionService {\n    private _transactions: any = {};\n\n    public constructor() {}\n\n    public create(scope?: string): Transaction {\n        let transaction = new Transaction(scope);\n        \n        if (scope != null)\n            this._transactions[scope] = transaction;\n\n        return transaction;\n    }\n\n    public get(scope?: string): Transaction {\n        let transaction: Transaction = scope != null ? <Transaction>this._transactions[scope] : null;\n\n        if (transaction == null) {\n            transaction = new Transaction(scope);\n            if (scope != null)\n                this._transactions[scope] = transaction;\n        }\n\n        return transaction;\n    }\n}\n\nangular\n    .module('pipTransaction')\n    .service('pipTransaction', TransactionService);\n","'use strict';\n\nfunction configureTransactionStrings($injector) {\n    \"ngInject\";\n\n    let pipTranslate = $injector.has('pipTranslateProvider') ? $injector.get('pipTranslateProvider') : null;\n\n    if (pipTranslate) {\n        pipTranslate.setTranslations('en', {\n            'ENTERING': 'Entering...',\n            'PROCESSING': 'Processing...',\n            'LOADING': 'Loading...',\n            'SAVING': 'Saving...'\n        });\n\n        pipTranslate.setTranslations('ru', {\n            'ENTERING': 'Вход в систему...',\n            'PROCESSING': 'Обрабатывается...',\n            'LOADING': 'Загружается...',\n            'SAVING': 'Сохраняется...'\n        });   \n    }\n    \n}\n\nangular\n    .module('pipTransaction')\n    .config(configureTransactionStrings);\n","'use strict';\n\nangular.module('pipTransaction', []);\n\nimport './TransactionStrings';\nimport './TransactionError';\nimport './Transaction';\nimport './TransactionService';\n\nexport * from './TransactionError';\nexport * from './Transaction';\nexport * from './TransactionService';\n","'use strict';\n\nfunction translateDirective(pipTranslate): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslate',\n            key2: '@key'\n        },\n        link: (scope: any, element: any, attrs: any) => {\n            let key = scope.key1 || scope.key2;\n            let value = pipTranslate.translate(key);\n            element.text(value);\n        }\n    };\n}\n\nfunction translateHtmlDirective(pipTranslate): ng.IDirective {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        scope: {\n            key1: '@pipTranslateHtml',\n            key2: '@key'\n        },\n        link: (scope: any, element: any, attrs: any) => {\n            let key = scope.key1 || scope.key2;\n            let value = pipTranslate.translate(key);\n            element.html(value);\n        }\n    };\n}\n\nangular\n    .module('pipTranslate')\n    .directive('pipTranslate', translateDirective)\n    .directive('pipTranslateHtml', translateHtmlDirective);\n","'use strict';\n\nfunction translateFilter(pipTranslate) {\n    \"ngInject\";\n\n    return function (key) {\n        return pipTranslate.translate(key) || key;\n    }\n}\n\nfunction optionalTranslateFilter($injector) {\n    \"ngInject\";\n\n    let pipTranslate = $injector.has('pipTranslate') \n        ? $injector.get('pipTranslate') : null;\n\n    return function (key) {\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\n    }\n}\n\nangular\n    .module('pipTranslate')\n    .filter('translate', translateFilter);\n","﻿'use strict';\n\nimport { Translation } from './Translation';\nimport { ResetPageEvent } from '../utilities/PageResetService';\n\nexport let LanguageRootVar = \"$language\";\nexport let LanguageChangedEvent = \"pipLanguageChanged\";    \n\nexport interface ITranslateService {\n    language: string;\n\n    use(language: string): string;\n    setTranslations(language: string, translations: any): void;\n    translations(language: string, translations: any): void;\n\n    translate(key: string): string;\n    translateArray(keys: string[]): string[];\n    translateSet(keys: string[], keyProp: string, valueProp: string): any[];\n    translateObjects(items: any[], keyProp: string, valueProp: string): any[];\n    translateWithPrefix(prefix: string, key: string);\n    translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string);\n    translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string);\n}\n\nexport interface ITranslateProvider extends ITranslateService, ng.IServiceProvider {\n}\n\nclass TranslateService implements ITranslateService {\n    private _translation: Translation;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _window: ng.IWindowService;\n    private _mdDateLocale;\n\n    public constructor(\n        translation: Translation,\n        setRootVar: boolean,\n        persist: boolean,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService,\n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider,\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._translation = translation;\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._window = $window;\n        this._mdDateLocale = $mdDateLocale;\n\n        if (this._persist && this._window.localStorage)\n            this._translation.language = this._window.localStorage.getItem('language') || this._translation.language;\n\n        this._log.debug(\"Set language to \" + this._translation.language);\n\n        this.save();\n    }\n\n    private changeLocale(locale: string) {\n        if (!locale) return;\n\n        // var localeDate: moment.MomentLanguageData;\n        var localeDate: any;\n\n        moment.locale(locale);\n        localeDate = moment.localeData();\n\n        this._mdDateLocale.months = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format;\n        this._mdDateLocale.shortMonths = angular.isArray(localeDate._monthsShort) ? localeDate._monthsShort : localeDate._monthsShort.format;\n        this._mdDateLocale.days = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format;\n        this._mdDateLocale.shortDays = localeDate._weekdaysMin;\n        this._mdDateLocale.firstDayOfWeek = localeDate._week.dow;\n    }\n\n    private save(): void {\n        if (this._setRootVar)\n            this._rootScope[LanguageRootVar] = this._translation.language;\n\n        if (this._persist && this._window.localStorage != null)\n            this._window.localStorage.setItem('language', this._translation.language);\n    }\n\n    public get language(): string {\n        return this._translation.language;\n    }\n\n    public set language(value: string) {\n        if (value != this._translation.language) {\n            this._translation.language = value;\n            \n            this._log.debug(\"Changing language to \" + value);\n\n            this.changeLocale(this._translation.language);\n            this.save();   \n\n            this._rootScope.$emit(LanguageChangedEvent, value);\n            this._rootScope.$emit(ResetPageEvent);\n        }\n    }\n\n    public use(language: string): string {\n        if (language != null)\n            this.language = language;\n        return this.language;\n    }\n\n    public setTranslations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translations(language: string, translations: any): void {\n        return this._translation.setTranslations(language, translations);\n    }\n\n    public translate(key: string): string {\n        return this._translation.translate(key);\n    }\n\n    public translateArray(keys: string[]): string[] {\n        return this._translation.translateArray(keys);\n    }\n    \n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateSet(keys, keyProp, valueProp);\n    }\n\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        return this._translation.translateObjects(items, keyProp, valueProp);\n    }\n\n    public translateWithPrefix(prefix: string, key: string) {\n        return this._translation.translateWithPrefix(prefix, key);\n    }\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix(prefix, keys, keyProp, valueProp);\n    }\n\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        return this._translation.translateSetWithPrefix2(prefix, keys, keyProp, valueProp);\n    }\n}\n\nclass TranslateProvider extends Translation implements ITranslateProvider {\n    private _translation: Translation;\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: TranslateService;\n    \n    public constructor() {\n        super();\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdDateLocale: angular.material.IDateLocaleProvider\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null) \n            this._service = new TranslateService(this, this._setRootVar, this._persist, $rootScope, $log, $window, $mdDateLocale);\n\n        return this._service;\n    }\n}\n\nfunction initTranslate(pipTranslate: ITranslateService) {\n    pipTranslate.language;\n}\n\nangular\n    .module('pipTranslate')\n    .provider('pipTranslate', TranslateProvider)\n    .run(initTranslate);\n","'use strict';\n\nexport class Translation {\n    protected _language = 'en';\n    protected _translations = {\n        en: {\n            'en': 'English',\n            'ru': 'Russian',\n            'es': 'Spanish',\n            'pt': 'Portuguese',\n            'de': 'German',\n            'fr': 'French'\n        },\n        ru: {\n            'en': 'Английский',\n            'ru': 'Русский',\n            'es': 'Испанский',\n            'pt': 'Португальский',\n            'de': 'Немецкий',\n            'fr': 'Французский'\n        }\n    };\n\n    public constructor() {}\n\n    public get language(): string { return this._language; }\n    public set language(value: string) { this._language = value; }\n\n    public use(language: string): string {\n        if (language != null)\n            this._language = language;\n        return this._language;\n    }\n\n    // Set translation strings for specific language\n    public setTranslations(language: string, translations: any): void {\n        let map = this._translations[language] || {};\n        this._translations[language] = _.extend(map, translations);\n    }\n\n    // Yet another method to set translation strings for specific language\n    public translations(language: string, translations: any): void {\n        this.setTranslations(language, translations);\n    }\n\n    // Translate a string by key using set language\n    public translate(key: string): string {\n        if (_.isNull(key) || _.isUndefined(key)) return '';\n\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    }\n\n    // Translate an array of strings\n    public translateArray(keys: string[]): string[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (k) {\n            let key = k || '';\n            values.push(translations[key] || key);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings into array of objects (set)\n    public translateSet(keys: string[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values: any[] = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate a collection of objects\n    public translateObjects(items: any[], keyProp: string, valueProp: string): any[] {\n        if (_.isNull(items) || items.length == 0) return [];\n\n        keyProp = keyProp || 'name';\n        valueProp = valueProp || 'nameLocal';\n\n        let translations = this._translations[this._language] || {};\n\n        _.each(items, function (item) {\n            let key = item[keyProp] || '';\n\n            item[valueProp] = translations[key] || key;\n        });\n\n        return items;\n    }\n\n    // Translate a string by key  with prefix using set language todo\n    public translateWithPrefix(prefix: string, key: string) {\n        prefix = prefix ? prefix + '_' : '';\n        key = (prefix + key).replace(/ /g, '_').toUpperCase();\n        if (key == null) return '';\n        let translations = this._translations[this._language] || {};\n        return translations[key] || key;\n    };\n\n    public translateSetWithPrefix(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() : '';\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key) {\n            let value: any = {}; \n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + '_' + key] || key;\n\n            values.push(value);\n        });\n\n        return values;\n    }\n\n    // Translate an array of strings, apply uppercase and replace ' ' => '_'\n    public translateSetWithPrefix2(prefix: string, keys: string[], keyProp: string, valueProp: string) {\n        if (_.isNull(keys) || keys.length == 0) return [];\n\n        keyProp = keyProp || 'id';\n        valueProp = valueProp || 'name';\n        prefix = prefix ? prefix.replace(/ /g, '_').toUpperCase() + '_': '';\n\n        let values = [];\n        let translations = this._translations[this._language] || {};\n\n        _.each(keys, function (key) {\n            let value: any = {};\n            key = key || '';\n\n            value[keyProp] = key;\n            value[valueProp] = translations[prefix + key.replace(/ /g, '_').toUpperCase()]\n                || (prefix + key.replace(/ /g, '_').toUpperCase());\n\n            values.push(value);\n        });\n\n        return values;\n    }\n}\n","'use strict';\n\nangular.module('pipTranslate', []);\n\nimport './Translation';\nimport './TranslateService';\nimport './TranslateFilter';\nimport './TranslateDirective';\n\nexport * from './Translation';\nexport * from './TranslateService';\n","'use strict';\n\nexport interface ICodes {\n    // Simple version of string hashcode\n    hash(value: string): number;\n    // Generates random big number for verification codes\n    verification(): string;\n}\n\n\nclass Codes implements ICodes {\n    // Simple version of string hashcode\n    public hash(value: string): number {\n        if (value == null) return 0;\n        \n        let result = 0;\n        for (let i = 0; i < value.length; i++)\n            result += value.charCodeAt(i);\n\n        return result;\n    }\n\n    // Generates random big number for verification codes\n    public verification(): string {\n        return Math.random().toString(36).substr(2, 10).toUpperCase(); // remove `0.`\n    }\n}\n\nangular\n    .module('pipCodes', [])\n    .service('pipCodes', Codes);\n","'use strict';\n\nexport interface IFormat {\n    // Creates a sample line from a text\n    sample(value: string, maxLength: number): string;\n\n    sprintf(message: string, ...args: any[]): string;\n}\n\n\nclass Format implements IFormat {\n    // Cached for parsed formats\n    private cache = {};\n\n    // Creates a sample line from a text\n    public sample(value: string, maxLength: number): string {\n        if (!value || value == '') return '';\n\n        var length = value.indexOf('\\n');\n        length = length >= 0 ? length : value.length;\n        length = length < maxLength ? value.length : maxLength;\n\n        return value.substring(0, length);\n    }\n\n    private strRepeat(str: string, qty: number): string {\n        if (qty < 1) return '';\n        var result = '';\n        while (qty > 0) {\n            if (qty & 1) result += str;\n            qty >>= 1, str += str;\n        }\n        return result;\n    }\n\n    private getType(variable) {\n        return toString.call(variable).slice(8, -1).toLowerCase();\n    }\n\n    private parseFormat(fmt: string) {\n        let _fmt = fmt, match = [], parse_tree = [], arg_names = 0;\n        while (_fmt) {\n            if ((match = /^[^\\x25]+/.exec(_fmt)) !== null) {\n                parse_tree.push(match[0]);\n            }\n            else if ((match = /^\\x25{2}/.exec(_fmt)) !== null) {\n                parse_tree.push('%');\n            }\n            else if ((match = /^\\x25(?:([1-9]\\d*)\\$|\\(([^\\)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1;\n                    var field_list = [], replacement_field = match[2], field_match = [];\n                    if ((field_match = /^([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1]);\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = /^\\.([a-z_][a-z_\\d]*)/i.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else if ((field_match = /^\\[(\\d+)\\]/.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1]);\n                            }\n                            else {\n                                throw new Error('Unknown error');\n                            }\n                        }\n                    }\n                    else {\n                        throw new Error('Unknown error');\n                    }\n                    match[2] = field_list;\n                }\n                else {\n                    arg_names |= 2;\n                }\n                if (arg_names === 3) {\n                    throw new Error('Mixing positional and named placeholders is not (yet) supported');\n                }\n                parse_tree.push(match);\n            }\n            else {\n                throw new Error('Unknown error');\n            }\n            _fmt = _fmt.substring(match[0].length);\n        }\n        return parse_tree;\n    }\n\n    private format(parse_tree, argv) {\n        let cursor = 0; \n        let tree_length = parse_tree.length; \n        let output = [];\n\n        for (let i = 0; i < tree_length; i++) {\n            let node_type = this.getType(parse_tree[i]);\n            if (node_type === 'string') {\n                output.push(parse_tree[i]);\n            }\n            else if (node_type === 'array') {\n                let match = parse_tree[i]; // convenience purposes only\n                let arg: any;\n                if (match[2]) { // keyword argument\n                    arg = argv[cursor];\n                    for (let k = 0; k < match[2].length; k++) {\n                        if (!arg.hasOwnProperty(match[2][k])) {\n                            throw new Error(this.sprintf('Property \"%s\" does not exist', match[2][k]));\n                        }\n                        arg = arg[match[2][k]];\n                    }\n                } else if (match[1]) { // positional argument (explicit)\n                    arg = argv[match[1]];\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++];\n                }\n\n                if (/[^s]/.test(match[8]) && (this.getType(arg) != 'number')) {\n                    throw new Error(this.sprintf('Expecting number but found %s', this.getType(arg)));\n                }\n                switch (match[8]) {\n                    case 'b': arg = arg.toString(2); break;\n                    case 'c': arg = String.fromCharCode(arg); break;\n                    case 'd': arg = parseInt(arg, 10); break;\n                    case 'e': arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential(); break;\n                    case 'f': arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg); break;\n                    case 'o': arg = arg.toString(8); break;\n                    case 's': arg = ((arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg); break;\n                    case 'u': arg = Math.abs(arg); break;\n                    case 'x': arg = arg.toString(16); break;\n                    case 'X': arg = arg.toString(16).toUpperCase(); break;\n                }\n                arg = (/[def]/.test(match[8]) && match[3] && arg >= 0 ? '+'+ arg : arg);                \n                let pad_character = match[4] ? match[4] == '0' ? '0' : match[4].charAt(1) : ' ';\n                let pad_length = match[6] - String(arg).length;\n                let pad = match[6] ? this.strRepeat(pad_character, pad_length) : '';\n                output.push(match[5] ? arg + pad : pad + arg);\n            }\n        }\n        return output.join('');\n    }\n    \n    public sprintf(message: string, ...args: any[]): string {\n        if (!this.cache.hasOwnProperty(message))\n            this.cache[message] = this.parseFormat(message);\n\n        return this.format(this.cache[message], args);\n    }\n}\n\n\nangular\n    .module('pipFormat', [])\n    .service('pipFormat', Format);\n","'use strict';\n\nexport let ResetPageEvent: string = \"pipResetPage\";\nexport let ResetAreaEvent: string = \"pipResetArea\";\n\nexport let ResetRootVar: string = \"$reset\";\nexport let ResetAreaRootVar: string = \"$resetArea\";\n\nexport interface IPageResetService {\n    reset(): void;\n    resetArea(area: string): void;\n}\n\n\nclass PageResetService implements IPageResetService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _timeout: ng.ITimeoutService;\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $timeout: ng.ITimeoutService\n    ) {\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._timeout = $timeout;\n\n        $rootScope[ResetRootVar] = false;\n        $rootScope[ResetAreaRootVar] = null;\n    }\n\n    public reset(): void {\n        this._log.debug(\"Resetting the entire page\");\n        this.performReset(null);\n    }\n\n    public resetArea(area: string): void {\n        this._log.debug(\"Resetting the area \" + area);\n        this.performReset(area);\n    }\n\n    private performReset(area?: string): void {\n        this._rootScope[ResetRootVar] = area == null;\n        this._rootScope[ResetAreaRootVar] = area;\n\n        this._timeout(() => {\n            this._rootScope[ResetRootVar] = false;\n            this._rootScope[ResetAreaRootVar] = null;\n        }, 0);\n    }\n}\n\n\nfunction hookResetEvents(\n    $rootScope: ng.IRootScopeService, \n    pipPageReset: IPageResetService\n) {\n    $rootScope.$on(ResetPageEvent, () => { pipPageReset.reset(); });\n    $rootScope.$on(ResetAreaEvent, (event, area) => { pipPageReset.resetArea(area); });\n}\n\n\nangular.module('pipPageReset', [])\n    .service('pipPageReset', PageResetService)\n    .run(hookResetEvents);\n","'use strict';\n\nexport interface IScrollService {\n    scrollTo(parentElement, childElement, animationDuration): void;\n}\n\nclass ScrollService implements IScrollService {\n\n    public scrollTo(parentElement, childElement, animationDuration): void {\n        if (!parentElement || !childElement) return;\n        if (animationDuration == undefined) animationDuration = 300;\n\n        setTimeout(function () {\n            if (!$(childElement).position()) return;\n            var modDiff= Math.abs($(parentElement).scrollTop() - $(childElement).position().top);\n            if (modDiff < 20) return;\n            var scrollTo = $(parentElement).scrollTop() + ($(childElement).position().top - 20);\n            if (animationDuration > 0)\n                $(parentElement).animate({\n                    scrollTop: scrollTo + 'px'\n                }, animationDuration);\n        }, 100);\n    }\n\n}\n\n\nangular\n    .module('pipScroll', [])\n    .service('pipScroll', ScrollService);\n","'use strict';\n\nexport interface ISystemInfo {\n    browserName: string;\n    browserVersion: string;\n    platform: string;\n    os: string;\n\n    isDesktop(): boolean;\n    isMobile(): boolean;\n    isCordova(): boolean;\n    isSupported(supported?: any): boolean;\n}\n\n\nclass SystemInfo implements ISystemInfo {\n    private _window: ng.IWindowService;\n\n    public constructor($window: ng.IWindowService) {\n        \"ngInject\";\n\n        this._window = $window;\n    }\n\n    // todo add support for iPhone\n    public get browserName(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (ua.search(/Edge/) > -1) return \"edge\";\n        if (ua.search(/MSIE/) > -1) return \"ie\";\n        if (ua.search(/Trident/) > -1) return \"ie\";\n        if (ua.search(/Firefox/) > -1) return \"firefox\";\n        if (ua.search(/Opera/) > -1) return \"opera\";\n        if (ua.search(/OPR/) > -1) return \"opera\";\n        if (ua.search(/YaBrowser/) > -1) return \"yabrowser\";\n        if (ua.search(/Chrome/) > -1) return \"chrome\";\n        if (ua.search(/Safari/) > -1) return \"safari\";\n        if (ua.search(/Maxthon/) > -1) return \"maxthon\";\n        \n        return \"unknown\";\n    }\n\n    public get browserVersion(): string {\n        let version;\n        let ua = this._window.navigator.userAgent;\n        let browser = this.browserName;\n\n        switch (browser) {\n            case \"edge\":\n                version = (ua.split(\"Edge\")[1]).split(\"/\")[1];\n                break;\n            case \"ie\":\n                version = (ua.split(\"MSIE \")[1]).split(\";\")[0];\n                break;\n            case \"ie11\":\n                browser = \"ie\";\n                version = (ua.split(\"; rv:\")[1]).split(\")\")[0];\n                break;\n            case \"firefox\":\n                version = ua.split(\"Firefox/\")[1];\n                break;\n            case \"opera\":\n                version = ua.split(\"Version/\")[1];\n                break;\n            case \"operaWebkit\":\n                version = ua.split(\"OPR/\")[1];\n                break;\n            case \"yabrowser\":\n                version = (ua.split(\"YaBrowser/\")[1]).split(\" \")[0];\n                break;\n            case \"chrome\":\n                version = (ua.split(\"Chrome/\")[1]).split(\" \")[0];\n                break;\n            case \"safari\":\n                version = (ua.split(\"Version/\")[1]).split(\" \")[0];\n                break;\n            case \"maxthon\":\n                version = ua.split(\"Maxthon/\")[1];\n                break;\n        }\n\n        return version;\n    }\n    \n    public get platform(): string {\n        let ua = this._window.navigator.userAgent;\n\n        if (/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(ua.toLowerCase())) \n            return 'mobile';\n\n        return 'desktop';\n    }\n\n    public get os(): string {\n        let ua = this._window.navigator.userAgent;\n\n        try {\n            let osAll = (/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(ua.toLowerCase()) || [ua])[0].replace('sunos', 'solaris');\n            let osAndroid = (/(android)/.exec(ua.toLowerCase()) || '');\n            return osAndroid && (osAndroid == 'android' || (osAndroid[0] == 'android')) ? 'android' : osAll;\n        } catch (err) {\n            return 'unknown'\n        }\n    }\n\n    public isDesktop(): boolean {\n        return this.platform == 'desktop';\n    }\n\n    public isMobile(): boolean {\n        return this.platform == 'mobile';\n    }\n\n    // Todo: complete implementation\n    public isCordova(): boolean {\n        return false;\n    }\n\n    // Todo: Move to errors\n    public isSupported(supported?: any): boolean {\n        if (!supported) \n            supported = {\n                edge: 11,\n                ie: 11,\n                firefox: 43, //4, for testing\n                opera: 35,\n                chrome: 47\n            };\n\n        let browser = this.browserName;\n        let version = this.browserVersion;\n        version = version.split(\".\")[0]\n\n        if (browser && supported[browser] && version >= supported[browser]) \n            return true;\n\n        return true;\n    }\n}\n\n\nangular\n    .module('pipSystemInfo', [])\n    .service('pipSystemInfo', SystemInfo);\n","'use strict';\n\nexport interface ITags {\n    normalizeOne(tag: string): string;\n    compressOne(tag: string): string;\n    equal(tag1: string, tag2: string): boolean;\n    normalizeAll(tags: any): string[];\n    compressAll(tags: any): string[];\n    extract(entity: any, searchFields?: string[]): string[];\n}\n\n\nclass Tags implements ITags {\n\n    public normalizeOne(tag: string): string {\n        return tag \n            ? _.trim(tag.replace(/(_|#)+/g, ' '))\n            : null;\n    }\n\n    public compressOne(tag: string): string {\n        return tag\n            ? tag.replace(/( |_|#)/g, '').toLowerCase()\n            : null;\n    }\n\n    public equal(tag1: string, tag2: string): boolean {\n        if (tag1 == null && tag2 == null)\n            return true;\n        if (tag1 == null || tag2 == null)\n            return false;\n        return this.compressOne(tag1) == this.compressOne(tag2);\n    }\n\n    public normalizeAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.normalizeOne(tag));\n\n        return tags;\n    }\n\n    public compressAll(tags: any): string[] {\n        if (_.isString(tags))\n            tags = tags.split(/( |,|;)+/);\n\n        tags = _.map(tags, (tag: string) => this.compressOne(tag));\n\n        return tags;\n    }\n\n    public extract(entity: any, searchFields?: string[]): string[] {\n        let tags = this.normalizeAll(entity.tags);\n\n        _.each(searchFields, (field) => {\n            let text = entity[field] || '';\n\n            if (text != '') {\n                let hashTags = text.match(/#\\w+/g);\n                tags = tags.concat(this.normalizeAll(hashTags));\n            }\n        });\n\n        return _.uniq(tags);\n    }\n}\n\n\nangular\n    .module('pipTags', [])\n    .service('pipTags', Tags);\n","'use strict';\n\nexport interface ITimerService {\n    isStarted(): boolean;\n\n    addEvent(event: string, timeout: number): void;\n    removeEvent(event: string): void;\n    clearEvents(): void;\n\n    start(): void;\n    stop(): void;\n}\n\n\nclass TimerEvent {\n    public event: string;\n    public timeout: number;\n    public interval: any;\n\n    public constructor(event: string, timeout: number) {\n        this.event = event;\n        this.timeout = timeout;\n    }\n}\n\n\nlet DefaultEvents: TimerEvent[] = [\n    new TimerEvent('pipAutoPullChanges', 60000), // 1 min\n    new TimerEvent('pipAutoUpdatePage', 15000), // 15 sec\n    new TimerEvent('pipAutoUpdateCollection', 300000) // 5 min\n];\n\n\nclass TimerService implements ITimerService {\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _interval: ng.IIntervalService;        \n    private _started = false;\n    private _events: TimerEvent[] = _.cloneDeep(DefaultEvents);\n\n    public constructor(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $interval: ng.IIntervalService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._interval = $interval;\n    }\n\n    public isStarted(): boolean {\n        return this._started;\n    }\n\n    public addEvent(event: string, timeout: number): void {\n        var existingEvent = _.find(this._events, (e) => e.event == event);\n        if (existingEvent != null) return;\n\n        let newEvent = <TimerEvent> {\n            event: event,\n            timeout: timeout\n        };\n        this._events.push(newEvent);\n\n        if (this._started)\n            this.startEvent(newEvent);\n    }\n\n    public removeEvent(event: string): void {\n        for (let i = this._events.length - 1; i >= 0; i--) {\n            let existingEvent = this._events[i];\n            if (existingEvent.event == event) {\n                this.stopEvent(existingEvent);\n                this._events.splice(i, 1);\n            }\n        }\n    }\n\n    public clearEvents(): void {\n        this.stop();\n        this._events = [];\n    }\n\n    private startEvent(event: TimerEvent): void {\n        event.interval = this._interval(\n            () => { \n                this._log.debug('Generated timer event ' + event.event); \n                this._rootScope.$emit(event.event)\n            },\n            event.timeout\n        )\n    }\n\n    private stopEvent(event: TimerEvent): void {\n        if (event.interval != null) {\n            try {\n                this._interval.cancel(event.interval);\n            } catch (ex) {\n                // Do nothing\n            }\n            event.interval = null;\n        }\n    }\n\n    public start(): void {\n        if (this._started) return;\n\n        _.each(this._events, (event) => {\n            this.startEvent(event);\n        });\n\n        this._started = true;\n    }\n\n    public stop(): void {\n        _.each(this._events, (event) => {\n            this.stopEvent(event);\n        });\n\n        this._started = false;\n    }\n}\n\n\nangular.module('pipTimer', [])\n    .service('pipTimer', TimerService);\n","'use strict';\n\nimport './Format';\nimport './TimerService';\nimport './ScrollService';\nimport './Tags';\nimport './Codes';\nimport './SystemInfo';\nimport './PageResetService';\n\nexport * from './Format';\nexport * from './TimerService';\nexport * from './ScrollService';\nexport * from './Tags';\nexport * from './Codes';\nexport * from './SystemInfo';\nexport * from './PageResetService';","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipButtons', [\n        'pipToggleButtons',\n        'pipRefreshButton',\n        'pipFabTooltipVisibility'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipLocations.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function(){\n    'use strict';\n\n    var thisModule = angular.module(\"pipFabTooltipVisibility\", []);\n\n    thisModule.directive(\"pipFabTooltipVisibility\", function ($parse, $timeout) {\n        return {\n            restrict: 'A',\n            scope: false,\n            controller: function($scope, $attrs) {\n                var trigGetter = $parse($attrs.pipFabTooltipVisibility),\n                    showGetter = $parse($attrs.pipFabShowTooltip),\n                    showSetter = showGetter.assign;\n\n                $scope.$watch(trigGetter, function(isOpen) {\n                    if (isOpen) {\n                        $timeout(function() {\n                            showSetter($scope, isOpen);\n                        }, 600);\n                    } else {\n                        showSetter($scope, isOpen);\n                    }\n                });\n            }\n        };\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipRefreshButton', ['ngMaterial']);\n\n    thisModule.directive('pipRefreshButton',\n        function ($parse) {\n            return {\n                restrict: 'EA',\n                scope: false,\n                template: String() +\n                '<md-button class=\"pip-refresh-button\" tabindex=\"-1\" ng-click=\"onClick($event)\" aria-label=\"REFRESH\">' +\n                '<md-icon md-svg-icon=\"icons:refresh\"></md-icon>' +\n                '<span class=\"pip-refresh-text\"></span>' +\n                '</md-button>',\n                replace: false,\n                link: function ($scope, $element, $attrs: any) {\n                    var width, text, show,\n                        textGetter = $parse($attrs.pipText),\n                        visibleGetter = $parse($attrs.pipVisible),\n                        refreshGetter = $parse($attrs.pipRefresh),\n                        $button = $element.children('.md-button'),\n                        $text = $button.children('.pip-refresh-text');\n\n                    show = function () {\n                        // Set a new text\n                        text = textGetter($scope);\n                        $text.text(text);\n\n                        // Show button\n                        $button.show();\n\n                        // Adjust position\n                        width = $button.width();\n                        $button.css('margin-left', '-' + width / 2 + 'px');\n                    };\n\n                    function hide() {\n                        $button.hide();\n                    }\n\n                    (<any>$scope).onClick = function () {\n                        refreshGetter($scope);\n                    };\n\n                    $scope.$watch(visibleGetter, function (newValue) {\n                        if (newValue) {\n                            show();\n                        } else {\n                            hide();\n                        }\n                    });\n\n                    $scope.$watch(textGetter, function (newValue: string) {\n                        $text.text(newValue);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipToggleButtons', ['pipButtons.Templates']);\n\n    thisModule.directive('pipToggleButtons',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    ngDisabled: '&',\n                    buttons: '=pipButtons',\n                    currentButtonValue: '=ngModel',\n                    currentButton: '=?pipButtonObject',\n                    multiselect: '=?pipMultiselect',\n                    change: '&ngChange',\n                    onlyToggle: '=?pipOnlyToggle'\n                },\n                templateUrl: 'toggle_buttons/toggle_buttons.html',\n                controller: function ($scope, $element, $attrs, $mdMedia, $timeout) {\n                    var index;\n\n                    $scope.$mdMedia = $mdMedia;\n                    $scope.class = $attrs.class || '';\n                    $scope.multiselect = $scope.multiselect || false;\n\n                    if (!$scope.buttons || _.isArray($scope.buttons) && $scope.buttons.length === 0) {\n                        $scope.buttons = [];\n                    }\n\n                    index = _.indexOf($scope.buttons, _.find($scope.buttons, {id: $scope.currentButtonValue}));\n                    $scope.currentButtonIndex = index < 0 ? 0 : index;\n                    $scope.currentButton = $scope.buttons.length > 0 ? $scope.buttons[$scope.currentButtonIndex]\n                        : $scope.currentButton;\n\n                    $scope.buttonSelected = function (index) {\n                        if ($scope.disabled()) {\n                            return;\n                        }\n\n                        $scope.currentButtonIndex = index;\n                        $scope.currentButton = $scope.buttons[$scope.currentButtonIndex];\n                        $scope.currentButtonValue = $scope.currentButton.id || index;\n\n                        $timeout(function () {\n                            if ($scope.change) {\n                                $scope.change();\n                            }\n                        });\n                    };\n\n                    $scope.enterSpacePress = function (event) {\n                        $scope.buttonSelected(event.index);\n                    };\n\n                    $scope.disabled = function () {\n                        if ($scope.ngDisabled) {\n                            return $scope.ngDisabled();\n                        }\n                    };\n\n                    $scope.highlightButton = function (index) {\n                        if ($scope.multiselect && $scope.currentButton.level !== undefined && $scope.buttons[index].level !== undefined) {\n                           return $scope.currentButton.level >= $scope.buttons[index].level;\n                        } else {\n                            return $scope.currentButtonIndex == index;\n                        }\n                    }\n                },\n                link: function (scope, elem) {\n                    elem\n                        .on('focusin', function () {\n                            elem.addClass('focused-container');\n                        })\n                        .on('focusout', function () {\n                            elem.removeClass('focused-container');\n                        });\n                }\n            };\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipButtons.Templates');\n} catch (e) {\n  module = angular.module('pipButtons.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toggle_buttons/toggle_buttons.html',\n    '<div class=\"pip-toggle-buttons layout-row {{class}}\" pip-selected=\"bufButtonIndex\" pip-enter-space-press=\"enterSpacePress($event)\" ng-if=\"$mdMedia(\\'gt-xs\\') || onlyToggle\"><md-button tabindex=\"-1\" ng-repeat=\"button in buttons\" ng-class=\"{\\'md-accent md-raised selected color-accent-bg\\' : highlightButton($index)}\" ng-attr-style=\"{{ \\'background-color:\\' + (highlightButton($index) ? button.backgroundColor : \\'\\') + \\'!important\\' }}\" class=\"pip-selectable pip-chip-button flex\" ng-click=\"buttonSelected($index, $event)\" ng-disabled=\"button.disabled || disabled()\">{{button.name || button.title | translate}} <span ng-if=\"button.checked || button.complete || button.filled\" class=\"pip-tagged\">*</span></md-button></div><md-input-container class=\"md-block\" ng-if=\"$mdMedia(\\'xs\\') && !onlyToggle\"><md-select ng-model=\"currentButtonIndex\" ng-disabled=\"disabled()\" aria-label=\"DROPDOWN\" md-on-close=\"buttonSelected(currentButtonIndex)\"><md-option ng-repeat=\"action in buttons\" value=\"{{ ::$index }}\">{{ (action.title || action.name) | translate }} <span ng-if=\"action.checked || action.complete || action.filled\" class=\"pip-tagged\">*</span></md-option></md-select></md-input-container>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-buttons-html.min.js.map\n","'use strict';\n\nimport { MainBreakpoints } from '../media/MediaService';\nimport { IAuxPanelService } from './AuxPanelService';\n\n(() => {\n\nclass AuxPanelDirectiveController {\n    private _pipAuxPanel: IAuxPanelService;\n    private normalSize: number = 320;\n    private largeSize: number = 480;\n\n    public constructor(pipAuxPanel: IAuxPanelService) {\n        this._pipAuxPanel = pipAuxPanel;\n    }\n\n    public isGtxs():boolean {\n        return Number($('body').width()) > MainBreakpoints.xs && this._pipAuxPanel.isOpen();\n    }\n\n    public isGtlg():boolean {\n        return Number($('body').width()) > (MainBreakpoints.lg + this.largeSize);\n    }\n}\n\nfunction AuxPanelDirective() {\n    return {\n        restrict: 'E',\n        replace: true,\n        controller: AuxPanelDirectiveController,\n        transclude: true,\n        controllerAs: 'vm',\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': vm.isGtlg()}\"' + \n                    'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"vm.isGtxs()\" pip-focused ng-transclude>' + \n                    '</md-sidenav>'\n    }\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanel', AuxPanelDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction AuxPanelPartDirectiveController($scope, $element, $attrs, $rootScope, pipAuxPanel) {\n    \"ngInject\";\n\n    var partName = '' + $attrs.pipAuxPanelPart;\n    var partValue = null;\n\n    // Break part apart\n    var pos = partName.indexOf(':');\n    if (pos > 0) {\n        partValue = partName.substr(pos + 1);\n        partName = partName.substr(0, pos);\n    }\n\n    onAuxPanelChanged(null, pipAuxPanel.config)\n    $rootScope.$on('pipAuxPanelChanged', onAuxPanelChanged);\n\n    function onAuxPanelChanged(event, config) {\n        var parts = config.parts || {};\n        var currentPartValue = config[partName];\n        // Set visible variable to switch ngIf\n\n        $scope.visible = partValue ? currentPartValue == partValue : currentPartValue;\n    }\n\n}\n\nfunction AuxPanelPartDirective(ngIfDirective) {\n    \"ngInject\";\n\n    var ngIf = ngIfDirective[0];\n\n    return {\n        transclude: ngIf.transclude,\n        priority: ngIf.priority,\n        terminal: ngIf.terminal,\n        restrict: ngIf.restrict,\n        scope: true,\n        link: function($scope: any, $element, $attrs) {\n            // Visualize based on visible variable in scope\n            $attrs.ngIf = function() { return $scope.visible };\n            ngIf.link.apply(ngIf);\n        },\n        controller: AuxPanelPartDirectiveController\n    };\n}\n\nangular\n    .module('pipAuxPanel')\n    .directive('pipAuxPanelPart', AuxPanelPartDirective);\n\n})();","'use strict';\n\nexport let AuxPanelChangedEvent = 'pipAuxPanelChanged';\nexport let AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\nexport let OpenAuxPanelEvent = 'pipOpenAuxPanel';\nexport let CloseAuxPanelEvent = 'pipCloseAuxPanel';\n\nexport class AuxPanelConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n} \n\nexport interface IAuxPanelService {\n    readonly config: AuxPanelConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;    \n\n    isOpen(): boolean;\n    open(): void;\n    close(): void;\n    toggle(): void;\n  \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\n    config: AuxPanelConfig;\n    parts: any;\n    type: string;\n    classes: string[];\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass AuxPanelService implements IAuxPanelService {\n    private _config: AuxPanelConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n    private id = 'pip-auxpanel';\n\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\n    }\n\n    public isOpen(): boolean {\n        return this._sidenav(this.id).isOpen();\n    }\n\n    public open() {\n        this._sidenav(this.id).open();\n    }\n            \n    public close() {\n        this._sidenav(this.id).close();\n    }\n\n    public toggle() {\n        this._sidenav(this.id).toggle();\n    }\n  \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\n    }\n}\n\nclass AuxPanelProvider implements IAuxPanelProvider {\n    private _config: AuxPanelConfig = {\n        parts: {},\n        classes: [],\n        type: 'sticky',\n        state: null\n    };\n\n    private _service: AuxPanelService;\n\n    public get config(): AuxPanelConfig {\n        return this._config;\n    }\n\n    public set config(value: AuxPanelConfig) {\n        this._config = value || new AuxPanelConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public open(): void {\n        this._service.open();\n    }\n\n    public close(): void {\n        this._service.close();\n    }\n\n    public toggle(): void {\n        this._service.toggle();\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }     \n}\n\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\n}\n\nangular\n    .module('pipAuxPanel')\n    .provider('pipAuxPanel', AuxPanelProvider)\n    .run(hookAuxPanelEvents);\n","'use strict';\n\nangular.module('pipAuxPanel', ['ngMaterial']);\n\nimport './AuxPanelService';\nimport './AuxPanelPartDirective';\nimport './AuxPanelDirective';\n\nexport * from './AuxPanelService';","'use strict';\n\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpointStatuses } from '../media/MediaService';\n\n// Avoid default export\n(() => {\n\nclass CardDirectiveLink {\n    private _element: any;\n    private _attrs: any;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor($rootScope: ng.IRootScopeService, $element: any, $attrs: any) {\n        this._element = $element;\n        this._rootScope = $rootScope;\n        this._attrs = $attrs;\n\n        // Add class to the element\n        $element.addClass('pip-card');\n\n        let listener = () => { this.resize(); }\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, listener);\n\n        // Resize right away to avoid flicking\n        this.resize();\n\n        // Resize the element right away\n        setTimeout(listener, 100);\n    }\n\n    private resize() {\n        var\n            $mainBody = $('.pip-main-body'),\n            cardContainer = $('.pip-card-container'),\n            windowWidth = $('pip-main').width(),\n            maxWidth = $mainBody.width(),\n            maxHeight = $mainBody.height(),\n            minWidth = this._attrs.minWidth ? Math.floor(this._attrs.minWidth) : null,\n            minHeight = this._attrs.minHeight ? Math.floor(this._attrs.minHeight) : null,\n            width = this._attrs.width ? Math.floor(this._attrs.width) : null,\n            height = this._attrs.height ? Math.floor(this._attrs.height) : null,\n            left, top;\n\n        // Full-screen on phone\n        if (MainBreakpointStatuses.xs) {\n            minWidth = null;\n            minHeight = null;\n            width = null;\n            height = null;\n            maxWidth = null;\n            maxHeight = null;\n        }\n        // Card view with adjustable margins on tablet and desktop\n        else {\n            // Set margin and maximum dimensions\n            var space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\n            maxWidth -= space * 2;\n            maxHeight -= space * 2;\n\n            // Set minimum dimensions\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\n\n            // Set regular dimensions\n            width = width ? Math.min(width, maxWidth) : null;\n            height = height ? Math.min(height, maxHeight) : null;\n        }\n\n        // Set dimensions\n        this._element.css('max-width', maxWidth ? maxWidth + 'px' : '');\n        this._element.css('min-width', minWidth ? minWidth + 'px' : '');\n        this._element.css('width', width ? width + 'px' : '');\n        this._element.css('height', height ? height + 'px' : '');\n\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\n            this._element.css('max-height', maxHeight ? maxHeight + 'px' : '');\n            this._element.css('min-height', minHeight ? minHeight + 'px' : '');\n            var\n                $header = this._element.find('.pip-header:visible'),\n                $footer = this._element.find('.pip-footer:visible'),\n                $body = this._element.find('.pip-body'),\n                maxBodyHeight = maxHeight || $mainBody.height();\n\n            if ($header.length > 0)\n                maxBodyHeight -= $header.outerHeight(true);\n            if ($footer.length > 0)\n                maxBodyHeight -= $footer.outerHeight(true);\n\n            $body.css('max-height', maxBodyHeight + 'px');\n        } else {\n            cardContainer.addClass('pip-scroll');\n            if (MainBreakpointStatuses.xs) {\n                left = 0;\n                top = 0;\n            } else {\n                left = cardContainer.width() / 2 - this._element.width() / 2 - 16;\n                top = Math.max(cardContainer.height() / 2 - this._element.height() / 2 - 16, 0);\n            }\n\n            this._element.css('left', left);\n            this._element.css('top', top);\n\n            setTimeout(() => { this._element.css('display', 'flex'); }, 100);\n        }\n\n        // Notify child controls that layout was resized\n        this._rootScope.$emit('pipLayoutResized');\n    }\n}\n\nfunction cardDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            new CardDirectiveLink($rootScope, $element, $attrs);\n        }\n    }\n}\n\n\nangular\n    .module('pipLayout')\n    .directive('pipCard', cardDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction dialogDirective() {\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            $element.addClass('pip-dialog');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDialog', dialogDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction documentDirective() {\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            $element.addClass('pip-document');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipDocument', documentDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainBreakpoints, MainBreakpointStatuses, MainResizedEvent } from '../media/MediaService'; \n\n// Avoid default export\n(() => {\n\nclass MainDirectiveController {\n    private _element: any;\n    private _rootScope: ng.IRootScopeService;\n    private _timeout: ng.ITimeoutService;\n    private _container: any;\n\n    public constructor(\n        $scope: ng.IScope, \n        $element: any, \n        $rootScope: ng.IRootScopeService,\n        $timeout: ng.ITimeoutService,\n        $attrs: any\n    ) {\n        this._element = $element;        \n        this._rootScope = $rootScope;\n        this._timeout = $timeout;\n        this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\n\n        // Add CSS class\n        $element.addClass('pip-main');\n\n        // Add resize listener\n        let listener = () => { this.resize(); };\n        addResizeListener(this._container[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener(this._container[0], listener);\n        });\n\n        // Perform initial calculations\n        this.updateBreakpointStatuses();\n    }\n\n    private updateBreakpointStatuses() {\n        let width = this._container.innerWidth();\n        let body = $('body');\n\n        MainBreakpointStatuses.update(MainBreakpoints, width);\n\n        $.each(MainBreakpointStatuses, (breakpoint, status) => {\n            if (_.isBoolean(status))\n                body[status ? 'addClass': 'removeClass']('pip-' + breakpoint);\n        });\n\n        this._timeout(() => {\n            this._rootScope.$apply();\n        });\n    }\n    \n    private resize() {\n        this.updateBreakpointStatuses();\n        this._rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\n    }\n}\n\nclass MainBodyDirectiveLink {\n    public constructor(\n        $scope: ng.IScope, \n        $element: any\n    ) {\n        // Add CSS class\n        $element.addClass('pip-main-body');\n    }\n}\n\nfunction mainDirective() {\n    return {\n        restrict: 'EA',\n        controller: MainDirectiveController,\n        controllerAs: 'vm' \n    }\n}\n\nfunction mainBodyDirective() {\n    return {\n        restrict: 'EA',\n        link: MainBodyDirectiveLink\n    }\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipMain', mainDirective)\n    .directive('pipMainBody', mainBodyDirective);\n\n})();","'use strict';\n\n// Avoid default export\n(() => {\n\nfunction simpleDirective() {\n    return {\n        restrict: 'EA',\n        link: ($scope, $element, $attrs) => {\n            $element.addClass('pip-simple');\n        }\n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipSimple', simpleDirective);\n\n})();","'use strict';\n\nimport { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\nimport { MainResizedEvent, LayoutResizedEvent, MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\n\ndeclare var Masonry: any;\n\nclass TilesDirectiveLink {\n    private _element: any;\n    private _attrs: any;\n    private _rootScope: ng.IRootScopeService;\n    private _columnWidth: number;\n    private _container: any;\n    private _prevContainerWidth: number;\n    private _masonry: any;\n    private _sizer: any;\n\n    public constructor($scope: ng.IScope, $element: any, $rootScope: ng.IRootScopeService, $attrs: any) {\n        this._element = $element;\n        this._rootScope = $rootScope;\n        this._attrs = $attrs;\n\n        this._columnWidth = $attrs.columnWidth ? Math.floor($attrs.columnWidth) : 440,\n        this._container = $element.children('.pip-tiles-container'),\n        this._prevContainerWidth = null,\n        this._masonry = Masonry.data(this._container[0]);\n        \n        // Add class to the element\n        $element.addClass('pip-tiles');\n\n        // Add resize listener\n        let listener = () => { this.resize(false); };\n        addResizeListener($element[0], listener);\n\n        // Unbind when scope is removed\n        $scope.$on('$destroy', () => {\n            removeResizeListener($element[0], listener);\n        });\n\n        // Insert sizer\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\n        this._sizer.appendTo(this._container);\n\n        // Resize every time window is resized\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\n\n        // Resize the element right away\n        this.resize(true);\n    }\n\n    private resize(force: boolean) {\n        let width = this._element.parent().width();\n        let containerWidth;\n        \n        console.log();\n\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\n            width = width - 24 * 2;\n\n            let columns = Math.floor(width / this._columnWidth);\n            containerWidth = (this._columnWidth + 16) * columns - 16;\n\n            if (containerWidth > width) {\n                columns--;\n                containerWidth = (this._columnWidth + 16) * columns - 16;\n            }\n\n            if (columns < 1) {\n                containerWidth = width;\n                this._sizer.css('width', containerWidth + 'px');\n            } else {\n                this._sizer.css('width', this._columnWidth + 'px');\n            }\n\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.removeClass('pip-mobile');\n        } else {\n            width = width - 16 * 2;\n            containerWidth = width;\n\n            this._sizer.css('width', containerWidth + 'px');\n            // +10 to avoid precision related error\n            this._container.css('width', (containerWidth + 10) + 'px');\n            this._container.addClass('pip-mobile');\n        }\n\n        // Manually call layout on tile container\n        if (this._prevContainerWidth != containerWidth || force) {\n            this._prevContainerWidth = containerWidth;\n            this._masonry.layout();\n\n            // Notify child controls that layout was resized\n            this._rootScope.$emit(LayoutResizedEvent);\n        }\n    }\n}\n\nfunction tilesDirective($rootScope: ng.IRootScopeService) {\n    \"ngInject\";\n\n    // Converts value into boolean\n    function convertToBoolean(value) {\n        if (value == null) return false;\n        if (!value) return false;\n        value = value.toString().toLowerCase();\n        return value == '1' || value == 'true';\n    }\n\n    return {\n        restrict: 'EA',\n        scope: false,\n        transclude: true,\n        template:\n            ($element: any, $attrs: any) => {\n                if (convertToBoolean($attrs.pipInfinite)) {\n                    return String()\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\n                    + '</div>';\n                } else {\n                    return String()\n                        + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\n                        + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\n                        + ' masonry-options=\"tilesOptions\">'\n                        + '</div>';\n                }\n            },\n        controller: ($scope: any) => {\n            $scope.tilesOptions = {\n                gutter: 8,//16\n                isFitWidth: false,\n                isResizeBound: false,\n                transitionDuration: 0 // '0.2s'\n            };\n        },\n        link: ($scope, $element, $attrs) => {\n            new TilesDirectiveLink($scope, $element, $rootScope, $attrs);\n        } \n    };\n}\n\nangular\n    .module('pipLayout')\n    .directive('pipTiles', tilesDirective);\n","'use strict';\n\nexport class MediaBreakpoints {\n    public constructor(\n        xs: number, sm: number, md: number, lg: number\n    ) {\n        this.xs = xs;\n        this.sm = sm;\n        this.md = md;\n        this.lg = lg;\n    }\n\n    public xs: number;\n    public sm: number;\n    public md: number;\n    public lg: number;\n}\n\nexport class MediaBreakpointStatuses {\n    public width: number;\n    public 'xs': boolean;\n    public 'gt-xs': boolean;\n    public 'sm': boolean;\n    public 'gt-sm': boolean;\n    public 'md': boolean;\n    public 'gt-md': boolean;\n    public 'lg': boolean;\n    public 'gt-lg': boolean;\n    public 'xl': boolean;\n\n    public update(breakpoints: MediaBreakpoints, width: number) {\n        if (breakpoints == null) return;\n\n        this.width = width;\n        this['xs'] = width <= breakpoints.xs;\n        this['gt-xs'] = width > breakpoints.xs;\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\n        this['gt-sm'] = width > breakpoints.sm;\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\n        this['gt-md'] = width > breakpoints.md;\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\n        this['gt-lg'] = width > breakpoints.lg;\n        this['xl'] = this['gt-lg'];\n    }\n}\n\nexport let MainResizedEvent: string = 'pipMainResized';\nexport let LayoutResizedEvent: string = 'pipLayoutResized';\n\nexport let MainBreakpoints: MediaBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\nexport let MainBreakpointStatuses: MediaBreakpointStatuses = new MediaBreakpointStatuses();\n\nexport interface IMediaService {\n    (breakpoint: string): boolean;\n    breakpoints: MediaBreakpoints;\n    width: number;\n} \n\nexport interface IMediaProvider extends ng.IServiceProvider {\n    breakpoints: MediaBreakpoints;\n}\n\nclass MediaProvider {\n    public get breakpoints(): MediaBreakpoints {\n        return MainBreakpoints;\n    }\n\n    public set breakpoints(value: MediaBreakpoints) {\n        MainBreakpoints = value;\n    }\n\n    public $get() {\n        let service = function(size) {\n            return MainBreakpointStatuses[size];\n        }\n\n        Object.defineProperty(service, 'breakpoints', {\n            get: () => { return MainBreakpoints; },\n            set: (value) => { \n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\n                \n                MainBreakpointStatuses.update(\n                    MainBreakpoints, \n                    MainBreakpointStatuses.width\n                );\n            }\n        });\n\n        Object.defineProperty(service, 'width', {\n            get: () => { \n                return MainBreakpointStatuses.width; \n            }\n        });\n\n        return service; \n    }\n}\n\nangular\n    .module('pipMedia')\n    .provider('pipMedia', MediaProvider);\n","'use strict';\n\nlet attachEvent = (<any>document).attachEvent;\nlet isIE = navigator.userAgent.match(/Trident/);\n\nfunction requestFrame(callback): any {\n    let frame = window.requestAnimationFrame \n        || (<any>window).mozRequestAnimationFrame \n        || (<any>window).webkitRequestAnimationFrame \n        || function(callback) { \n            return window.setTimeout(callback, 20);     \n        };\n\n    return frame(callback);\n}\n\nfunction cancelFrame(): any {\n    let cancel = window.cancelAnimationFrame \n        || (<any>window).mozCancelAnimationFrame \n        || (<any>window).webkitCancelAnimationFrame \n        || window.clearTimeout;\n\n    return function(id) { \n        return cancel(id); \n    };\n}\n\nfunction resizeListener(event: any): void {\n    var win = event.target || event.srcElement;\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\n    win.__resizeRAF__ = requestFrame(function() {\n        var trigger = win.__resizeTrigger__;\n        trigger.__resizeListeners__.forEach(function(fn){\n            fn.call(trigger, event);\n        });\n    });\n}\n\nfunction loadListener(event: any): void {\n    this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\n    this.contentDocument.defaultView.addEventListener('resize', resizeListener);\n}\n\nexport function addResizeListener(element, listener): void {\n    if (!element.__resizeListeners__) {\n        element.__resizeListeners__ = [];\n        if (attachEvent) {\n            element.__resizeTrigger__ = element;\n            element.attachEvent('onresize', resizeListener);\n        }\n        else {\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\n            var obj: any = element.__resizeTrigger__ = document.createElement('object');\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n            obj.__resizeElement__ = element;\n            obj.onload = loadListener;\n            obj.type = 'text/html';\n            if (isIE) element.appendChild(obj);\n            obj.data = 'about:blank';\n            if (!isIE) element.appendChild(obj);\n        }\n    }\n\n    element.__resizeListeners__.push(listener);\n}\n\nexport function removeResizeListener(element, listener): void {\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\n    if (!element.__resizeListeners__.length) {\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\n        else {\n            element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n            element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\n        }\n    }\n}\n","'use strict';\n\nangular.module('pipMedia', []);\n\nimport './MediaService';\nimport './ResizeFunctions';\n\nexport * from './MediaService';\nexport * from './ResizeFunctions';","/**\n * @file Split layout\n * @copyright Digital Living Software Corp. 2014-2015\n */\n\n/* global $, angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSplit', []);\n\n    thisModule.run( function($rootScope, pipSplit) {\n        // Intercept routes\n        $rootScope.$on('$stateChangeStart',\n            function(event, toState, toParams, fromState, fromParams) {\n                // Split animation\n                var splitElements = $('.pip-split');\n                \n                if (splitElements.length > 0) {\n                    splitElements.removeClass('pip-transition-forward');\n                    splitElements.removeClass('pip-transition-back');\n                    if (toState.name != fromState.name) {\n                        if (pipSplit.forwardTransition(toState, fromState)) {\n                            splitElements.addClass('pip-transition-forward');\n                        } else {\n                            splitElements.addClass('pip-transition-back');\n                        }\n                    }\n                }\n\n            }\n        );\n\n    });\n\n    thisModule.provider('pipSplit', function(): any {\n        var transitionSequences = [];\n\n        this.addTransitionSequence = addTransitionSequence;\n\n        this.$get = function () {\n            return {\n                forwardTransition: forwardTransition\n            };\n        };\n\n        return;\n\n        //----------------------------\n\n        function addTransitionSequence(sequence) {\n            if (!_.isArray(sequence) || sequence.length == 0) {\n                throw new Error('Transition sequence must be an array of state names');\n            }\n\n            transitionSequences.push(sequence);\n        }\n\n        function forwardTransition(toState, fromState) {\n            var i, toIndex, fromIndex;\n\n            for (i = 0; i < transitionSequences.length; i++) {\n                toIndex = transitionSequences[i].indexOf(toState.name),\n                fromIndex = transitionSequences[i].indexOf(fromState.name);\n\n                if (toIndex > -1) {\n                    return toIndex > fromIndex;\n                }\n            }\n\n            return false\n        }\n\n    });\n\n})();\n","﻿/**\n * @file Registration of all WebUI list controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipBehaviors', [\n        'pipFocused',\n        'pipSelected',\n        'pipInfiniteScroll',\n        'pipUnsavedChanges',\n        'pipDraggable'\n    ]);\n    \n})();","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipDraggable\", []);\n\n    thisModule.service('pipDraggable', function () {\n\n        var scope = this;\n        scope.inputEvent = function (event) {\n            if (angular.isDefined(event.touches)) {\n                return event.touches[0];\n            }\n            //Checking both is not redundent. If only check if touches isDefined, angularjs isDefnied will return error and stop the remaining scripty if event.originalEvent is not defined.\n            else if (angular.isDefined(event.originalEvent) && angular.isDefined(event.originalEvent.touches)) {\n                return event.originalEvent.touches[0];\n            }\n            return event;\n        };\n\n    });\n\n    thisModule.directive('pipDrag',\n        function ($rootScope, $parse, $document, $window, pipDraggable) {\n            return {\n\n                restrict: 'A',\n                link: function (scope: any, element, attrs: any) {\n                    scope.value = attrs.ngDrag;\n                    var LONG_PRESS = 50; // 50ms for longpress\n                    var offset, _centerAnchor = false, _mx, _my, _tx, _ty, _mrx, _mry;\n                    var _hasTouch = ('ontouchstart' in window) || (<any>window).DocumentTouch; // && document instanceof DocumentTouch; // DocumentTouch is not defined!\n                    var _pressEvents = 'touchstart mousedown';\n                    var _moveEvents = 'touchmove mousemove';\n                    var _releaseEvents = 'touchend mouseup';\n                    var _dragHandle;\n\n                    // to identify the element in order to prevent getting superflous events when a single element has both drag and drop directives on it.\n                    var _myid = scope.$id;\n                    var _data = null;\n\n                    var _dragOffset = null;\n\n                    var _dragEnabled = false;\n\n                    var _pressTimer = null;\n\n                    var _elementStyle: any = {};\n\n                    var onDragStartCallback = $parse(attrs.pipDragStart) || null;\n                    var onDragStopCallback = $parse(attrs.pipDragStop) || null;\n                    var onDragSuccessCallback = $parse(attrs.pipDragSuccess) || null;\n                    var allowTransform = angular.isDefined(attrs.allowTransform) ? scope.$eval(attrs.allowTransform) : false;\n\n                    var getDragData = $parse(attrs.pipDragData);\n                    var\n                        verticalScroll = toBoolean(attrs.pipVerticalScroll) || true,\n                        horizontalScroll = toBoolean(attrs.pipHorizontalScroll) || true,\n                        activationDistance = parseFloat(attrs.pipActivationDistance) || 75,\n                        scrollDistance = parseFloat(attrs.pipScrollDistance) || 50,\n                        scrollParent = false,\n\n                        scrollContainer = angular.element(window),\n                        scrollContainerGetter = $parse(attrs.pipScrollContainer);\n\n                    // deregistration function for mouse move events in $rootScope triggered by jqLite trigger handler\n                    var _deregisterRootMoveListener = angular.noop;\n\n                    initialize();\n\n                    return;\n\n                    //-----------------------------------\n\n                    function initialize() {\n                        element.attr('pip-draggable', 'false'); // prevent native drag\n                        // check to see if drag handle(s) was specified\n                        // if querySelectorAll is available, we use this instead of find\n                        // as JQLite find is limited to tagnames\n                        let dragHandles: any;\n                        if (element[0].querySelectorAll) {\n                            dragHandles = angular.element(element[0].querySelectorAll('[pip-drag-handle]'));\n                        } else {\n                            dragHandles = element.find('[pip-drag-handle]');\n                        }\n                        if (dragHandles.length) {\n                            _dragHandle = dragHandles;\n                        }\n                        toggleListeners(true);\n\n                        // Initialize scroll container\n                        if (scrollParent) {\n                            scrollContainer = angular.element(element.parent());\n                        } else if (attrs.pipScrollContainer) {\n                            scrollContainer = angular.element(scrollContainerGetter(scope));\n                        } else {\n                            scrollContainer = angular.element(window);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function toggleListeners(enable) {\n                        if (!enable)return;\n                        // add listeners.\n\n                        scope.$on('$destroy', onDestroy);\n                        scope.$watch(attrs.pipDrag, onEnableChange);\n                        scope.$watch(attrs.pipCenterAnchor, onCenterAnchor);\n                        // wire up touch events\n                        if (_dragHandle) {\n                            // handle(s) specified, use those to initiate drag\n                            _dragHandle.on(_pressEvents, onpress);\n                        } else {\n                            // no handle(s) specified, use the element as the handle\n                            element.on(_pressEvents, onpress);\n                        }\n                        if (!_hasTouch && element[0].nodeName.toLowerCase() == \"img\") {\n                            element.on('mousedown', function () {\n                                return false;\n                            }); // prevent native drag for images\n                        }\n                    }\n                    \n                    function onDestroy(enable) {\n                        toggleListeners(false);\n                    }\n\n                    function onEnableChange(newVal, oldVal) {\n                        _dragEnabled = (newVal);\n                    }\n\n                    function onCenterAnchor(newVal, oldVal) {\n                        if (angular.isDefined(newVal))\n                            _centerAnchor = (newVal || 'true');\n                    }\n\n                    function isClickableElement(evt) {\n                        return (\n                            angular.isDefined(angular.element(evt.target).attr(\"pip-cancel-drag\"))\n                        );\n                    }\n\n                    /*\n                     * When the element is clicked start the drag behaviour\n                     * On touch devices as a small delay so as not to prevent native window scrolling\n                     */\n                    function onpress(evt) {\n                        if (!_dragEnabled)return;\n\n                        if (isClickableElement(evt)) {\n                            return;\n                        }\n\n                        if (evt.type == \"mousedown\" && evt.button != 0) {\n                            // Do not start dragging on right-click\n                            return;\n                        }\n\n                        saveElementStyles();\n\n                        if (_hasTouch) {\n                            cancelPress();\n                            _pressTimer = setTimeout(function () {\n                                cancelPress();\n                                onlongpress(evt);\n                            }, LONG_PRESS);\n                            $document.on(_moveEvents, cancelPress);\n                            $document.on(_releaseEvents, cancelPress);\n                        } else {\n                            onlongpress(evt);\n                        }\n\n                    }\n\n                    function saveElementStyles() {\n                        _elementStyle.left = element.css('css') || 0;\n                        _elementStyle.top = element.css('top') || 0;\n                        _elementStyle.position = element.css('position');\n                        _elementStyle.width = element.css('width');    \n                    }\n\n                    function cancelPress() {\n                        clearTimeout(_pressTimer);\n                        $document.off(_moveEvents, cancelPress);\n                        $document.off(_releaseEvents, cancelPress);\n                    }\n\n                    function onlongpress(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        offset = element[0].getBoundingClientRect();\n                        if (allowTransform)\n                            _dragOffset = offset;\n                        else {\n                            _dragOffset = {left: document.body.scrollLeft, top: document.body.scrollTop};\n                        }\n\n\n                        (<any>element).centerX = element[0].offsetWidth / 2;\n                        (<any>element).centerY = element[0].offsetHeight / 2;\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n                        _mrx = _mx - offset.left;\n                        _mry = _my - offset.top;\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - $window.pageXOffset;\n                            _ty = _my - (<any>element).centerY - $window.pageYOffset;\n                        } else {\n                            _tx = _mx - _mrx - $window.pageXOffset;\n                            _ty = _my - _mry - $window.pageYOffset;\n                        }\n\n                        $document.on(_moveEvents, onmove);\n                        $document.on(_releaseEvents, onrelease);\n                        // This event is used to receive manually triggered mouse move events\n                        // jqLite unfortunately only supports triggerHandler(...)\n                        // See http://api.jquery.com/triggerHandler/\n                        // _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', onmove);\n                        _deregisterRootMoveListener = $rootScope.$on('draggable:_triggerHandlerMove', function (event, origEvent) {\n                            onmove(origEvent);\n                        });\n                    }\n\n                    function onmove(evt) {\n                        if (!_dragEnabled)return;\n                        evt.preventDefault();\n\n                        if (!element.hasClass('pip-dragging')) {\n                            _data = getDragData(scope);\n                            element.addClass('pip-dragging');\n                            $rootScope.$broadcast('draggable:start', {\n                                x: _mx,\n                                y: _my,\n                                tx: _tx,\n                                ty: _ty,\n                                event: evt,\n                                element: element,\n                                data: _data\n                            });\n\n                            if (onDragStartCallback) {\n                                scope.$apply(function () {\n                                    onDragStartCallback(scope, {$data: _data, $event: evt});\n                                });\n                            }\n                        }\n\n                        _mx = pipDraggable.inputEvent(evt).pageX;\n                        _my = pipDraggable.inputEvent(evt).pageY;\n\n                        if (horizontalScroll || verticalScroll) {\n                            dragToScroll();\n                        }\n\n                        if (_centerAnchor) {\n                            _tx = _mx - (<any>element).centerX - _dragOffset.left;\n                            _ty = _my - (<any>element).centerY - _dragOffset.top;\n                        } else {\n                            _tx = _mx - _mrx - _dragOffset.left;\n                            _ty = _my - _mry - _dragOffset.top;\n                        }\n\n                        moveElement(_tx, _ty);\n\n                        $rootScope.$broadcast('draggable:move', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            uid: _myid,\n                            dragOffset: _dragOffset\n                        });\n                    }\n\n                    function onrelease(evt) {\n                        if (!_dragEnabled)\n                            return;\n                        evt.preventDefault();\n                        $rootScope.$broadcast('draggable:end', {\n                            x: _mx,\n                            y: _my,\n                            tx: _tx,\n                            ty: _ty,\n                            event: evt,\n                            element: element,\n                            data: _data,\n                            callback: onDragComplete,\n                            uid: _myid\n                        });\n                        element.removeClass('pip-dragging');\n                        element.parent().find('.pip-drag-enter').removeClass('pip-drag-enter');\n                        reset();\n                        $document.off(_moveEvents, onmove);\n                        $document.off(_releaseEvents, onrelease);\n\n                        if (onDragStopCallback) {\n                            scope.$apply(function () {\n                                onDragStopCallback(scope, {$data: _data, $event: evt});\n                            });\n                        }\n\n                        _deregisterRootMoveListener();\n                    }\n\n                    function onDragComplete(evt) {\n                        if (!onDragSuccessCallback)return;\n\n                        scope.$apply(function () {\n                            onDragSuccessCallback(scope, {$data: _data, $event: evt});\n                        });\n                    }\n\n                    function reset() {\n                        if (allowTransform)\n                            element.css({transform: '', 'z-index': '', '-webkit-transform': '', '-ms-transform': ''});\n                        else {\n                            element.css({'position': _elementStyle.position, top: _elementStyle.top, left: _elementStyle.left, 'z-index': '', width: _elementStyle.width});\n                        }\n                    }\n\n                    function moveElement(x, y) {\n                        var eWidth = element.css('width');\n                        if (allowTransform) {\n                            element.css({\n                                transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                'z-index': 99999,\n                                '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n                                '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n                            });\n                        } else {\n                            element.css({\n                                'left': x + 'px',\n                                'top': y + 'px',\n                                'position': 'fixed',\n                                'z-index': 100,\n                                width: eWidth\n                            });\n                        }\n                    }\n\n                    function dragToScroll() {\n                        var scrollX = 0, scrollY = 0,\n                            offset = function (element) {\n                                return element.offset() || {left: 0, top: 0};\n                            };\n\n                        if (horizontalScroll) {\n                            var\n                                containerLeft = offset(scrollContainer).left,\n                                containerWidth = scrollContainer.innerWidth(),\n                                containerRight = containerLeft + containerWidth;\n\n                            if ((_mx - containerLeft) < activationDistance) {\n                                scrollX = -scrollDistance;\n                            }\n                            else if ((containerRight - _mx) < activationDistance) {\n                                scrollX = scrollDistance;\n                            }\n                        }\n\n                        if (verticalScroll) {\n                            var\n                                containerTop = offset(scrollContainer).top,\n                                containerHeight = scrollContainer.innerHeight(),\n                                containerBottom = containerTop + containerHeight;\n\n                            if ((_my - containerTop) < activationDistance) {\n                                scrollY = -scrollDistance + 30;\n                            }\n                            else if ((containerBottom - _my) < activationDistance) {\n                                scrollY = scrollDistance - 30;\n                            }\n                        }\n                        if (scrollX !== 0 || scrollY !== 0) {\n                            var\n                                containerScrollLeft = scrollContainer.scrollLeft(),\n                                containerScrollTop = scrollContainer.scrollTop();\n\n                            scrollContainer.scrollLeft(containerScrollLeft + scrollX);\n                            scrollContainer.scrollTop(containerScrollTop + scrollY);\n                        }\n\n                    }\n                }\n            }\n        });\n\n    thisModule.directive('pipDrop', \n        function ($parse, $timeout, $window, $document, pipDraggable) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                scope.value = attrs.pipDrop;\n                scope.isTouching = false;\n\n                var _lastDropTouch = null;\n                var _myid = scope.$id;\n                var _dropEnabled = false;\n\n                var onDropCallback = $parse(attrs.pipDropSuccess);// || function(){};\n                var onDragStartCallback = $parse(attrs.pipDragStart);\n                var onDragStopCallback = $parse(attrs.pipDragStop);\n                var onDragMoveCallback = $parse(attrs.pipDragMove);\n\n                initialize();\n\n                return;\n\n                //----------------------\n\n                function initialize() {\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    scope.$watch(attrs.pipDrop, onEnableChange);\n                    scope.$on('$destroy', onDestroy);\n                    scope.$on('draggable:start', onDragStart);\n                    scope.$on('draggable:move', onDragMove);\n                    scope.$on('draggable:end', onDragEnd);\n                }\n\n                function onDestroy(enable) {\n                    toggleListeners(false);\n                }\n\n                function onEnableChange(newVal, oldVal) {\n                    _dropEnabled = newVal;\n                }\n\n                function onDragStart(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragStart) {\n                        $timeout(function () {\n                            onDragStartCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragMove(evt, obj) {\n                    if (!_dropEnabled)return;\n                    isTouching(obj.x, obj.y, obj.element);\n\n                    if (attrs.pipDragMove) {\n                        $timeout(function () {\n                            onDragMoveCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n                }\n\n                function onDragEnd(evt, obj) {\n                    // don't listen to drop events if this is the element being dragged\n                    // only update the styles and return\n                    if (!_dropEnabled || _myid === obj.uid) {\n                        updateDragStyles(false, obj.element);\n                        return;\n                    }\n\n                    if (isTouching(obj.x, obj.y, obj.element)) {\n                        // call the pipDraggable pipDragSuccess element callback\n                        if (obj.callback) {\n                            obj.callback(obj);\n                        }\n\n                        if (attrs.pipDropSuccess) {\n                            $timeout(function () {\n                                onDropCallback(scope, {\n                                    $data: obj.data,\n                                    $event: obj,\n                                    $target: scope.$eval(scope.value)\n                                });\n                            });\n                        }\n                    }\n\n                    if (attrs.pipDragStop) {\n                        $timeout(function () {\n                            onDragStopCallback(scope, {$data: obj.data, $event: obj});\n                        });\n                    }\n\n                    updateDragStyles(false, obj.element);\n                }\n\n                function isTouching(mouseX, mouseY, dragElement) {\n                    var touching = hitTest(mouseX, mouseY);\n                    scope.isTouching = touching;\n                    if (touching) {\n                        _lastDropTouch = element;\n                    }\n                    updateDragStyles(touching, dragElement);\n                    return touching;\n                }\n\n                function updateDragStyles(touching, dragElement) {\n                    if (touching) {\n                        element.addClass('pip-drag-enter');\n                        dragElement.addClass('pip-drag-over');\n                    } else if (_lastDropTouch == element) {\n                        _lastDropTouch = null;\n                        element.removeClass('pip-drag-enter');\n                        dragElement.removeClass('pip-drag-over');\n                    }\n                };\n\n                function hitTest(x, y) {\n                    var bounds = element[0].getBoundingClientRect();\n                    x -= $document[0].body.scrollLeft + $document[0].documentElement.scrollLeft;\n                    y -= $document[0].body.scrollTop + $document[0].documentElement.scrollTop;\n                    return x >= bounds.left\n                        && x <= bounds.right\n                        && y <= bounds.bottom\n                        && y >= bounds.top;\n                }\n            }\n        };\n    });\n\n    //thisModule.directive('pipDragClone', function ($parse, $timeout, pipDraggable) {\n    //    return {\n    //        restrict: 'A',\n    //        link: function (scope, element, attrs) {\n    //            var img, _allowClone = true;\n    //            var _dragOffset = null;\n    //            scope.clonedData = {};\n    //            initialize();\n    //            return;\n\n    //            function initialize() {\n//\n    //                img = element.find('img');\n    //                element.attr('pip-draggable', 'false');\n    //                img.attr('draggable', 'false');\n    //                reset();\n    //                toggleListeners(true);\n    //            }\n//\n//\n    //            function toggleListeners(enable) {\n    //                // remove listeners\n//\n    //                if (!enable)return;\n    //                // add listeners.\n    //                scope.$on('draggable:start', onDragStart);\n    //                scope.$on('draggable:move', onDragMove);\n    //                scope.$on('draggable:end', onDragEnd);\n    //                preventContextMenu();\n//\n    //            }\n\n    //            function preventContextMenu() {\n    //                //  element.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.off('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                //  element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //                img.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n    //            }\n\n    //            function onDragStart(evt, obj, elm) {\n    //                _allowClone = true;\n    //                if (angular.isDefined(obj.data.allowClone)) {\n    //                    _allowClone = obj.data.allowClone;\n    //                }\n    //                if (_allowClone) {\n    //                    scope.$apply(function () {\n    //                        scope.clonedData = obj.data;\n    //                    });\n    //                    element.css('width', obj.element[0].offsetWidth);\n    //                    element.css('height', obj.element[0].offsetHeight);\n//\n    //                    moveElement(obj.tx, obj.ty);\n    //                }\n//\n    //            }\n\n    //            function onDragMove(evt, obj) {\n    //                if (_allowClone) {\n//\n    //                    _tx = obj.tx + obj.dragOffset.left;\n    //                    _ty = obj.ty + obj.dragOffset.top;\n//\n    //                    moveElement(_tx, _ty);\n    //                }\n    //            }\n\n    //            function onDragEnd(evt, obj) {\n    //                //moveElement(obj.tx,obj.ty);\n    //                if (_allowClone) {\n    //                    reset();\n    //                }\n    //            }\n//\n    //            function reset() {\n    //                element.css({left: 0, top: 0, position: 'fixed', 'z-index': -1, visibility: 'hidden'});\n    //            }\n\n    //            function moveElement(x, y) {\n    //                element.css({\n    //                    transform: 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    'z-index': 99999,\n    //                    'visibility': 'visible',\n    //                    '-webkit-transform': 'matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, ' + x + ', ' + y + ', 0, 1)',\n    //                    '-ms-transform': 'matrix(1, 0, 0, 1, ' + x + ', ' + y + ')'\n    //                    //,margin: '0'  don't monkey with the margin,\n    //                });\n    //            }\n//\n    //            function absorbEvent_(event) {\n    //                var e = event;//.originalEvent;\n    //                e.preventDefault && e.preventDefault();\n    //                e.stopPropagation && e.stopPropagation();\n    //                e.cancelBubble = true;\n    //                e.returnValue = false;\n    //                return false;\n    //            }\n//\n    //        }\n    //    };\n    //});\n\n    thisModule.directive('pipPreventDrag', function ($parse, $timeout) {\n        return {\n            restrict: 'A',\n            link: function (scope: any, element, attrs: any) {\n                initialize();\n\n                return;\n                //---------------------\n\n                function initialize() {\n                    element.attr('pip-draggable', 'false');\n                    toggleListeners(true);\n                }\n\n                function toggleListeners(enable) {\n                    // remove listeners\n                    if (!enable)return;\n                    // add listeners.\n                    element.on('mousedown touchstart touchmove touchend touchcancel', absorbEvent_);\n                }\n\n                function absorbEvent_(event) {\n                    var e = event.originalEvent;\n                    e.preventDefault && e.preventDefault();\n                    e.stopPropagation && e.stopPropagation();\n                    e.cancelBubble = true;\n                    e.returnValue = false;\n                    return false;\n                }\n            }\n        };\n    });\n\n    thisModule.directive('pipCancelDrag', function () {\n        return {\n            restrict: 'A',\n            link: function (scope, element, attrs) {\n                element.find('*').attr('pip-cancel-drag', 'pip-cancel-drag');\n            }\n        };\n    });\n})();\n\n","/**\n * @file Keyboard navigation over few focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipFocused\", []);\n\n    thisModule.directive('pipFocused', function ($timeout, $mdConstant, $window) {\n        return {\n            require: \"?ngModel\",\n            link: function ($scope: any, $element, $attrs: any) {\n                var controls, controlsLength,\n                    withHidden = $attrs.pipWithHidden,\n                    opacityDelta = 0.4,\n                    opacityLimit = 0.5,\n                    _color,\n                    focusedColor = $attrs.pipFocusedColor ? $attrs.pipFocusedColor : null,\n                    focusedTabindex = $attrs.pipFocusedTabindex ? parseInt($attrs.pipFocusedTabindex) || 0 : 0,\n                    isOpacity = $attrs.pipFocusedOpacity ? toBoolean($attrs.pipFocusedOpacity) : false;\n\n                $timeout(init);\n                $element.on('keydown', keydownListener);\n\n                $scope.$watch($attrs.ngModel, function () {\n                    $timeout(init);\n                }, true);\n\n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n\n                function rgba(color) {\n                    if (focusedColor) {\n                        return focusedColor;\n                    }\n\n                    var arr = color.split(\"(\")[1].split(\")\")[0].split(\",\");\n\n                    if (!arr || arr.length < 3) {\n                        return ''\n                    }\n\n                    let red, blue, green, opacity;\n\n                    opacity = arr.length == 3 ? 1 : parseFloat(arr[3]);\n                    red = arr[0];\n                    blue = arr[1];\n                    green = arr[2];\n\n                    if (opacity < opacityLimit) {\n                        opacity += opacityDelta;\n                    } else {\n                        opacity -= opacityDelta;\n                    }\n\n                    return 'rgba(' + red + ', ' + blue + ', ' + green + ', ' + opacity + ')';\n                }\n\n                function setTabindex(element, value) {\n                    element.attr('tabindex', value);\n                }\n\n                function checkTabindex(controls) {\n                    let index = _.findIndex(controls, (c) => {\n                        return c['tabindex'] > -1;\n                    });\n\n                    if (index == -1 && controls.length > 0) {\n                        // let el = controls[0];\n                        setTabindex(angular.element(controls[0]), focusedTabindex);\n                    }\n                }\n\n                function init() {\n                    var selector = withHidden ? '.pip-focusable' : '.pip-focusable:visible';\n                    controls = $element.find(selector);\n                    controlsLength = controls.length;\n                    checkTabindex(controls);\n\n                    // add needed event listeners\n                    controls.on('focus', function () {\n                        if ($(this).hasClass('md-focused')) {\n                            return;\n                        }\n\n                        $element.addClass('pip-focused-container');\n                        if (isOpacity) {\n                            let ell = angular.element($(this)[0]);\n\n                            _color = $(this).css('backgroundColor');\n                            // _color = $window.getComputedStyle($(this)[0], null).backgroundColor;\n                            $(this).css('backgroundColor', rgba(_color));\n                            $(this).addClass('md-focused');\n                        } else {\n                            $(this).addClass('md-focused md-focused-opacity');\n                        }\n                        \n                        // setTabindex(angular.element($(this)[0]), 0);\n                    }).on('focusout', function () {\n                        if (!$(this).hasClass('md-focused')) {\n                            return;\n                        }                        \n                        $element.removeClass('pip-focused-container');\n\n                        if (isOpacity) {\n                            // $(this).css('backgroundColor', _color);\n                            $(this).css('backgroundColor', \"\");\n                            $(this).removeClass('md-focused md-focused-opacity');\n                        } else {\n                            $(this).removeClass('md-focused');\n                        }\n                        // if I go from block all element have tabindex = -1\n                        // setTabindex(angular.element($(this)[0]), -1);\n                    });\n                }\n\n                function keydownListener(e) {\n                    var keyCode = e.which || e.keyCode;\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                        e.preventDefault();\n\n                        var\n                            increment = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                            moveToControl = controls.index(controls.filter(\".md-focused\")) + increment;\n                        // Move focus to next control\n                        if (moveToControl >= 0 && moveToControl < controlsLength) {\n                            controls[moveToControl].focus();\n                        }\n                    }\n                }\n            }\n        };\n    });\n\n})();\n\n","/**\n * @file Infinite scrolling behavior\n * @description\n * Modified from https://github.com/sroze/ngInfiniteScroll\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipInfiniteScroll\", []);\n\n    thisModule.directive('pipInfiniteScroll', \n        function($rootScope, $window, $interval, $parse) {\n            var THROTTLE_MILLISECONDS = 500;\n\n            return {\n                scope: {\n                    pipInfiniteScroll: '&',\n                    pipScrollContainer: '=',\n                    pipScrollDistance: '=',\n                    pipScrollDisabled: '=',\n                    pipScrollUseDocumentBottom: '=',\n                    pipScrollListenForEvent: '@'\n                },\n                link: function($scope: any, $element, $attrs: any) {\n                    var \n                        checkWhenEnabled = null,\n                        scrollContainer,\n                        immediateCheck = true,\n                        scrollDistance = null,\n                        scrollEnabled = null, \n                        unregisterEventListener = null,\n                        useDocumentBottom = false, \n                        windowElement = angular.element($window);\n                    \n                    function height(element) {\n                        element = element[0] || element;\n                        if (isNaN(element.offsetHeight)) {\n                            return element.document.documentElement.clientHeight;\n                        } else {\n                            return element.offsetHeight;\n                        }\n                    };\n\n                    function offsetTop(element) {\n                        if (!element[0].getBoundingClientRect || element.css('none')) {\n                            return;\n                        }\n                        return element[0].getBoundingClientRect().top + pageYOffset(element);\n                    };\n\n                    function pageYOffset(element) {\n                        element = element[0] || element;\n                        if (isNaN(window.pageYOffset)) {\n                            return element.document.documentElement.scrollTop;\n                        } else {\n                            return element.ownerDocument.defaultView.pageYOffset;\n                        }\n                    };\n\n                    var onContainerScroll = function() {\n                        var \n                            containerBottom, \n                            containerTopOffset, \n                            elementBottom, \n                            remaining, \n                            shouldScroll;\n                                                \n                        if (scrollContainer === windowElement) {\n                            containerBottom = height(scrollContainer) + pageYOffset(scrollContainer[0].document.documentElement);\n                            elementBottom = offsetTop($element) + height($element);\n                        } else {\n                            containerBottom = height(scrollContainer);\n                            containerTopOffset = 0;\n                            if (offsetTop(scrollContainer) !== void 0) {\n                                containerTopOffset = offsetTop(scrollContainer);\n                            }\n                            elementBottom = offsetTop($element) - containerTopOffset + height($element);\n                        }\n\n                        if (useDocumentBottom) {\n                            elementBottom = height(($element[0].ownerDocument || (<any>$element[0]).document).documentElement);\n                        }\n\n                        remaining = elementBottom - containerBottom;\n                        shouldScroll = remaining <= height(scrollContainer) * scrollDistance + 1;\n                        \n                        if (shouldScroll) {\n                            checkWhenEnabled = true;\n                            if (scrollEnabled) {\n                                if ($scope.$$phase || $rootScope.$$phase) {\n                                    return $scope.pipInfiniteScroll();\n                                } else {\n                                    return $scope.$apply($scope.pipInfiniteScroll);\n                                }\n                            }\n                        } else {\n                            return checkWhenEnabled = false;\n                        }\n                    };\n\n                    if (THROTTLE_MILLISECONDS != null) {\n                        onContainerScroll = _.throttle(onContainerScroll, THROTTLE_MILLISECONDS);                    \n                    }\n\n                    $scope.$on('$destroy', function() {\n                        scrollContainer.unbind('scroll', onContainerScroll);\n                        if (unregisterEventListener != null) {\n                            unregisterEventListener();\n                            return unregisterEventListener = null;\n                        }\n                    });\n\n                    function handleScrollDistance(v) {\n                        return scrollDistance = parseFloat(v) || 0;\n                    };\n                    $scope.$watch('pipScrollDistance', handleScrollDistance);\n                    handleScrollDistance($scope.pipScrollDistance);\n                    \n                    function handleScrollDisabled(v) {\n                        scrollEnabled = !v;\n                        if (scrollEnabled && checkWhenEnabled) {\n                            checkWhenEnabled = false;\n                            return onContainerScroll();\n                        }\n                    };\n                    $scope.$watch('pipScrollDisabled', handleScrollDisabled);\n                    handleScrollDisabled($scope.pipScrollDisabled);\n\n                    function handleScrollUseDocumentBottom(v) {\n                        return useDocumentBottom = v;\n                    };\n                    $scope.$watch('pipScrollUseDocumentBottom', handleScrollUseDocumentBottom);\n                    handleScrollUseDocumentBottom($scope.pipScrollUseDocumentBottom);\n\n                    function changeContainer(newContainer) {\n                        if (scrollContainer != null) {\n                            scrollContainer.unbind('scroll', onContainerScroll);\n                        }\n\n                        scrollContainer = newContainer;\n                        if (newContainer != null) {\n                            return scrollContainer.bind('scroll', onContainerScroll);\n                        }\n                    };\n\n                    changeContainer(windowElement);\n                    if ($scope.pipScrollListenForEvent) {\n                        unregisterEventListener = $rootScope.$on($scope.pipScrollListenForEvent, onContainerScroll);\n                    }\n\n                    function handleScrollContainer(newContainer) {\n                        if ((newContainer == null) || newContainer.length === 0) {\n                            return;\n                        }\n                        if (newContainer instanceof HTMLElement) {\n                            newContainer = angular.element(newContainer);\n                        } else if (typeof newContainer.append === 'function') {\n                            newContainer = angular.element(newContainer[newContainer.length - 1]);\n                        } else if (typeof newContainer === 'string') {\n                            newContainer = $element.parents().find(newContainer);\n                        }\n\n                        if (newContainer != null && (!Array.isArray(newContainer) ||\n                            (Array.isArray(newContainer) && newContainer.length > 0))) {\n                            return changeContainer(newContainer);\n                        } else {\n                            throw new Error(\"Invalid pip-scroll-container attribute.\");\n                        }\n                    };\n                    $scope.$watch('pipScrollContainer', function (newContainer) {\n                        if (newContainer !== scrollContainer)\n                            handleScrollContainer(newContainer);\n                    });\n                    handleScrollContainer($scope.pipScrollContainer || []);\n                    \n                    if ($attrs.pipScrollParent != null) {\n                        changeContainer(angular.element($element.parent()));\n                    }\n                    if ($attrs.pipScrolImmediateCheck != null) {\n                        immediateCheck = $scope.$eval($attrs.pipScrolImmediateCheck);\n                    }\n                    \n                    return $interval((function() {\n                        if (immediateCheck) {\n                            return onContainerScroll();\n                        }\n                    }), 0, 1);\n                }\n            }\n        }\n    );\n\n})();\n\n","/**\n * @file Keyboard navigation with scrolling over non-focusable controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipSelected\", []);\n\n    thisModule.directive('pipSelected',function ($parse, $mdConstant, $timeout) {\n        return {\n            restrict: 'A',\n            scope: false,\n            link: function ($scope: any, $element, $attrs: any) {\n                var\n                    indexGetter = $attrs.pipSelected ? $parse($attrs.pipSelected) : null,\n                    indexSetter = indexGetter ? indexGetter.assign : null,\n                    idGetter = $attrs.pipSelectedId ? $parse($attrs.pipSelectedId) : null,\n                    idSetter = idGetter ? idGetter.assign : null,\n                    changeGetter = $attrs.pipSelect ? $parse($attrs.pipSelect) : null,\n                    enterSpaceGetter = $attrs.pipEnterSpacePress ? $parse($attrs.pipEnterSpacePress) : null,\n                    noScroll = toBoolean($attrs.pipNoScroll),\n                    modifier = toBoolean($attrs.pipSkipHidden) ? ':visible' : '',\n                    className = toBoolean($attrs.pipTreeList) ? '.pip-selectable-tree' : '.pip-selectable',\n                    selectedIndex = indexGetter($scope),\n                    currentElementTabinex = $element.attr('tabindex'),\n                    pipSelectedWatch = $attrs.pipSelectedWatch,\n                    isScrolled = false;\n\n                // Set tabindex if it's not set yet\n                $element.attr('tabindex', currentElementTabinex || 0);\n\n                // Watch selected item index\n                if (!toBoolean($attrs.pipTreeList)) {\n                    $scope.$watch(indexGetter, function(newSelectedIndex) {\n                        selectItem({itemIndex: newSelectedIndex});\n                    });\n                } else {\n                    $scope.$watch(idGetter, function(newSelectedId) {\n                        setTimeout(function () {\n                            selectItem({itemId: newSelectedId, raiseEvent: true});\n                        }, 0);\n                    });\n                }\n\n                // Watch resync selection\n                if (pipSelectedWatch) {\n                    $scope.$watch(pipSelectedWatch, function() {\n                        // Delay update to allow ng-repeat to update DOM\n                        setTimeout(function() {\n                            selectedIndex = indexGetter($scope);\n                            selectItem({itemIndex: selectedIndex});\n                        }, 100);\n                    });\n                }\n\n                // Select item defined by index\n                selectItem({itemIndex: selectedIndex, items: $element.find(className)});\n\n                // Converts value into boolean\n                function toBoolean(value) {\n                    if (value == null) return false;\n                    if (!value) return false;\n                    value = value.toString().toLowerCase();\n                    return value == '1' || value == 'true';\n                };\n                \n                // Functions and listeners\n\n                function selectItem(itemParams) {\n                    if (isScrolled) return;\n                    var itemIndex = itemParams.itemIndex,\n                        itemId = itemParams.itemId,\n                        items = itemParams.items || $element.find(className + modifier),\n                        itemsLength = items.length,\n                        item = (function () {\n                            if (itemParams.item) return itemParams.item;\n                            if (itemIndex === undefined && itemIndex === -1) {\n                                itemIndex = items.index(items.filter('[pip-id=' + itemId + ']'));\n                            }\n                            if (itemIndex >= 0 && itemIndex < itemsLength) {\n                                return items[itemIndex]\n                            }\n                        }()),\n                        raiseEvent = itemParams.raiseEvent;\n\n                    if (item) {\n                        $element.find(className).removeClass('selected md-focused');\n                        item = angular.element(item)\n                            .addClass('selected md-focused')\n                            .focus(); // todo сдвигает список тут, на первом проходе\n                        if (!noScroll) scrollToItem(item);\n                        if (raiseEvent) defineSelectedIndex(items);\n                    }\n                };\n\n                function defineSelectedIndex(items) {\n                    var oldSelectedIndex = selectedIndex;\n                    selectedIndex = -1;\n                    for (var index = 0; index < items.length; index++) {\n                        if ($(items[index]).hasClass('selected')) {\n                            selectedIndex = index;\n\n                            break;\n                        }\n                    }\n\n                    // Execute callback to notify about item select\n                    if (oldSelectedIndex != selectedIndex && selectedIndex !== -1) {\n                        $scope.$apply(updateIndex);\n                    } else {\n                        $scope.$apply(onSelect);\n                    }\n\n                    function updateIndex() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (indexSetter) indexSetter($scope, selectedIndex);\n                        if (idSetter) idSetter($scope, selectedId);\n                        onSelect();\n                    };\n\n                    function onSelect() {\n                        var selectedItem = angular.element(items[selectedIndex]),\n                            selectedId = selectedItem.attr('pip-id');\n\n                        if (changeGetter) {\n                            changeGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    item: selectedItem,\n                                    index: selectedIndex,\n                                    id: selectedId,\n                                    newIndex: selectedIndex,\n                                    oldIndex: oldSelectedIndex\n                                }\n                            });\n                        }                        \n                    }\n                };\n\n                function scrollToItem($item) {\n                    if (noScroll) return;\n\n                    var\n                        containerTop = $element.offset().top,\n                        containerHeight = $element.height(),\n                        containerBottom = containerTop + containerHeight,\n                        itemTop = $item.offset().top,\n                        itemHeight = $item.outerHeight(true),\n                        itemBottom = itemTop + itemHeight,\n                        containerScrollTop = $element.scrollTop();\n\n                        isScrolled = true;\n                        setTimeout(function () {\n                            isScrolled = false;\n                        }, 100);\n\n                    if (containerTop > itemTop) {\n                        $element.scrollTop(containerScrollTop + itemTop - containerTop);\n                    }\n                    else if (containerBottom < itemBottom) {\n                        $element.scrollTop(containerScrollTop + itemBottom - containerBottom);\n                    }\n\n                };\n\n                $element.on('click touchstart', className, function (event) {\n                    selectItem({item: event.currentTarget, raiseEvent: true});\n                });\n\n                $element.on('keydown', function (e) {\n                    var keyCode = e.which || e.keyCode;\n\n                    // Check control keyCode\n                    if (keyCode == $mdConstant.KEY_CODE.ENTER || keyCode == $mdConstant.KEY_CODE.SPACE) {\n                        e.preventDefault();\n                        e.stopPropagation();\n\n                        if (enterSpaceGetter) {\n                            enterSpaceGetter($scope, {\n                                $event: {\n                                    target: $element,\n                                    index: selectedIndex,\n                                    item: $element.find('.selected')\n                                }\n                            });\n                        }\n\n                    } else\n                    if (keyCode == $mdConstant.KEY_CODE.LEFT_ARROW || keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW ||\n                        keyCode == $mdConstant.KEY_CODE.UP_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) {\n\n                        e.preventDefault();\n                        e.stopPropagation();\n\n                        // Get next selectable control index\n                        var items = $element.find(className + modifier),\n                            inc = (keyCode == $mdConstant.KEY_CODE.RIGHT_ARROW || keyCode == $mdConstant.KEY_CODE.DOWN_ARROW) ? 1 : -1,\n                            newSelectedIndex = selectedIndex + inc;\n\n                        // Set next control as selected\n                        selectItem({itemIndex: newSelectedIndex, items: items, raiseEvent: true});\n                    }\n                });\n\n                $element.on('focusin', function (event) {\n                    // Choose selected element\n                    var items,\n                        selectedItem = $element.find(className + '.selected');\n\n                    selectedItem.addClass('md-focused');\n\n                    // If there are not selected elements then pick the first one\n                    if (selectedItem.length === 0) {\n                        selectedIndex = indexGetter($scope);\n                        items = $element.find(className + modifier);\n                        selectItem({itemIndex: selectedIndex || 0, items: items, raiseEvent: true});\n                    }\n                });\n\n                $element.on('focusout', function (event) {\n                    $element.find(className + '.md-focused' + modifier).removeClass('md-focused');\n                });\n            }\n        };\n    });\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function(){\n    'use strict';\n\n    var thisModule = angular.module(\"pipUnsavedChanges\", []);\n\n    thisModule.directive(\"pipUnsavedChanges\", function ($window, $rootScope) {\n        return {\n            restrict: 'AE',\n            scope: {\n                unsavedChangesAvailable: '&pipUnsavedChangesAvailable',\n                unsavedChangesMessage: '@pipUnsavedChangesMessage',\n                afterLeave: '&pipUnsavedChangesAfterLeave',\n                cancelLeave: '&pipUnsavedChangesCancelLeave'\n            },\n            link: function($scope: any) {\n\n                $window.onbeforeunload = function() {\n                    if ($scope.unsavedChangesAvailable()) {\n                        $rootScope.$routing = false;\n                        return $scope.unsavedChangesMessage;\n                    }\n                };\n\n                var unbindFunc = $scope.$on('$stateChangeStart', function(event) {\n                    if ($scope.unsavedChangesAvailable() && !$window.confirm($scope.unsavedChangesMessage)) {\n                        $rootScope.$routing = false;\n                         _.isFunction($scope.cancelLeave) && $scope.cancelLeave();\n                        event.preventDefault();\n                    } else {\n                        _.isFunction($scope.afterLeave) && $scope.afterLeave();\n                    }\n                });\n\n                $scope.$on('$destroy', function() {\n                    $window.onbeforeunload = null;\n                    unbindFunc();\n                });\n            }\n        };\n    });\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipColorPicker', [ 'pipControls.Templates']); // 'pipFocused',\n\n    thisModule.directive('pipColorPicker',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    ngDisabled: '&',\n                    colors: '=pipColors',\n                    currentColor: '=ngModel',\n                    colorChange: '&ngChange'\n                },\n                templateUrl: 'color_picker/color_picker.html',\n                controller: 'pipColorPickerController'\n            };\n        }\n    );\n    thisModule.controller('pipColorPickerController',\n        function ($scope, $element, $attrs, $timeout) {\n            var\n                DEFAULT_COLORS = ['purple', 'lightgreen', 'green', 'darkred', 'pink', 'yellow', 'cyan'];\n\n            $scope.class = $attrs.class || '';\n\n            if (!$scope.colors || _.isArray($scope.colors) && $scope.colors.length === 0) {\n                $scope.colors = DEFAULT_COLORS;\n            }\n\n            $scope.currentColor = $scope.currentColor || $scope.colors[0];\n            $scope.currentColorIndex = $scope.colors.indexOf($scope.currentColor);\n\n            $scope.disabled = function () {\n                if ($scope.ngDisabled) {\n                    return $scope.ngDisabled();\n                }\n\n                return true;\n            };\n\n            $scope.selectColor = function (index) {\n                if ($scope.disabled()) {\n                    return;\n                }\n                $scope.currentColorIndex = index;\n\n                $scope.currentColor = $scope.colors[$scope.currentColorIndex];\n\n                $timeout(function () {\n                    $scope.$apply();\n                });\n\n                if ($scope.colorChange) {\n                    $scope.colorChange();\n                }\n            };\n\n            $scope.enterSpacePress = function (event) {\n                $scope.selectColor(event.index);\n            };\n        }\n    );\n\n})();\n","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipControls', [\n        'pipMarkdown',\n        'pipColorPicker',\n        'pipRoutingProgress',\n        'pipPopover',\n        'pipImageSlider',\n        'pipToasts',\n        'pipControls.Translate'\n    ]);\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider', ['pipSliderButton', 'pipSliderIndicator', 'pipImageSlider.Service']);\n\n    thisModule.directive('pipImageSlider',\n        function () {\n            return {\n                scope: {\n                    sliderIndex: '=pipImageIndex'\n                },\n                controller: function ($scope, $element, $attrs, $parse, $timeout, $interval, $pipImageSlider) {\n                    var blocks,\n                        index = 0, newIndex,\n                        direction,\n                        type = $parse($attrs.pipAnimationType)($scope),\n                        DEFAULT_INTERVAL = 4500,\n                        interval = $parse($attrs.pipAnimationInterval)($scope),\n                        timePromises,\n                        throttled;\n\n                    $element.addClass('pip-image-slider');\n                    $element.addClass('pip-animation-' + type);\n\n                    $scope.swipeStart = 0;\n                    /*\n                     if ($swipe)\n                     $swipe.bind($element, {\n                     'start': function(coords) {\n                     if (coords) $scope.swipeStart = coords.x;\n                     else $scope.swipeStart = 0;\n                     },\n                     'end': function(coords) {\n                     var delta;\n                     if (coords) {\n                     delta = $scope.swipeStart - coords.x;\n                     if (delta > 150)  $scope.nextBlock();\n                     if (delta < -150)  $scope.prevBlock();\n                     $scope.swipeStart = 0;\n                     } else $scope.swipeStart = 0;\n                     }\n                     });\n                     */\n                    setIndex();\n\n                    $timeout(function () {\n                        blocks = $element.find('.pip-animation-block');\n                        if (blocks.length > 0) {\n                            $(blocks[0]).addClass('pip-show');\n                        }\n                    });\n\n                    startInterval();\n                    throttled = _.throttle(function () {\n                        $pipImageSlider.toBlock(type, blocks, index, newIndex, direction);\n                        index = newIndex;\n                        setIndex();\n                    }, 700);\n\n                    $scope.nextBlock = function () {\n                        restartInterval();\n                        newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                        direction = 'next';\n                        throttled();\n                    };\n\n                    $scope.prevBlock = function () {\n                        restartInterval();\n                        newIndex = index - 1 < 0 ? blocks.length - 1 : index - 1;\n                        direction = 'prev';\n                        throttled();\n                    };\n\n                    $scope.slideTo = function (nextIndex) {\n                        if (nextIndex === index || nextIndex > blocks.length - 1) {\n                            return;\n                        }\n\n                        restartInterval();\n                        newIndex = nextIndex;\n                        direction = nextIndex > index ? 'next' : 'prev';\n                        throttled();\n                    };\n                    \n                    if ($attrs.id) $pipImageSlider.registerSlider($attrs.id, $scope);\n\n                    function setIndex() {\n                        if ($attrs.pipImageIndex) $scope.sliderIndex = index;\n                    }\n\n                    function startInterval() {\n                        timePromises = $interval(function () {\n                            newIndex = index + 1 === blocks.length ? 0 : index + 1;\n                            direction = 'next';\n                            throttled();\n                        }, interval || DEFAULT_INTERVAL);\n                    }\n\n                    function stopInterval() {\n                        $interval.cancel(timePromises);\n                    }\n\n                    $element.on('$destroy', function () {\n                        stopInterval();\n                        $pipImageSlider.removeSlider($attrs.id);\n                    });\n\n                    function restartInterval() {\n                        stopInterval();\n                        startInterval();\n                    }\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipImageSlider.Service', []);\n\n    thisModule.service('$pipImageSlider',\n        function ($timeout) {\n\n            var ANIMATION_DURATION = 550,\n                sliders = {};\n\n            return {\n                nextCarousel: nextCarousel,\n                prevCarousel: prevCarousel,\n                toBlock: toBlock,\n                registerSlider: register,\n                removeSlider: remove,\n                getSliderScope: getSlider\n            };\n\n            function register(sliderId, sliderScope) {\n                sliders[sliderId] = sliderScope;\n            }\n            \n            function remove(sliderId) {\n                delete sliders[sliderId];\n            }\n\n            function getSlider(sliderId) {\n                return sliders[sliderId];\n            }\n\n            function nextCarousel(nextBlock, prevBlock) {\n                nextBlock.addClass('pip-next');\n                \n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show').removeClass('pip-next');\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                }, 100);\n            }\n\n            function prevCarousel(nextBlock, prevBlock) {\n                $timeout(function () {\n                    nextBlock.addClass('animated').addClass('pip-show');\n                    prevBlock.addClass('animated').addClass('pip-next').removeClass('pip-show');\n                }, 100);\n            }\n\n            function toBlock(type, blocks, oldIndex, nextIndex, direction) {\n                var prevBlock = $(blocks[oldIndex]),\n                    blockIndex = nextIndex,\n                    nextBlock = $(blocks[blockIndex]);\n\n                if (type === 'carousel') {\n                    $(blocks).removeClass('pip-next').removeClass('pip-prev').removeClass('animated');\n\n                    if (direction && (direction === 'prev' || direction === 'next')) {\n                        if (direction === 'prev') {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    } else {\n                        if (nextIndex && nextIndex < oldIndex) {\n                            prevCarousel(nextBlock, prevBlock);\n                        } else {\n                            nextCarousel(nextBlock, prevBlock);\n                        }\n                    }\n                } else {\n                    prevBlock.addClass('animated').removeClass('pip-show');\n                    nextBlock.addClass('animated').addClass('pip-show');\n                }\n            }\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderButton', []);\n\n    thisModule.directive('pipSliderButton',\n        function () {\n            return {\n                scope: {},\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var type = $parse($attrs.pipButtonType)($scope),\n                        sliderId = $parse($attrs.pipSliderId)($scope);\n\n                    $element.on('click', function () {\n                        if (!sliderId || !type) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId)[type + 'Block']();\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipSliderIndicator', []);\n\n    thisModule.directive('pipSliderIndicator',\n        function () {\n            return {\n                scope: false,\n                controller: function ($scope, $element, $parse, $attrs, $pipImageSlider) {\n                    var sliderId = $parse($attrs.pipSliderId)($scope),\n                        slideTo = $parse($attrs.pipSlideTo)($scope);\n\n                    $element.css('cursor', 'pointer');\n                    $element.on('click', function () {\n                        if (!sliderId || slideTo && slideTo < 0) {\n                            return;\n                        }\n\n                        $pipImageSlider.getSliderScope(sliderId).slideTo(slideTo);\n                    });\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\ndeclare var marked: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipMarkdown', ['ngSanitize']);\n\n    thisModule.run(function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'MARKDOWN_ATTACHMENTS': 'Attachments:',\n                'checklist': 'Checklist',\n                'documents': 'Documents',\n                'pictures': 'Pictures',\n                'location': 'Location',\n                'time': 'Time'\n            });\n            pipTranslate.setTranslations('ru', {\n                'MARKDOWN_ATTACHMENTS': 'Вложения:',\n                'checklist': 'Список',\n                'documents': 'Документы',\n                'pictures': 'Изображения',\n                'location': 'Местонахождение',\n                'time': 'Время'\n            });\n        }\n    });\n\n    thisModule.directive('pipMarkdown',\n        function ($parse, $injector) {\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            return {\n                restrict: 'EA',\n                scope: false,\n                link: function ($scope: any, $element, $attrs: any) {\n                    var\n                        textGetter = $parse($attrs.pipText),\n                        listGetter = $parse($attrs.pipList),\n                        clampGetter = $parse($attrs.pipLineCount);\n\n                    function describeAttachments(array) {\n                        var attachString = '',\n                            attachTypes = [];\n\n                        _.each(array, function (attach) {\n                            if (attach.type && attach.type !== 'text') {\n                                if (attachString.length === 0 && pipTranslate) {\n                                    attachString = pipTranslate.translate('MARKDOWN_ATTACHMENTS');\n                                }\n\n                                if (attachTypes.indexOf(attach.type) < 0) {\n                                    attachTypes.push(attach.type);\n                                    attachString += attachTypes.length > 1 ? ', ' : ' ';\n                                    if (pipTranslate)\n                                        attachString += pipTranslate.translate(attach.type);\n                                }\n                            }\n                        });\n\n                        return attachString;\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    function bindText(value) {\n                        var textString, isClamped, height, options, obj;\n\n                        if (_.isArray(value)) {\n                            obj = _.find(value, function (item: any) {\n                                return item.type === 'text' && item.text;\n                            });\n\n                            textString = obj ? obj.text : describeAttachments(value);\n                        } else {\n                            textString = value;\n                        }\n\n                        isClamped = $attrs.pipLineCount && _.isNumber(clampGetter());\n                        isClamped = isClamped && textString && textString.length > 0;\n                        options = {\n                            gfm: true,\n                            tables: true,\n                            breaks: true,\n                            sanitize: true,\n                            pedantic: true,\n                            smartLists: true,\n                            smartypents: false\n                        };\n                        textString = marked(textString || '', options);\n                        if (isClamped) {\n                            height = 1.5 * clampGetter();\n                        }\n                        // Assign value as HTML\n                        $element.html('<div' + (isClamped ? listGetter() ? 'class=\"pip-markdown-content ' +\n                            'pip-markdown-list\" style=\"max-height: ' + height + 'em\">'\n                                : ' class=\"pip-markdown-content\" style=\"max-height: ' + height + 'em\">' : listGetter()\n                                ? ' class=\"pip-markdown-list\">' : '>') + textString + '</div>');\n                        $element.find('a').attr('target', 'blank');\n                        if (!listGetter() && isClamped) {\n                            $element.append('<div class=\"pip-gradient-block\"></div>');\n                        }\n                    }\n\n                    // Fill the text\n                    bindText(textGetter($scope));\n\n                    // Also optimization to avoid watch if it is unnecessary\n                    if (toBoolean($attrs.pipRebind)) {\n                        $scope.$watch(textGetter, function (newValue) {\n                            bindText(newValue);\n                        });\n                    }\n\n                    $scope.$on('pipWindowResized', function () {\n                        bindText(textGetter($scope));\n                    });\n\n                    // Add class\n                    $element.addClass('pip-markdown');\n                }\n            };\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover', ['pipPopover.Service']);\n\n    thisModule.directive('pipPopover', function () {\n        return {\n            restrict: 'EA',\n            scope: true,\n            templateUrl: 'popover/popover.html',\n            controller: function ($scope, $rootScope, $element, $timeout, $compile) {\n                var backdropElement, content;\n\n                backdropElement = $('.pip-popover-backdrop');\n                backdropElement.on('click keydown scroll', backdropClick);\n                backdropElement.addClass($scope.params.responsive !== false ? 'pip-responsive' : '');\n\n                $timeout(function () {\n                    position();\n                    if ($scope.params.template) {\n                        content = $compile($scope.params.template)($scope);\n                        $element.find('.pip-popover').append(content);\n                    }\n\n                    init();\n                });\n\n                $timeout(function () {\n                    calcHeight();\n                }, 200);\n\n                $scope.onPopoverClick = onPopoverClick;\n                $scope = _.defaults($scope, $scope.$parent);    // eslint-disable-line \n\n                $rootScope.$on('pipPopoverResize', onResize);\n                $(window).resize(onResize);\n\n                function init() {\n                    backdropElement.addClass('opened');\n                    $('.pip-popover-backdrop').focus();\n                    if ($scope.params.timeout) {\n                        $timeout(function () {\n                            closePopover();\n                        }, $scope.params.timeout);\n                    }\n                }\n\n                function backdropClick() {\n                    if ($scope.params.cancelCallback) {\n                        $scope.params.cancelCallback();\n                    }\n\n                    closePopover();\n                }\n\n                function closePopover() {\n                    backdropElement.removeClass('opened');\n                    $timeout(function () {\n                        backdropElement.remove();\n                    }, 100);\n                }\n\n                function onPopoverClick($e) {\n                    $e.stopPropagation();\n                }\n\n                function position() {\n                    if ($scope.params.element) {\n                        var element = $($scope.params.element),\n                            pos = element.offset(),\n                            width = element.width(),\n                            height = element.height(),\n                            docWidth = $(document).width(),\n                            docHeight = $(document).height(),\n                            popover = backdropElement.find('.pip-popover');\n\n                        if (pos) {\n                            popover\n                                .css('max-width', docWidth - (docWidth - pos.left))\n                                .css('max-height', docHeight - (pos.top + height) - 32, 0)\n                                .css('left', pos.left - popover.width() + width / 2)\n                                .css('top', pos.top + height + 16);\n                        }\n                    }\n                }\n\n                function calcHeight() {\n                    if ($scope.params.calcHeight === false) { return; }\n\n                    var popover = backdropElement.find('.pip-popover'),\n                        title = popover.find('.pip-title'),\n                        footer = popover.find('.pip-footer'),\n                        content = popover.find('.pip-content'),\n                        contentHeight = popover.height() - title.outerHeight(true) - footer.outerHeight(true);\n\n                    content.css('max-height', Math.max(contentHeight, 0) + 'px').css('box-sizing', 'border-box');\n                }\n\n                function onResize() {\n                    backdropElement.find('.pip-popover').find('.pip-content').css('max-height', '100%');\n                    position();\n                    calcHeight();\n                }\n            }\n        };\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipPopover.Service', []);\n\n    thisModule.service('pipPopoverService',\n        function ($compile, $rootScope, $timeout) {\n            var popoverTemplate;\n\n            popoverTemplate = \"<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller'\" +\n                \" tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>\";\n\n            return {\n                show: onShow,\n                hide: onHide,\n                resize: onResize\n            };\n\n            function onShow(p) {\n                var element, scope, params, content;\n\n                element = $('body');\n                if (element.find('md-backdrop').length > 0) { return; }\n                onHide();\n                scope = $rootScope.$new();\n                params = p && _.isObject(p) ? p : {};\n                scope.params = params;\n                scope.locals = params.locals;\n                content = $compile(popoverTemplate)(scope);\n                element.append(content);\n            }\n\n            function onHide() {\n                var backdropElement = $('.pip-popover-backdrop');\n\n                backdropElement.removeClass('opened');\n                $timeout(function () {\n                    backdropElement.remove();\n                }, 100);\n            }\n\n            function onResize() {\n                $rootScope.$broadcast('pipPopoverResize');\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipRoutingProgress', ['ngMaterial']);\n\n    thisModule.directive('pipRoutingProgress', function () {\n        return {\n            restrict: 'EA',\n            replace: true,\n            scope: {\n                    showProgress: '&',\n                    logoUrl: '@'\n                },\n            templateUrl: 'progress/routing_progress.html',\n            controller: 'pipRoutingProgressController'\n        };\n    });\n\n    thisModule.controller('pipRoutingProgressController',\n        function ($scope, $element, $attrs) {\n            var  image = $element.children('img');          \n\n            loadProgressImage();\n\n            return;\n\n            function loadProgressImage() {\n                if ($scope.logoUrl) {\n                    image.attr('src', $scope.logoUrl);\n                }\n            }\n\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipToasts', ['ngMaterial', 'pipControls.Translate']);\n\n    thisModule.controller('pipToastController',\n        function ($scope, $mdToast, toast, $injector) {\n            var pipErrorDetailsDialog = $injector.has('pipErrorDetailsDialog') \n                ? $injector.get('pipErrorDetailsDialog') : null;\n\n            // if (toast.type && sounds['toast_' + toast.type]) {\n            //     sounds['toast_' + toast.type].play();\n            // }\n\n            $scope.message = toast.message;\n            $scope.actions = toast.actions;\n            $scope.toast = toast;\n            \n            if (toast.actions.length === 0) {\n                $scope.actionLenght = 0;\n            } else if (toast.actions.length === 1) {\n                $scope.actionLenght = toast.actions[0].toString().length;\n            } else {\n                $scope.actionLenght = null;\n            }\n\n            $scope.showDetails = pipErrorDetailsDialog != null;\n            $scope.onDetails = function () {\n                $mdToast.hide();\n\n                if (pipErrorDetailsDialog) {\n                    pipErrorDetailsDialog.show(\n                        {\n                            error: $scope.toast.error,\n                            ok: 'Ok'\n                        },\n                        angular.noop,\n                        angular.noop\n                    );\n                }\n            };\n\n            $scope.onAction = function (action) {\n                $mdToast.hide(\n                    {\n                        action: action,\n                        id: toast.id,\n                        message: toast.message\n                    });\n            };\n        }\n    );\n\n    thisModule.service('pipToasts',\n        function ($rootScope, $mdToast) {\n            var\n                SHOW_TIMEOUT = 20000,\n                SHOW_TIMEOUT_NOTIFICATIONS = 20000,\n                toasts = [],\n                currentToast,\n                sounds = {};\n\n            /** pre-load sounds for notifications */\n                // sounds['toast_error'] = ngAudio.load('sounds/fatal.mp3');\n                // sounds['toast_notification'] = ngAudio.load('sounds/error.mp3');\n                // sounds['toast_message'] = ngAudio.load('sounds/warning.mp3');\n\n                // Remove error toasts when page is changed\n            $rootScope.$on('$stateChangeSuccess', onStateChangeSuccess);\n            $rootScope.$on('pipSessionClosed', onClearToasts);\n            $rootScope.$on('pipIdentityChanged', onClearToasts);\n\n            return {\n                showNotification: showNotification,\n                showMessage: showMessage,\n                showError: showError,\n                hideAllToasts: hideAllToasts,\n                clearToasts: clearToasts,\n                removeToastsById: removeToastsById,\n                getToastById: getToastById\n            };\n\n            // Take the next from queue and show it\n            function showNextToast() {\n                var toast;\n\n                if (toasts.length > 0) {\n                    toast = toasts[0];\n                    toasts.splice(0, 1);\n                    showToast(toast);\n                }\n            }\n\n            // Show toast\n            function showToast(toast) {\n                currentToast = toast;\n\n                $mdToast.show({\n                    templateUrl: 'toast/toast.html',\n                    hideDelay: toast.duration || SHOW_TIMEOUT,\n                    position: 'bottom left',\n                    controller: 'pipToastController',\n                    locals: {\n                        toast: currentToast,\n                        sounds: sounds\n                    }\n                })\n                    .then(\n                    function showToastOkResult(action) {\n                        if (currentToast.successCallback) {\n                            currentToast.successCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    },\n                    function showToastCancelResult(action) {\n                        if (currentToast.cancelCallback) {\n                            currentToast.cancelCallback(action);\n                        }\n                        currentToast = null;\n                        showNextToast();\n                    }\n                );\n            }\n\n            function addToast(toast) {\n                if (currentToast && toast.type !== 'error') {\n                    toasts.push(toast);\n                } else {\n                    showToast(toast);\n                }\n            }\n\n            function removeToasts(type) {\n                var result = [];\n\n                _.each(toasts, function (toast) {\n                    if (!toast.type || toast.type !== type) {\n                        result.push(toast);\n                    }\n                });\n                toasts = _.cloneDeep(result);\n            }\n\n            function removeToastsById(id) {\n                _.remove(toasts, {id: id});\n            }\n\n            function getToastById(id) {\n                return _.find(toasts, {id: id});\n            }\n\n            function onStateChangeSuccess() {\n                // toasts = _.reject(toasts, function (toast) {\n                //     return toast.type === 'error';\n                // });\n\n                // if (currentToast && currentToast.type === 'error') {\n                //     $mdToast.cancel();\n                //     showNextToast();\n                // }\n            }\n\n            function onClearToasts() {\n                clearToasts();\n            }\n\n            // Show new notification toast at the top right\n            function showNotification(message, actions, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showNotification: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showNotification: message should be a string');\n                // pipAssert.isArray(actions || [], 'pipToasts.showNotification: actions should be an array');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'showNotification: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'showNotification: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'notification',\n                    message: message,\n                    actions: actions || ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback,\n                    duration: SHOW_TIMEOUT_NOTIFICATIONS\n                });\n            }\n\n            // Show new message toast at the top right\n            function showMessage(message, successCallback, cancelCallback, id) {\n                // pipAssert.isDef(message, 'pipToasts.showMessage: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showMessage: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showMessage:successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showMessage: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    type: 'message',\n                    message: message,\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Show error toast at the bottom right after error occured\n            function showError(message, successCallback, cancelCallback, id, error) {\n                // pipAssert.isDef(message, 'pipToasts.showError: message should be defined');\n                // pipAssert.isString(message, 'pipToasts.showError: message should be a string');\n                // if (successCallback) {\n                //     pipAssert.isFunction(successCallback, 'pipToasts.showError: successCallback should be a function');\n                // }\n                // if (cancelCallback) {\n                //     pipAssert.isFunction(cancelCallback, 'pipToasts.showError: cancelCallback should be a function');\n                // }\n\n                addToast({\n                    id: id || null,\n                    error: error,\n                    type: 'error',\n                    message: message || 'Unknown error.',\n                    actions: ['ok'],\n                    successCallback: successCallback,\n                    cancelCallback: cancelCallback\n                });\n            }\n\n            // Hide and clear all toast when user signs out\n            function hideAllToasts() {\n                $mdToast.cancel();\n                toasts = [];\n            }\n\n            // Clear toasts by type\n            function clearToasts(type?: any) {\n                if (type) {\n                    // pipAssert.isString(type, 'pipToasts.clearToasts: type should be a string');\n                    removeToasts(type);\n                } else {\n                    $mdToast.cancel();\n                    toasts = [];\n                }\n            }\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('color_picker/color_picker.html',\n    '<ul class=\"pip-color-picker {{class}}\" pip-selected=\"currentColorIndex\" pip-enter-space-press=\"enterSpacePress($event)\"><li tabindex=\"-1\" ng-repeat=\"color in colors track by color\"><md-button tabindex=\"-1\" class=\"md-icon-button pip-selectable\" ng-click=\"selectColor($index)\" aria-label=\"color\" ng-disabled=\"disabled()\"><md-icon ng-style=\"{\\'color\\': color}\" md-svg-icon=\"icons:{{ color == currentColor ? \\'circle\\' : \\'radio-off\\' }}\"></md-icon></md-button></li></ul>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('popover/popover.html',\n    '<div ng-if=\"params.templateUrl\" class=\"pip-popover flex layout-column\" ng-click=\"onPopoverClick($event)\" ng-include=\"params.templateUrl\"></div><div ng-if=\"params.template\" class=\"pip-popover\" ng-click=\"onPopoverClick($event)\"></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('progress/routing_progress.html',\n    '<div class=\"pip-routing-progress layout-column layout-align-center-center\" ng-show=\"showProgress()\"><div class=\"loader\"><svg class=\"circular\" viewbox=\"25 25 50 50\"><circle class=\"path\" cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\" stroke-width=\"2\" stroke-miterlimit=\"10\"></circle></svg></div><img src=\"\" height=\"40\" width=\"40\" class=\"pip-img\"><md-progress-circular md-diameter=\"96\" class=\"fix-ie\"></md-progress-circular></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipControls.Templates');\n} catch (e) {\n  module = angular.module('pipControls.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('toast/toast.html',\n    '<md-toast class=\"md-action pip-toast\" ng-class=\"{\\'pip-error\\': toast.type==\\'error\\', \\'pip-column-toast\\': toast.actions.length > 1 || actionLenght > 4, \\'pip-no-action-toast\\': actionLenght == 0}\" style=\"height:initial; max-height: initial;\"><span class=\"flex-var pip-text\" ng-bind-html=\"message\"></span><div class=\"layout-row layout-align-end-start pip-actions\" ng-if=\"actions.length > 0 || (toast.type==\\'error\\' && toast.error)\"><div class=\"flex\" ng-if=\"toast.actions.length > 1\"></div><md-button class=\"flex-fixed pip-toast-button\" ng-if=\"toast.type==\\'error\\' && toast.error && showDetails\" ng-click=\"onDetails()\">Details</md-button><md-button class=\"flex-fixed pip-toast-button\" ng-click=\"onAction(action)\" ng-repeat=\"action in actions\" aria-label=\"{{::action| translate}}\">{{::action| translate}}</md-button></div></md-toast>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-controls-html.min.js.map\n","﻿/**\n * @file Registration of all WebUI list controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipLists', [\n\t    'pipTagList'\n    ]);\n    \n})();","/**\n * @file Tag list control\n * @copyright Digital Living Software Corp. 2014-2015\n * @todo\n * - Improve samples in sampler app\n * - What's pipType and pipTypeLocal? Give better name\n * - Do not use ng-if, instead generate template statically\n */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTagList', ['pipList.Translate']);\n\n    /**\n     * pipTags - set of tags\n     * pipType - additional type tag\n     * pipTypeLocal - additional translated type tag\n     */\n    thisModule.directive('pipTagList',\n        function ($parse) {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipTags: '=',\n                    pipType: '=',\n                    pipTypeLocal: '='\n                },\n                templateUrl: 'tag_list/tag_list.html',\n                controller: function ($scope, $element, $attrs) {\n                    var tagsGetter;\n\n                    tagsGetter = $parse($attrs.pipTags);\n                    $element.css('display', 'block');\n                    // Set tags\n                    $scope.tags = tagsGetter($scope);\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    // Also optimization to avoid watch if it is unnecessary\n                    if (toBoolean($attrs.pipRebind)) {\n                        $scope.$watch(tagsGetter, function () {\n                            $scope.tags = tagsGetter($scope);\n                        });\n                    }\n\n                    // Add class\n                    $element.addClass('pip-tag-list');\n                }\n            };\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipLists.Templates');\n} catch (e) {\n  module = angular.module('pipLists.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tag_list/tag_list.html',\n    '<div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && !pipTypeLocal\"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4 pip-type-chip pip-type-chip-left {{\\'bg-\\' + pipType + \\'-chips\\'}}\" ng-if=\"pipType && pipTypeLocal\"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class=\"pip-chip rm4\" ng-repeat=\"tag in pipTags\"><span>{{::tag}}</span></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-lists-html.min.js.map\n","'use strict';\n\nangular.module('pipDateTime', [\n    'pipDateTime.Service', 'pipDateTime.Filter'\n]);\n","'use strict';\n\nfunction formatTimeFilter(pipDateTime: any) {\n    \"ngInject\";\n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatTime(value, format);\n    }\n}\n\nfunction formatDateOptionalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, format: string): string {\n        return pipDateTime.formatDateOptional(value, format);\n    }\n}\n\nfunction formatLongDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDate(value);\n    }\n}\n\nfunction formatShortDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDate(value);\n    }\n}\n\nfunction formatMiddleDateFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDate(value);\n    }\n}\n\nfunction formatMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any) {\n        return pipDateTime.formatMonth(value);\n    }\n}\n\nfunction formatLongMonthFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonth(value);\n    }\n}\n\nfunction formatYearFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatYear(value);\n    }\n}\n\nfunction formatWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatWeek(value);\n    }\n}\n\nfunction formatShortWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortWeek(value);\n    }\n}\n\nfunction formatShortDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDateTime(value);\n    }\n}\n\nfunction formatMiddleDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMiddleDateTime(value);\n    }\n}\n\nfunction formatLongDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateTime(value);\n    }\n}\n\nfunction formatShortDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatShortDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatMiddleDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatMiddleDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatLongDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.formatLongDateLongTime(value, firstTime);\n    }\n}\n\nfunction bbFormatDateLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, firstTime: boolean): string {\n        return pipDateTime.bbFormatDateLongTime(value, firstTime);\n    }\n}\n\nfunction formatFullDateTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatFullDateTime(value);\n    }\n}\n\nfunction formatShortTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortTime(value);\n    }\n}\n\nfunction formatLongTimeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongTime(value);\n    }\n}\n\nfunction formatShortDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortDayOfWeek(value);\n    }\n}\n\nfunction formatLongDayOfWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDayOfWeek(value);\n    }\n}\n\nfunction formatLongMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongMonthDay(value);\n    }\n}\n\nfunction formatShortMonthDayFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortMonthDay(value);\n    }\n}\n\nfunction formatDateRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateRange(value1, value2);\n    }\n}\n\nfunction formatDateTimeRangeFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value1: any, value2: any): string {\n        return pipDateTime.formatDateTimeRange(value1, value2);\n    }\n}\n\nfunction formatISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeek(value);\n    }\n}\n\nfunction formatShortISOWeekFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatShortISOWeek(value);\n    }\n}\n\nfunction formatISOWeekOrdinalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatISOWeekOrdinal(value);\n    }\n}\n\nfunction formatDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatDateY(value);\n    }\n}\n\nfunction formatLongDateYFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatLongDateY(value);\n    }\n}\n\nfunction formatTodayDateLongTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeLong(value);\n    }\n}\n\nfunction formatTodayDateShortTimeLongFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeLong(value);\n    }\n}\n\nfunction formatTodayDateLongTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateLongTimeShort(value);\n    }\n}\n\nfunction formatTodayDateShortTimeShortFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatTodayDateShortTimeShort(value);\n    }\n}\n\nfunction formatMillisecondsToSecondsFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.formatMillisecondsToSeconds(value);\n    }\n}\n\nfunction formatElapsedIntervalFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any, start: any): string {\n        return pipDateTime.formatElapsedInterval(value, start);\n    }\n}\n\nfunction getDateJSONFilter(pipDateTime: any) {\n    \"ngInject\";  \n\n    return function (value: any): string {\n        return pipDateTime.getDateJSON(value);\n    }\n}\n\nangular\n    .module('pipDateTime.Filter', [])\n    .filter('formatTime', formatTimeFilter)\n    .filter('formatDateOptional', formatDateOptionalFilter)\n    .filter('bbFormatDateLongTime', bbFormatDateLongTimeFilter)\n    .filter('formatShortDate', formatShortDateFilter)\n    .filter('formatMiddleDate', formatMiddleDateFilter)\n    .filter('formatLongDate', formatLongDateFilter)\n    .filter('formatMonth', formatMonthFilter)\n    .filter('formatLongMonth', formatLongMonthFilter)\n    .filter('formatYear', formatYearFilter)\n    .filter('formatWeek', formatWeekFilter)\n    .filter('formatShortWeek', formatShortWeekFilter)\n    .filter('formatShortDateTime', formatShortDateTimeFilter)\n    .filter('formatMiddleDateTime', formatMiddleDateTimeFilter)    \n    .filter('formatLongDateTime', formatLongDateTimeFilter)\n    .filter('formatShortDateLongTime', formatShortDateLongTimeFilter)\n    .filter('formatMiddleDateLongTime', formatMiddleDateLongTimeFilter)    \n    .filter('formatLongDateLongTime', formatLongDateLongTimeFilter)    \n    .filter('formatFullDateTime', formatFullDateTimeFilter)\n    .filter('formatShortTime', formatShortTimeFilter)\n    .filter('formatLongTime', formatLongTimeFilter)\n    .filter('formatShortDayOfWeek', formatShortDayOfWeekFilter)\n    .filter('formatLongDayOfWeek', formatLongDayOfWeekFilter)\n    .filter('formatLongMonthDay', formatLongMonthDayFilter)\n    .filter('formatShortMonthDay', formatShortMonthDayFilter)\n    .filter('formatDateRange', formatDateRangeFilter)\n    .filter('formatDateTimeRange', formatDateTimeRangeFilter)\n    .filter('formatISOWeek', formatISOWeekFilter)\n    .filter('formatShortISOWeek', formatShortISOWeekFilter)\n    .filter('formatISOWeekOrdinal', formatISOWeekOrdinalFilter)\n    .filter('formatDateY', formatDateYFilter)\n    .filter('formatLongDateY', formatLongDateYFilter)\n    .filter('formatTodayDateLongTimeLong', formatTodayDateLongTimeLongFilter)\n    .filter('formatTodayDateShortTimeLong', formatTodayDateShortTimeLongFilter)\n    .filter('formatTodayDateLongTimeShort', formatTodayDateLongTimeShortFilter)\n    .filter('formatTodayDateShortTimeShort', formatTodayDateShortTimeShortFilter)\n    .filter('formatMillisecondsToSeconds', formatMillisecondsToSecondsFilter)\n    .filter('formatElapsedInterval', formatElapsedIntervalFilter);\n","'use strict';\n\nexport class DateTimeConfig {\n    timeZone: number;\n}\n\nexport interface IDateTimeService {\n    readonly config: DateTimeConfig;\n    useTimeZone(offset: number);\n\n    bbFormatDateLongTime(value: any, firstTime?: boolean): string; \n    \n    formatTime(value: any, format: string): string;\n    formatDateOptional(value: any, format: string): string;\n    formatShortDate(value: any): string;\n    formatMiddleDate(value: any): string;\n    formatLongDate(value: any): string;\n    formatMonth(value: any): string;\n    formatLongMonth(value: any): string;\n    formatYear(value: any): string;\n    formatWeek(value: any): string;\n    formatShortWeek(value: any): string;\n    formatShortDateTime(value: any): string;\n    formatMiddleDateTime(value: any): string;    \n    formatLongDateTime(value: any): string;\n    formatFullDateTime(value: any): string;\n    formatShortDateLongTime(value: any, firstTime?: boolean): string;\n    formatMiddleDateLongTime(value: any, firstTime?: boolean): string;    \n    formatLongDateLongTime(value: any, firstTime?: boolean): string;    \n    formatShortTime(value: any): string;\n    formatLongTime(value: any): string;\n    formatShortDayOfWeek(value: any): string;\n    formatLongDayOfWeek(value: any): string;\n    formatLongMonthDay(value: any): string;\n    formatShortMonthDay(value: any): string;\n    formatDateRange(value1: any, value2: any): string;\n    formatDateTimeRange(value1: any, value2: any): string;\n    formatISOWeek(value: any): string;\n    formatShortISOWeek(value: any): string;\n    formatISOWeekOrdinal(value: any): string;\n    formatDateY(value: any): string;\n    formatLongDateY(value: any): string;\n    formatTodayDateLongTimeLong(value: any): string;\n    formatTodayDateShortTimeLong(value: any): string;\n    formatTodayDateLongTimeShort(value: any): string;\n    formatTodayDateShortTimeShort(value: any): string;\n    formatMillisecondsToSeconds(value: any): string;\n    formatElapsedInterval(value: any, start: any): string;\n\n    getDateJSON(date: any): string;\n    getNextStart(value: any, category: string): any;\n    getPrevStart(value: any, category: string): any;\n    getNowStart(category: string): any;\n\n    addHours(value: any, hours: number): any;\n    toStartDay(value: any): any;\n    toEndDay(value: any, offset: number): any;\n    toStartWeek(value: any): any;\n    toEndWeek(value: any, offset: number): any;\n    toStartMonth(value: any): any;\n    toEndMonth(value: any, offset: number): any;\n    toStartYear(value: any): any;\n    toEndYear(value: any, offset: number): any;\n \n}\n\nexport interface IDateTimeProvider extends IDateTimeService, ng.IServiceProvider {\n\n}\n\nclass DateTime implements IDateTimeService {\n    private _config: DateTimeConfig;\n    protected _momentRanged = new Array('year', 'month', 'week', 'isoweek', 'day');\n    protected _defaultFormat = 'LL'\n\n    private isUndefinedOrNull(value: any): boolean {\n        return angular.isUndefined(value) || value === null;\n    }\n\n    private getRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let index = this._momentRanged.indexOf(value)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private getOperationRange(value: string): string {\n        if (this.isUndefinedOrNull(value)) {\n            return 'day';\n        }\n\n        let range = value == 'isoweek' ? 'week' : value,\n            index = this._momentRanged.indexOf(range)\n\n        if (index < 0) {\n            return 'day'\n        } else {\n            return this._momentRanged[index];\n        }\n    }\n\n    private formatDateTime(value: any, basicFormat: string): string {\n        var date: any,\n            formatTpl: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        formatTpl = basicFormat ? basicFormat : this._defaultFormat;\n\n        return date.format(formatTpl);\n    }\n\n    private formatDateTimeY(value: any, basicFormat: string): string {\n        var date: any,\n            nowDate: any,\n            formatMoment: string;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        formatMoment = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat);\n\n        if (nowDate.year() == date.year()) {\n            formatMoment = formatMoment.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n        }\n\n        return date.format(formatMoment);\n    }\n\n    private formatDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = moment.localeData().longDateFormat(basicFormat ? basicFormat : this._defaultFormat),\n            formatMonthYearless = format.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '').replace(/M/g, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatMonthYearless);\n    }\n\n    private formatMonthDay(value: any, basicFormat: string): string {\n        var date: any,\n            format = basicFormat ? basicFormat : this._defaultFormat,\n            formatLL = moment.localeData().longDateFormat(format),\n            formatYearlessLL = formatLL.replace(/Y/g, '').replace(/^\\W|\\W$|\\W\\W/, '');\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        \n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.format(formatYearlessLL);\n    }\n\n//  use timezone not testing\n    private formatRange(value1: any, value2: any, basicFormat: string): string {\n        var dateStart: any,\n            dateEnd: any,\n            format = basicFormat ? basicFormat : this._defaultFormat;\n\n        if (this.isUndefinedOrNull(value1)) {\n            dateStart = null;\n        } else {\n            dateStart = this._config.timeZone ?  moment(value1).utcOffset(this._config.timeZone) : moment(value1);\n        }\n        if (this.isUndefinedOrNull(value2)) {\n            dateEnd = null;\n        } else {\n            dateEnd = this._config.timeZone ?  moment(value2).utcOffset(this._config.timeZone) : moment(value2);\n        }\n\n        if (dateStart === null && dateEnd === null) return '';\n\n        if (dateStart === null) {\n            return dateEnd.format(basicFormat);\n        } else if (dateEnd === null || dateStart.isSame(dateEnd)) {\n            return dateStart.format(basicFormat);;\n        }\n\n        if (dateStart.isAfter(dateEnd)) {\n            // todo localization\n            throw new Error('Date range error. Start date is more than end date.');\n        }\n\n        if (dateStart.year() == dateEnd.year()) {\n            if (dateStart.month() == dateEnd.month()) {\n                return this.formatDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            } else {\n                return this.formatMonthDay(dateStart, basicFormat) + '-' + dateEnd.format(basicFormat);\n            }\n        } else {\n            return dateStart.format(basicFormat) + '-' + dateEnd.format(basicFormat);\n        }\n    }\n\n    private toStartRange(value: any, range: string): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toEndRange(value: any, range: string, offset: number): any {\n        var date: any,\n            result: any,\n            mssOffset: number;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (!angular.isNumber(offset)) {\n            mssOffset = 0;\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        if (mssOffset) {\n            result = date.startOf(range).add(mssOffset, 'milliseconds');\n        } else {\n            result = date.startOf(range);\n        }\n\n        return date.startOf(range).toDate();\n    }\n\n    private toDateWithTime(value: any, formatDate: string, formatTime: string, firstTime?: boolean): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n        if (firstTime) {\n            result = date.format(formatTime) + ' ' + date.format(formatDate);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    private toTodayDate(value: any, formatDate: string, formatTime: string): any {\n        var date: any,\n            result: string,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        if (this._config.timeZone) {\n            date = moment(value).utcOffset(this._config.timeZone);\n        } else {\n            date = moment(value);\n        }\n        if (!date.isValid()) {\n            return '';\n        }\n\n        nowDate = moment();\n\n        if (nowDate.year() == date.year() && nowDate.month() == date.month() && nowDate.day() == date.day()) {\n            result = date.format(formatTime);\n        } else {\n            result = date.format(formatDate) + ' ' + date.format(formatTime);\n        }\n\n        return result;\n    }\n\n    public constructor(config: DateTimeConfig) { \n        this._config = config || { timeZone: null };\n    };\n\n    public get config(): DateTimeConfig {\n        return this._config;\n    }\n\n    public useTimeZone(offset: number) {\n        this._config.timeZone = offset;\n    }\n    // formating functions \n    // -------------------\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    // date formats\n    public formatShortDate(value: any): string {\n        return this.formatDateTime(value, 'L');\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'MM/DD/YY', 'LTS', firstTime); \n    }\n\n    public formatMiddleDate(value: any): string {\n        return this.formatDateTime(value, 'll');\n    }\n\n    public formatLongDate(value: any): string {\n        return this.formatDateTime(value, 'LL');\n    }\n\n    public formatMonth(value: any): string {\n        return this.formatDateTime(value, 'MM');\n    }\n\n    public formatLongMonth(value: any): string {\n        return this.formatDateTime(value, 'MMMM');\n    }\n\n    public formatYear(value: any): string {\n        return this.formatDateTime(value, 'YYYY');\n    }\n\n    public formatWeek(value: any): string {\n        return this.formatDateTime(value, 'ww');\n    }\n\n    public formatShortWeek(value: any): string {\n        return this.formatDateTime(value, 'w');\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this.toDateWithTime(value, 'L', 'LT'); \n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this.formatDateTime(value, 'lll');\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLL');\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this.formatDateTime(value, 'LLLL');\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'L', 'LTS', firstTime); \n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'll', 'LTS', firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this.toDateWithTime(value, 'LL', 'LTS', firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this.formatDateTime(value, 'LT');\n    }\n\n    public formatLongTime(value: any): string {\n        return this.formatDateTime(value, 'LTS');\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dd');\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this.formatDateTime(value, 'dddd');\n    }\n\n    // public formatTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLL');\n    // }\n\n    // public formatLongTimeNumber(value: any): string {\n    //     return this.formatDateTime(value, 'LLLL');\n    // }\n\n    ///-----------------\n\n    public formatLongMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'LL');\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this.formatMonthDay(value, 'L');\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LL');\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this.formatRange(value1, value2, 'LLL');\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this.formatDateTime(value, 'WW');\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this.formatDateTime(value, 'W');\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this.formatDateTime(value, 'Wo');\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this.formatDateTimeY(value, 'L');\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this.formatDateTimeY(value, 'LL');\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LTS')\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this.toTodayDate(value, 'LL', 'LT')\n    }\n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this.toTodayDate(value, 'll', 'LT')\n    }\n\n    // todo\n    public formatMillisecondsToSeconds(value: any): string {\n        return '';\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        var date: any,\n            nowDate: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n        if (this.isUndefinedOrNull(start)) {\n            nowDate = moment();\n        } else {\n            nowDate = moment(start);\n        }\n\n        date = moment(value);\n        if (!date.isValid() || !nowDate.isValid()) {\n            return '';\n        }\n\n        return moment(date).fromNow(nowDate);\n    }\n\n    public getDateJSON(date: any): string {\n        return JSON.stringify(moment(date));\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        if (this.isUndefinedOrNull(value)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category);\n        result = moment(date).startOf(range).add(-1, this.getOperationRange(range));\n\n        return result.toDate();\n    }\n\n    public getNowStart(category: string): any {\n        var date: any,\n            range: string,\n            result: any;\n\n        date = moment();\n        if (!date.isValid()) {\n            return '';\n        }\n\n        range = this.getRange(category)\n        result = moment(date).startOf(range);\n\n        return result.toDate();\n    }\n\n    public addHours(value: any, hours: number): any {\n        var date: any;\n\n        if (this.isUndefinedOrNull(value) || !angular.isNumber(hours)) {\n            return '';\n        }\n\n        date = moment(value);\n        if (!date.isValid()) {\n            return '';\n        }\n\n        return date.add(hours, 'hours').toDate();\n    }\n\n    public toStartDay(value: any): any {\n        return this.toStartRange(value, 'day');\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this.toEndRange(value, 'day', offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this.toStartRange(value, 'week');\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this.toEndRange(value, 'week', offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this.toStartRange(value, 'month');\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this.toEndRange(value, 'month', offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this.toStartRange(value, 'year');\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this.toEndRange(value, 'year', offset);\n    }\n\n}\n\nclass DateTimeService {\n    private _datetime: DateTime;\n    private _config: DateTimeConfig;\n\n    public constructor(\n        datetime: DateTime,\n    ) {\n        this._config = { timeZone: null};\n        this._datetime = datetime;\n    }\n\n    // todo Optional\n    public useTimeZone(offset: number): void {\n        return this._datetime.useTimeZone(offset);\n    }\n\n    // todo Optional\n    public formatTime(value: any, format: string): string {\n        return this._datetime.formatTime(value, format);\n    }\n\n    // todo Optional\n    public formatDateOptional(value: any, format: string): string {\n        return this._datetime.formatDateOptional(value, format);\n    }\n\n    public formatShortDate(value: any): string {\n        return this._datetime.formatShortDate(value);\n    }\n\n    public formatMiddleDate(value: any): string {\n        return this._datetime.formatMiddleDate(value);\n    }\n\n    public formatLongDate(value: any): string {\n        return this._datetime.formatLongDate(value);\n    }\n\n    public formatMonth(value: any): string {\n        return this._datetime.formatMonth(value);\n    }\n\n    public formatLongMonth(value: any): string {\n        return this._datetime.formatLongMonth(value);\n    }\n\n    public formatYear(value: any): string {\n        return this._datetime.formatYear(value);\n    }\n\n    public formatWeek(value: any): string {\n        return this._datetime.formatWeek(value);\n    }\n\n    public formatShortWeek(value: any): string {\n        return this._datetime.formatShortWeek(value);\n    }\n\n    public formatShortDateTime(value: any): string {\n        return this._datetime.formatShortDateTime(value);\n    }\n\n    public formatMiddleDateTime(value: any): string {\n        return this._datetime.formatMiddleDateTime(value);\n    }\n\n    public formatLongDateTime(value: any): string {\n        return this._datetime.formatLongDateTime(value);\n    }\n\n    public formatFullDateTime(value: any): string {\n        return this._datetime.formatFullDateTime(value);\n    }\n\n    public formatShortDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatShortDateLongTime(value, firstTime);\n    }\n\n    public formatMiddleDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatMiddleDateLongTime(value, firstTime);\n    }\n\n    public formatLongDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.formatLongDateLongTime(value, firstTime);\n    }\n\n    public bbFormatDateLongTime(value: any, firstTime?: boolean): string {\n        return this._datetime.bbFormatDateLongTime(value, firstTime);\n    }\n\n    public formatShortTime(value: any): string {\n        return this._datetime.formatShortTime(value);\n    }\n\n    public formatLongTime(value: any): string {\n        return this._datetime.formatLongTime(value);\n    }\n\n    public formatShortDayOfWeek(value: any): string {\n        return this._datetime.formatShortDayOfWeek(value);\n    }\n\n    public formatLongDayOfWeek(value: any): string {\n        return this._datetime.formatLongDayOfWeek(value);\n    }\n\n    public formatLongMonthDay(value: any): string {\n        return this._datetime.formatLongMonthDay(value);\n    }\n\n    public formatShortMonthDay(value: any): string {\n        return this._datetime.formatShortMonthDay(value);\n    }\n\n    public formatDateRange(value1: any, value2: any): string {\n        return this._datetime.formatDateRange(value1, value2);\n    }\n\n    public formatDateTimeRange(value1: any, value2: any): string {\n        return this._datetime.formatDateTimeRange(value1, value2);\n    }\n\n    // iso function\n    // --------------\n\n    public formatISOWeek(value: any): string {\n        return this._datetime.formatISOWeek(value);\n    }\n\n    public formatShortISOWeek(value: any): string {\n        return this._datetime.formatShortISOWeek(value);\n    }\n\n    public formatISOWeekOrdinal(value: any): string {\n        return this._datetime.formatISOWeekOrdinal(value);\n    }\n    // special formats \n    // --------------\n\n    // year option displays if the current year is not equal to, the date of \n    public formatDateY(value: any): string {\n        return this._datetime.formatDateY(value);\n    }\n\n    // year option displays if the current year is not equal to, the date of\n    public formatLongDateY(value: any): string {\n        return this._datetime.formatLongDateY(value);\n    }\n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateLongTimeLong(value: any): string {\n        return this._datetime.formatTodayDateLongTimeLong(value);\n    }    \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30:25 PM or 8:30:25 PM\n    public formatTodayDateShortTimeLong(value: any): string {\n        return this._datetime.formatTodayDateShortTimeLong(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // September 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateLongTimeShort(value: any): string {\n        return this._datetime.formatTodayDateLongTimeShort(value);\n    }     \n\n    // date displays if the current date  is not equal now \n    // Sep 4 1986 8:30 PM or 8:30 PM\n    public formatTodayDateShortTimeShort(value: any): string {\n        return this._datetime.formatTodayDateShortTimeShort(value);\n    }     \n\n    // todo\n    public formatMillisecondsToSeconds(value: any) {\n        return this._datetime.formatMillisecondsToSeconds(value);\n    }\n\n    // todo\n    public formatElapsedInterval(value: any, start: any): string {\n        return this._datetime.formatElapsedInterval(value, start);\n    }\n\n    public getDateJSON(date: any): string {\n        return this._datetime.getDateJSON(date);\n    }\n\n    // navigation functions \n    // ------------------\n\n    public getNextStart(value: any, category: string): any {\n        return this._datetime.getNextStart(value, category);\n    }\n\n    public getPrevStart(value: any, category: string): any {\n        return this._datetime.getPrevStart(value, category);\n    }\n\n    public getNowStart(category: string): any {\n        return this._datetime.getNowStart(category);\n    }\n\n    public addHours(value: any, hours: number): any {\n        return this._datetime.addHours(value, hours);\n    }\n\n    public toStartDay(value: any): any {\n        return this._datetime.toStartDay(value);\n    }\n\n    public toEndDay(value: any, offset: number): any {\n        return this._datetime.toEndDay(value, offset);\n    }\n\n    public toStartWeek(value: any): any {\n        return this._datetime.toStartWeek(value);\n    }\n\n    public toEndWeek(value: any, offset: number): any {\n        return this._datetime.toEndWeek(value, offset);\n    }\n\n    public toStartMonth(value: any): any {\n        return this._datetime.toStartMonth(value);\n    }\n\n    public toEndMonth(value: any, offset: number): any {\n        return this._datetime.toEndMonth(value, offset);\n    }\n\n    public toStartYear(value: any): any {\n        return this._datetime.toStartYear(value);\n    }\n\n    public toEndYear(value: any, offset: number): any {\n        return this._datetime.toEndYear(value, offset);\n    }\n\n}\n\nclass DateTimeProvider extends DateTime implements IDateTimeProvider {\n    private _translation: DateTime;\n    private _service: DateTimeService;\n\n    public constructor() {\n        super({ timeZone: null });\n    }\n\n    public $get(): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new DateTimeService(this);\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDateTime.Service', [])\n    .provider('pipDateTime', DateTimeProvider);\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDate', ['pipDates.Templates']);\n\n    thisModule.directive('pipDate',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    ngChange: '&'\n                },\n                templateUrl: 'date_directive/date.html',\n                controller: 'pipDateController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateController',\n        function ($scope, $element, $injector) { //pipTranslate\n            var value,\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    DAY: 'Day',\n                    MONTH: 'Month',\n                    YEAR: 'Year'\n                });\n                pipTranslate.setTranslations('ru', {\n                    DAY: 'День',\n                    MONTH: 'Месяц',\n                    YEAR: 'Год'                    \n                });\n                $scope.dayLabel = pipTranslate.translate('DAY');\n                $scope.monthLabel = pipTranslate.translate('MONTH');\n                $scope.yearLabel = pipTranslate.translate('YEAR');\n            } else {\n                $scope.dayLabel = 'Day';\n                $scope.monthLabel = 'Month';                \n                $scope.yearLabel = 'Year';\n\n            }\n\n            function dayList(month, year) {\n                var count = 31, days = [], i;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                }\n\n                return days;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var i,\n                    currentYear = new Date().getFullYear(),\n                    startYear = $scope.timeMode === 'future' ? currentYear : currentYear - 100,\n                    endYear = $scope.timeMode === 'past' ? currentYear : currentYear + 100,\n                    years = [];\n\n                if ($scope.timeMode === 'past') {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                if ($scope.days.length !== days.length) {\n                    if ($scope.day > days.length) {\n                        $scope.day = days.length;\n                    }\n\n                    $scope.days = days;\n                }\n            }\n\n            function getValue(v) {\n                var value = v ? _.isDate(v) ? v : new Date(v) : null,\n                    day = value ? value.getDate() : null,\n                    month = value ? value.getMonth() + 1 : null,\n                    year = value ? value.getFullYear() : null;\n\n                // Update day list if month and year were changed\n                if ($scope.month !== month && $scope.year !== year) {\n                    $scope.days = dayList($scope.month, $scope.year);\n                }\n\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.day && $scope.month && $scope.year) {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    $scope.model = value;\n                    $scope.ngChange();\n                }\n            }\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                adjustDay();\n                setValue();\n            };\n\n            // Set initial values\n            value = $scope.model ? _.isDate($scope.model) ? $scope.model : new Date($scope.model) : null;\n            $scope.day = value ? value.getDate() : null;\n            $scope.month = value ? value.getMonth() + 1 : null;\n            $scope.year = value ? value.getFullYear() : null;\n\n\n\n            $scope.days = dayList($scope.month, $scope.year);\n            $scope.months = monthList();\n            $scope.years = yearList();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue) {\n                getValue(newValue);\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n        }\n    );\n\n})();\n\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n    var thisModule = angular.module('pipDateRange', ['pipDates.Templates']);\n\n    thisModule.directive('pipDateRange',\n        function () {\n            return {\n                restrict: 'EA',\n                require: 'ngModel',\n                scope: {\n                    timeMode: '@pipTimeMode',\n                    disabled: '&ngDisabled',\n                    model: '=ngModel',\n                    pipChanged: '&',\n                    pipDateRangeType: '@',\n                    pipDateFormat: '@',\n                    pipNoLine: '@'\n                },\n                templateUrl: 'date_range_directive/date_range.html',\n                controller: 'pipDateRangeController'\n            };\n        });\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipDateRangeController',\n        function ($scope, $element, $mdMedia, $rootScope, $injector, $timeout) { //pipTranslate, \n            var currentDate,\n                currentYear,\n                currentMonth,\n                currentDay,\n                prevState: any = {}, \n                currentState: any = {},\n                localeDate: any = moment.localeData(),\n                momentMonths = angular.isArray(localeDate._months) ? localeDate._months : localeDate._months.format,\n                momentDays = angular.isArray(localeDate._weekdays) ? localeDate._weekdays : localeDate._weekdays.format,\n                momentShortDays = localeDate._weekdaysMin,\n                momentFirstDayOfWeek = localeDate._week.dow;\n\n            // var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            // if (pipTranslate) {\n            //     pipTranslate.setTranslations('en', {\n            //         EVENT_NEW_START_TIME: 'Start time',\n            //         EVENT_NEW_END_TIME: 'End time'\n            //     });\n            //     pipTranslate.setTranslations('ru', {\n            //         EVENT_NEW_START_TIME: 'Начало',\n            //         EVENT_NEW_END_TIME: 'Конец'                \n            //     });\n            //     $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n            //             : pipTranslate.translate('EVENT_NEW_START_TIME');\n            //     $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n            //             : pipTranslate.translate('EVENT_NEW_END_TIME');\n            // } else {\n            //     $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n            //     $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            // }\n\n            currentDate = new Date();\n            currentYear = currentDate.getUTCFullYear();\n            currentMonth = currentDate.getUTCMonth() + 1;\n            currentDay = currentDate.getUTCDate();\n\n            $scope.onDayChanged = function () {\n                setValue();\n            };\n\n            $scope.onMonthChanged = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    var date, dayOfWeek;\n\n                    date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                    dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onYearChanged = function () {\n                var date, dayOfWeek;\n\n                date = new Date(Date.UTC($scope.year, $scope.month - 1, 1));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n                if ($scope.pipDateRangeType === 'weekly') {\n                    $scope.week = getWeekByDate(dayOfWeek, $scope.month - 1, $scope.year);\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            $scope.onWeekChange = function () {\n                if ($scope.pipDateRangeType === 'weekly') {\n                    adjustWeek();\n                    correctWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            };\n\n            // visibility\n            $scope.isDay = function () {\n                return $scope.pipDateRangeType === 'daily';\n            };\n\n            $scope.isWeek = function () {\n                return $scope.pipDateRangeType === 'weekly';\n            };\n\n            $scope.isMonth = function () {\n                return $scope.pipDateRangeType === 'daily' ||\n                    $scope.pipDateRangeType === 'weekly' ||\n                    $scope.pipDateRangeType === 'monthly';\n            };\n\n            $scope.onChange = function () {\n                if ($scope.pipChanged) {\n                    $timeout(function() {\n                        $scope.pipChanged();\n                    }, 0);\n                }\n            };\n\n            function setCurrent() {\n                currentState.day = $scope.day;\n                currentState.month = $scope.month;\n                currentState.year = $scope.year;\n                currentState.week = $scope.week;\n                currentState.dateRangeType = $scope.pipDateRangeType;\n                currentState.model = $scope.model;\n            }\n\n            function fillLists() {\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n                $scope.months = monthList();\n                $scope.shortMonths = monthList();\n                $scope.years = yearList();\n\n            }\n\n            function correctWeek() {\n                if (!prevState.model || prevState.model && prevState.model.getTime() >= $scope.model.getTime()) {\n                    // if shift week -> increase month\n                    if ($scope.weeks && $scope.weeks[$scope.week] && $scope.weeks[$scope.week].id <= 0) {\n                        if ($scope.month < 12) {\n                            $scope.month += 1;\n                        } else {\n                            $scope.month = 1;\n                            $scope.year += 1;\n                        }\n                        fillLists();\n                    }\n                }\n            }\n\n            function init() {\n                var value;\n\n                value = $scope.model ? new Date($scope.model) : null;\n                $scope.day = value ? value.getUTCDate() : null;\n                $scope.month = value ? value.getUTCMonth() + 1 : null;\n                $scope.year = value ? value.getUTCFullYear() : null;\n                $scope.week = value ? getWeekByDate($scope.day, $scope.month - 1, $scope.year) : null;\n\n                fillLists();\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    correctWeek();\n                    adjustWeek();\n                } else {\n                    adjustDay();\n                }\n                setValue();\n            }\n\n            // Set initial values\n            $scope.$mdMedia = $mdMedia;\n\n            init();\n\n            $scope.disableControls = $scope.disabled ? $scope.disabled() : false;\n\n            // React on changes\n            $scope.$watch('model', function (newValue, oldValue) {\n                if (newValue !== oldValue) {\n                    getValue(newValue);\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            $scope.$watch('pipDateRangeType', function (newValue, oldValue) {\n                if (newValue !== oldValue && oldValue) {\n                    init();\n                }\n            });\n\n            $scope.onYearClick = function () {\n                if (!$scope.year) {\n                    $scope.year = currentYear;\n                }\n            };\n\n            $scope.onMonthClick = function () {\n                if (!$scope.month) {\n                    $scope.month = currentMonth;\n                }\n            };\n\n            $scope.onDayClick = function () {\n                if (!$scope.year) {\n                    $scope.day = currentDay;\n                }\n            };\n            // ---------------------------------------------------------------------------------------\n\n            function getCountDay(month, year) {\n                var count = 31;\n\n                if (month === 4 || month === 6 || month === 9 || month === 11) {\n                    count = 30;\n                } else if (month === 2) {\n                    if (year) {\n                        // Calculate leap year (primitive)\n                        count = year % 4 === 0 ? 29 : 28;\n                    } else {\n                        count = 28;\n                    }\n                }\n\n                return count;\n            }\n\n            function dayList(month, year) {\n                var count, days, i, ln;\n\n              //  ln = $rootScope.$language || 'en';\n                count = getCountDay(month, year);\n                $scope.nameDays = [];\n                days = [];\n                for (i = 1; i <= count; i++) {\n                    days.push(i);\n                    $scope.nameDays.push(momentShortDays[moment([year, month - 1, i]).weekday()]);\n                }\n\n                return days;\n            }\n\n            function getWeekByDate(day, month, year) {\n                var date, dayOfWeek, startWeek;\n\n                date = new Date(Date.UTC(year, month, day));\n                dayOfWeek = date.getUTCDay() ? date.getUTCDay() : 7;\n\n                if (dayOfWeek === 1) {\n                    startWeek = day;\n                } else {\n                    startWeek = day + 1 - dayOfWeek;\n                }\n\n                return startWeek;\n            }\n\n            function getWeek(day, countDay, countPrevMonthDay) {\n                var endDay, startDay;\n\n                endDay = day + 6 > countDay ? countDay - day - 6 : day + 6;\n                startDay = day > 0 ? day : countPrevMonthDay + day;\n\n                return startDay.toString() + ' - ' + (Math.abs(endDay)).toString();\n            }\n\n            function weekList(month, year) { // возвращает список начала надели\n                var weeks, countDay, countPrevMonthDay, startWeek;\n\n                weeks = [];  // в массиве первые дни недели в текущем месяце\n                countDay = getCountDay(month, year);\n                startWeek = getWeekByDate(1, month - 1, year);\n\n                countPrevMonthDay = month - 1 ? getCountDay(month - 1, year) : getCountDay(12, year - 1);\n                while (startWeek < countDay + 1) {\n                    weeks.push({\n                        id: startWeek,\n                        name: getWeek(startWeek, countDay, countPrevMonthDay)\n                    });\n                    startWeek = startWeek + 7;\n                }\n\n                return weeks;\n            }\n\n            function monthList() {\n                var months = [], i;\n\n                for (i = 1; i <= 12; i++) {\n                    months.push({\n                        id: i,\n                        name: momentMonths[i-1]\n                    });\n                }\n\n                return months;\n            }\n\n            function yearList() {\n                var startYear, i,\n                    endYear,\n                    years = [];\n\n                switch ($scope.timeMode) {\n                    case 'future':\n                        startYear = currentYear;\n                        endYear = currentYear + 100;\n                        break;\n                    case 'past':\n                        startYear = currentYear - 100;\n                        endYear = currentYear;\n                        break;\n                    case 'now':\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 100;\n                        break;\n                    default:\n                        startYear = currentYear - 50;\n                        endYear = currentYear + 50;\n                        break;\n                }\n                if ($scope.timeMode === 'future') {\n                    for (i = startYear; i <= endYear; i++) {\n                        years.push(i);\n                    }\n                } else {\n                    for (i = endYear; i >= startYear; i--) {\n                        years.push(i);\n                    }\n                }\n\n                return years;\n            }\n\n            function adjustDay() {\n                var days = dayList($scope.month, $scope.year);\n\n                switch ($scope.pipDateRangeType) {\n                    case 'monthly':\n                        $scope.day = 1;\n                        break;\n                    case 'yearly':\n                        $scope.month = 1;\n                        $scope.day = 1;\n                        break;\n                    default:\n                        if ($scope.days.length !== days.length) {\n                            if ($scope.day > days.length) {\n                                $scope.day = days.length;\n                            }\n                        }\n                        break;\n                }\n                $scope.days = days;\n            }\n\n            function adjustWeek() {\n                var weeks;\n\n                weeks = weekList($scope.month, $scope.year);\n                $scope.week = getWeekByDate($scope.week, $scope.month - 1, $scope.year);\n                $scope.weeks = weeks;\n            }\n\n            function getValue(v) {\n                var value, day, month, year, week;\n\n                value = v ? new Date(v) : null;\n                // Define values\n                day = value ? value.getUTCDate() : null;\n                month = value ? value.getUTCMonth() + 1 : null;\n                year = value ? value.getUTCFullYear() : null;\n                week = value ? getWeekByDate(day, month - 1, year) : null;\n                // Exit if nothing to update\n                if ($scope.day === day && $scope.month === month && $scope.year === year && $scope.week === week) {\n                    return;\n                }\n                // Assign values to scope\n                $scope.day = day;\n                $scope.month = month;\n                $scope.year = year;\n                $scope.week = week;\n\n                // Define data sources\n                $scope.days = dayList($scope.month, $scope.year);\n                $scope.weeks = weekList($scope.month, $scope.year);\n            }\n\n            function setValue() {\n                var value;\n\n                if ($scope.pipDateRangeType === 'weekly') {\n                    value = new Date($scope.year, $scope.month - 1, $scope.week, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                } else {\n                    value = new Date($scope.year, $scope.month - 1, $scope.day, 0, 0, 0, 0);\n                    value = new Date(value.getTime() - value.getTimezoneOffset() * 60000);\n                    $scope.model = value;\n                }\n\n                prevState = _.cloneDeep(currentState);\n                setCurrent();\n                $scope.onChange();\n            }\n        }\n    );\n\n})();\n","'use strict';\n\nangular.module('pipDates', [\n    'pipDate',\n    'pipTimeRange',\n    'pipDateTime',\n    'pipTimeRangeEdit',\n    'pipDateRange',\n    'pipDates.Translate'\n]);\n","/**\n * @file Optional filter to translate string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipDates.Translate', []);\n\n    thisModule.filter('translate', function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') \n            ? $injector.get('pipTranslate') : null;\n\n        return function (key) {\n            return pipTranslate  ? pipTranslate.translate(key) || key : key;\n        }\n    });\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRange', []);\n\n    thisModule.directive('pipTimeRange',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipEndDate: '='\n                },\n                templateUrl: 'time_range_directive/time_range.html',\n                link: function ($scope: any, $element, $attrs) {\n\n                    function getDateJSON(value) {\n                        return value ? new Date(value) : null;\n                    }\n\n                    function defineStartDate() {\n                        if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                            $scope.data.start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate\n                                : getDateJSON($scope.pipStartDate);\n                        }\n                    }\n\n                    function defineEndDate() {\n                        if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                            $scope.data.end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate\n                                : getDateJSON($scope.pipEndDate);\n                        }\n                    }\n\n                    function toBoolean(value) {\n                        if (value == null) return false;\n                        if (!value) return false;\n                        value = value.toString().toLowerCase();\n                        return value == '1' || value == 'true';\n                    }\n\n                    $scope.data = {};\n                    $scope.data.start = null;\n                    $scope.data.end = null;\n                    defineStartDate();\n                    defineEndDate();\n\n                    if (toBoolean((<any>$attrs).pipRebind)) {\n                        $scope.$watch('pipStartDate',\n                            function () {\n                                $scope.data.start = null;\n                                defineStartDate();\n                            }\n                        );\n                        $scope.$watch('pipEndDate',\n                            function () {\n                                $scope.data.end = null;\n                                defineEndDate();\n                            }\n                        );\n                    }\n\n                    // Add class\n                    $element.addClass('pip-time-range');\n                }\n            };\n        }\n    );\n\n})();\n","/// <reference path=\"../../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipTimeRangeEdit', []);\n\n    thisModule.directive('pipTimeRangeEdit',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipStartDate: '=',\n                    pipChanged: '&',\n                    pipEndDate: '=',\n                    pipStartLabel: '@',\n                    pipEndLabel: '@',\n                    disabled: '&ngDisabled',\n                    pipHideTime: '=',\n                    pipSize: '='\n                },\n                templateUrl: 'time_range_edit_directive/time_range_edit.html',\n                controller: 'pipTimeRangeEditController'\n            };\n        }\n    );\n\n    // Todo: Remove dependency on Translate. Use moment localization\n    thisModule.controller('pipTimeRangeEditController',\n        function ($scope, $element, $attrs, $injector, pipDateTime) { //pipTranslate\n\n            var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n            if (pipTranslate) {\n                pipTranslate.setTranslations('en', {\n                    EVENT_NEW_START_TIME: 'Start time',\n                    EVENT_NEW_END_TIME: 'End time'\n                });\n                pipTranslate.setTranslations('ru', {\n                    EVENT_NEW_START_TIME: 'Начало',\n                    EVENT_NEW_END_TIME: 'Конец'                \n                });\n                $scope.startLabel = $scope.pipStartLabel ? pipTranslate.translate($scope.pipStartLabel)\n                        : pipTranslate.translate('EVENT_NEW_START_TIME');\n                $scope.endLabel = $scope.pipEndLabel ? pipTranslate.translate($scope.pipEndLabel)\n                        : pipTranslate.translate('EVENT_NEW_END_TIME');\n            } else {\n                $scope.startLabel = $scope.pipStartLabel ? $scope.pipStartLabel : 'Start time';\n                $scope.endLabel = $scope.pipEndLabel ? $scope.pipEndLabel : 'End time';              \n            }\n\n            function getDateJSON(value) {\n                return value ? new Date(value) : null;\n            }\n\n            function setDuration() {\n                var start, end;\n\n                if (!$scope.data.startDate || !$scope.data.endDate) {\n                    return null;\n                }\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                return end - start;\n            }\n\n            function validateStartDate() {\n                var date, start, end;\n\n                // если начальная дата не задана, обнуляем и выходим\n                if (!$scope.data.startDate) {\n                    $scope.data.startTime = null;\n\n                    return;\n                }\n\n                // еcли не задано начальное время - задаем его\n                if (!$scope.data.startTime) {\n                    if (!$scope.data.endTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.startTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.startTime = $scope.data.endTime === 0 ? 0 : $scope.data.endTime - 30;\n                    }\n                }\n\n                // если конечная дата не задана, обнуляем и выходим\n                if (!$scope.data.endDate) {\n                    $scope.data.endTime = null;\n\n                    return;\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n\n                // Если есть длительность, то сохраняем ее. Длительность можно изменить только изменяя конечную дату\n                if ($scope.data.duration) {\n                    end = new Date(start.getTime() + $scope.data.duration);\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    end = end.getTime() - $scope.data.endDate.getTime();\n                    $scope.data.endTime = Math.floor(end / (30 * 60 * 1000)) * 30;\n                } else {\n                    // Если нет длительности сравниваем даты\n                    end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n                    if (start >= end) {\n                        // Если начальная дата больше, то двигаем конечную дату\n                        $scope.data.endDate = pipDateTime.toStartDay(new Date(start.getTime() + 30 * 60000));\n                        $scope.data.endTime = ($scope.data.startTime + 30) % 1440;\n                    }\n                }\n            }\n\n            function validateEndDate() {\n                var date, start, end;\n\n                // если начальная дата не задана, обнуляем и выходим\n                if (!$scope.data.endDate) {\n                    $scope.data.endTime = null;\n\n                    return;\n                }\n\n                // еcли не задано конечное время - задаем его\n                if (!$scope.data.endTime) {\n                    if (!$scope.data.startTime) {\n                        date = new Date();\n                        date = date.getTime() - pipDateTime.toStartDay(date);\n                        $scope.data.endTime = Math.floor(date / (30 * 60 * 1000)) * 30;\n                    } else {\n                        $scope.data.endTime = $scope.data.startTime === 1410 ? 1410 : $scope.data.startTime + 30;\n                    }\n                }\n\n                // если yачальная дата не задана, обнуляем и выходим\n                if (!$scope.data.startDate) {\n                    $scope.data.startTime = null;\n\n                    return;\n                }\n\n                start = new Date($scope.data.startDate.getTime() + $scope.data.startTime * 60 * 1000);\n                end = new Date($scope.data.endDate.getTime() + $scope.data.endTime * 60 * 1000);\n\n                if (start >= end) {\n                    // Если начальная дата больше, то двигаем начальную дату\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date(end.getTime() - 30 * 60000));\n                    $scope.data.startTime = $scope.data.endTime % 1440 === 0 ? 1410 : $scope.data.endTime - 30;\n                }\n\n                $scope.data.duration = setDuration();\n            }\n\n            function setDate() {\n                var time;\n\n                $scope.data.bind = false;\n\n                if ($scope.data.startDate) {\n                    time = $scope.data.startTime ? $scope.data.startTime * 60 * 1000 : 0;\n                    $scope.pipStartDate = new Date($scope.data.startDate.getTime() + time);\n                }\n\n                if ($scope.data.endDate) {\n                    time = $scope.data.endTime ? $scope.data.endTime * 60 * 1000 : 0;\n                    $scope.pipEndDate = new Date($scope.data.endDate.getTime() + time);\n                }\n\n                $scope.data.bind = true;\n            }\n\n            function defineDate() {\n                var start, end;\n\n                if ($scope.pipStartDate !== null && $scope.pipStartDate !== undefined) {\n                    start = _.isDate($scope.pipStartDate) ? $scope.pipStartDate : null;\n\n                    if (!start) {\n                        start = getDateJSON($scope.pipStartDate);\n                    }\n\n                    $scope.data.startDate = pipDateTime.toStartDay(start);\n                    $scope.data.startTime = (<any>new Date(start) - $scope.data.startDate) / (60 * 1000);\n                }\n\n                if ($scope.pipEndDate !== null && $scope.pipEndDate !== undefined) {\n                    end = _.isDate($scope.pipEndDate) ? $scope.pipEndDate : null;\n\n                    if (!start) {\n                        end = getDateJSON($scope.pipEndDate);\n                    }\n\n                    $scope.data.endDate = pipDateTime.toStartDay(end);\n                    $scope.data.endTime = (<any>new Date(end) - $scope.data.endDate) / (60 * 1000);\n                }\n\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n            }\n\n            function getTimeInterval() {\n                var result, i, j, minutes;\n\n                result = [];\n                for (i = 0; i < 24; i++) {\n                    for (j = 0; j < 2; j++) {\n                        minutes = j * 30;\n                        result.push({\n                            id: i * 60 + minutes,\n                            time: _.pad(i.toString(), 3, '0').substr(0, 2) + ':' + _.pad(minutes.toString(), 2, '0')\n                        });\n                    }\n                }\n\n                return result;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function initDate() {\n                $scope.data.startDate = null;\n                $scope.data.startTime = null;\n                $scope.data.endDate = null;\n                $scope.data.endTime = null;\n                $scope.data.duration = null;\n                $scope.showTime = !toBoolean($scope.pipHideTime);\n            }\n\n            // initialize data\n            $scope.intervalTimeCollection = getTimeInterval();\n            $scope.data = {};\n            initDate();\n            defineDate();\n\n            // process function\n            $scope.onChangeStartDate = function () {\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndDate = function () {\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeStartTime = function () {\n                if (!$scope.data.startDate) {\n                    $scope.data.startDate = pipDateTime.toStartDay(new Date());\n                }\n                validateStartDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.onChangeEndTime = function () {\n                if (!$scope.data.endDate) {\n                    $scope.data.endDate = pipDateTime.toStartDay(new Date());\n                }\n\n                validateEndDate();\n                $scope.data.duration = setDuration();\n                setDate();\n                $scope.pipChanged();\n            };\n\n            $scope.isDisabled = function () {\n                if ($scope.disabled) {\n                    return $scope.disabled();\n                }\n\n                return false;\n            };\n\n            $scope.$watchGroup([$scope.pipStartDate, $scope.pipEndDate], function () {\n                if ($scope.data.bind) {\n                    initDate();\n                    defineDate();\n                }\n            });\n\n            $scope.$watch($scope.disabled, function (newValue) {\n                $scope.disableControls = newValue;\n            });\n\n            // Add class\n            $element.addClass('pip-time-range-edit');\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_directive/date.html',\n    '<div class=\"pip-date layout-row flex\" tabindex=\"-1\"><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-day flex\" ng-disabled=\"disableControls\" ng-model=\"day\" placeholder=\"{{dayLabel}}\" ng-change=\"onDayChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{:: opt }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-monthflex\" ng-disabled=\"disableControls\" ng-model=\"month\" placeholder=\"{{monthLabel}}\" ng-change=\"onMonthChanged()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{:: opt.name }}</md-option></md-select></md-input-container><div class=\"input-container-separator flex-fixed\"></div><md-input-container class=\"input-container flex\"><md-select class=\"pip-date-year flex\" ng-disabled=\"disableControls\" ng-model=\"year\" placeholder=\"{{yearLabel}}\" ng-change=\"onYearChanged()\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{:: opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('date_range_directive/date_range.html',\n    '<div class=\"pip-date-range layout-row flex\" tabindex=\"-1\"><md-input-container ng-show=\"isDay()\" class=\"input-container pip-day flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-day\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onDayClick()\" ng-model=\"day\" ng-change=\"onDayChanged()\" placeholder=\"{{dayLabel}}\" aria-label=\"DAY\"><md-option ng-value=\"opt\" ng-repeat=\"opt in days track by opt\">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isWeek()\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-week\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" ng-model=\"week\" ng-change=\"onWeekChange()\" placeholder=\"{{weekLabel}}\" aria-label=\"WEEK\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in weeks track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isDay() || isWeek()\"></div><md-input-container ng-show=\"isMonth() && !monthFormatShort\" class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in months track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show=\"isMonth() && monthFormatShort\" class=\"flex input-container\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-month\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onMonthClick()\" ng-model=\"month\" ng-change=\"onMonthChanged()\" placeholder=\"{{monthLabel}}\" aria-label=\"MONTH\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in shortMonths track by opt.id\">{{ opt.name }}</md-option></md-select></md-input-container><div class=\"flex-fixed\" ng-class=\"{\\'space16\\': $mdMedia(\\'gt-xs\\'), \\'space8\\': $mdMedia(\\'xs\\')}\" ng-show=\"isMonth()\"></div><md-input-container class=\"input-container flex\" ng-class=\"{\\'flex-fixed\\' : $mdMedia(\\'gt-xs\\')}\"><md-select class=\"select-year\" ng-class=\"{\\'pip-no-line\\' : pipNoLine}\" ng-disable=\"{{disableControls}}\" md-on-open=\"onYearClick()\" ng-model=\"year\" ng-change=\"onYearChanged()\" placeholder=\"{{yearLabel}}\" aria-label=\"YEAR\"><md-option ng-value=\"opt\" ng-repeat=\"opt in years track by opt\">{{ opt }}</md-option></md-select></md-input-container></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_directive/time_range.html',\n    '<p><span ng-if=\"data.start != null\">{{data.start | formatLongDateTime}}</span> <span class=\"separator\" ng-if=\"data.start && data.end\">-</span> <span ng-if=\"data.end != null\">{{data.end | formatLongDateTime}}</span></p>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDates.Templates');\n} catch (e) {\n  module = angular.module('pipDates.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('time_range_edit_directive/time_range_edit.html',\n    '<div class=\"event-edit layout-row layout-xs-column flex layout-align-start-start\"><div flex=\"47\" class=\"start-time-container\"><p class=\"text-caption text-grey\">{{startLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container\" flex=\"49\"><md-datepicker ng-model=\"data.startDate\" xmd-placeholder=\"{{startLabel}}\" ng-change=\"onChangeStartDate()\" ng-disabled=\"isDisabled()\" aria-label=\"START-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"START-TIME\" ng-model=\"data.startTime\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeStartTime()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex=\"47\" class=\"end-time-container\"><p class=\"text-caption text-grey\">{{endLabel}}</p><div class=\"layout-row layout-align-space-between-center\"><div class=\"pip-datepicker-container flex-49\"><md-datepicker ng-model=\"data.endDate\" xmd-placeholder=\"{{endLabel}}\" ng-disabled=\"isDisabled()\" ng-change=\"onChangeEndDate()\" aria-label=\"END-DATE\"></md-datepicker></div><div flex=\"\" ng-if=\"showTime\"><md-input-container class=\"input-container\"><md-select aria-label=\"END-TIME\" ng-model=\"data.endTime\" ng-change=\"onChangeEndTime()\" ng-disabled=\"isDisabled()\"><md-option ng-value=\"opt.id\" ng-repeat=\"opt in intervalTimeCollection track by opt.id\">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dates-html.min.js.map\n","'use strict';\n\nexport class ConfirmationParams {\n    public ok: string = 'OK';\n    public title: string; \n    public cancel: string = 'Cancel';\n    public event: any;\n}\n\nexport class ConfirmationDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: ConfirmationParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector,\n        $rootScope: ng.IRootScopeService,\n        params: ConfirmationParams) {\n        \"ngInject\";\n        this.config = new ConfirmationParams();\n\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'CONFIRM_TITLE': 'Confirm' });\n            pipTranslate.translations('ru', { 'CONFIRM_TITLE': 'Подтвердите'});\n\n            this.config.title = params.title || 'CONFIRM_TITLE';\n            this.config.ok = params.ok || 'OK';\n            this.config.cancel = params.cancel || 'CANCEL';\n        } else {\n            this.config.title = params.title || 'Confirm';\n            this.config.ok = params.ok || 'OK';\n            this.config.cancel = params.cancel || 'Cancel';\n        }\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipConfirmationDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates'])\n    .controller('pipConfirmationDialogController', ConfirmationDialogController);","import { ConfirmationParams } from './ConfirmationController';\n\nexport interface IConfirmationService {\n    show(params: ConfirmationParams, successCallback?: () => void, cancelCallback?: () => void): any;\n}\n\nclass ConfirmationService implements IConfirmationService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params: ConfirmationParams, successCallback?: () => void, cancelCallback?: () => void) {\n        this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'confirmation/ConfirmationDialog.html',\n            controller: 'pipConfirmationDialogController',\n            controllerAs: 'vm',\n            locals: { params: params },\n            clickOutsideToClose: true\n        })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipConfirmationDialog')\n    .service('pipConfirmationDialog', ConfirmationService);","'use strict';\n\nimport './ConfirmationController';\nimport './ConfirmationService';\n","﻿/**\n * @file Registration of dialogs\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n'use strict';\n\nimport './error_details';\nimport './information';\nimport './options';\nimport './confirmation';\n\nangular\n    .module('pipDialogs', [\n        'pipInformationDialog',\n        'pipConfirmationDialog',\n        'pipOptionsDialog',\n        'pipOptionsBigDialog',\n        'pipErrorDetailsDialog',\n        //'pipErrorDetails2Dialog'\n    ]);\n\nexport * from './error_details';\n//export * from './error_details2';\nexport * from './information';\nexport * from './options';\nexport * from './confirmation';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class ErrorStrings {\n    public ok: string = 'OK';\n    public cancel: string = 'Cancel';\n    public errorDetails: string = 'Error details';\n    public dismissButton: string = 'Dismiss';\n    public errorMessage: string = 'Message';\n    public errorCode: string = 'Code';\n    public errorMethod: string = 'Method';\n    public errorPath: string = 'Path';\n    public error: string = 'Error';\n    public errorText: string = 'Error';   \n}\n\nexport class ErrorParams {\n    public ok: string = 'OK';\n    public cancel: string = 'CANCEL';\n    public error: string = 'ERROR';\n}\n\nexport class ErrorDetailsDialogController {\n\n    public $mdDialog;\n    public theme;\n    public config: ErrorStrings;\n\n    constructor(\n        $mdDialog,\n        $injector,\n        $rootScope, \n        params: ErrorParams) {\n        \"ngInject\";\n        this.config = new ErrorStrings();\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n            if (pipTranslate) {\n                pipTranslate.translations('en', {\n                    'ERROR_DETAILS': 'Error details',\n                    'CODE': 'Error code',\n                    'PATH': 'Path',\n                    'ERROR': 'Error',\n                    'METHOD': 'Method',\n                    'MESSAGE': 'Message',\n                    'DISMISS': 'Dismiss'\n                });\n                pipTranslate.translations('ru', {\n                    'ERROR_DETAILS': 'Детали ошибки',\n                    'CODE': 'Код ошибки',\n                    'PATH': 'Путь',\n                    'ERROR': 'Ошибка',\n                    'METHOD': 'Метод',\n                    'MESSAGE': 'Сообщение'\n                });\n                this.config.ok = params.ok;\n                this.config.cancel = params.cancel;\n                this.config.errorDetails = 'ERROR_DETAILS';\n                this.config.dismissButton = 'DISMISS';\n                this.config.errorMessage = 'MESSAGE';\n                this.config.errorCode = 'CODE';\n                this.config.errorMethod = 'METHOD';\n                this.config.errorPath = 'PATH';\n                this.config.errorText = 'ERROR';                \n            } else {\n                this.config.ok = params.ok;\n                this.config.cancel = params.cancel;\n            }\n            this.$mdDialog = $mdDialog;\n            this.theme = $rootScope.$theme;\n            this.config.error = params.error;\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .controller('pipErrorDetailsDialogController', ErrorDetailsDialogController);","\nclass ErrorDetailsService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback, cancelCallback) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'error_details/ErrorDetails.html',\n            controller: 'pipErrorDetailsDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then(() => {\n            if (successCallback) {\n                successCallback();\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipErrorDetailsDialog')\n    .service('pipErrorDetailsDialog', ErrorDetailsService);","'use strict';\n\nangular\n    .module('pipErrorDetailsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './ErrorDetailsService';\nimport './ErrorDetailsController';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class InformationStrings {\n    public ok: string = 'OK';\n    public title: string; \n    public message: string;\n    public error: string;\n    public content;\n}\n\nexport class InformationParams {\n    public ok: string = 'OK';\n    public title: string; \n    public message: string;\n    public error: string;\n    public item;\n}\n\nexport class InformationDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: InformationStrings;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector,\n        $rootScope: ng.IRootScopeService, \n        params: InformationParams) {\n        \"ngInject\";\n        this.config = new InformationStrings();\n\n        let content = params.message, item;\n\n        let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'INFORMATION_TITLE': 'Information'});\n            pipTranslate.translations('ru', { 'INFORMATION_TITLE': 'Информация' });\n\n            this.config.title = params.title || 'INFORMATION_TITLE';\n            this.config.ok = params.ok || 'OK';\n            content = pipTranslate.translate(content);\n        } else {\n            this.config.title = params.title || 'Information';\n            this.config.ok = params.ok || 'OK';\n        }\n\n        let pipFormat = $injector.has('pipFormat') ? $injector.get('pipFormat') : null;\n\n        if (params.item && pipFormat) {\n            item = _.truncate(params.item, 25);\n            content = pipFormat.sprintf(content, item);\n            console.log('content2', content);\n        }\n        this.config.content = content;\n\n        this.$mdDialog = $mdDialog;\n        this.theme = $rootScope['$theme'];\n        this.config.error = params.error;\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n}\n\nangular\n    .module('pipInformationDialog')\n    .controller('pipInformationDialogController', InformationDialogController);","export interface IInformationService {\n    show(params, successCallback?: () => void, cancelCallback?: () => void): any;\n}\n\nclass InformationService implements IInformationService {\n    private _mdDialog: angular.material.IDialogService;\n    \n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n\n    public show(params, successCallback?: () => void, cancelCallback?: () => void) {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'information/InformationDialog.html',\n            controller: 'pipInformationDialogController',\n            controllerAs: 'vm',\n            locals: { params: params},\n            clickOutsideToClose: true\n         })\n        .then(function () {\n            if (successCallback) {\n                successCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipInformationDialog')\n    .service('pipInformationDialog', InformationService);","'use strict';\n\nangular\n    .module('pipInformationDialog', [\n        'ngMaterial',\n        'pipDialogs.Translate', \n        'pipDialogs.Templates']);\n\nimport './InformationService';\nimport './InformationController';\n","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class OptionsBigData {\n    public name: string;\n    public title: string;\n    public subtitle: string;\n}\n\nexport class OptionsBigParams {\n    public title: string;  \n    public applyButtonTitle: string;\n    public options: OptionsBigData[];\n    public selectedOption: OptionsBigData;\n    public deleted;\n    public selectedOptionName: string;\n    public deletedTitle: string;\n    public hint: string;\n    public noTitle: boolean = false;\n    public noActions: boolean = false;\n    public optionIndex: number = 0;\n}\n\nexport interface IOptionsBigDialogController {\n    onOk(): void;\n    onCancel(): void;\n    onKeyUp(event, index): void;\n    onOptionSelect(event, option);\n    onSelected(): void;\n    onSelect: Function;\n    config: OptionsBigParams;\n    theme: string;\n}\n\nexport class OptionsBigDialogController implements IOptionsBigDialogController {\n\n    private $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: OptionsBigParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector, \n        $rootScope: ng.IRootScopeService, \n        params: OptionsBigParams) {\n        \"ngInject\";\n\n        this.$mdDialog = $mdDialog;\n        this.config = new OptionsBigParams();\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию'});\n\n            this.config.title = params.title || 'OPTIONS_TITLE';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'SELECT';\n        } else {\n            this.config.title = params.title || 'Choose Option';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\n        }\n\n        this.theme = $rootScope['$theme'];\n        this.config.options = params.options;\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsBigData();\n        this.config.selectedOptionName = this.config.selectedOption.name;\n        this.config.deleted = params.deleted;\n        this.config.deletedTitle = params.deletedTitle;\n        this.config.noActions = params.noActions || false;\n        this.config.noTitle = params.noTitle || false;\n        this.config.hint = params.hint || '';\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event, option) {\n        event.stopPropagation();\n        this.config.selectedOptionName = option.name;\n\n        if (this.config.noActions) {\n            this.onSelect();\n        }\n    }\n\n    public onSelected() {\n        this.config.selectedOptionName = this.config.options[this.config.optionIndex].name;\n\n        if (this.config.noActions) {\n               this.onSelect();\n        }\n    }\n\n    public onKeyUp(event, index) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (index !== undefined && index > -1 && index < this.config.options.length) {\n                this.config.selectedOptionName = this.config.options[index].name;\n                this.onSelect();\n            }\n        }\n    }\n    \n    public onSelect = function () {\n        let option;\n        option = _.find(this.config.options, {name: this.config.selectedOptionName}) || new OptionsBigData();\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\n    };\n\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .controller('pipOptionsBigDialogController', OptionsBigDialogController);","export interface IOptionsBigService {\n    show(params, successCallback?: (option) => void, cancelCallback?: () => void): any;\n}\n\nclass OptionsBigService implements IOptionsBigService {\n    public _mdDialog: angular.material.IDialogService;\n    constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public show(params, successCallback?: (option) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsBigDialog.html',\n            controller: 'pipOptionsBigDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then((option) => {\n            if (successCallback) {\n                successCallback(option);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n    }\n    \n}\n\nangular\n    .module('pipOptionsBigDialog')\n    .service('pipOptionsBigDialog', OptionsBigService);","'use strict';\n\nimport IWindowService = angular.IWindowService;\n\nexport class OptionsData {\n    public icon: string = 'star';\n    public name: string;\n    public title: string;\n    public active: boolean = true; \n}\n\nexport class OptionsParams {\n    public title: string;  \n    public applyButtonTitle: string;\n    public options: OptionsData[];\n    public selectedOption: OptionsData;\n    public deleted;\n    public selectedOptionName: string;\n    public deletedTitle: string;\n}\n\nexport class OptionsDialogController {\n\n    public $mdDialog: angular.material.IDialogService;\n    public theme: string;\n    public config: OptionsParams;\n\n    constructor(\n        $mdDialog: angular.material.IDialogService,\n        $injector, \n        $rootScope: ng.IRootScopeService, \n        params: OptionsParams) {\n        \"ngInject\";\n\n        this.$mdDialog = $mdDialog;\n        this.config = new OptionsParams();\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            pipTranslate.translations('en', { 'OPTIONS_TITLE': 'Choose Option'});\n            pipTranslate.translations('ru', { 'OPTIONS_TITLE': 'Выберите опцию'});\n\n            this.config.title = params.title || 'OPTIONS_TITLE';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'SELECT';\n        } else {\n            this.config.title = params.title || 'Choose Option';\n            this.config.applyButtonTitle = params.applyButtonTitle || 'Select';\n        }\n\n        this.theme = $rootScope['$theme'];\n        this.config.options = params.options;\n        this.config.selectedOption = _.find(params.options, {active: true}) || new OptionsData();\n        this.config.selectedOptionName = this.config.selectedOption.name;\n        this.config.deleted = params.deleted;\n        this.config.deletedTitle = params.deletedTitle;\n\n        setTimeout(this.focusInput, 500);\n    }\n\n    public onOk(): void {\n        this.$mdDialog.hide();\n    }\n\n    public onCancel(): void {\n        this.$mdDialog.cancel();\n    }\n\n    public onOptionSelect(event, option: OptionsData) {\n        event.stopPropagation();\n        this.config.selectedOptionName = option.name;\n\n    }\n            \n    public onKeyPress (event) {\n        if (event.keyCode === 32 || event.keyCode === 13) {\n            event.stopPropagation();\n            event.preventDefault();\n            this.onSelect();\n        }\n    }\n\n    public onSelect() {\n        let option: OptionsData;\n        option = _.find(this.config.options, {name: this.config.selectedOptionName});\n        console.log(option);\n        this.$mdDialog.hide({option: option, deleted: this.config.deleted});\n    }\n\n    private focusInput() {\n        let list;\n        list = $('.pip-options-dialog .pip-list');\n        list.focus();\n    }\n\n}\n\nangular\n    .module('pipOptionsDialog')\n    .controller('pipOptionsDialogController', OptionsDialogController);","\nexport interface IOptionsService {\n    show(params, successCallback?: (option) => void, cancelCallback?: () => void): any;\n}\n\nclass OptionsService implements IOptionsService {\n    public _mdDialog: angular.material.IDialogService;\n    public constructor($mdDialog: angular.material.IDialogService) {\n        this._mdDialog = $mdDialog;\n    }\n    public  show(params, successCallback?: (option) => void, cancelCallback?: () => void): any {\n         this._mdDialog.show({\n            targetEvent: params.event,\n            templateUrl: 'options/OptionsDialog.html',\n            controller: 'pipOptionsDialogController',\n            controllerAs: 'vm',\n            locals: {params: params},\n            clickOutsideToClose: true\n         })\n        .then((option) => {\n            if (successCallback) {\n                successCallback(option.option);\n            }\n        }, () => {\n            if (cancelCallback) {\n                cancelCallback();\n            }\n        });\n                \n    }\n    \n}\n\nangular\n    .module('pipOptionsDialog')\n    .service('pipOptionsDialog', OptionsService);","'use strict';\n\nangular\n    .module('pipOptionsDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n\nimport './OptionsService';\nimport './OptionsController';\n\n\nangular\n    .module('pipOptionsBigDialog', [\n        'ngMaterial', \n        'pipDialogs.Translate',\n        'pipDialogs.Templates']);\n        \nimport './OptionsBigService';\nimport './OptionsBigController';","(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('confirmation/ConfirmationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-confirmation-dialog layout-column\" width=\"400\" md-theme=\"{{::vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title}}</h3></div><div class=\"pip-footer\"><div><md-button ng-click=\"vm.onCancel()\">{{:: vm.config.cancel}}</md-button><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{:: vm.config.ok}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('information/InformationDialog.html',\n    '<md-dialog class=\"pip-dialog pip-information-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-header\"><h3>{{:: vm.config.title | translate }}</h3></div><div class=\"pip-body\"><div class=\"pip-content\">{{ vm.config.content }}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent\" ng-click=\"vm.onOk()\">{{ vm.config.ok | translate }}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('error_details/ErrorDetails.html',\n    '<md-dialog class=\"pip-dialog pip-error-details-dialog layout-column\" width=\"400\" md-theme=\"{{vm.theme}}\"><div class=\"pip-body\"><div class=\"pip-header\"><h3>{{::vm.config.errorDetails | translate}}</h3></div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.code || (vm.config.error.data && error.data.code)\">{{::vm.config.errorCode | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.code || (vm.config.error.data && vm.config.error.data.code)\">{{vm.config.error.code || vm.config.error.data.code}}</div><div class=\"layout-row layout-align-start-center error-section text-body2 color-secondary-text\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{::vm.config.errorPath | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.path || (vm.config.error.data && vm.config.error.data.path)\">{{vm.config.error.path || vm.config.error.data.path}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{::vm.config.errorText | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.error || (vm.config.error.data && vm.config.error.data.error)\">{{vm.config.error.error || vm.config.error.data.error}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{::vm.config.errorMethod | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.method || (vm.config.error.data && vm.config.error.data.method)\">{{vm.config.error.method || vm.config.error.data.method}}</div><div class=\"error-section text-body2 color-secondary-text layout-row layout-align-start-center\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{::vm.config.errorMessage | translate}}</div><div class=\"layout-row layout-align-start-center text-subhead1\" ng-if=\"vm.config.error.message || (vm.config.error.data && vm.config.error.data.message)\">{{vm.config.error.message || vm.config.error.data.message}}</div></div><div class=\"pip-footer\"><div><md-button class=\"md-accent m0\" ng-click=\"vm.onOk()\">{{::vm.config.dismissButton | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsBigDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog-big layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body pip-scroll\" ng-class=\"{\\'bp24\\': !vm.config.noActions}\"><div class=\"pip-header\" ng-class=\"{\\'header-hint\\': vm.config.noTitle && vm.config.hint}\"><h3 class=\"m0\" ng-if=\"!vm.config.noTitle\">{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.noTitle && vm.config.hint\" class=\"dialog-hint layout-row layout-align-start-center\"><div class=\"hint-icon-container flex-fixed\"><md-icon md-svg-icon=\"icons:info-circle-outline\"></md-icon></div><div>{{::vm.config.hint | translate}}</div></div></div><div class=\"content-divider\" ng-if=\"!noTitle\"></div><div class=\"pip-content\"><div class=\"spacer8\" ng-if=\"noTitle && hint\"></div><md-list class=\"pip-menu pip-ref-list\" pip-selected=\"vm.config.optionIndex\" index=\"{{vm.config.optionIndex }}\" pip-select=\"vm.onSelected($event)\"><md-list-item class=\"pip-ref-list-item pip-selectable layout-row layout-align-start-center\" ng-class=\"{\\'selected md-focused\\' : option.name == selectedOptionName, \\'divider-bottom\\': $index != options.length - 1}\" md-ink-ripple=\"\" ng-keyup=\"vm.onKeyUp($event, $index)\" ng-repeat=\"option in vm.config.options\"><div class=\"pip-content content-stretch\" ng-click=\"vm.onOptionSelect($event, option)\"><p class=\"pip-title spacer-right\" ng-if=\"option.title\" style=\"margin-bottom: 4px !important;\">{{::option.title | translate}}</p><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.subtitle\">{{::option.subtitle | translate}}</div><div class=\"pip-subtitle spacer-right\" style=\"height: inherit\" ng-if=\"option.text\" ng-bind-html=\"option.text | translate\"></div></div></md-list-item></md-list></div><div class=\"spacer8\" ng-if=\"vm.config.noActions\"></div></md-dialog-content><div class=\"pip-footer\" ng-if=\"!vm.config.noActions\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\" style=\"margin-right: -6px\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipDialogs.Templates');\n} catch (e) {\n  module = angular.module('pipDialogs.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('options/OptionsDialog.html',\n    '<md-dialog class=\"pip-dialog pip-options-dialog layout-column\" min-width=\"400\" md-theme=\"{{vm.theme}}\"><md-dialog-content class=\"pip-body lp0 tp0 rp0 bp24 pip-scroll\"><div class=\"pip-header\"><h3>{{::vm.config.title | translate}}</h3><div ng-show=\"vm.config.deletedTitle\" class=\"header-option text-subhead1 divider-bottom\"><md-checkbox ng-model=\"deleted\" aria-label=\"CHECKBOX\">{{::vm.config.deletedTitle | translate}}</md-checkbox></div></div><div class=\"pip-content\"><md-radio-group ng-model=\"vm.selectedOptionName\" class=\"pip-list md-primary\" md-no-ink=\"true\" ng-keypress=\"vm.onKeyPress($event)\" tabindex=\"0\"><div ng-repeat=\"option in vm.config.options\" class=\"pip-list-item\" md-ink-ripple=\"\" ui-event=\"{ click: \\'vm.onOptionSelect($event, option)\\' }\" ng-class=\"{ selected: option.name == vm.config.selectedOptionName }\"><div class=\"pip-list-item item-padding\"><md-icon class=\"pip-option-icon\" md-svg-icon=\"icons:{{option.icon}}\" ng-if=\"option.icon\"></md-icon><div class=\"pip-option-title\">{{::option.title | translate}}</div><md-radio-button ng-value=\"option.name\" tabindex=\"-1\" aria-label=\"{{::option.title | translate}}\"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class=\"pip-footer\"><div><md-button class=\"pip-cancel\" ng-click=\"vm.onCancel()\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"pip-submit md-accent\" ng-click=\"vm.onSelect()\">{{::vm.config.applyButtonTitle | translate}}</md-button></div></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-dialogs-html.min.js.map\n","'use strict';\n\nexport let ActionsChangedEvent = 'pipActionsChanged';\n\nexport class SimpleActionItem {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title?: string;\n    // Show divider instead of title\n    public divider?: boolean;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // Access function\n    public access?: (action: SimpleActionItem) => boolean;\n    // Show on specified breakpoints\n    public breakpoints?: string[];\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (action: SimpleActionItem) => void;\n}\n\nexport class ActionItem extends SimpleActionItem {\n    public subActions: SimpleActionItem[];\n}\n\nexport class ActionsConfig {\n    // Primary global actions visible on the screen\n    public primaryGlobalActions: ActionItem[] = [];\n    // Primary local actions visible on the screen\n    public primaryLocalActions: ActionItem[] = [];\n\n    // Secondary global actions available in popup\n    public secondaryGlobalActions: ActionItem[] = [];\n    // Secondary local actions available in popup\n    public secondaryLocalActions: ActionItem[]= [];\n}\n\nexport interface IActionsService {\n    readonly config: ActionsConfig;\n\n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\n    hide(): void;\n    updateCount(link: string, count: number): void; \n    clearCounts(): void;\n}\n\nexport interface IActionsProvider extends ng.IServiceProvider {\n    config: ActionsConfig;\n    \n    primaryGlobalActions: ActionItem[];\n    primaryLocalActions: ActionItem[];\n    secondaryGlobalActions: ActionItem[];\n    secondaryLocalActions: ActionItem[];    \n}\n\nclass ActionsService implements IActionsService {\n    private _config: ActionsConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: ActionsConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n        this.sendChangeEvent();\n    }\n\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\n        this._config.primaryLocalActions = primaryActions || [];\n        this._config.secondaryLocalActions = secondaryActions || [];\n        this.sendChangeEvent();\n    }\n\n    public hide(): void {\n        this._config.primaryLocalActions = [];\n        this._config.secondaryLocalActions = [];\n        this.sendChangeEvent();\n    }\n\n    public updateCount(action: string, count: number) {\n        if (action == null || !_.isNumber(count)) return;\n\n        _.each(this._config.primaryGlobalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            if (a.name == action)\n                a.count = count;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.primaryGlobalActions, (a) => {\n            a.count = null;\n        });\n        _.each(this._config.primaryLocalActions, (a) => {\n            a.count = null;\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\n    }\n}\n\nclass ActionsProvider implements IActionsProvider {\n    private _config: ActionsConfig = new ActionsConfig();\n    private _service: ActionsService;\n\n    public get config(): ActionsConfig {\n        return this._config;\n    }\n\n    public set config(value: ActionsConfig) {\n        this._config = value || new ActionsConfig();\n    }\n\n    public get primaryGlobalActions(): ActionItem[] {\n        return this._config.primaryGlobalActions;\n    }\n\n    public set primaryGlobalActions(value: ActionItem[]) {\n        this._config.primaryGlobalActions = value || [];\n    }\n\n    public get secondaryGlobalActions(): ActionItem[] {\n        return this._config.secondaryGlobalActions;\n    }\n\n    public set secondaryGlobalActions(value: ActionItem[]) {\n        this._config.secondaryGlobalActions = value || [];\n    }\n\n    public get primaryLocalActions(): ActionItem[] {\n        return this._config.primaryLocalActions;\n    }\n\n    public set primaryLocalActions(value: ActionItem[]) {\n        this._config.primaryLocalActions = value || [];\n    }\n\n    public get secondaryLocalActions(): ActionItem[] {\n        return this._config.secondaryLocalActions;\n    }\n\n    public set secondaryLocalActions(value: ActionItem[]) {\n        this._config.secondaryLocalActions = value || [];\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new ActionsService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipActions')\n    .provider('pipActions', ActionsProvider);\n\n","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction PrimaryActionsController(\n    $scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\n\n    // Apply class and call resize\n    $element.addClass('pip-primary-actions');\n\n    if ($scope.localActions) \n        pipActions.primaryLocalActions = $scope.localActions;\n\n    if ($scope.globalActions)\n        pipActions.primaryGlobalActions = $scope.globalActions;\n\n    $scope.config = pipActions.config;\n\n    $rootScope.$on('pipActionsChanged', onActionsChanged);\n\n    $scope.isHidden = isHidden;\n    $scope.actionCount = actionCount;\n    $scope.clickAction = clickAction;\n\n    return;\n    ///////////////////////\n\n    function onActionsChanged(event, config) {\n        $scope.config = config;\n    }\n\n    function isHidden(action) {\n        // Todo: Check breakpoints here\n        return action.access && !action.access(action);\n    }\n\n    function actionCount(action) {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return action.count;\n    }\n\n    function calcActions(actions) {\n        var count = 0;\n\n        _.each(actions, function (action) {\n            if (!isHidden(action)) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    function secondaryActionsVisible() {\n        return calcActions($scope.config.secondaryGlobalActions) > 0 ||\n            calcActions($scope.config.secondaryLocalActions) > 0;\n    }\n\n    function secondaryDividerVisible() {\n        return calcActions($scope.config.secondaryGlobalActions) > 0 &&\n            calcActions($scope.config.secondaryLocalActions) > 0;\n    }\n\n    function clickAction(action, $mdOpenMenu) {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (action.close) {\n            $scope.originatorEv = null;\n        }\n\n        if (action.menu) {\n            $mdOpenMenu($scope.originatorEv);\n            return;\n        }\n\n        if (action.click) {\n            action.click();\n            return;\n        }\n\n        if (action.href) {\n            $window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            $location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if ($injector.has('$state')) {\n                var $state = $injector.get('$state');\n                $state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            $rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            $rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\n\nfunction primaryActionsDirective() {\n    return {\n        restrict: 'E',\n        scope: {\n            localActions: '=pipLocalActions',\n            globalActions: '=pipGlobalActions'\n        },\n        replace: false,\n        templateUrl: 'actions/PrimaryActions.html',\n        controller: PrimaryActionsController\n    };\n}\n\n\nangular\n    .module('pipActions')\n    .directive('pipPrimaryActions', primaryActionsDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction SecondaryActionsController(\n    $scope, $element, $attrs, $rootScope, $window, $location, $injector, pipActions) {\n\n    // Apply class and call resize\n    $element.addClass('pip-secondary-actions');\n\n    if ($scope.localActions) \n        pipActions.secondaryLocalActions = $scope.localActions;\n\n    if ($scope.globalActions) \n        pipActions.secondaryGlobalActions = $scope.globalActions;\n\n    $scope.config = pipActions.config;\n\n    $rootScope.$on('pipActionsChanged', onActionsChanged);\n\n    $scope.isHidden = isHidden;\n    $scope.actionCount = actionCount;\n    $scope.secondaryActionsVisible = secondaryActionsVisible;\n    $scope.secondaryDividerVisible = secondaryDividerVisible;\n\n    $scope.clickAction = clickAction;\n\n    $scope.openMenu = openMenu;\n\n    return;\n    /////////////////////\n\n    function openMenu($mdOpenMenu, ev) {\n        $scope.originatorEv = ev;\n        $mdOpenMenu(ev);\n    }\n\n    function onActionsChanged(event, config) {\n        $scope.config = config;\n\n    }\n\n    function isHidden(action) {\n        return action.access && !action.access(action);\n    }\n\n    function actionCount(action) {\n        if (action.count === null || action.count <= 0) {\n            return '';\n        }\n        if (action.count > 99) {\n            return '!';\n        }\n\n        return action.count;\n    }\n\n    function calcActions(actions) {\n        var count = 0;\n\n        _.each(actions, function (action) {\n            if (!isHidden(action)) {\n                count++;\n            }\n        });\n\n        return count;\n    }\n\n    function secondaryActionsVisible() {\n        return calcActions($scope.config.secondaryGlobalActions) > 0 ||\n            calcActions($scope.config.secondaryLocalActions) > 0;\n    }\n\n    function secondaryDividerVisible() {\n        return calcActions($scope.config.secondaryGlobalActions) > 0 &&\n            calcActions($scope.config.secondaryLocalActions) > 0;\n    }\n\n    function clickAction(action, $mdOpenMenu) {\n        if (!action || action.divider) {\n            return;\n        }\n\n        if (action.close) {\n            $scope.originatorEv = null;\n        }\n\n        if (action.menu) {\n            $mdOpenMenu($scope.originatorEv);\n            return;\n        }\n\n        if (action.click) {\n            action.click();\n            return;\n        }\n\n        if (action.href) {\n            $window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            $location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if ($injector.has('$state')) {\n                var $state = $injector.get('$state');\n                $state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            $rootScope.$broadcast(action.event);\n        } else {\n            // Otherwise raise notification\n            $rootScope.$broadcast('pipActionClicked', action.name);\n        }\n    }\n\n}\n\nfunction secondaryActionsDirective() {\n    return {\n        restrict: 'E',\n        scope: {\n            localActions: '=pipLocalActions',\n            globalActions: '=pipGlobalActions'\n        },\n        replace: false,\n        templateUrl: 'actions/SecondaryActions.html',\n        controller: SecondaryActionsController\n    };\n}\n\nangular\n    .module('pipActions')\n    .directive('pipSecondaryActions', secondaryActionsDirective);\n\n})();","'use strict';\n\nangular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\n\nimport './ActionsService';\nimport './PrimaryActionsDirective';\nimport './SecondaryActionsDirective';\n\nexport * from './ActionsService';","﻿'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction AppBarDirectiveController($scope, $element, $rootScope, pipAppBar) {\n    \"ngInject\";\n\n    // Apply class and call resize\n    $element.addClass('pip-appbar');\n    $element.addClass('color-primary-bg');\n    \n    //$scope.$emit('pipResizeWindow');\n\n    $scope.config = pipAppBar.config;\n\n    $rootScope.$on('pipAppBarChanged', onAppBarChanged);\n\n    function onAppBarChanged(event, config) {\n        $scope.config = config;\n    }\n}\n\nfunction appbarDirective() {\n    return {\n        restrict: 'E',\n        transclude: true,\n        scope: true,\n        templateUrl: 'appbar/AppBar.html',\n        controller: AppBarDirectiveController\n    };\n}\n\nangular\n    .module('pipAppBar')\n    .directive('pipAppbar', appbarDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction AppBarPartDirectiveController($scope, $element, $attrs, $rootScope, pipAppBar) {\n    \"ngInject\";\n\n    var partName = '' + $attrs.pipAppbarPart;\n    var partValue = null;\n\n    // Break part apart\n    var pos = partName.indexOf(':');\n    if (pos > 0) {\n        partValue = partName.substr(pos + 1);\n        partName = partName.substr(0, pos);\n    }\n\n    onAppBarChanged(null, pipAppBar.config);\n\n    $rootScope.$on('pipAppBarChanged', onAppBarChanged);\n\n    function onAppBarChanged(event, config) {\n        var parts = config.parts || {};\n        var currentPartValue = parts[partName];\n\n        // Set visible variable to switch ngIf\n        var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\n\n        if (visible != $scope.visible)\n            $scope.visible = visible;\n    }\n\n}\n\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\nfunction appbarPartDirective(ngIfDirective) {\n    \"ngInject\";\n\n    var ngIf = ngIfDirective[0];\n\n    return {\n        transclude: ngIf.transclude,\n        priority: ngIf.priority,\n        terminal: ngIf.terminal,\n        restrict: ngIf.restrict,\n        scope: true,\n        link: function linkFunction($scope: any, $element, $attrs: any) {\n            // Visualize based on visible variable in scope\n            $attrs.ngIf = function () {\n                return $scope.visible;\n            };\n            ngIf.link.apply(ngIf, arguments);\n        },\n        controller: AppBarPartDirectiveController\n    };\n}\n\nangular.module('pipAppBar')\n    .directive('pipAppbarPart', appbarPartDirective);\n\n})();","'use strict';\n\nexport let AppBarChangedEvent = 'pipAppBarChanged';\n\nexport class AppBarConfig {\n    visible: boolean;\n    parts: any;\n    classes: string[];\n} \n\nexport interface IAppBarService {\n    readonly config: AppBarConfig;\n    readonly classes: string[];\n    parts: any;\n\n    show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void;\n    hide(): void;\n \n    addShadow(...breakpoints: string[]): void;\n    removeShadow(): void;\n \n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n \n    part(part: string, value: any): void;\n}\n\nexport interface IAppBarProvider extends ng.IServiceProvider {\n    config: AppBarConfig;\n    parts: any;\n    classes: string[];\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass AppBarService implements IAppBarService {\n    private _config: AppBarConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: AppBarConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\n        this._config.visible = true;\n        this._config.parts = parts || this._config.parts || {};\n        this._config.classes = classes || this._config.classes || [];\n        if (shadowBreakpoints) this.setShadow(shadowBreakpoints);\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.visible = false;\n        this.sendConfigEvent();\n    }\n\n    private hideShadow(): void {\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\n    }\n\n    private setShadow(breakpoints: string[]): void {\n        this.hideShadow();\n\n        if (breakpoints != null && breakpoints.length > 0) {\n            _.each(breakpoints, (bp) => {\n                this._config.classes.push('pip-shadow-' + bp);\n            });\n        } else {\n            this._config.classes.push('pip-shadow');\n        }\n    }\n\n    public addShadow(...breakpoints: string[]): void {\n        this.setShadow(breakpoints);\n        this.sendConfigEvent();\n    }\n\n    public removeShadow(): void {\n        this.hideShadow();\n        this.sendConfigEvent();\n    }\n \n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$broadcast(AppBarChangedEvent, this._config);\n    }\n}\n\nclass AppBarProvider implements IAppBarProvider {\n    private _config: AppBarConfig = {\n        visible: true,\n        parts: {},\n        classes: []\n    };\n    private _service: AppBarService;\n\n    public get config(): AppBarConfig {\n        return this._config;\n    }\n\n    public set config(value: AppBarConfig) {\n        this._config = value || new AppBarConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n \n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new AppBarService(this._config, $rootScope);\n\n        return this._service;\n    }     \n}\n\nangular\n    .module('pipAppBar')\n    .provider('pipAppBar', AppBarProvider);\n","'use strict';\n\nangular\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\n\nimport './AppBarService';\nimport './AppBarDirective';\nimport './AppBarPartDirective';\n\nexport * from './AppBarService';\n","'use strict';\n\nimport { SimpleActionItem } from '../actions/ActionsService';\nimport { BreadcrumbItem } from './BreadcrumbService';\nimport { BreadcrumbConfig } from './BreadcrumbService';\nimport { IBreadcrumbService } from './BreadcrumbService';\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\nimport { OpenSearchEvent } from '../search/SearchService'\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nclass BreadcrumbController {\n    private _rootScope: ng.IRootScopeService;\n    private _window: ng.IWindowService;\n    private _location: ng.ILocationService;\n    private _injector: ng.auto.IInjectorService;\n    private originatorEv: Event;\n    \n    public config: BreadcrumbConfig;\n\n    public constructor(\n        $element: any, \n        $rootScope: ng.IRootScopeService,\n        $window: ng.IWindowService,\n        $state: ng.ui.IStateService,\n        $location: ng.ILocationService,\n        $injector: ng.auto.IInjectorService,\n        pipBreadcrumb: IBreadcrumbService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._window = $window;\n        this._location = $location;\n        this._injector = $injector;\n\n        // Apply class and call resize\n        $element.addClass('pip-breadcrumb');\n\n        this.config = pipBreadcrumb.config;\n\n        $rootScope.$on(BreadcrumbChangedEvent, (event, config) => { this.onBreadcrumbChanged(event, config); });\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\n    }\n\n    private onBreadcrumbChanged(event, config) {\n        this.config = config;\n    }\n\n    private onBreadcrumbBack() {\n        let items = this.config.items;\n        // Go to the last breadcrumb item\n        if (_.isArray(items) && items.length > 0) {\n            let item = items[items.length - 1];\n            let backCallback = item.click;\n            if (_.isFunction(backCallback)) \n                backCallback(item);\n            else\n                this._window.history.back();\n        } else\n            this._window.history.back();\n    }\n\n    public onClick(item: BreadcrumbItem) {\n        if (_.isFunction(item.click))\n            item.click(item);\n    }\n\n    public openSearch() {\n        this._rootScope.$broadcast(OpenSearchEvent);\n    }\n    \n    public actionsVisible(item: BreadcrumbItem): boolean {\n\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\n    }\n\n    public onOpenMenu($mdOpenMenu, event: Event) {\n        this.originatorEv = event;\n        $mdOpenMenu(this.originatorEv);\n    }\n\n    public onSubActionClick(action: SimpleActionItem): void { \n        if (!action || action.divider) {\n            return;\n        }\n\n        if (action.click) {\n            action.click(action);\n            return;\n        }\n\n        if (action.href) {\n            this._window.location.href = action.href;\n            return;\n        }\n\n        if (action.url) {\n            this._location.url(action.url);\n            return;\n        }\n\n        if (action.state) {\n            if (this._injector.has('$state')) {\n                let $state = this._injector.get('$state') as ng.ui.IStateService\n                $state.go(action.state, action.stateParams);\n            }\n            return;\n        }\n\n        if (action.event) {\n            this._rootScope.$broadcast(action.event);\n            this.originatorEv = null;\n        } else {\n            // Otherwise raise notification\n            this._rootScope.$broadcast('pipActionClicked', action.name);\n            this.originatorEv = null;\n        }\n    }\n}\n\n\nfunction breadcrumbDirective() {\n    return {\n        restrict: 'E',\n        scope: {},\n        replace: false,\n        templateUrl: 'breadcrumb/Breadcrumb.html',\n        controller: BreadcrumbController,\n        controllerAs: 'vm'\n    };\n}\n\n\nangular.module('pipBreadcrumb')\n    .directive('pipBreadcrumb', breadcrumbDirective);\n\n})();","'use strict';\n\nimport { SimpleActionItem } from '../actions/ActionsService';\nexport let BreadcrumbChangedEvent = \"pipBreadcrumbChanged\";\nexport let BreadcrumbBackEvent = \"pipBreadcrumbBack\";\n\nexport class BreadcrumbItem {\n    title: string;\n    click?: (item: BreadcrumbItem) => void;   \n    subActions?: SimpleActionItem[]; \n}\n\nexport class BreadcrumbConfig {\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n}\n\nexport interface IBreadcrumbService {\n    config: BreadcrumbConfig;\n    text: string;\n    items: BreadcrumbItem[];\n    criteria: string;\n\n    showText(text: string, criteria?: string);\n    showItems(items: BreadcrumbItem[], criteria?: string);\n}\n\nexport interface IBreadcrumbProvider extends ng.IServiceProvider {\n    text: string;\n}\n\n\nclass BreadcrumbService implements IBreadcrumbService {\n    private _config: BreadcrumbConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: BreadcrumbConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config() {\n        return this._config;\n    }\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n        this._config.items = null;\n\n        this.sendConfigEvent();\n    }\n\n    public get items(): BreadcrumbItem[] {\n        return this._config.items;\n    }\n\n    public set items(value: BreadcrumbItem[]) {\n        this._config.text = null;\n        this._config.items = value;\n\n        this.sendConfigEvent();\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public showText(text: string, criteria?: string) {\n        this._config.text = text;\n        this._config.items = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public showItems(items: BreadcrumbItem[], criteria?: string) {\n        this._config.items = items || [];\n        this._config.text = null;\n        this._config.criteria = criteria;\n        this.sendConfigEvent();\n    }\n\n    public sendConfigEvent() {\n        this._rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\n    }\n}\n\n\nclass BreadcrumbProvider implements IBreadcrumbProvider {\n    private _config: BreadcrumbConfig = { \n        text: null,\n        items: null,\n        criteria: null\n    };\n    private _service: BreadcrumbService;\n\n    public get text(): string {\n        return this._config.text;\n    }\n\n    public set text(value: string) {\n        this._config.text = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService): any {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new BreadcrumbService(this._config, $rootScope);\n\n        return this._service;\n    }\n}\n\n\nangular.module('pipBreadcrumb')\n    .provider('pipBreadcrumb', BreadcrumbProvider);\n","'use strict';\n\nangular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\n\nimport './BreadcrumbDirective';\nimport './BreadcrumbService';\n\nexport * from './BreadcrumbService';\n\n\n","'use strict';\n\nimport { INavIconService } from '../icon/NavIconService';\nimport { INavMenuService } from '../menu/NavMenuService';\nimport { INavHeaderService } from '../header/NavHeaderService';\nimport { IBreadcrumbService } from '../breadcrumb/BreadcrumbService';\nimport { ISearchService } from '../search/SearchService';\nimport { IActionsService } from '../actions/ActionsService';\nimport { IAppBarService } from '../appbar/AppBarService';\nimport { ISideNavService } from '../sidenav/SideNavService';\n\nexport interface INavService {\n    appbar: IAppBarService;\n    icon: INavIconService; \n    breadcrumb: IBreadcrumbService;\n    actions: IActionsService;\n    search: ISearchService;\n    sidenav: ISideNavService;\n    header: INavHeaderService;\n    menu: INavMenuService;   \n\n    reset(): void;\n}\n\nclass NavService implements INavService {\n\n    public constructor($injector) {\n        \"ngInject\";\n\n        this.appbar = $injector.has('pipAppBar') ? $injector.get('pipAppBar') : null;\n        this.icon = $injector.has('pipNavIcon') ? $injector.get('pipNavIcon') : null;\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? $injector.get('pipBreadcrumb') : null;\n        this.actions = $injector.has('pipActions') ? $injector.get('pipActions') : null;\n        this.search = $injector.has('pipSearch') ? $injector.get('pipSearch') : null;\n        this.sidenav = $injector.has('pipSideNav') ? $injector.get('pipSideNav') : null;\n        this.header = $injector.has('pipNavHeader') ? $injector.get('pipNavHeader') : null;\n        this.menu = $injector.has('pipNavMenu') ? $injector.get('pipNavMenu') : null;    \n    }\n\n    public appbar: IAppBarService;\n    public icon: INavIconService;\n    public breadcrumb: IBreadcrumbService;\n    public actions: IActionsService;\n    public search: ISearchService;\n    public sidenav: ISideNavService;        \n    public header: INavHeaderService;\n    public menu: INavMenuService;    \n\n    public reset() {\n        // Reset appbar\n        if (this.appbar) \n            this.appbar.show();\n\n        // Reset icon\n        if (this.icon)\n            this.icon.showMenu();\n\n        // Reset breadcrumb\n        if (this.breadcrumb)\n            this.breadcrumb.showText(null);\n\n        // Reset actions\n        if (this.actions)\n            this.actions.show();\n\n        // Reset search\n        if (this.search)\n            this.search.set(null);\n\n        if (this.sidenav)\n            this.sidenav.show();\n    }\n}\n\nangular\n    .module('pipNavService', [])\n    .service('pipNavService', NavService);","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction translateFilter($injector) {\n    \"ngInject\";\n\n    let pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n    return function (key) {\n        return pipTranslate  ? pipTranslate.translate(key) || key : key;\n    }\n}\n\nangular\n    .module('pipNav.Translate', [])\n    .filter('translate', translateFilter);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction DropdownDirectiveController($scope, $element, $attrs, $injector, $rootScope, $mdMedia, $timeout) {\n    \"ngInject\";\n\n    let pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null; \n    let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n    let currentTheme = 'default';\n\n    if (pipTheme)\n        currentTheme = pipTheme.use();\n    else if ($rootScope.$theme)\n        currentTheme = $rootScope.$theme;\n\n    $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\n\n    //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\n    $scope.media = pipMedia !== undefined ? pipMedia : $mdMedia;\n    $scope.actions = ($scope.actions && _.isArray($scope.actions)) ? $scope.actions : [];\n    $scope.activeIndex = $scope.activeIndex || 0;\n\n    $scope.disabled = function () {\n        if ($scope.ngDisabled()) {\n            return $scope.ngDisabled();\n        } else {\n            return false;\n        }\n    };\n\n    $scope.onSelect = function (index) {\n        $scope.activeIndex = index;\n        if ($scope.select) {\n            $scope.select($scope.actions[index], $scope.activeIndex);\n        }\n\n        if ($scope.pipChange) {\n            $timeout(function() {\n                $scope.pipChange();\n            });\n        }\n    };\n\n    $scope.show = function () {\n        if ($scope.showDropdown()) {\n            return $scope.showDropdown();\n        } else {\n            return true;\n        }\n    };\n\n}\n\nfunction dropdownDirective() {\n    return {\n        restrict: 'E',\n        scope: {\n            ngDisabled: '&',\n            actions: '=pipActions',\n            showDropdown: '&pipShow',\n            activeIndex: '=pipActiveIndex',\n            select: '=pipDropdownSelect',\n            pipChange: '&'\n        },\n        templateUrl: 'dropdown/Dropdown.html',\n        controller: DropdownDirectiveController\n    };\n}\n\nangular\n    .module('pipDropdown', ['pipNav.Templates'])\n    .directive('pipDropdown', dropdownDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function NavHeaderDirectiveController($scope, $element, $rootScope, $timeout, pipNavHeader) {\n        \"ngInject\";\n\n        var\n            image = null,\n            imageBlock = $element.find('.pip-sticky-nav-header-user'),\n            $image,\n            currentState,\n            loadedDefaultImage = false;\n\n        // Apply class and call resize\n        $element.addClass('pip-sticky-nav-header');\n\n        $scope.onUserClick = onUserClick;\n        $scope.onImageError = onImageError;\n        $scope.onImageLoad = onImageLoad;\n\n        $timeout(function () {\n            $image = $element.find('.pip-sticky-nav-header-user-image');\n\n            if ($image[0]) {\n                $image[0].onload = onImageLoad;\n                $image[0].onerror = onImageError;\n            } else {\n                $image.onload = onImageLoad;\n                $image.onerror = onImageError;\n            }\n\n            onNavHeaderChanged(null, pipNavHeader.config);\n        }, 20);\n\n        $rootScope.$on('pipNavHeaderChanged', onNavHeaderChanged);\n        $rootScope.$on('pipSideNavStateChanged', onStateChanged);\n\n        return;\n\n        function initHeader() {\n            if (!pipNavHeader.config) return;\n\n            $scope.title = pipNavHeader.config.title;\n            $scope.subtitle = pipNavHeader.config.subtitle;\n            $scope.imageUrl = pipNavHeader.config.imageUrl;\n            $scope.imageCss = pipNavHeader.config.imageCss;\n        }\n\n        // When image is loaded resize/reposition it\n        function onImageLoad($event) {\n            var image = $($event.target);\n            setImageMarginCSS(imageBlock, image);\n        };\n\n        function onImageError($event) {\n            if (loadedDefaultImage) return;\n            $scope.$apply(function () {\n                setImage(pipNavHeader.config, true);\n            });\n        };\n\n        function onStateChanged(event, state) {\n            if (state === undefined) return;\n            currentState = state;\n\n            if (state.id == 'toggle') {\n                $timeout(function () {\n                    $scope.showHeader = currentState && currentState.id == 'toggle';\n                }, 400);\n            } else {\n                $scope.showHeader = false;\n            }\n        }\n\n        function setImageMarginCSS(container, image) {\n            var cssParams = {},\n                containerWidth = container.width ? container.width() : container.clientWidth,\n                containerHeight = container.height ? container.height() : container.clientHeight,\n                imageWidth = image[0].naturalWidth || image.width,\n                imageHeight = image[0].naturalHeight || image.height,\n                margin = 0;\n\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\n                cssParams['margin-left'] = '' + margin + 'px';\n                cssParams['height'] = '' + containerHeight + 'px';\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\n                cssParams['margin-top'] = '';\n            } else {\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\n                cssParams['margin-top'] = '' + margin + 'px';\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\n                cssParams['width'] = '' + containerWidth + 'px';\n                cssParams['margin-left'] = '';\n            }\n\n            image.css(cssParams);\n        };\n\n        function setImage(config, loadError: boolean) {\n            if (!config) return;\n\n            var url: string;\n\n            if (!loadError && !!config.imageUrl && !loadedDefaultImage) {\n                url = config.imageUrl;\n            } else {\n                loadedDefaultImage = true;\n                url = config.defaultImageUrl;\n            }\n\n            if (url && $image) {\n                $image.attr('src', url);\n            } else {\n                imageBlock.css('display', 'none');\n            }\n        }\n\n        function onNavHeaderChanged($event, config) {\n            if (!config) return;\n            setImage(config, false)\n\n            $scope.title = config.title;\n            $scope.subtitle = config.subtitle;\n            $scope.imageUrl = config.imageUrl;\n            $scope.imageCss = config.imageCss;\n        }\n\n        function onUserClick() {\n            $rootScope.$broadcast('pipNavUserClicked');\n        }\n\n    }\n\n    function navHeaderDirective() {\n        return {\n            restrict: 'EA',\n            scope: {\n\n            },\n            replace: false,\n            templateUrl: 'header/NavHeader.html',\n            controller: NavHeaderDirectiveController\n        };\n    }\n\n    angular\n        .module('pipNavHeader')\n        .directive('pipNavHeader', navHeaderDirective);\n\n})();","'use strict';\n\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\n\nexport class NavHeaderConfig {\n    // Image url\n    public imageUrl: string;\n    // Image url\n    public defaultImageUrl: string;\n    // Title\n    public title: string;\n    // Subtitle\n    public subtitle: string;\n    // Handle header click event\n    click: () => void;\n    // Event name\n    event: string\n};\n\nexport interface INavHeaderService {\n    readonly config: NavHeaderConfig;\n    imageUrl: string;\n    title: string;\n    subtitle: string;\n    click: () => void;\n    event: string;\n\n    show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\n    hide(): void;\n}\n\nexport interface INavHeaderProvider extends ng.IServiceProvider {\n    config: NavHeaderConfig;\n    defaultImageUrl: string;\n    imageUrl: string;\n    title: string;\n    subtitle: string;\n    click: () => void;\n    event: string;\n\n    set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void;\n    clear(): void;\n}\n\nclass NavHeaderService {\n    private _config: NavHeaderConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: NavHeaderConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n        this.sendConfigEvent();\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n        this.sendConfigEvent();\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n        this.sendConfigEvent();\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n        this.sendConfigEvent();\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n        this.sendConfigEvent();\n    }\n\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n       this._rootScope.$emit(NavHeaderChangedEvent, this._config);\n    }\n}\n\nclass NavHeaderProvider implements INavHeaderProvider {\n    private _config: NavHeaderConfig = new NavHeaderConfig();\n    private _service: NavHeaderService;\n\n    public get config(): NavHeaderConfig {\n        return this._config;\n    }\n\n    public set config(value: NavHeaderConfig) {\n        this._config = value || new NavHeaderConfig();\n    }\n\n    public get defaultImageUrl(): string {\n        return this._config.defaultImageUrl;\n    }\n\n    public set defaultImageUrl(value: string) {\n        this._config.defaultImageUrl = value;\n    }\n\n    public get title(): string {\n        return this._config.title;\n    }\n\n    public set title(value: string) {\n        this._config.title = value;\n    }\n\n    public get subtitle(): string {\n        return this._config.subtitle;\n    }\n\n    public set subtitle(value: string) {\n        this._config.subtitle = value;\n    }\n\n    public get imageUrl(): string {\n        return this._config.imageUrl;\n    }\n\n    public set imageUrl(value: string) {\n        this._config.imageUrl = value;\n    }\n\n    public get click(): () => void {\n        return this._config.click;\n    }\n\n    public set click(value: () => void) {\n        this._config.click = value;\n    }\n\n    public get event(): string {\n        return this._config.event;\n    }\n\n    public set event(value: string) {\n        this._config.event = value;\n    }\n\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\n        this._config.title = title;\n        this._config.subtitle = subtitle;\n        this._config.imageUrl = imageUrl;\n\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n    }\n\n    public clear(): void {\n        this._config.title = null;\n        this._config.subtitle = null;\n        this._config.imageUrl = null;\n        this._config.click = null;\n        this._config.event = null;\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavHeaderService(this._config, $rootScope);\n\n        return this._service;\n    }\n     \n}\n\n\nangular\n    .module('pipNavHeader')\n    .provider('pipNavHeader', NavHeaderProvider);\n","'use strict';\n\nangular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\n\nimport './NavHeaderService';\nimport './NavHeaderDirective';\n\nexport * from './NavHeaderService';","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nfunction NavIconDirectiveController($scope, $element, $attrs, $rootScope, $window, pipNavIcon) {\n    \"ngInject\";\n\n    // Apply class and call resize\n    $element.addClass('pip-nav-icon');\n\n    $scope.config = pipNavIcon.config;\n\n    $rootScope.$on('pipNavIconChanged', onNavIconChanged);\n\n    $scope.onNavIconClick = onNavIconClick;\n\n    function onNavIconChanged(event, config) {\n        $scope.config = config;\n    }\n\n    function onNavIconClick() {\n        var breadcrumb, backCallback;\n\n        if (_.isFunction($scope.config.click)) {\n            // Execute nav icon callback\n            $scope.config.click();\n        } else if ($scope.config.event) {\n            $rootScope.$broadcast($scope.config.event);\n        } else if ($scope.config.type == 'menu') {\n            $rootScope.$broadcast('pipOpenSideNav');\n        } else if ($scope.config.type == 'back') {\n            $window.history.back();\n        } else {\n            $rootScope.$broadcast('pipNavIconClicked');\n        }\n    }\n\n}\n\nfunction navIconDirective() {\n    return {\n        restrict: 'E',\n        scope: {\n            type: '=pipType',\n            imageUrl: '=pipImageUrl',\n            icon: '=pipIcon'\n        },\n        replace: false,\n        templateUrl: 'icon/NavIcon.html',\n        controller: NavIconDirectiveController\n    };\n}\n\n\nangular\n    .module('pipNavIcon')\n    .directive('pipNavIcon', navIconDirective);\n\n})();","'use strict';\n\nexport let NavIconChangedEvent = 'pipNavIconChanged';\n\nexport class NavIconConfig {\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\n    public type: string;\n    // Image url\n    public imageUrl: string;\n    // Icon name\n    public icon: string;\n    // Handle nav icon click event\n    click: () => void;\n    // Event name\n    event: string\n};\n\nexport interface INavIconService {\n    readonly config: NavIconConfig;\n\n    showMenu(callbackOrEvent?: any): void;\n    showIcon(icon: string, callbackOrEvent?: any): void;\n    showBack(callbackOrEvent?: any): void;\n    showImage(imageUrl: string, callbackOrEvent?: any): void;\n    hide(): void;\n}\n\nexport interface INavIconProvider extends ng.IServiceProvider {\n    config: NavIconConfig;\n\n    setMenu(callbackOrEvent?: any): void;\n    setIcon(icon: string, callbackOrEvent?: any): void;\n    setBack(callbackOrEvent?: any): void;\n    setImage(imageUrl: string, callbackOrEvent?: any): void;\n    clear(): void;\n}\n\nclass NavIconService implements INavIconService {\n    private _config: NavIconConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(config: NavIconConfig, $rootScope: ng.IRootScopeService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent)) {\n            this._config.click = callbackOrEvent;\n            this._config.event = null;\n        } else if (_.isString(callbackOrEvent)) {\n            this._config.click = null;\n            this._config.event = callbackOrEvent;\n        } else {\n            this._config.click = null;\n            this._config.event = null;\n        }\n    }\n\n    public showMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n        this.sendConfigEvent();\n    }\n\n    public hide(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$broadcast(NavIconChangedEvent, this._config);\n    }\n}\n\nclass NavIconProvider implements INavIconProvider {\n    private _config: NavIconConfig = new NavIconConfig();\n    private _service: NavIconService;\n\n    public get config(): NavIconConfig {\n        return this._config;\n    }\n\n    public set config(value: NavIconConfig) {\n        this._config = value || new NavIconConfig();\n    }\n\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\n        if (_.isFunction(callbackOrEvent))\n            this._config.click = callbackOrEvent;\n        else this._config.click = null;\n\n        if (_.isString(callbackOrEvent))\n            this._config.event = callbackOrEvent;\n        else this._config.event = null;\n    }\n\n    public setMenu(callbackOrEvent?: any): void {\n        this._config.type = 'menu';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setIcon(icon: string, callbackOrEvent?: any): void {\n        this._config.type = 'icon';\n        this._config.icon = icon;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setBack(callbackOrEvent?: any): void {\n        this._config.type = 'back';\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\n        this._config.type = 'image';\n        this._config.imageUrl = imageUrl;\n        this.setCallbackOrEvent(callbackOrEvent);\n    }\n\n    public clear(): void {\n        this._config.type = 'none';\n        this.setCallbackOrEvent(null);\n    }\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavIconService(this._config, $rootScope);\n\n        return this._service;\n    }\n     \n}\n\n\nangular\n    .module('pipNavIcon')\n    .provider('pipNavIcon', NavIconProvider);\n","'use strict';\n\nangular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavIconService';\nimport './NavIconDirective';\n\nexport * from './NavIconService';\n","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nclass LanguagePickerDirectiveController {\n    private _translate: any;\n    private _timeout: ng.ITimeoutService;\n\n    public constructor(\n        $scope: any, \n        $element: any, \n        $attrs: any, \n        $rootScope: ng.IRootScopeService, \n        $timeout: ng.ITimeoutService,\n        $injector: any\n    ) {\n        \"ngInject\";\n\n        this._timeout = $timeout;\n        this._translate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        // Apply class and call resize\n        $element.addClass('pip-language-picker');\n\n        this.languages = $scope.languages;\n\n        // Todo: Where is this event coming from? Why not through service or attribute?\n        $rootScope.$on('pipSetLanguages', this.setLanguages);\n    }\n\n    public languages: string[] = ['en', 'ru'];\n\n    public get language() {\n        return this._translate ? this._translate.language : null;\n    }\n\n    public setLanguages(lang) {\n        this.languages = lang.length > 0 ? lang : ['en', 'ru'];\n    }\n\n    public onLanguageClick(language) {\n        if (this._translate != null) {\n            this._timeout(() => {\n                this._translate.language = this.language;\n            }, 0);\n        }\n    }\n\n}\n\nfunction languagePickerDirective() {\n    return {\n        restrict: 'E',\n        scope: {\n            languages: '=languages',\n        },\n        replace: false,\n        templateUrl: function (element, attr) {\n            return 'language/LanguagePicker.html';\n        },\n        controller: LanguagePickerDirectiveController,\n        controllerAs: 'vm'\n    };\n}\n\nangular\n    .module('pipLanguagePicker', [\n        'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\n    ])\n    .directive('pipLanguagePicker', languagePickerDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function NavMenuDirectiveController($scope, $element, $rootScope, $window, $location, $timeout, $injector, pipSideNav, pipNavMenu) {\n        \"ngInject\";\n\n        var animationDuration = 450,\n            pipSideNavElement = $element.parent().parent();\n        // Apply class and call resize\n        $element.addClass('pip-sticky-nav-menu');\n\n        $scope.sections = $scope.sections || pipNavMenu.sections;\n        // $scope.showTooltip = true;\n        // pipNavMenu.sections = $scope.sections;\n        setCollapsible();\n        // todo set from services\n        $scope.defaultIcon = pipNavMenu.defaultIcon;\n\n        onStateChanged(null, pipSideNav.state);\n\n        $rootScope.$on('pipNavMenuChanged', onConfigChanged);\n        $rootScope.$on('pipSideNavStateChanged', onStateChanged);\n\n        $scope.itemVisible = isHidden;\n        $scope.clickLink = clickLink;\n        $scope.isSectionEmpty = isSectionEmpty;\n        $scope.onExpand = onExpand;\n        $scope.isActive = isActive;\n\n        return;\n\n        function setCollapsible() {\n            var collapsed;\n            if (angular.isFunction($scope.collapsed)) {\n                collapsed = $scope.collapsed();\n            } else {\n                collapsed = $scope.collapsed !== false && $scope.collapsed !== 'false';\n            }\n\n            $scope.isCollapsed = collapsed;\n        }\n\n        function onExpand() {\n            if (!$scope.isCollapsed) { return }\n\n            $scope.expanded = !$scope.expanded;\n\n            if ($scope.expanded) {\n                pipSideNavElement.removeClass('pip-sticky-nav-small');\n            } else {\n                pipSideNavElement.addClass('pip-sticky-nav-small');\n            }\n            $rootScope.$emit('pipNavExpanded', $scope.expanded);\n        }\n\n        function isHidden(item) {\n            return item && item.access && !item.access(item);\n        }\n\n        function isSectionEmpty(linkCollection) {\n            var result = true;\n            _.each(linkCollection, function (link) {\n                if (!isHidden(link))\n                    result = false;\n            });\n            return result;\n        }\n\n        function onConfigChanged(event, config) {\n            if (!config) return;\n\n            $scope.sections = config.sections;\n        }\n\n        function onStateChanged(event, state) {\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\n            //pipNavMenu.collapsed(state.expand);\n            if (!state) return;\n\n            $scope.isCollapsed = state.expand;\n            $scope.expanded = state.isExpanded;\n            $scope.expandedButton = state.expandedButton;\n\n            $scope.sideNavState = state;\n        }\n\n        function isActive(link) {\n            if (link.parentState) {\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\n                if ($state != null && $state.includes(link.parentState)) {\n                    return true;\n                }\n            } else if (link.state) {\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\n                if ($state != null && $state.includes(link.state)) {\n                    return true;\n                }\n            } else if (link.href) {\n                if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\n                    return true;\n                }\n            } else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\n                    return true;\n                }\n            }\n\n\n            return false;\n        }\n\n        function clickLink(event, link) {\n            event.stopPropagation();\n\n            if (!link) {\n                pipSideNav.close();\n                return;\n            }\n\n            if (link.href) {\n                if (link.href.split('?')[0] === $window.location.href.split('?')[0]) {\n                    pipSideNav.close();\n                    return;\n                }\n\n                pipSideNav.close();\n                $timeout(function () {\n                    $window.location.href = link.href;\n                }, animationDuration);\n\n                return;\n            }\n            else if (link.url) {\n                if (link.url.split(/[\\s/?]+/)[1] === $location.url().split(/[\\s/?]+/)[1]) {\n                    pipSideNav.close();\n                    return;\n                }\n\n                pipSideNav.close();\n                $timeout(function () {\n                    $location.url(link.url);\n                }, animationDuration);\n\n                return;\n            }\n            else if (link.state) {\n                var $state = $injector.has('$state') ? $injector.get('$state') : null;\n\n                if ($state != null && $state.current.name === link.state) {\n                    pipSideNav.close();\n                    return;\n                }\n\n                pipSideNav.close();\n                $timeout(function () {\n                    if ($injector.has('$state')) {\n                        var $state = $injector.get('$state');\n                        $state.go(link.state, link.stateParams);\n                    }\n                }, animationDuration);\n\n                return;\n            }\n            else if (link.event)\n                $rootScope.$broadcast(link.event, link);\n\n            pipSideNav.close();\n        }\n    }\n\n    function navMenuDirective() {\n        return {\n            restrict: 'EA',\n            scope: {\n                // sections: '?=pipSections',\n                // collapsed: '=pipCollapsed'\n            },\n            replace: false,\n            templateUrl: 'menu/NavMenu.html',\n            controller: NavMenuDirectiveController\n        };\n    }\n\n    angular\n        .module('pipNavMenu')\n        .directive('pipNavMenu', navMenuDirective);\n\n})();","'use strict';\n\nexport let NavMenuChangedEvent = 'pipNavMenuChanged';\n\nexport class NavMenuLink {\n    // Name to refer to the item\n    public name: string;\n    // Link visible title\n    public title: string;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Counter badge\n    public count?: number;\n    // class for badge style\n    public badgeStyle?: string;\n    // Access function\n    public access?: (link: NavMenuLink) => boolean;\n    // window.location.href\n    public href?: string;\n    // $location.url\n    public url?: string;\n    // $state.go(state, stateParams)\n    public state?: string;\n    // Parameters for $state.go(state, stateParams)\n    public stateParams?: any;\n    // parent state or parent state for selection item \n    public parentState?: string;\n    // $rootScope.broadcast(event)\n    public event?: string;\n    // Click callback\n    public click?: (link: NavMenuLink) => void;\n}\n\nexport class NavMenuSection {\n    // Name to refer to the section\n    public name: string;\n    // Section visible title\n    public title?: string;\n    // Icon name from $iconProvider\n    public icon?: string;\n    // Links shown in the section\n    public links: NavMenuLink[];\n    // Access function\n    public access?: (section: NavMenuSection) => boolean;\n}\n\nexport class NavMenuConfig {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n}\n\nexport interface INavMenuService {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n    updateCount(link: string, count: number): void; \n    updateBadgeStyle(link: string, style: string): void;\n    clearCounts(): void;\n}\n\nexport interface INavMenuProvider extends ng.IServiceProvider {\n    sections: NavMenuSection[];\n    defaultIcon: string;\n}\n\nclass NavMenuService implements INavMenuService {\n    private _config: NavMenuConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: NavMenuConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n    }\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n        this.sendChangeEvent();\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public updateBadgeStyle(link: string, style: string): void {\n        if (link == null || !_.isString(style)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.badgeStyle = style;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n        this.sendChangeEvent();\n    }\n\n    public updateCount(link: string, count: number): void {\n        if (link == null || !_.isNumber(count)) return;\n\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                if (l.name == link)\n                    l.count = count;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    public clearCounts(): void {\n        _.each(this._config.sections, (s) => {\n            _.each(s.links, (l) => {\n                l.count = null;\n            });\n        });\n\n        this.sendChangeEvent();\n    }\n\n    private sendChangeEvent() {\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\n    }\n}\n\nclass NavMenuProvider implements INavMenuProvider {\n    private _config: NavMenuConfig = {\n        sections: [],\n        defaultIcon: 'icons:folder'\n    };\n    private _service: NavMenuService;\n\n    public get sections(): NavMenuSection[] {\n        return this._config.sections;\n    }\n\n    public set sections(value: NavMenuSection[]) {\n        this._config.sections = value || [];\n    }\n\n    public get defaultIcon(): string {\n        return this._config.defaultIcon;\n    }\n\n    public set defaultIcon(value: string) {\n        this._config.defaultIcon = value;\n    }\n\n    public $get($rootScope) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new NavMenuService(this._config, $rootScope);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipNavMenu')\n    .provider('pipNavMenu', NavMenuProvider);\n","'use strict';\n\nangular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './NavMenuService';\nimport './NavMenuDirective';\n\nexport * from './NavMenuService';","'use strict';\n\nimport { SearchConfig } from './SearchService';\nimport { ISearchService } from './SearchService';\nimport { SearchChangedEvent } from './SearchService';\nimport { SearchActivatedEvent } from './SearchService';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\nclass SearchBarController {\n    private _rootScope: ng.IRootScopeService;\n    private _element: any;\n\n    public config: SearchConfig;\n    public enabled: boolean = false;\n    public search: any = { text: '' };\n\n    public constructor (\n        $element, \n        $rootScope: ng.IRootScopeService, \n        pipSearch: ISearchService\n    ) {\n        \"ngInject\";\n\n        this._rootScope = $rootScope;\n        this._element = $element;\n\n        // Apply class and call resize\n        $element.addClass('pip-search-bar');\n\n        this.config = pipSearch.config;\n        this.stateChange();\n        $rootScope.$on(SearchChangedEvent, (event, config) => { \n            this.onSearchChanged(event, config); \n        });\n    }\n\n    private stateChange() {\n        if (this.enabled) {\n            // this._element.addClass('w-stretch');\n            this._element.addClass('w-stretch');\n            this._element.parent().addClass('pip-search-active');\n\n        } else {\n            // this._element.removeClass('w-stretch');\n            this._element.removeClass('w-stretch');\n            this._element.parent().removeClass('pip-search-active');\n        }\n    }\n\n    private onSearchChanged(event, config) {\n        this.config = config;\n        this.enabled = false;\n        this.search.text = '';\n        this.stateChange();\n    }\n\n    private focusText() {\n        setTimeout(() => {\n            let element = $('.pip-search-text');\n            if (element.length > 0)\n                element.focus();\n        }, 0);\n    }\n\n    public enable() {\n        this.search.text = this.config.criteria;\n        this.enabled = true;\n        this.focusText();\n        this.stateChange();\n    }\n\n    public onClick() {\n        let search = this.search.text;\n\n        this.search.text = '';\n        this.enabled = false;\n        this.stateChange();\n\n        if (this.config.callback)\n            this.config.callback(search);\n        else\n            this._rootScope.$broadcast(SearchActivatedEvent, search);\n    }\n\n    public clear() {\n        if (this.search.text) {\n            this.search.text = '';\n            this.focusText();\n        } else {\n            this.enabled = false;\n            this.stateChange();\n            this.onClick();\n        }\n    }\n\n    public onKeyDown(event: any) {\n        // Enter pressed\n        if (event.keyCode === 13)\n            this.onClick();\n        // ESC pressed\n        else if (event.keyCode === 27) {\n            this.enabled = false;\n            this.stateChange();\n        }\n    }\n}\n\n\nfunction searchBarDirective() {\n    return {\n        restrict: 'E',\n        scope: {},\n        replace: false,\n        templateUrl: 'search/SearchBar.html',\n        controller: SearchBarController,\n        controllerAs: 'vm'\n    };\n}\n\nangular.module('pipSearchBar')\n    .directive('pipSearchBar', searchBarDirective);\n\n})();","'use strict';\n\nexport let OpenSearchEvent = 'pipOpenSearch';\nexport let CloseSearchEvent = 'pipCloseSearch';\nexport let SearchChangedEvent = 'pipSearchChanged';\nexport let SearchActivatedEvent = 'pipSearchActivated';\n\nexport class SearchConfig {\n    // Search visible\n    public visible: boolean;\n    // Search criteria\n    public criteria: string;\n    // Custom search parameters\n    public params: any;\n    // History for search autocomplete\n    public history: string[];\n    // Callback for search\n    callback: (criteria: string) => void;\n}\n\nexport interface ISearchService {\n    config: SearchConfig;\n    criteria: string;\n    params: any;\n    history: string[];\n    callback: (criteria: string) => void;\n\n    set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void;\n    clear(): void;\n    open(): void;\n    close(): void;\n    toggle(): void;\n}\n\nexport interface ISearchProvider extends ng.IServiceProvider {    \n}\n\n\nclass SearchService implements ISearchService {\n    private _config: SearchConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor(\n        config: SearchConfig,\n        $rootScope: ng.IRootScopeService\n    ) {\n        this._config = config;\n        this._rootScope = $rootScope;\n\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\n    }\n\n    public get config(): SearchConfig {\n        return this._config;\n    }\n\n    public get criteria(): string {\n        return this._config.criteria;\n    }\n\n    public set criteria(value: string) {\n        this._config.criteria = value;\n        this.sendConfigEvent();\n    }\n\n    public get params(): any {\n        return this._config.params;\n    }\n\n    public set params(value: any) {\n        this._config.params = value;\n        this.sendConfigEvent();\n    }\n\n    public get history(): string[] {\n        return this._config.history;\n    }\n\n    public set history(value: string[]) {\n        this._config.history = value;\n        this.sendConfigEvent();\n    }\n\n    public get callback(): (criteria: string) => void {\n        return this._config.callback;\n    }\n\n    public set callback(value: (criteria: string) => void) {\n        this._config.callback = value;\n        this.sendConfigEvent();\n    }\n\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\n        this._config.callback = callback;\n        this._config.criteria = criteria;\n        this._config.params = params;\n        this._config.history = history;\n        this.sendConfigEvent();\n    }\n\n    public clear(): void {\n        this._config.callback = null;\n        this._config.criteria = null;\n        this._config.params = null;\n        this.sendConfigEvent();\n    }\n\n    public open(): void {\n        this._config.visible = true;\n        this.sendConfigEvent();                \n    }\n            \n    public close(): void {\n        this._config.visible = false;        \n        this.sendConfigEvent();                \n    }                \n\n    public toggle(): void {\n        this._config.visible = !this._config.visible;\n        this.sendConfigEvent();                \n    }                   \n\n    private sendConfigEvent(): void {\n        this._rootScope.$broadcast(SearchChangedEvent, this._config);\n    }\n}\n\nclass SearchProvider implements ISearchProvider {\n    private _config: SearchConfig = new SearchConfig();\n    private _service: SearchService = null;\n\n    public $get($rootScope: ng.IRootScopeService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SearchService(this._config, $rootScope);\n\n        return this._service;\n    } \n}\n\n\nangular.module('pipSearchBar')\n    .provider('pipSearch', SearchProvider);\n","'use strict';\n\nangular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\n\nimport './SearchService';\nimport './SearchBarDirective';\n\nexport * from './SearchService';","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function SideNavDirectiveController($scope, $element, $rootScope, $injector, $mdMedia, $timeout, pipSideNav) {\n        \"ngInject\";\n\n        // var pipMedia = $mdMedia, \n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null,\n            pipSystemInfo = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null,\n            mainContainer = '.pip-main',\n            bigWidth = 320, // expanded sidenav width\n            middleWidth = 240,\n            smallWidth = 72, // shrink sidenav width\n            isResizing = false,\n            animationDuration = 600,\n            mediaBreakpoints;\n\n        pipMedia = pipMedia !== undefined ? pipMedia : $mdMedia;\n\n        $scope.navState = {\n            toggle: { // media(sm, xs)\n                id: 'toggle',\n                addClass: 'sidenav-mobile', // change size, color, selected?\n                showHeader: true,\n                isLockedOpen: false,\n                expandedButton: false,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: false\n            },\n            small: { // media(md)\n                id: 'small',\n                addClass: 'pip-sticky-nav-small sidenav-smalldesktop', // change size, color, selected?\n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: false,\n                isExpanded: false,\n                expand: false,\n                showIconTooltype: true\n            },\n            large: { // media(lg)\n                id: 'large',\n                addClass: 'sidenav-smalldesktop', // change size, color, selected?\n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: true,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: true\n            },\n            xlarge: { // media(xl)\n                id: 'xlarge',\n                addClass: 'sidenav-desktop', // change size, color, selected?\n                showHeader: false,\n                isLockedOpen: true,\n                expandedButton: false,\n                isExpanded: true,\n                expand: true,\n                showIconTooltype: false\n            }\n        };\n\n        mediaBreakpoints = setBreakpoints();\n\n        // Apply class and call resize\n        $element.addClass('pip-sticky-sidenav');\n\n        // check Safari\n        checkSafari();\n\n        if (pipSideNav.config && pipSideNav.config.type != 'popup') {\n            $timeout(function () {\n                setSideNaveState()\n            }, 100);\n\n            var windowResize = _.debounce(setSideNaveState, 10);\n            $rootScope.$on('pipMainResized', windowResize);\n            $rootScope.$on('pipSideNavState', onSideNavState);\n        } else {\n            isResizing = false;\n            $scope.sidenavState = null;\n            $timeout(function () {\n                setState('toggle');\n            }, 100);\n\n        }\n\n        $rootScope.$on('pipNavIconClicked', onNavIconClick);\n        $rootScope.$on('pipSideNavChanged', onSideNavChanged);\n\n        return;\n\n        function checkSafari() {\n            if (!pipSystemInfo || pipSystemInfo.browserName != 'safari') {\n                // $element.addClass('sidenav-animate');\n            }\n        }\n\n        //------------------------\n        function setBreakpoints() {\n            if (!pipMedia || !angular.isObject(pipMedia.breakpoints)) {\n                return { xs: 639, sm: 959, md: 1024, lg: 1919 };\n            } else {\n                return pipMedia.breakpoints;\n            }\n        }\n\n        function onSideNavChanged(event, config) {\n            var config = config || {};\n\n            if (config.visible) {\n                $element.css('display', 'block');\n            } else {\n                $element.css('display', 'none');\n            }\n        }\n\n        function onNavIconClick(event) {\n            pipSideNav.open();\n        }\n\n        function onSideNavState(event, state) {\n            if (angular.isString(state) && $scope.navState[state] !== undefined) {\n                setState(state);\n            }\n        }\n\n        function setSideNaveState() {\n            if (pipSideNav.config && pipSideNav.config.type == 'popup') { return }\n\n            if (isResizing) {\n                $timeout(setSideNaveState, animationDuration); // for \n\n                return;\n            }\n\n            let mainWidth = $(mainContainer).innerWidth();\n            let sideNavWidth = $('.pip-sticky-sidenav').innerWidth();\n            let currentWidth = sideNavWidth ? sideNavWidth + 2 : 0; // add border width\n\n            if (mainWidth + currentWidth < mediaBreakpoints.sm ) {\n                setState('toggle', );\n                return;\n            }            \n            if (mainWidth + currentWidth < mediaBreakpoints.md ) {\n                setState('small');\n                return;\n            }   \n            if (mainWidth + currentWidth < mediaBreakpoints.lg ) {\n                setState('large');\n                return;\n            }        \n            setState('xlarge');     \n        }\n\n        function setState(state: string) {\n            if (isResizing) return;\n            if ($scope.sidenavState && $scope.sidenavState.id == state) return;\n\n            if (state != 'toggle') {\n                $element.removeClass('sidenav-mobile');\n            }\n\n            if (state != 'small') {\n                $element.removeClass('pip-sticky-nav-small');\n            }\n\n            if (state != 'xlarge') {\n                $element.removeClass('sidenav-desktop');\n            }\n\n            if (state != 'large') {\n                $element.removeClass('sidenav-smalldesktop');\n            }\n\n            isResizing = true;\n            if (state == 'toggle') {\n                pipSideNav.close();\n            }\n            $scope.sidenavState = $scope.navState[state];\n            $element.addClass($scope.sidenavState.addClass);\n\n            pipSideNav.state = $scope.sidenavState;\n            // check sideNav State\n            $timeout(function () {\n                setSideNaveState()\n            }, 15);\n\n            // complete animation\n            $timeout(function () {\n                isResizing = false;\n            }, animationDuration); //animationDuration\n\n        }\n    }\n\n    function sideNavDirective() {\n        return {\n            restrict: 'E',\n            transclude: true,\n            scope: true,\n            templateUrl: 'sidenav/SideNav.html',\n            controller: SideNavDirectiveController\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenav', sideNavDirective);\n\n})();","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function SideNavPartDirectiveController($scope, $element, $attrs, $rootScope, pipSideNav) {\n        \"ngInject\";\n\n        var partName = '' + $attrs.pipSidenavPart;\n        var partValue = null;\n\n        // Break part apart\n        var pos = partName.indexOf(':');\n        if (pos > 0) {\n            partValue = partName.substr(pos + 1);\n            partName = partName.substr(0, pos);\n        }\n\n        onSideNavChanged(null, pipSideNav.config)\n        $rootScope.$on('pipSideNavChanged', onSideNavChanged);\n\n        function onSideNavChanged(event, config) {\n            var parts = config.parts || {};\n            var currentPartValue = parts[partName];\n            var visible = !!(partValue ? currentPartValue == partValue : currentPartValue);\n\n            if (visible != $scope.visible)\n                $scope.visible = visible;\n        }\n\n    }\n\n    function sidenavPartDirective(ngIfDirective) {\n        \"ngInject\";\n\n        var ngIf = ngIfDirective[0];\n\n        return {\n            transclude: ngIf.transclude,\n            priority: ngIf.priority,\n            terminal: ngIf.terminal,\n            restrict: ngIf.restrict,\n            scope: true,\n            link: function linkFunction($scope: any, $element, $attrs) {\n                $attrs.ngIf = function () { return $scope.visible };\n                ngIf.link.apply(ngIf, arguments);\n            },\n            controller: SideNavPartDirectiveController\n        };\n    }\n\n    angular\n        .module('pipSideNav')\n        .directive('pipSidenavPart', sidenavPartDirective);\n\n})();","'use strict';\n\nexport let SideNavChangedEvent = 'pipSideNavChanged';\nexport let SideNavStateChangedEvent = 'pipSideNavStateChanged';\nexport let OpenSideNavEvent = 'pipOpenSideNav';\nexport let CloseSideNavEvent = 'pipCloseSideNav';\n\nexport class SideNavConfig {\n    parts: any;\n    classes: string[];\n    state: any;\n    type: string;\n    visible: boolean;\n}\n\nexport interface ISideNavService {\n    readonly config: SideNavConfig;\n    readonly classes: string[];\n    parts: any;\n    state: any;\n\n    open(): void;\n    close(): void;\n    toggle(): void;\n    show(): void;\n    hide(): void;\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nexport interface ISideNavProvider extends ng.IServiceProvider {\n    config: SideNavConfig;\n    parts: any;\n    type: string;\n    visible: boolean;\n    classes: string[];\n\n    addClass(...classes: string[]): void;\n    removeClass(...classes: string[]): void;\n\n    part(part: string, value: any): void;\n}\n\nclass SideNavService implements ISideNavService {\n    private _config: SideNavConfig;\n    private _state: any;\n    private _rootScope: ng.IRootScopeService;\n    private _sidenav: ng.material.ISidenavService;\n\n\n    public constructor(config: SideNavConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._sidenav = $mdSidenav;\n    }\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n        this.sendConfigEvent();\n    }\n\n    public get state(): any {\n        return this._state;\n    }\n\n    public set state(value: any) {\n        this._state = value || {};\n        this._rootScope.$broadcast(SideNavStateChangedEvent, value);\n    }\n\n    public open() {\n        this._sidenav('pip-sticky-sidenav').open();\n    }\n\n    public close() {\n        this._sidenav('pip-sticky-sidenav').close();\n    }\n\n    public toggle() {\n        this._sidenav('pip-sticky-sidenav').toggle();\n    }\n\n    public show() {\n        if (!this._config.visible) {\n            this._config.visible = true;\n            this.sendConfigEvent();\n        }\n    }\n\n    public hide() {\n        if (this._config.visible) {\n            this._config.visible = false;\n            this.sendConfigEvent();\n        }\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n        this.sendConfigEvent();\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n        this.sendConfigEvent();\n    }\n\n    private sendConfigEvent() {\n        this._rootScope.$emit(SideNavChangedEvent, this._config);\n    }\n}\n\nclass SideNavProvider implements ISideNavProvider {\n    private _config: SideNavConfig = {\n        parts: {},\n        classes: [],\n        type: 'popup',\n        state: null,\n        visible: true\n    };\n\n    private _service: SideNavService;\n\n    public get config(): SideNavConfig {\n        return this._config;\n    }\n\n    public set config(value: SideNavConfig) {\n        this._config = value || new SideNavConfig();\n    }\n\n    public get parts(): any {\n        return this._config.parts;\n    }\n\n    public set parts(value: any) {\n        this._config.parts = value || {};\n    }\n\n    public get type(): string {\n        return this._config.type;\n    }\n\n    public set type(value: string) {\n        this._config.type = value;\n    }\n\n    public get visible(): boolean {\n        return this._config.visible;\n    }\n\n    public set visible(value: boolean) {\n        this._config.visible = value;\n    }\n\n    public get classes(): string[] {\n        return this._config.classes;\n    }\n\n    public set classes(value: string[]) {\n        this._config.classes = value || [];\n    }\n\n    public addClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes.push(c);\n        });\n    }\n\n    public removeClass(...classes: string[]): void {\n        _.each(classes, (c) => {\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\n        });\n    }\n\n    public part(part: string, value: any): void {\n        this._config.parts[part] = value;\n    }\n\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\n\n        return this._service;\n    }\n}\n\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\n}\n\nangular\n    .module('pipSideNav')\n    .provider('pipSideNav', SideNavProvider)\n    .run(hookSideNavEvents);\n","'use strict';\n\nangular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\n\nimport './SideNavService';\nimport './SideNavPartDirective';\nimport './SideNavDirective';\n\nexport * from './SideNavService';","'use strict';\n\n// Prevent junk from going into typescript definitions\n(() => {\n\n    function TabsDirectiveController($scope, $element, $attrs, $mdMedia, $injector, $rootScope, $parse, $timeout) {\n        \"ngInject\";\n\n        var pipTheme = $injector.has('pipTheme') ? $injector.get('pipTheme') : null,\n            pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null,\n            pipTabIndex = $attrs.pipTabIndex ? parseInt($attrs.pipTabIndex) : 0,\n            currentTheme = 'default';\n\n        $scope.selected = {};\n\n        if (pipTheme)\n            currentTheme = pipTheme.use();\n        else if ($rootScope.$theme)\n            currentTheme = $rootScope.$theme;\n\n        $scope.class = ($attrs.class || '') + ' md-' + currentTheme + '-theme';\n\n        if (pipTranslate) {\n            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\n                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\n            } else {\n                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\n            }\n        }\n\n        if (pipTabIndex) {\n            $timeout(function () {\n                let a = $element.find('md-tabs-canvas');\n                if (a && a[0]) {\n                    angular.element(a[0]).attr('tabindex', pipTabIndex);\n                }\n                a.on('focusout', function () {\n                    angular.element(a[0]).attr('tabindex', pipTabIndex);\n                    $timeout(function () {\n                        angular.element(a[0]).attr('tabindex', pipTabIndex);\n                    }, 50);\n                });\n            }, 1000);\n        }\n        \n        $scope.media = pipMedia !== undefined ? pipMedia : $mdMedia;\n        $scope.tabs = ($scope.tabs && _.isArray($scope.tabs)) ? $scope.tabs : [];\n\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate) {\n            if ($scope.tabs.length > 0 && $scope.tabs[0].title) {\n                pipTranslate.translateObjects($scope.tabs, 'title', 'nameLocal');\n            } else {\n                pipTranslate.translateObjects($scope.tabs, 'name', 'nameLocal');\n            }\n        }\n\n        $scope.selected.activeIndex = $scope.activeIndex || 0;\n        $scope.selected.activeTab = $scope.selected.activeIndex;\n\n        $scope.disabled = disabled;\n        $scope.tabDisabled = tabDisabled;\n        $scope.onSelect = onSelect;\n        $scope.showShadow = showShadow;\n        $scope.show = show;\n\n        if (toBoolean($attrs.pipRebind)) {\n            $scope.$watch('activeIndex', function (newValue) {\n                $scope.selected.activeIndex = newValue || 0;\n                $scope.selected.activeTab = $scope.selected.activeIndex;\n            });\n        }\n\n        return;\n\n        function disabled() {\n            if ($scope.ngDisabled) {\n                return $scope.ngDisabled();\n            }\n        };\n\n        function tabDisabled(index) {\n            return ($scope.disabled() && $scope.selected.activeIndex != index);\n        };\n\n        function onSelect(index) {\n            if ($scope.disabled()) return;\n            $scope.activeIndex = index;\n            $scope.selected.activeIndex = index;\n            $scope.selected.activeTab = $scope.selected.activeIndex;\n            if ($scope.select) {\n                $scope.select($scope.tabs[$scope.selected.activeIndex], $scope.selected.activeIndex);\n            }\n        };\n\n        function showShadow() {\n            if ($scope.showTabsShadow) {\n                return $scope.showTabsShadow();\n            } else {\n                return false;\n            }\n        };\n\n        function show() {\n            if ($scope.showTabs) {\n                return $scope.showTabs();\n            } else {\n                return true;\n            }\n        };\n\n        function toBoolean(value) {\n            if (value == null) return false;\n            if (!value) return false;\n            value = value.toString().toLowerCase();\n            return value == '1' || value == 'true';\n        }\n\n    }\n\n\n    function tabsDirective() {\n        return {\n            restrict: 'E',\n            scope: {\n                ngDisabled: '&',\n                tabs: '=pipTabs',\n                showTabs: '&pipShowTabs',\n                showTabsShadow: '&pipTabsShadow',\n                activeIndex: '=pipActiveIndex',\n                select: '=pipTabsSelect'\n            },\n            templateUrl: 'tabs/Tabs.html',\n            controller: TabsDirectiveController\n        };\n    }\n\n\n    angular\n        .module(\"pipTabs\", ['pipNav.Templates'])\n        .directive('pipTabs', tabsDirective);\n\n})();","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"isHidden(action)\" aria-label=\"{{action.title | translate}}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{actionCount(action)}}</div><md-icon md-svg-icon=\"{{action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"clickAction(subAction)\">{{::subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"clickAction(action, $mdOpenMenu);\" ng-hide=\"isHidden(action)\" tabindex=\"-1\" aria-label=\"{{action.title | translate}}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{actionCount(action)}}</div><md-icon md-svg-icon=\"{{action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"clickAction(subAction)\">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-click=\"onSecondaryActionClick(); openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"clickAction(action)\">{{::action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"clickAction(action)\">{{::action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"{{ config.classes.join(\\' \\') }}\" ng-if=\"config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div style=\"height: 23px;\"><div class=\"hide-xs text-overflow\"><span ng-if=\"vm.config.criteria\" ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span><span class=\"pip-breadcrumb-item {{$last ? \\'breadcrumb-accent\\' : \\'\\'}}\" ng-if=\"vm.config.items && vm.config.items.length > 0\" ng-repeat-start=\"item in vm.config.items\" ng-click=\"vm.onClick(item)\" ng-init=\"stepWidth = 100/(vm.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span class=\"hide-xs\" ng-if=\"!$last || !vm.actionsVisible(item)\">{{item.title | translate}}</span><div ng-if=\"$last && vm.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu class=\"hide-xs\" md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{$last ? \\'breadcrumb-accent\\' : \\'\\'}}\" ng-click=\"vm.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{item.title | translate}}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"vm.onSubActionClick(subItem)\" ng-hide=\"action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{subItem.icon}}\"></md-icon><span>{{subItem.title | translate}}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span></div><div style=\"position: relative;\" class=\"hide-gt-xs\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"vm.config.items && vm.config.items.length > 1 ? $mdOpenMenu() : return\" aria-label=\"open breadcrumb\"><span class=\"text-overflow\"><span ng-if=\"vm.config.criteria\" ng-click=\"vm.openSearch()\">{{vm.config.criteria}} -</span> <span class=\"breadcrumb-accent\" ng-if=\"vm.config.text\">{{vm.config.text | translate}}</span> <span ng-if=\"vm.config.items && vm.config.items.length > 0\" class=\"breadcrumb-accent {{(vm.config.items && vm.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{vm.config.items[vm.config.items.length - 1].title | translate}}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"vm.config.items && vm.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in vm.config.items\" ng-if=\"vm.config.items && vm.config.items.length > 0\"><md-button ng-click=\"vm.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{item.icon}}\"></md-icon><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item ng-if=\"vm.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{vm.config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{class}}\" ng-if=\"show()\" ng-class=\"{\\'md-whiteframe-3dp\\': media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"selectedIndex\" tabindex=\"15\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"onSelect(selectedIndex)\"><md-option ng-repeat=\"action in actions\" value=\"{{ ::$index }}\" ng-selected=\"activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"onUserClick()\" aria-label=\"current user\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"onUserClick()\">{{ title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"config.type != \\'none\\'\" ng-class=\"config.class\" ng-click=\"onNavIconClick()\" tabindex=\"{{config.type==\\'menu\\' || config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{config.imageUrl}}\" ng-if=\"config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"config.type==\\'icon\\'\" md-svg-icon=\"{{config.icon}}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{vm.language | translate}}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in vm.languages\"><md-button ng-click=\"vm.onLanguageClick(lang)\" tabindex=\"7\">{{language | translate}}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\" ng-if=\"sections && sections.length\"><md-list class=\"sidenav-list\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"onExpand()\" ng-disabled=\"!isCollapsed\" tabindex=\"-1\" ng-if=\"expandedButton\"><md-icon md-svg-icon=\"icons:chevron-left\" ng-if=\"expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon><md-icon md-svg-icon=\"icons:chevron-right\" ng-if=\"!expanded\" class=\"pip-sticky-nav-menu-icon\"></md-icon></md-list-item><md-divider ng-show=\"expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in sections\" ng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"expanded\" class=\"pip-sticky-nav-menu-title section-title\">{{::section.title | translate}}</span><md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"!sideNavState.showIconTooltype && !expanded && section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"></md-icon><md-icon md-svg-icon=\"{{section.icon}}\" ng-if=\"sideNavState.showIconTooltype && !expanded && section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{::section.title | translate}}</md-tooltip></md-icon><md-icon md-svg-icon=\"{{defaultIcon}}\" ng-if=\"!sideNavState.showIconTooltype && !expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"></md-icon><md-icon md-svg-icon=\"{{defaultIcon}}\" ng-if=\"sideNavState.showIconTooltype && !expanded && !section.icon\" class=\"pip-sticky-nav-menu-icon section-icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{::section.title | translate}}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" ng-repeat=\"link in section.links\" tabindex=\"-1\" ng-class=\"{\\'active\\': isActive(link)}\" ng-hide=\"link.access && !link.access(link)\"><md-button class=\"layout-row layout-align-start-center\" tabindex=\"-1\" ng-click=\"clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon md-svg-icon=\"{{link.icon}}\" ng-if=\"!(sideNavState.showIconTooltype && !expanded)\" ng-hide=\"!link.icon\" class=\"pip-sticky-nav-menu-icon flex-fixed\"></md-icon><md-icon md-svg-icon=\"{{link.icon}}\" ng-hide=\"!link.icon\" ng-if=\"sideNavState.showIconTooltype && !expanded\" class=\"pip-sticky-nav-menu-icon flex-fixed\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\">{{::link.title | translate}}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{::link.title | translate}}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{link.count}}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"vm.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"vm.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"vm.search.text\" ng-keydown=\"vm.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"vm.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!vm.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"vm.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar class=\"pip-nav {{ class }}\" ng-class=\"{\\'pip-visible\\': show(), \\'pip-shadow\\': showShadow()}\"><md-tabs ng-if=\"media(\\'gt-xs\\')\" md-selected=\"selected.activeTab\" ng-class=\"{\\'disabled\\': disabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in tabs track by $index\" ng-disabled=\"tabDisabled($index)\" md-on-select=\"onSelect($index)\"><md-tab-label>{{::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{ tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"media(\\'xs\\')\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"selected.activeIndex\" ng-disabled=\"disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"onSelect(selected.activeIndex)\"><md-option ng-repeat=\"tab in tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 0 && tab.newCounts <= 99\">{{ tab.newCounts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.newCounts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n","'use strict';\n\nfunction configureBootBarnCoolTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-cool': 'Cool'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-cool': ''\n    // });\n    \n    let coolBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(69, 90, 100, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-background', coolBackgroundPalette);\n\n    let coolPrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(69, 90, 100, .54)',\n        '500': 'rgba(69, 90, 100, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-primary', coolPrimaryPalette);\n\n\n    let coolAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-cool-accent', coolAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-cool')\n        .primaryPalette('bootbarn-cool-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-cool-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-cool-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.BootBarn.Cool', [ 'ngMaterial' ])\n    .config(configureBootBarnCoolTheme);\n","'use strict';\n\nfunction configureBootBarnMonochromeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-monochrome': 'Monochrome'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-monochrome': ''\n    // });\n    \n    let monochromeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(38, 50, 56, 1)'\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-background', monochromeBackgroundPalette);\n\n    let monochromePrimaryPalette = $mdThemingProvider.extendPalette('grey', {\n        '300': 'rgba(38, 50, 56, .54)',\n        '500': 'rgba(38, 50, 56, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-primary', monochromePrimaryPalette);\n\n    let monochromeAccentPalette = $mdThemingProvider.extendPalette('green', {\n        'A700': 'rgba(76, 175, 80, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-monochrome-accent', monochromeAccentPalette);\n\n    $mdThemingProvider.theme('bootbarn-monochrome')\n        .primaryPalette('bootbarn-monochrome-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('bootbarn-monochrome-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('bootbarn-monochrome-accent', {\n            'default': 'A700'\n        });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.BootBarn.Monochrome', [ 'ngMaterial' ])\n    .config(configureBootBarnMonochromeTheme);\n","'use strict';\n\nfunction configureBootBarnWarmTheme($mdThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     'bootbarn-warm': 'Warm'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     'bootbarn-warm': 'Коричневая'\n    // });\n\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    let warmBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(177, 55, 34, 1)'\n        })\n        ;\n    $mdThemingProvider.definePalette('bootbarn-warm-background', warmBackgroundPalette);\n\n    let warmPrimaryPalette = $mdThemingProvider.extendPalette('brown', {\n        '300': 'rgba(177, 55, 34, .54)',\n        '500': 'rgba(177, 55, 34, 1)',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-primary', warmPrimaryPalette);\n\n\n    let warmAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'A700': 'rgba(127, 148, 92, 1)',\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-accent', warmAccentPalette);\n\n    let warmErrorPalette = $mdThemingProvider.extendPalette('red', {\n        'A200': 'rgba(255, 82, 82, 1)',\n        'contrastLightColors': ['A200']\n    });\n    $mdThemingProvider.definePalette('bootbarn-warm-error', warmErrorPalette);\n\n    $mdThemingProvider.theme('bootbarn-warm')\n    .primaryPalette('bootbarn-warm-primary', {\n        'default': '500',\n        'hue-1': '300'\n    })\n    .backgroundPalette('bootbarn-warm-background', {\n        'default': '50',  // background\n        'hue-1': 'A200',  // tiles dialog\n        'hue-2': 'A700'   // app bar\n    })\n    .warnPalette('bootbarn-warm-error', {\n        'default': 'A200'\n    })\n    .accentPalette('bootbarn-warm-accent', {\n        'default': 'A700'\n    });\n}\n\nangular.module('pipTheme.BootBarn.Warm', [ 'ngMaterial' ])\n    .config(configureBootBarnWarmTheme);\n","'use strict';\n\nimport './BootBarnCoolTheme';\nimport './BootBarnWarmTheme';\nimport './BootBarnMonochromeTheme';\n\nangular.module('pipTheme.BootBarn', [\n    'ngMaterial',\n    'pipTheme.BootBarn.Warm',\n    'pipTheme.BootBarn.Cool',\n    'pipTheme.BootBarn.Monochrome',\n]);\n","'use strict';\n\nexport let ThemeRootVar = \"$theme\";\nexport let ThemeChangedEvent = \"pipThemeChanged\";    \nexport let ThemeResetPage = \"pipResetPage\";    \n\nexport interface IThemeService {\n    theme: string;\n    use(language: string): string;\n}\n\nexport interface IThemeProvider extends IThemeService, ng.IServiceProvider {\n    setRootVar: boolean;\n    persist: boolean;\n}\n\nclass ThemeConfig {\n    public theme: string;\n}\n\nclass ThemeService implements IThemeService {\n    private _config: ThemeConfig;\n    private _setRootVar: boolean;\n    private _persist: boolean;\n    private _rootScope: ng.IRootScopeService;\n    private _log: ng.ILogService;\n    private _window: ng.IWindowService;\n    private _theming: any;\n    private _currentTheme: string = null;\n\n    public constructor(\n        config: ThemeConfig,\n        setRootVar: boolean,\n        persist: boolean,\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService,\n        $window: ng.IWindowService,\n        $mdTheming: any\n    ) {\n        this._setRootVar = setRootVar;\n        this._persist = persist;\n        this._config = config;\n        this._rootScope = $rootScope;\n        this._log = $log;\n        this._window = $window;\n        this._theming = $mdTheming;\n\n        if (this._persist && this._window.localStorage && this._config.theme == \"default\")\n            this._config.theme = this._window.localStorage.getItem('theme') || this._config.theme;\n\n        this._log.debug(\"Set theme to \" + this._config.theme);\n\n        // Define theme for angular material \n        $('body').attr('md-theme', '{{' + ThemeRootVar + '}}');\n        this.save();\n    }\n\n    private save(): void {\n        let body = $('body');\n        let newTheme = this._config.theme;\n\n        // Switch material theme\n        // body.attr('md-theme', newTheme);\n\n        // Change custom theme\n        body.addClass(newTheme);\n        if (this._currentTheme != null && this._currentTheme != newTheme)\n            body.removeClass(this._currentTheme);            \n\n        this._currentTheme = newTheme;\n\n        // Set root scope variable\n        if (this._setRootVar)\n            this._rootScope[ThemeRootVar] = this._config.theme;\n\n        // Save in local storage\n        if (this._persist && this._window.localStorage != null)\n            this._window.localStorage.setItem('theme', this._config.theme);\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        if (value != this._config.theme) {\n            if (!(value in this._theming.THEMES))\n                throw new Error('Theme ' + value + ' is not defined. Please, register it first with $mdThemingProvider');\n\n            this._config.theme = value;\n            \n            this._log.debug(\"Changing theme to \" + value);\n\n            this.save();                \n\n            this._rootScope.$emit(ThemeChangedEvent, value);\n            this._rootScope.$emit(ThemeResetPage);\n        }\n    }\n\n    public use(theme: string): string {\n        if (theme != null)\n            this.theme = theme;\n        return this.theme;\n    }\n\n}\n\nclass ThemeProvider implements IThemeProvider {\n    private _config: ThemeConfig = new ThemeConfig();\n    private _setRootVar: boolean = true;\n    private _persist: boolean = true;\n    private _service: ThemeService;\n    \n    public constructor() {\n        this._config.theme = \"default\";\n    }\n\n    public get setRootVar(): boolean {\n        return this._setRootVar;  \n    }\n\n    public set setRootVar(value: boolean) {\n        this._setRootVar = !!value;\n    }\n\n    public get persist(): boolean {\n        return this._persist;  \n    }\n\n    public set persist(value: boolean) {\n        this._persist = !!value;\n    }\n\n    public get theme(): string {\n        return this._config.theme;\n    }\n\n    public set theme(value: string) {\n        this._config.theme = value;\n    }\n\n    public use(theme: string): string {\n        if (theme != null)\n            this.theme = theme;\n        return this.theme;\n    }\n\n    public $get(\n        $rootScope: ng.IRootScopeService,\n        $log: ng.ILogService, \n        $window: ng.IWindowService,\n        $mdTheming: any\n    ): any {\n        \"ngInject\";\n\n        if (this._service == null) \n            this._service = new ThemeService(this._config, this._setRootVar, this._persist, $rootScope, $log, $window, $mdTheming);\n\n        return this._service;\n    }\n}\n\nfunction initTheme(pipTheme: IThemeService) {\n    pipTheme.theme;\n}\n\nangular\n    .module('pipTheme')\n    .provider('pipTheme', ThemeProvider)\n    .run(initTheme);\n","'use strict';\n\nangular.module('pipTheme', ['ngMaterial']);\n\nimport './ThemeService';\n\nexport * from './ThemeService';\n","'use strict';\n\nfunction configureDefaultAmberTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     amber: 'Amber'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     amber: 'Янтарная'\n    // });\n\n    let orangeBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)'\n    });\n    $mdThemingProvider.definePalette('orange-background', orangeBackgroundPalette);\n\n    let orangePrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 152, 0, 1)',\n        '900': 'rgba(255, 152, 0, .54);'\n    });\n    $mdThemingProvider.definePalette('orange-primary', orangePrimaryPalette);\n\n    $mdThemingProvider.theme('amber')\n        .primaryPalette('orange-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('orange-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('orange', {\n            'default': '900'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Amber', [ 'ngMaterial' ])\n    .config(configureDefaultAmberTheme);\n","'use strict';\n\nfunction configureDefaultBlueTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     blue: 'Blue',\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     blue: 'Голубая'\n    // });\n\n    registerBlueTheme('default');\n    registerBlueTheme('blue');\n\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n\n    function registerBlueTheme(themeName) {\n        let bluePrimaryPalette = $mdThemingProvider.extendPalette('blue', {\n            'contrastDefaultColor': 'light',\n            'contrastDarkColors': undefined\n        });\n        $mdThemingProvider.definePalette('blue-primary', bluePrimaryPalette);\n\n        let blueBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n            'A100': 'rgba(250, 250, 250, 1)',\n            'A200': 'rgba(33, 150, 243, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-background', blueBackgroundPalette);\n\n        let blueAccentPalette = $mdThemingProvider.extendPalette('green', {\n            '600': 'rgba(0, 200, 83, 1)'\n        });\n        $mdThemingProvider.definePalette('blue-accent', blueAccentPalette);\n\n        $mdThemingProvider.theme(themeName)\n            .primaryPalette('blue-primary', {\n                'default': '500',\n                'hue-1': '300'\n            })\n            .backgroundPalette('blue-background', {\n                'default': '50',  // background\n                'hue-1': 'A200',  // tiles dialog\n                'hue-2': 'A700'   // app bar\n            })\n            .warnPalette('red', {\n                'default': 'A200'\n            })\n            .accentPalette('blue-accent', {\n                'default': '600'\n            });\n    }\n}\n\nangular\n    .module('pipTheme.Blue', [ 'ngMaterial' ])\n    .config(configureDefaultBlueTheme);\n","'use strict';\n\nfunction configureDefaultGreenTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     green: 'Green'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     green: 'Зеленая'\n    // });\n\n    let greenBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(76, 175, 80, 1)'\n    });\n    $mdThemingProvider.definePalette('green-background', greenBackgroundPalette);\n\n    let greenPrimaryPalette = $mdThemingProvider.extendPalette('green', {\n        '300': '#9ed4a1',\n        'contrastLightColors': ['500', '300']\n    });\n    $mdThemingProvider.definePalette('green-primary', greenPrimaryPalette);\n\n\n    let greenAccentPalette = $mdThemingProvider.extendPalette('amber', {\n        'contrastLightColors': ['A700']\n    });\n    $mdThemingProvider.definePalette('green-accent', greenAccentPalette);\n\n    $mdThemingProvider.theme('green')\n        .primaryPalette('green-primary', {\n            'default': '500',\n            'hue-1': '300'\n        })\n        .backgroundPalette('green-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('green-accent', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Green', [ 'ngMaterial' ])\n    .config(configureDefaultGreenTheme);\n","'use strict';\n\nfunction configureDefaultGreyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     grey: 'Grey'\n    // });\n    \n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     grey: 'Серая'\n    // });\n\n    let thirdPartyPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 152, 0, 1)',\n        'A400': '#a9b9c0',\n        '500': '#607D8B',\n        'A700': '#90A4AE',\n        //'800': '',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['300', '400', '500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('third-party', thirdPartyPalette);\n\n\n    $mdThemingProvider.theme('grey')\n        .primaryPalette('third-party', {\n            'default': '500',\n            'hue-1': 'A400'\n        })\n        .backgroundPalette('third-party', {\n            'default': '50',  // background\n            'hue-1': '500',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('third-party', {\n            'default': 'A700'\n        });\n    \n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Grey', [ 'ngMaterial' ])\n    .config(configureDefaultGreyTheme);\n","'use strict';\n\nfunction configureDefaultNavyTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     navy: 'Navy'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     navy: 'Сине-серая'\n    // });\n\n    let greyPalette = $mdThemingProvider.extendPalette('grey', {\n        '700': 'rgba(86, 97, 125, 1)',\n        '800': 'rgba(86, 97, 125, .54)',\n        'A100': 'rgba(250, 250, 250, 1)',\n    });\n    $mdThemingProvider.definePalette('grey', greyPalette);\n\n    let tealPalette = $mdThemingProvider.extendPalette('teal', {\n        'contrastLightColors': ['500', '600', '700', '800', '900', 'A700']\n    });\n    $mdThemingProvider.definePalette('teal', tealPalette);\n\n    $mdThemingProvider.theme('navy')\n        .primaryPalette('grey', {\n            'default': '700',\n            'hue-1': '800'\n        })\n        .backgroundPalette('grey', {\n            'default': '50',  // background\n            'hue-1': '700',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('teal', {\n            'default': 'A700'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Navy', [ 'ngMaterial' ])\n    .config(configureDefaultNavyTheme);\n","'use strict';\n\nfunction configureDefaultOrangeTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     orange: 'Orange'\n    // });\n\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     orange: 'Оранжевая'\n    // });\n\n    let RedBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(255, 112, 67, 1)',\n        'contrastLightColors': ['600', '700', '800', '900', 'A200']\n    });\n    $mdThemingProvider.definePalette('red-background', RedBackgroundPalette);\n\n    let RedPrimaryPalette = $mdThemingProvider.extendPalette('orange', {\n        '800': 'rgba(255, 112, 67, 1)',\n        '900': 'rgba(255, 152, 67, .54)',\n        'A100': 'rgba(255, 171, 64, 1)',\n        'contrastLightColors': ['800', '900', 'A100']\n    });\n    $mdThemingProvider.definePalette('red-primary', RedPrimaryPalette);\n\n    $mdThemingProvider.theme('orange')\n        .primaryPalette('red-primary', {\n            'default': '800',\n            'hue-1': '900'\n        })\n        .backgroundPalette('red-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('red-primary', {\n            'default': 'A100'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Orange', [ 'ngMaterial' ])\n    .config(configureDefaultOrangeTheme);\n","'use strict';\n\nfunction configureDefaultPinkTheme($mdThemingProvider: ng.material.IThemingProvider) {\n    // pipTranslateProvider.translations('en', {\n    //     THEME: 'Theme',\n    //     pink: 'Pink'\n    // });\n    // pipTranslateProvider.translations('ru', {\n    //     THEME: 'Тема',\n    //     pink: 'Розовая',\n\n    // });\n\n    let PinkBackgroundPalette = $mdThemingProvider.extendPalette('grey', {\n        'A100': 'rgba(250, 250, 250, 1)',\n        'A200': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'dark',\n        'contrastLightColors': ['A200', 'A700']\n    });\n    $mdThemingProvider.definePalette('pink-background', PinkBackgroundPalette);\n\n    let PinkPrimaryPalette = $mdThemingProvider.extendPalette('pink', {\n        '600': 'rgba(255, 128, 171, 1)',\n        '700': 'rgba(188, 86, 121, .54)',\n        '900': 'rgba(188, 86, 121, 1)',\n        'contrastDefaultColor': 'light'\n    });\n    $mdThemingProvider.definePalette('pink-primary', PinkPrimaryPalette);\n\n    $mdThemingProvider.theme('pink')\n        .primaryPalette('pink-primary', {\n            'default': '900',\n            'hue-1': '700'\n        })\n        .backgroundPalette('pink-background', {\n            'default': '50',  // background\n            'hue-1': 'A200',  // tiles dialog\n            'hue-2': 'A700'   // app bar\n        })\n        .warnPalette('red', {\n            'default': 'A200'\n        })\n        .accentPalette('pink-primary', {\n            'default': '600'\n        });\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n\nangular\n    .module('pipTheme.Pink', [ 'ngMaterial' ])\n    .config(configureDefaultPinkTheme);\n","'use strict';\n\nimport './DefaultBlueTheme';\nimport './DefaultPinkTheme';\nimport './DefaultAmberTheme';\nimport './DefaultOrangeTheme';\nimport './DefaultGreenTheme';\nimport './DefaultNavyTheme';\nimport './DefaultGreyTheme';\n\n\nangular\n    .module('pipTheme.Default', [\n        'ngMaterial',\n        'pipTheme.Blue', \n        'pipTheme.Pink',\n        'pipTheme.Amber', \n        'pipTheme.Orange', \n        'pipTheme.Green', \n        'pipTheme.Navy', \n        'pipTheme.Grey'\n    ])\n    .config(configureDefaultTheme);\n\nfunction configureDefaultTheme($mdThemingProvider) {\n    $mdThemingProvider.setDefaultTheme('default');\n    $mdThemingProvider.alwaysWatchTheme(true);\n}\n","/**\n * @file Errors string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Strings', ['pipTranslate']);\n\n    thisModule.run(function($injector) {\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n        if (pipTranslate == null) return;\n\n        // Set translation strings for the module\n        pipTranslate.translations('en', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n                                            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to the server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n                                          'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n                                          'technologies. Download on of these great browsers and you\\'ll be on your way:',\n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 36+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 48+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 45+'\n\n        });\n\n        pipTranslate.translations('ru', {\n            'ERROR_ROUTE_TITLE': 'Sorry, the page isn\\'t available',\n            'ERROR_ROUTE_SUBTITLE': 'The link you followed may be broken, or the page may have been removed.',\n            'ERROR_ROUTE_CONTINUE': 'Continue',\n            'ERROR_ROUTE_TRY_AGAIN': 'Try again',\n            'ERROR_ROUTE_GO_BACK': 'Go Back',\n            'ERROR_ROUTE_PAGE_TITLE': 'Wrong page',\n\n            'ERROR_UNKNOWN_TITLE': 'Oops. Something went wrong',\n            'ERROR_UNKNOWN_SUBTITLE': 'Unknown error occurred, but don\\'t worry we already have been notified.',\n            'ERROR_UNKNOWN_CLOSE': 'Close',\n            'ERROR_UNKNOWN_DETAILS': 'Details',\n\n            'ERROR_AVAILABLE_TITLE': 'The server is on maintenance',\n            'ERROR_AVAILABLE_SUBTITLE': 'Sorry for the inconvenience. This application is undergoing maintenance for ' +\n            'a short period. We\\'ll be back soon. Thank for your patience.',\n            'ERROR_AVAILABLE_CLOSE': 'Close',\n            'ERROR_AVAILABLE_TRY_AGAIN': 'Try after',\n\n            'ERROR_RESPONDING_TITLE': 'No connection to the server',\n            'ERROR_RESPONDING_SUBTITLE': 'Unable to connect to server. Check your Internet connection and try again.',\n            'ERROR_RESPONDING_RETRY': 'Retry',\n\n            'ERROR_UNSUPPORTED_TITLE': 'This browser is not supported',\n            'ERROR_UNSUPPORTED_SUBTITLE': 'Our application using the latest technology. This makes the application faster ' +\n            'and easier to use. Unfortunately, your browser doesn\\'t support those ' +\n            'technologies. Download on of these great browsers and you\\'ll be on your way:',            \n            'ERROR_UNSUPPORTED_O': 'Opera',\n            'ERROR_UNSUPPORTED_O_VER': 'Version 35+',\n            'ERROR_UNSUPPORTED_IE': 'Internet Explorer',\n            'ERROR_UNSUPPORTED_IE_VER': 'Version 11+',\n            'ERROR_UNSUPPORTED_GC': 'Google Chrome',\n            'ERROR_UNSUPPORTED_GC_VER': 'Version 47+',\n            'ERROR_UNSUPPORTED_FM': 'Mozilla Firefox',\n            'ERROR_UNSUPPORTED_FM_VER': 'Version 43+'\n\n        });\n    });\n\n})();","﻿/**\n * @file Registration of all error handling components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipErrors', [\n        'pipErrors.Pages',\n        'pipErrorsService',\n        'pipNoConnectionPanel',\n        'pipClearErrors',\n\t    'pipFormErrors'\n\n    ]);\n    \n})();","'use strict';\n\nangular.module('pipErrorsService', []);\n\nimport './errors_service';","/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Pages', [\n        'ngMaterial',\n        'pipErrors.Strings', 'pipErrors.NoConnection', 'pipErrors.MissingRoute', 'pipErrors.Unsupported',\n        'pipErrors.Unknown', 'pipErrors.Maintenance', 'pipErrors.Translate', 'pipErrors.Templates'\n    ]);\n\n    thisModule.config(\n        function ($stateProvider, $httpProvider) {\n            // Attach interceptor to react on unauthorized errors\n            $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n\n            // Configure module routes\n            $stateProvider\n                .state('errors_no_connection', {\n                    url: '/errors/no_connection',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorNoConnectionController',\n                    templateUrl: 'no_connection/no_connection.html'\n                })\n                .state('errors_maintenance', {\n                    url: '/errors/maintenance',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorMaintenanceController',\n                    templateUrl: 'maintenance/maintenance.html'\n                })\n                .state('errors_missing_route', {\n                    url: '/errors/missing_route',\n                    params: {\n                        unfoundState: null,\n                        fromState: null\n                    },\n                    controller: 'pipErrorMissingRouteController',\n                    templateUrl: 'missing_route/missing_route.html'\n                })\n                .state('errors_unsupported', {\n                    url: '/errors/unsupported',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorUnsupportedController',\n                    templateUrl: 'unsupported/unsupported.html'\n                })\n                .state('errors_unknown', {\n                    url: '/errors/unknown',\n                    params: {\n                        error: null\n                    },\n                    controller: 'pipErrorUnknownController',\n                    templateUrl: 'unknown/unknown.html'\n                });\n        });\n\n\n    thisModule.run(\n        function ($rootScope, $state, $injector, pipErrorsService) {\n\n            var errorConfig = pipErrorsService.config;\n\n            if (errorConfig.Unsupported.Active) {\n                checkSupported();\n            }\n\n            if (errorConfig.MissingRoute.Active) {\n                $rootScope.$on('$stateNotFound',\n                    function (event, unfoundState, fromState, fromParams) {\n                        event.preventDefault();\n\n                        $state.go('errors_missing_route', {\n                            unfoundState: unfoundState,\n                            fromState: {\n                                to: fromState ? fromState.name : '',\n                                fromParams: fromParams\n                            }\n                        }\n                        );\n                        $rootScope.$routing = false;\n                    }\n                );\n            }\n\n            if (errorConfig.NoConnection.Active) {\n                $rootScope.$on('pipNoConnectionError', noConnectionError);\n            }\n\n            if (errorConfig.Unknown.Active) {\n                $rootScope.$on('pipUnknownError', unknownError);\n            }\n\n            if (errorConfig.Maintenance.Active) {\n                $rootScope.$on('pipMaintenanceError', maintenanceError);\n            }\n\n            function goToErrors(toState, params) {\n                if (toState == null)\n                    throw new Error('Error state was not defined');\n\n                $state.go(toState, params);\n            };\n\n            function maintenanceError(event, params) {\n                goToErrors('errors_maintenance', params);\n            }\n\n            function noConnectionError(event, params) {\n                goToErrors('errors_no_connection', params);\n            }\n\n            function unknownError(event, params) {\n                goToErrors('errors_unknown', params);\n            }\n\n            function checkSupported(supported?: any) {\n                let pipSystemInfo = $injector.has('pipSystemInfo') ? $injector.get('pipSystemInfo') : null;\n                if (!pipSystemInfo) { return; }\n\n                // todo make configured\n                if (!supported) {\n                    supported = {\n                        edge: 11,\n                        ie: 11,\n                        firefox: 43, //4, for testing\n                        opera: 35,\n                        chrome: 47\n                    };\n                }\n\n                let browser = pipSystemInfo.browserName;\n                let version = pipSystemInfo.browserVersion;\n                version = version.split(\".\")[0]\n\n                if (browser && supported[browser] && version >= supported[browser]) {\n\n                    return;\n                }\n                // if not supported\n                $state.go('errors_unsupported');\n            }\n\n        }\n    );\n\n    thisModule.factory('pipAuthHttpResponseInterceptor',\n        function ($q, $location, $rootScope) {\n            return {\n                responseError: function (rejection) {\n                    var toState = $rootScope.$state && $rootScope.$state.name ? $rootScope.$state.name : null,\n                        toParams = $rootScope.$state && $rootScope.$state.params ? $rootScope.$state.params : null;\n\n                    switch (rejection.status) {\n                        case 503:\n                            //available (maintenance)\n                            $rootScope.$emit('pipMaintenanceError', {\n                                error: rejection\n                            });\n                            break;\n                        case -1:\n                            $rootScope.$emit('pipNoConnectionError', {\n                                error: rejection\n                            });\n                            break;\n                        default:\n                            console.error(\"errors_unknown\", rejection);\n                            break;\n                    }\n\n                    return $q.reject(rejection);\n                }\n            }\n        }\n    );\n\n})();\n\n","'use strict';\n\n\n\nexport class ErrorStateItem {\n    Active: boolean;\n    Name: string;\n    Event: string;\n    Title: string;\n    SubTitle: String;\n    Breadcrumb: string;\n    Image: string;\n    Params?: any;\n}\n\nexport class pipErrorsConfig {\n    Maintenance: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_maintenance',\n        Event: 'pipMaintenanceError',\n        Title: 'ERROR_AVAILABLE_TITLE',\n        SubTitle: 'ERROR_AVAILABLE_SUBTITLE',\n        Breadcrumb: 'ERROR_AVAILABLE_TITLE',\n        Image: 'images/maintenance.svg'\n        \n    };\n    MissingRoute: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_missing_route',\n        Event: '$stateNotFound',\n        Title: 'ERROR_ROUTE_TITLE',\n        SubTitle: 'ERROR_ROUTE_SUBTITLE',\n        Breadcrumb: 'ERROR_ROUTE_PAGE_TITLE',\n        Image: 'images/invalid_route.svg'\n    };\n    NoConnection: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_no_connection',\n        Event: 'pipNoConnectionError',\n        Title: 'ERROR_RESPONDING_TITLE',\n        SubTitle: 'ERROR_RESPONDING_SUBTITLE',\n        Breadcrumb: 'ERROR_RESPONDING_TITLE',\n        Image: 'images/no_response.svg'\n    };\n    Unknown: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unknown',\n        Event: 'pipUnknownError',\n        Title: 'ERROR_UNKNOWN_TITLE',\n        SubTitle: 'ERROR_UNKNOWN_SUBTITLE',\n        Breadcrumb: 'ERROR_UNKNOWN_TITLE',\n        Image: 'images/unknown_error.svg'\n    };\n    Unsupported: ErrorStateItem = {\n        Active: true,\n        Name: 'errors_unsupported',\n        Event: '',\n        Title: 'ERROR_UNSUPPORTED_TITLE',\n        SubTitle: 'ERROR_UNSUPPORTED_SUBTITLE',\n        Breadcrumb: 'ERROR_UNSUPPORTED_TITLE',\n        Image: '',\n        Params: {\n            supported: {\n                edge: 11,\n                ie: 11,\n                firefox: 43, \n                opera: 35,\n                chrome: 47\n            }\n        }\n    }\n}\n\nexport interface IpipErrorsService {\n    getErrorItemByKey(errorName: string): ErrorStateItem;\n\n    config: pipErrorsConfig;\n}\n\nexport interface IpipErrorsProvider extends ng.IServiceProvider {\n    configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void;\n    configureErrors(value: pipErrorsConfig): void;\n}\n\nclass pipErrorsService implements IpipErrorsService {\n    private _config: pipErrorsConfig;\n\n    public constructor(\n        config: pipErrorsConfig\n    ) {\n        \"ngInject\";\n\n        this._config = config || new pipErrorsConfig();\n    }\n\n    public get config(): pipErrorsConfig {\n        return this._config;\n    }\n\n    public getErrorItemByKey(errorName: string): ErrorStateItem {\n        if (!errorName || !this._config[errorName]) {\n            return null;\n        }\n\n        return this._config[errorName];\n    }\n\n}\n\nclass pipErrorsProvider implements IpipErrorsProvider {\n    private _service: pipErrorsService;\n    private _config: pipErrorsConfig;\n\n    constructor() {\n        this._config = new pipErrorsConfig();\n    }\n\n    public configureErrorByKey(errorName: string, errorParams: ErrorStateItem): void {\n        if (!errorName || !errorParams) return;\n        if (!this._config[errorName]) return;\n\n        this._config[errorName] = <ErrorStateItem>_.defaultsDeep(errorParams, this._config[errorName]);\n    }\n\n    public configureErrors(value: pipErrorsConfig): void {\n        if (!value) return;\n\n        this._config = <pipErrorsConfig>_.defaultsDeep(value, this._config);\n    }\n\n    public $get(\n\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new pipErrorsService(this._config);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipErrorsService')\n    .provider('pipErrorsService', pipErrorsProvider);\n","/**\n * @file Special error handling for forms\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipClearErrors', []);\n\n    thisModule.directive('pipClearErrors', function () {\n        return {\n            restrict: 'A',\n            require: ['ngModel', '^?form'],\n            link: function ($scope, $element, $attrs: any, $ctrls) {\n                var \n                    fieldController = $ctrls[0],\n                    formController = $ctrls[1];\n\n                $scope.$watch($attrs.ngModel, function (newValue) {\n                    clearFieldErrors();\n                    clearFormErrors();\n                });\n\n                //-------------------\n\n                function clearFieldErrors() {\n                    var errors = fieldController.$error;\n\n                    for (var prop in errors) {\n                        if (errors.hasOwnProperty(prop) && prop.substring(0, 6) == 'ERROR_') {\n                            fieldController.$setValidity(prop, true);\n                        }\n                    };\n                }\n\n                function clearFormErrors() {\n                    formController.$serverError = {};\n                };\n            }\n        };\n    });\n\n})();","/**\n * @file Form error utilities\n * @copyright Digital Living Software Corp. 2014-2016\n *\n */\n \n /* global _, angular */\n \n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipFormErrors', []);\n\n    thisModule.factory('pipFormErrors', function ($rootScope) {\n\t\treturn {\n\t\t\terrorsWithHint: errorsWithHint,\n            //submittedErrors: submittedErrors,\n            //submittedErrorsWithHint: submittedErrorsWithHint,\n            //dirtyErrors: dirtyErrors,\n            //dirtyErrorsWithHint: dirtyErrorsWithHint,\n            //touchedErrors: touchedErrors,            \n            touchedErrorsWithHint: touchedErrorsWithHint,\n            resetFormErrors: resetFormErrors,\n            setFormError: setFormError,\n            resetFieldsErrors: resetFieldsErrors\n\t\t};\n\t\t//-------------------\n\n        function errorsWithHint(field) {\n            if (field == null) return;\n\t\t\t\n            return _.isEmpty(field.$error) ? { hint: true } : field.$error;\n        };\n\t\t\n//         function submittedErrors(form, field) {\n//             if (form == null) throw new Error('Form is not set');\n//             if (field == null) throw new Error('Field is not set');\n// \n//             if (form.$submitted)\n//                 return field.$error;\n//             return {};\n//         };\n// \n//         function submittedErrorsWithHint(form, field) {\n//             if (form == null) throw new Error('Form is not set');\n//             if (field == null) throw new Error('Field is not set');\n// \n//             if (form.$submitted) {\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\n//             }\n//             return { hint: true };\n//         };\n// \n//         function dirtyErrors(form, field) {\n//             if (form == null) throw new Error('Form is not set');\n//             if (field == null) throw new Error('Field is not set');\n// \n//             if (field.$dirty || form.$dirty)\n//                 return field.$error;\n//             return {};\n//         };\n// \n//         function dirtyErrorsWithHint(form, field) {\n//             if (form == null) throw new Error('Form is not set');\n//             if (field == null) throw new Error('Field is not set');\n// \n//             if (field.$dirty || form.$dirty) {\n//                 return _.isEmpty(field.$error) ? { hint: true} : field.$error;\n//             }\n//             return { hint: true };\n//         };\n// \n//         function touchedErrors(form, field) {\n//             if (form == null) throw new Error('Form is not set');\n//             if (field == null) throw new Error('Field is not set');\n//             \n//             if (field.$touched || form.$dirty)\n//                 return field.$error;\n//             return {};\n//         };\n\n        function touchedErrorsWithHint(form, field) {\n            if (form == null) return;\n            if (field == null) return;\n\n            if (form.$submitted && (field.$touched || form.$dirty) || !form.$submitted && (field.$touched || field.$dirty)) {\n                var result = _.isEmpty(field.$error) ? { hint: true} : field.$error;\n                return result;\n            }\n            return { hint: true };\n        };\n\n        function resetFormErrors(form, errors) {\n            form.$setPristine();\n            form.$setUntouched();\n\n            if (errors) {\n                form.$setDirty();\n                form.$setSubmitted();\n            }\n\n            form.$serverError = {};\n        };\n        \n        function resetFieldsErrors(form, field) {\n            if (!form) return;\n            if (field && form[field] && form[field].$error) {\n                 form[field].$error = {};\n            } else {\n                for (var prop in form) {\n                    if (form[prop] && form[prop].$error) {\n                        form[prop].$error = {};\n                    };\n                }\n                if (form && form.$error) form.$error = {};\n            }\n        };\n        \n        function setFormError(form, error, errorFieldMap) {\n            if (error == null) return;\n            // Prepare form server errors\n            form.$serverError = form.$serverError || {};\n            // Prepare error code\n            var code = error.code || (error.data || {}).code || null;\n            if (!code && error.status) code = error.status;\n\n            if (code) {\n                var \n                    errorName = 'ERROR_' + code,\n                    field = errorFieldMap ? errorFieldMap[code] : null;\n                // Set server error to fields\n                if (field && form[field] && form[field].$setValidity) {\n                    form[field].$setValidity(errorName, false);\n                    return;\n                }\n\n                // Set server error to form\n                if (field == 'form') {\n                    form.$serverError[errorName] = true;\n                    return;\n                }\n            }\n\n            // if undefined error for this form or code === undefined/null, go to unhandled error page\n            if (error.data && error.data.message) {\n                form.$serverError['ERROR_UNKNOWN'] = error.data.message;\n                goToUnhandledErrorPage(error);\n                return;\n            }\n\n            // Set as undefined error\n            if (error.message) {\n                form.$serverError['ERROR_UNKNOWN'] = error.message;\n                goToUnhandledErrorPage(error);\n                return;\n            }\n\n            if (error.name) {\n                form.$serverError['ERROR_UNKNOWN'] = error.name;\n                goToUnhandledErrorPage(error);\n                return;\n            }\n\n            form.$serverError['ERROR_UNKNOWN'] = error;\n            goToUnhandledErrorPage(error);\n        };\n\n        function goToUnhandledErrorPage(error) {\n            $rootScope.$emit('pipUnhandledInternalError', {\n                error: error\n            });\n        };\n        \n\t});\n\n})();","/**\n * @file Maintenance error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Maintenance', []);\n\n    thisModule.controller('pipErrorMaintenanceController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\n\n        var errorKey = 'Maintenance';\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\n\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope.$routing = false;\n        $scope.isCordova = false;\n        appHeader();\n\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\n        $scope.timeoutInterval = $scope.error && $scope.error.config &&\n                        $scope.error.config.params && $scope.error.config.params.interval ? $scope.error.config.params.interval : 0;\n\n        $scope.onClose = onClose;\n\n        return;\n\n        function appHeader() {\n            if (!pipNavService) return;\n\n            pipNavService.appbar.addShadow();\n            pipNavService.icon.showMenu();\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\n            pipNavService.actions.hide();\n        };\n\n        function onClose() {\n\n        };\n\n    });\n\n})();\n","/**\n * @file Missing route error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.MissingRoute', []);\n\n    thisModule.controller('pipErrorMissingRouteController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\n\n        var errorKey = 'MissingRoute';\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\n\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\n\n        appHeader();\n        $rootScope.$routing = false;\n\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.fromState : {};\n        $scope.unfoundState = $state && $state.params ?  $state.params.unfoundState : {};\n        $scope.url = $scope.unfoundState && $scope.unfoundState.to ? $state.href($scope.unfoundState.to, $scope.unfoundState.toParams, {absolute: true}) : '';\n        $scope.urlBack = $scope.fromState && $scope.fromState.to ? $state.href($scope.fromState.to, $scope.fromState.fromParams, {absolute: true}) : '';\n\n        $scope.onContinue = onContinue;\n\n        return;\n\n        function appHeader() {\n            if (!pipNavService) return;\n\n            pipNavService.appbar.addShadow();\n            pipNavService.icon.showMenu();\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\n            pipNavService.actions.hide();\n        };\n\n        function onContinue() {\n            // Todo: Go to default state '/'\n            //pipAuthState.goToAuthorized();\n        };\n\n    });\n\n})();\n","/**\n * @file No connection error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.NoConnection', []);\n\n    thisModule.controller('pipErrorNoConnectionController', function ($scope, $state, $rootScope, $window, $mdMedia, $injector, pipErrorsService) {\n\n        var errorKey = 'NoConnection';\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\n\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope.$routing = false;\n        appHeader();\n\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\n\n        $scope.onRetry = onRetry;\n\n        return;\n\n        function onRetry() {\n            $window.history.back();\n        };\n\n        function appHeader() {\n            if (!pipNavService) return;\n\n            pipNavService.appbar.addShadow();\n            pipNavService.icon.showMenu();\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\n            pipNavService.actions.hide();\n        };\n\n    });\n\n\n})();\n","/**\n * @file No Connection Error panel\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global _, angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipNoConnectionPanel\", ['pipErrors.Translate']);\n\n    thisModule.directive('pipNoConnectionPanel',\n        function () {\n            return {\n                restrict: 'E',\n                scope: {\n                    error: '=pipError',\n                    retry: '=pipRetry'\n                },\n                templateUrl: 'no_connection_panel/no_connection_panel.html',\n                controller: 'pipNoConnectionPanelController'\n            };\n        }\n    );\n\n    thisModule.controller('pipNoConnectionPanelController',\n        function ($scope, $element, $attrs, pipTranslate) {\n\n            $scope.onRetry = onRetry;\n\n            return;\n\n            function onRetry() {\n                if ($scope.retry && angular.isFunction($scope.retry)) $scope.retry();\n            };\n\n        }\n    );\n\n})();\n\n","/**\n * @file Unknown error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unknown', []);\n\n    thisModule.controller('pipErrorUnknownController', function ($scope, $state, $rootScope, $injector, $mdMedia, pipErrorsService) {\n\n        var errorKey = 'Unknown';\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\n\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\n\n        $rootScope.$routing = false;\n        $scope.isCordova = false;\n\n        appHeader();\n\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\n        $scope.error_details = null;\n\n        $scope.onDetails = onDetails;\n        $scope.onClose = onClose;\n\n        parseError();\n\n        return;\n\n        function appHeader() {\n            if (!pipNavService) return;\n\n            pipNavService.appbar.addShadow();\n            pipNavService.icon.showMenu();\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\n            pipNavService.actions.hide();\n        };\n\n        function parseError() {\n            $scope.error_details = {};\n            $scope.error_details.code = $scope.error.code;\n            $scope.error_details.message = $scope.error.message;\n            $scope.error_details.status = $scope.error.status;\n\n            $scope.error_details.server_stacktrace = function () {\n\n            };\n\n            $scope.error_details.client_stacktrace = function () {\n\n            };\n        };\n\n        function onDetails() {\n            $scope.showError = true;\n        };\n\n        function onClose() {\n\n        };\n\n    });\n\n})();\n","/**\n * @file Unsupported error controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipErrors.Unsupported', []);\n\n    thisModule.controller('pipErrorUnsupportedController', function ($scope, $state, $rootScope, $mdMedia, $injector, pipErrorsService) {\n\n        var errorKey = 'Unsupported';\n        $scope.errorConfig = pipErrorsService.getErrorItemByKey(errorKey);\n\n        var pipNavService = $injector.has('pipNavService') ? $injector.get('pipNavService') : null;\n        var pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\n\n        $scope.media = pipMedia ? pipMedia : $mdMedia;\n        $rootScope.$routing = false;\n        \n        if (pipNavService) {\n            appHeader();\n        }\n\n        $scope.error = $state && $state.params && $state.params.error ?  $state.params.error : {};\n\n        return;\n\n        // Todo: Made dependencies optional\n        function appHeader() {\n            pipNavService.appbar.addShadow();\n            pipNavService.icon.showMenu();\n            pipNavService.breadcrumb.text = $scope.errorConfig.Breadcrumb;\n            pipNavService.actions.hide();\n        };\n\n    });\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('maintenance/maintenance.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::\\'ERROR_AVAILABLE_TITLE\\' | translate}}</div><div class=\"pip-error-subtext\">{{::\\'ERROR_AVAILABLE_SUBTITLE\\' | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"timeoutInterval\">{{::\\'ERROR_AVAILABLE_TRY_AGAIN\\' | translate}} {{timeoutInterval}} sec.</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\" ng-if=\"isCordova\"><md-button class=\"md-accent\" ng-click=\"onClose($event)\" aria-label=\"CLOSE\">{{::\\'ERROR_AVAILABLE_CLOSE\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('missing_route/missing_route.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"CONTINUE\" class=\"md-accent\" ng-click=\"onContinue($event)\">{{::\\'ERROR_ROUTE_CONTINUE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"url\"><a ng-href=\"{{url}}\">{{::\\'ERROR_ROUTE_TRY_AGAIN\\' | translate }}: {{url}}</a></div><div class=\"h48\" ng-if=\"urlBack\"><a ng-href=\"{{urlBack}}\">{{::\\'ERROR_ROUTE_GO_BACK\\' | translate }}: {{urlBack}}</a></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection/no_connection.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('no_connection_panel/no_connection_panel.html',\n    '<div class=\"pip-error-page pip-error layout-column layout-align-center-center flex\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-actions h48 layout-column layout-align-center-center\"><md-button aria-label=\"RETRY\" class=\"md-accent\" ng-click=\"onRetry($event)\">{{::\\'ERROR_RESPONDING_RETRY\\' | translate}}</md-button></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unknown/unknown.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><img src=\"{{errorConfig.Image}}\" class=\"pip-pic block\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-subtext\" ng-if=\"showError && error_details && error_details.message\"><div ng-if=\"error_details.code\">Code: {{error_details.code}}</div><div ng-if=\"error_details.message\">Description: {{error_details.message}}</div><div ng-if=\"error_details.status\">HTTP status: {{error_details.status}}</div><div ng-if=\"error_details.server_stacktrace\">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if=\"error_details.client_stacktrace\">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class=\"pip-error-actions layout-column layout-align-center-center\"><div class=\"h48\" ng-if=\"isCordova\"><md-button aria-label=\"CLOSE\" class=\"md-accent\" ng-click=\"onClose($event)\">{{::\\'ERROR_UNKNOWN_CLOSE\\' | translate}}</md-button></div><div class=\"h48\" ng-if=\"error_details && error_details.status\"><md-button aria-label=\"DETAILS\" class=\"md-accent\" ng-click=\"onDetails($event)\">{{::\\'ERROR_UNKNOWN_DETAILS\\' | translate}}</md-button></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipErrors.Templates');\n} catch (e) {\n  module = angular.module('pipErrors.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('unsupported/unsupported.html',\n    '<div class=\"pip-error pip-error-page layout-column flex layout-align-center-center\"><div class=\"pip-error-text\">{{::errorConfig.Title | translate}}</div><div class=\"pip-error-subtext\">{{::errorConfig.SubTitle | translate}}</div><div class=\"pip-error-details layout-row layout-align-center-center\" ng-if=\"media(\\'gt-xs\\')\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div><div class=\"pip-error-details\" ng-if=\"media(\\'xs\\')\"><div class=\"layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/ie.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx\">{{::\\'ERROR_UNSUPPORTED_IE\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_IE_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/fm.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.mozilla.org/ru/firefox/new/\">{{::\\'ERROR_UNSUPPORTED_FM\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_FM_VER\\' | translate}}</p></div></div></div><div class=\"tm16 layout-row layout-align-center-center\"><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/gc.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"https://www.google.com/chrome/browser/desktop/index.html?platform=win64#\">{{::\\'ERROR_UNSUPPORTED_GC\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_GC_VER\\' | translate}}</p></div></div><div class=\"pip-error-details-item layout-column layout-align-center-center\"><div style=\"background-image: url(\\'images/o.svg\\');\" class=\"pip-pic\"></div><div class=\"h64 tp16 bp16\"><a class=\"text-body2 m0\" target=\"_blank\" href=\"http://www.opera.com/ru/download\">{{::\\'ERROR_UNSUPPORTED_O\\' | translate}}</a><p class=\"text-body1 m0\">{{::\\'ERROR_UNSUPPORTED_O_VER\\' | translate}}</p></div></div></div></div></div>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-errors-html.min.js.map\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipBarCharts\n     *\n     * @description\n     * Bar chart on top of Rickshaw charts\n     */\n    angular.module('pipBarCharts', [])\n        .directive('pipBarChart', pipBarChart);\n\n    function pipBarChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'barChart',\n            templateUrl: 'bar/bar_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                let vm = this;\n                let chart = null;\n                let chartElem = null;\n                let colors = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                let height = 270;\n\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                \n                if ((vm.series || []).length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('barChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                });\n\n                $scope.$watch('barChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        configBarWidthAndLabel();\n                        drawEmptyState();\n                    }\n                }, true);\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(function () {\n                    chart = nv.models.discreteBarChart()\n                        .margin({top: 10, right: 0, bottom: 10, left: 50})\n                        .x(function (d) { return d.label || d.key || d.x; })\n                        .y(function (d) { return d.value; })\n                        .showValues(true)\n                        .staggerLabels(true) \n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .valueFormat(<any>d3.format('d'))\n                        .duration(0)\n                        .height(height)\n                        .color(function(d) {\n                            return vm.data[d.series].color || materialColorToRgba(colors[d.series]);\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        });\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.bar-chart svg')\n                        .datum(vm.data)\n                        .style('height', '285px')\n                        .call(chart);\n\n                    nv.utils.windowResize(() => {\n                        chart.update();\n                         configBarWidthAndLabel(0);\n                         drawEmptyState();\n                    });\n\n                    return chart;\n                }, function () {\n\n                    $timeout(configBarWidthAndLabel, 0);\n                    drawEmptyState();\n                });\n\n                function drawEmptyState() {\n                    if ($element.find('.nv-noData').length === 0) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let g = chartElem.append('g').classed('empty-state', true),\n                            width = $element.find('.nvd3-svg').innerWidth(),\n                            margin = width * 0.1;\n\n                        g.append('g')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', height - 10)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(42, 60)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 200)\n                            .attr('width', 38);\n\n                        g.append('g')\n                            .attr('transform', 'translate(84, 160)')\n                            .style('fill', 'rgba(0, 0, 0, 0.08)')\n                            .append('rect')\n                            .attr('height', 100)\n                            .attr('width', 38);\n\n                        g.attr('transform', 'translate(' + (50 + margin) + ', 0), ' + 'scale(' + ((width - 2*margin) / 126) + ', 1)' );\n                    }\n                }\n\n                /**\n                 * Aligns value label according to parent container size.\n                 * @return {void}\n                 */\n                function configBarWidthAndLabel(timeout: number = 1000) {\n                    var labels = $element.find('.nv-bar text'),\n                        chartBars = $element.find('.nv-bar'),\n                        parentHeight = (<any>$element.find('.nvd3-svg')[0]).getBBox().height;\n\n                    d3.select($element.find('.bar-chart')[0]).classed('visible', true);\n\n                    chartBars.each(function (index, item) {\n                        var barHeight = Number(d3.select(<any>item).select('rect').attr('height')),\n                            barWidth = Number(d3.select(<any>item).select('rect').attr('width')),\n                            element = d3.select(<any>item),\n                            x = d3.transform(element.attr('transform')).translate[0],\n                            y = d3.transform(element.attr('transform')).translate[1];\n\n                        element\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + (height - 20) + ')')\n                            .select('rect').attr('height', 0);\n\n                        element\n                            .transition()\n                            .duration(timeout)\n                            .attr('transform', 'translate(' + Number(x + index * (barWidth + 15)) + ', ' + y + ')')\n                            .select('rect').attr('height', barHeight);\n\n                        d3.select(labels[index])\n                            .attr('dy', barHeight / 2 + 10)\n                            .attr('x', barWidth / 2);\n                    });\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        if (item.values[0]) {\n                            item.values[0].color = item.values[0].color || materialColorToRgba(colors[index]);\n                            item.color = item.values[0].color;\n                        }\n                    });\n                }\n            }\n        };\n    }\n})();","﻿/**\n * @file Registration of chart WebUI controls\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* global angular */\n\n(function () {\n    'use strict';\n\n    angular.module('pipCharts', [\n        'pipBarCharts',\n        'pipLineCharts',\n        'pipPieCharts',\n        'pipChartLegends',\n        'pipCharts.Templates'\n    ]);\n\n})();\n\n","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLegends\n     *\n     * @description\n     * Legend of charts\n     */\n    angular.module('pipChartLegends', [])\n        .directive('pipChartLegend', pipChartLegend);\n\n    function pipChartLegend() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                interactive: '=pipInteractive'\n            },\n            templateUrl: 'legend/interactive_legend.html',\n            controller: function ($element, $scope, $timeout, $mdColorPalette) {\n                var colors = _.map($mdColorPalette, function (palette) {\n                    return palette[500].hex;\n                });\n\n                function colorCheckboxes() {\n                    var checkboxContainers = $($element).find('md-checkbox .md-container');\n                    \n                    checkboxContainers.each(function (index, item) {\n                        $(item)\n                            .css('color', $scope.series[index].color || colors[index])\n                            .find('.md-icon')\n                            .css('background-color', $scope.series[index].color || colors[index]);\n                    });\n                }\n\n                function animate() {\n                    var legendTitles = $($element).find('.chart-legend-item');\n\n                    legendTitles.each(function (index, item) {\n                        $timeout(function () {\n                            $(item).addClass('visible');\n                        }, 200 * index);\n                    });\n                }\n                \n                function prepareSeries() {\n                    if (!$scope.series) return;\n\n                    $scope.series.forEach(function (item, index) {\n                        item.color = item.color || (item.values && item.values[0] && item.values[0].color ? item.values[0].color : colors[index]);\n                        item.disabled = item.disabled || false;\n                    });   \n                }\n\n                $scope.$watch('series', function () {\n                    $timeout(function () {\n                        animate();\n                        colorCheckboxes();\n                    }, 0);\n                    prepareSeries();\n                }, true);\n\n                $scope.$watch('interactive', function (newValue, oldValue) {\n                    if (newValue == true && newValue != oldValue) {\n                        $timeout(colorCheckboxes, 0);\n                    }\n                });\n\n                $timeout(function () {\n                    animate();\n                    colorCheckboxes();\n                }, 0);\n                prepareSeries();\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipLineCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipLineCharts', [])\n        .directive('pipLineChart', pipLineChart);\n\n    function pipLineChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                showYAxis: '=pipYAxis',\n                showXAxis: '=pipXAxis',\n                xFormat: '=pipXFormat',\n                xTickFormat: '=pipXTickFormat',\n                yTickFormat: '=pipYTickFormat',\n                dynamic: '=pipDynamic',\n                fixedHeight: '@pipDiagramHeight',\n                dynamicHeight: '@pipDynamicHeight',\n                minHeight: '@pipMinHeight',\n                maxHeight: '@pipMaxHeight',\n                interactiveLegend: '=pipInterLegend'\n            },\n            bindToController: true,\n            controllerAs: 'lineChart',\n            templateUrl: 'line/line_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm        = this;\n                var chart     = null;\n                var chartElem = null;\n                var setZoom = null;\n                var updateZoomOptions = null;\n                var fixedHeight = vm.fixedHeight || 270;\n                var dynamicHeight = vm.dynamicHeight || false;\n                var minHeight = vm.minHeight || fixedHeight;\n                var maxHeight = vm.maxHeight || fixedHeight;\n\n                var colors    = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n\n                vm.data = prepareData(vm.series) || [];\n                vm.legend = _.clone(vm.series);\n                vm.sourceEvents = [];\n                \n                vm.isVisibleX = function () {\n                    return vm.showXAxis == undefined ? true : vm.showXAxis; \n                };\n\n                vm.isVisibleY = function () {\n                    return vm.showYAxis == undefined ? true : vm.showYAxis;\n                };\n\n                vm.zoomIn = function () {\n                    if (setZoom) {\n                        setZoom('in');\n                    }\n                };\n\n                vm.zoomOut = function () {\n                    if (setZoom) {\n                        setZoom('out');\n                    }\n                };\n                \n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                $scope.$watch('lineChart.series', function (updatedSeries) {\n                    vm.data = prepareData(updatedSeries);\n                    vm.legend = _.clone(vm.series);\n\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$watch('lineChart.legend', function(updatedLegend) {\n                    vm.data = prepareData(updatedLegend);\n                    vm.legend = updatedLegend;\n\n                    if (chart) {\n                        chartElem.datum(vm.data || []).call(chart);\n                        drawEmptyState();\n\n                        if (updateZoomOptions) updateZoomOptions(vm.data);\n                    }\n                }, true);\n\n                $scope.$on('$destroy', () => {\n                    d3.selectAll('.nvtooltip').style('opacity', 0);\n                });\n\n                function prepareData(data) {\n                    let result = [];\n                    _.each(data, (seria) => {\n                        if (!seria.disabled && seria.values) result.push(seria);\n                    });\n\n                    return _.cloneDeep(result);\n                }\n\n                var getHeight = () => {\n                    if (dynamicHeight) {\n                        var heigth = Math.min(Math.max(minHeight, $element.parent().innerHeight()), maxHeight);\n                        return heigth;\n                    } else {\n                        return fixedHeight;\n                    }\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.lineChart()\n                        .margin({ top: 20, right: 20, bottom: 30, left: 30 })\n                        .x(function (d) {\n                            return (d !== undefined && d.x !== undefined) ? (vm.xFormat ? vm.xFormat(d.x) : d.x) : d;\n                        })\n                        .y(function (d) {\n                            return (d !== undefined && d.value !== undefined) ? d.value : d;\n                        })\n                        .height(getHeight() - 50)\n                        .useInteractiveGuideline(true)\n                        .showXAxis(true)\n                        .showYAxis(true)\n                        .showLegend(false)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n\n                    chart.yAxis\n                        .tickFormat(function (d) {\n                            return vm.yTickFormat ? vm.yTickFormat(d) : d;\n                        });\n\n                    chart.xAxis\n                        .tickFormat(function (d) {\n                            return vm.xTickFormat ? vm.xTickFormat(d) : d;\n                        });\n\n                    chartElem = d3.select($element.get(0)).select('.line-chart svg');\n                    chartElem.datum(vm.data || []).style('height', (getHeight() - 50) + 'px').call(chart);\n\n                    if (vm.dynamic) {\n                        addZoom(chart, chartElem);\n                    }\n\n                    nv.utils.windowResize(() => { onResize(); });\n\n                    $scope.$on('pipMainResized', () => { onResize(); });\n\n                    return chart;\n                }, () => {\n                    drawEmptyState();\n                });\n\n                function onResize() {\n                    chart.height(getHeight() - 50);\n                    chartElem.style('height', (getHeight() - 50) + 'px');\n                    chart.update();\n                    drawEmptyState();\n                }\n\n                function drawEmptyState() {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                    } else {\n                        let containerWidth = $element.find('.line-chart').innerWidth(),\n                            containerHeight = $element.find('.line-chart').innerHeight();\n                        \n                        if ($element.find('.empty-state').get(0)) {\n                            chartElem\n                                .select('image')\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')');\n                        } else {\n                            chartElem\n                                .append(\"defs\")\n                                .append(\"pattern\")\n                                .attr(\"height\", 1)\n                                .attr(\"width\", 1)\n                                .attr(\"x\", \"0\")\n                                .attr(\"y\", \"0\")\n                                .attr(\"id\", \"bg\")\n                                .append(\"image\")\n                                .attr('x', 17)\n                                .attr('y', 0)\n                                .attr('height', \"216px\")\n                                .attr('width', \"1151px\")\n                                .attr('transform', 'scale(' + (containerWidth / 1151) + ',' + (containerHeight / 216) + ')')\n                                .attr(\"xlink:href\", \"images/line_chart_empty_state.svg\");\n\n                            chartElem\n                                .append('rect')\n                                .classed('empty-state', true)\n                                .attr('height', \"100%\")\n                                .attr('width', \"100%\")\n                                .attr('fill', 'url(#bg)');\n                        }\n                    }\n                }\n\n                function updateScroll(domains, boundary) {\n                    var bDiff = boundary[1] - boundary[0],\n                        domDiff = domains[1] - domains[0],\n                        isEqual = (domains[1] - domains[0])/bDiff === 1;\n\n                    $($element[0]).find('.visual-scroll')\n                        .css('opacity', function () {\n                            return isEqual ? 0 : 1;\n                        });\n\n                    if (isEqual) return;\n                    \n                    $($element[0]).find('.scrolled-block')\n                        .css('left', function () {\n                            return domains[0]/bDiff * 100 + '%';\n                        })\n                        .css('width', function () {\n                            return domDiff/bDiff * 100 + '%';\n                        });\n                }\n\n                function addZoom(chart, svg) {\n                    // scaleExtent\n                    var scaleExtent = 4;\n\n                    // parameters\n                    var yAxis       = null;\n                    var xAxis       = null;\n                    var xDomain     = null;\n                    var yDomain     = null;\n                    var redraw      = null;\n                    var svg         = svg;\n\n                    // scales\n                    var xScale = null;\n                    var yScale = null;\n\n                    // min/max boundaries\n                    var x_boundary = null;\n                    var y_boundary = null;\n\n                    // create d3 zoom handler\n                    var d3zoom = d3.behavior.zoom();\n                    var prevXDomain = null;\n                    var prevScale = null;\n                    var prevTranslate = null;\n\n                    setData(chart);\n\n                    function setData(newChart) {\n                        // parameters\n                        yAxis       = newChart.yAxis;\n                        xAxis       = newChart.xAxis;\n                        xDomain     = newChart.xDomain || xAxis.scale().domain;\n                        yDomain     = newChart.yDomain || yAxis.scale().domain;\n                        redraw      = newChart.update;\n\n                        // scales\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        // min/max boundaries\n                        x_boundary = xAxis.scale().domain().slice();\n                        y_boundary = yAxis.scale().domain().slice();\n\n                        // create d3 zoom handler\n                        prevXDomain = x_boundary;\n                        prevScale = d3zoom.scale();\n                        prevTranslate = d3zoom.translate();\n\n                        // ensure nice axis\n                        xScale.nice();\n                        yScale.nice();\n                    }\n\n                    // fix domain\n                    function fixDomain(domain, boundary, scale, translate) {\n                        if (domain[0] < boundary[0]) {\n                            domain[0] = boundary[0];\n                            if (prevXDomain[0] !== boundary[0] || scale !== prevScale) {\n                                domain[1] += (boundary[0] - domain[0]);\n                            } else {\n                                domain[1] = prevXDomain[1];\n                                translate = _.clone(prevTranslate);\n                            }\n\n                        }\n                        if (domain[1] > boundary[1]) {\n                            domain[1] = boundary[1];\n                            if (prevXDomain[1] !== boundary[1] || scale !== prevScale) {\n                                domain[0] -= (domain[1] - boundary[1]);\n                            } else {\n                                domain[0] = prevXDomain[0];\n                                translate = _.clone(prevTranslate);\n                            }\n                        }\n\n                        d3zoom.translate(translate);\n                        prevXDomain = _.clone(domain);\n                        prevScale = _.clone(scale);\n                        prevTranslate = _.clone(translate);\n                        return domain;\n                    }\n\n                    function updateChart() {\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        xScale.domain(x_boundary);\n                        d3zoom.x(xScale).y(yScale);\n                        svg.call(d3zoom);\n                    }\n\n                    // zoom event handler\n                    function zoomed() {\n                        // Switch off vertical zooming temporary\n                        // yDomain(yScale.domain());\n\n                        if ((<any>d3.event).scale === 1) {\n                            unzoomed();\n                            updateChart();\n                        } else {\n                            xDomain(fixDomain(xScale.domain(), x_boundary, (<any>d3.event).scale, (<any>d3.event).translate));\n                            redraw();\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n\n                    //\n                    setZoom = function(which) {\n                        var center0 = [svg[0][0].getBBox().width / 2, svg[0][0].getBBox().height / 2];\n                        var translate0 = d3zoom.translate(), coordinates0 = coordinates(center0);\n\n                        if (which === 'in') {\n                            if (prevScale < scaleExtent) d3zoom.scale(prevScale + 0.2);\n                        } else {\n                            if (prevScale > 1) d3zoom.scale(prevScale - 0.2);\n                        }\n\n                        var center1 = point(coordinates0);\n                        d3zoom.translate([translate0[0] + center0[0] - center1[0], translate0[1] + center0[1] - center1[1]]);\n\n                        d3zoom.event(svg);\n                    };\n\n                    function step(which) {\n                        var translate = d3zoom.translate();\n\n                        if (which === 'right') {\n                            translate[0] -= 20;\n                        } else {\n                            translate[0] += 20;\n                        }\n\n                        d3zoom.translate(translate);\n                        d3zoom.event(svg);\n                    }\n\n                    function coordinates(point) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [(point[0] - translate[0]) / scale, (point[1] - translate[1]) / scale];\n                    }\n\n                    function point(coordinates) {\n                        var scale = d3zoom.scale(), translate = d3zoom.translate();\n                        return [coordinates[0] * scale + translate[0], coordinates[1] * scale + translate[1]];\n                    }\n\n                    function keypress() {\n                        switch((<any>d3.event).keyCode) {\n                            case 39: step('right'); break;\n                            case 37: step('left'); break;\n                            case 107: setZoom('in'); break;\n                            case 109: setZoom('out');\n                        }\n                    }\n\n                    // zoom event handler\n                    function unzoomed() {\n                        xDomain(x_boundary);\n                        redraw();\n                        d3zoom.scale(1);\n                        d3zoom.translate([0,0]);\n                        prevScale = 1;\n                        prevTranslate = [0,0];\n                    }\n\n                    // initialize wrapper\n                    d3zoom.x(xScale)\n                        .y(yScale)\n                        .scaleExtent([1, scaleExtent])\n                        .on('zoom', zoomed);\n\n                    // add handler\n                    svg.call(d3zoom).on('dblclick.zoom', unzoomed);\n                    $($element.get(0)).addClass('dynamic');\n\n                    // add keyboard handlers\n                    svg\n                        .attr('focusable', false)\n                        .style('outline', 'none')\n                        .on('keydown', keypress)\n                        .on('focus', function () {});\n\n                    var getXMinMax = function(data) {\n                        var maxVal, minVal = null;\n\n                        for(var i=0;i<data.length;i++) {\n                            if (!data[i].disabled) {\n                                var tempMinVal = d3.max(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                var tempMaxVal = d3.min(data[i].values, function(d: any) { return vm.xFormat ? vm.xFormat(d.x) : d.x;} );\n                                minVal = (!minVal || tempMinVal < minVal) ? tempMinVal : minVal;\n                                maxVal = (!maxVal || tempMaxVal > maxVal) ? tempMaxVal : maxVal;\n                            }\n                        }\n                        return [maxVal, minVal];\n                    };\n\n                    updateZoomOptions = function(data) {\n                        yAxis = chart.yAxis;\n                        xAxis = chart.xAxis;\n\n                        xScale = xAxis.scale();\n                        yScale = yAxis.scale();\n\n                        x_boundary = getXMinMax(data);\n\n                        if (d3zoom.scale() === 1) {\n                            d3zoom.x(xScale).y(yScale);\n                            svg.call(d3zoom);\n                            d3zoom.event(svg);\n                        }\n\n                        updateScroll(xScale.domain(), x_boundary);\n                    }\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || materialColorToRgba(colors[index]);\n                    });\n                }\n            }\n        };\n    }\n})();","(function () {\n    'use strict';\n\n    /**\n     * @ngdoc module\n     * @name pipPieCharts\n     *\n     * @description\n     * Line chart on top of Rickshaw charts\n     */\n    angular.module('pipPieCharts', [])\n        .directive('pipPieChart', pipPieChart);\n\n    function pipPieChart() {\n        return {\n            restrict: 'E',\n            scope: {\n                series: '=pipSeries',\n                donut: '=pipDonut',\n                legend: '=pipShowLegend',\n                total: '=pipShowTotal',\n                size: '=pipPieSize',\n                centered: '=pipCentered'\n            },\n            bindToController: true,\n            controllerAs: 'pieChart',\n            templateUrl: 'pie/pie_chart.html',\n            controller: function ($element, $scope, $timeout, $interval, $mdColorPalette) {\n                var vm               = this;\n                var chart            = null;\n                var titleElem        = null;\n                var chartElem        = null;\n                var colors           = _.map($mdColorPalette, function (palette, color) {\n                    return color;\n                });\n                var resizeTitleLabel = resizeTitleLabelUnwrap;\n\n                vm.data = vm.data || [];\n\n                vm.showLegend = function () {\n                    return vm.legend !== undefined ? vm.legend: true;\n                };\n\n                if (vm.series && vm.series.length > colors.length) {\n                    vm.data = vm.series.slice(0, 9);\n                }\n\n                $scope.$watch('pieChart.series', function (newVal) {\n                    vm.data = newVal;\n\n                    generateParameterColor();\n\n                    if (chart) {\n                        chartElem.datum(vm.data).call(chart);\n                        $timeout(resizeTitleLabel);\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    }\n                }, true);\n\n                // Sets colors of items\n                generateParameterColor();\n\n                (<any>d3.scale).paletteColors = function () {\n                    return d3.scale.ordinal().range(colors.map(materialColorToRgba));\n                };\n\n                /**\n                 * Instantiate chart\n                 */\n                nv.addGraph(() => {\n                    chart = nv.models.pieChart()\n                        .margin({ top: 0, right: 0, bottom: 0, left: 0 })\n                        .x(function (d) {\n                            return vm.donut ? d.value : null;\n                        })\n                        .y(function (d) {\n                            return d.value;\n                        })\n                        .height(vm.size || 250)\n                        .width(vm.size || 250)\n                        .showLabels(true)\n                        .labelThreshold(.001)\n                        .growOnHover(false)\n                        .donut(vm.donut)\n                        .donutRatio(0.5)\n                        .color(function(d) {\n                            return d.color || (<any>d3.scale).paletteColors().range();\n                        });\n\n                    chart.tooltip.enabled(false);\n                    chart.noData('There is no data right now...');\n                    chart.showLegend(false);\n\n                    chartElem = d3.select($element.get(0))\n                        .select('.pie-chart')\n                        .style('height', (vm.size || 250) + 'px')\n                        .style('width', vm.centered ? '100%' : (vm.size || 250) + 'px')\n                        .select('svg')\n                        .style('opacity', 0)\n                        .datum(vm.data || [])\n                        .call(chart);\n\n                    nv.utils.windowResize(function () {\n                        chart.update();\n                        $timeout(resizeTitleLabel);\n                        centerChart();\n                        drawEmptyState(d3.select($element.get(0)).select('.pie-chart svg')[0][0]);\n                    });\n\n                    return chart;\n                }, () => {\n                    $timeout(function () {\n                        var svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0];\n                        renderTotalLabel(svgElem);\n                        d3.select(svgElem)\n                            .transition()\n                            .duration(1000)\n                            .style('opacity', 1);\n                        \n                        $timeout(resizeTitleLabelUnwrap, 800);\n                        centerChart();\n                        drawEmptyState(svgElem);\n                    });\n                });\n\n                function drawEmptyState(svg) {\n                    if (!$element.find('text.nv-noData').get(0)) {\n                        d3.select($element.find('.empty-state')[0]).remove();\n                        $element.find('.pip-empty-pie-text').remove();\n                    } else {\n                    \n                        if ($element.find('.pip-empty-pie-text').length === 0) { \n                            $element.find('.pie-chart')\n                                .append(\"<div class='pip-empty-pie-text'>There is no data right now...</div>\");\n                        }\n\n                        var pie = d3.layout.pie().sort(null),\n                            size = Number(vm.size || 250);\n\n                        var arc = d3.svg.arc()\n                            .innerRadius(size / 2 - 20)\n                            .outerRadius(size / 2 - 57);\n                    \n                        svg = d3.select(svg)\n                            .append(\"g\")\n                            .classed('empty-state', true)\n                            .attr('transform', \"translate(\" + size / 2 + \",\" + size / 2 + \")\");\n                    \n                        var path = svg.selectAll(\"path\")\n                            .data(pie([1]))\n                            .enter().append(\"path\")\n                            .attr(\"fill\", \"rgba(0, 0, 0, 0.08)\")\n                            .attr(\"d\", <any>arc);\n                    }\n                }\n\n                function centerChart() {\n                    if (vm.centered) {\n                        let svgElem  = d3.select($element.get(0)).select('.pie-chart svg')[0][0],\n                        leftMargin = $(svgElem).innerWidth() / 2 - (vm.size || 250) / 2;\n                        d3.select($element.find('.nv-pieChart')[0]).attr('transform', 'translate(' + leftMargin + ', 0)');\n                    }\n                }\n\n                function renderTotalLabel(svgElem) {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    let totalVal = vm.data.reduce(function (sum, curr) {\n                        return sum + curr.value;\n                    }, 0);\n\n                    if (totalVal >= 10000) totalVal = (totalVal / 1000).toFixed(1) + 'k';\n                    \n                    d3.select(svgElem)\n                        .select('.nv-pie:not(.nvd3)')\n                        .append('text')\n                        .classed('label-total', true)\n                        .attr('text-anchor', 'middle')\n                        .style('dominant-baseline', 'central')\n                        .text(totalVal);\n\n                    titleElem = d3.select($element.find('text.label-total').get(0)).style('opacity', 0);\n                }\n\n                function resizeTitleLabelUnwrap() {\n                    if ((!vm.total && !vm.donut) || !vm.data) return;\n\n                    var boxSize =  $element.find('.nvd3.nv-pieChart').get(0).getBBox();\n\n                    if (!boxSize.width || !boxSize.height) {\n                        return;\n                    }\n\n                    titleElem.style('font-size', ~~boxSize.width / 4.5).style('opacity', 1);\n                }\n\n                /**\n                 * Converts palette color name into RGBA color representation.\n                 * Should by replaced by palette for charts.\n                 *\n                 * @param {string} color    Name of color from AM palette\n                 * @returns {string} RGBa format\n                 */\n                function materialColorToRgba(color) {\n                    return 'rgba(' + $mdColorPalette[color][500].value[0] + ','\n                        + $mdColorPalette[color][500].value[1] + ','\n                        + $mdColorPalette[color][500].value[2] + ','\n                        + ($mdColorPalette[color][500].value[3] || 1) + ')';\n                }\n\n\n                /**\n                 * Helpful method\n                 * @private\n                 */\n                function generateParameterColor() {\n                    if (!vm.data) return;\n\n                    vm.data.forEach(function (item, index) {\n                        item.color = item.color || materialColorToRgba(colors[index]);\n                    });\n                }\n            }\n        };\n    }\n})();","(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('bar/bar_chart.html',\n    '<div class=\"bar-chart\"><svg></svg></div><pip-chart-legend pip-series=\"barChart.legend\" pip-interactive=\"barChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('legend/interactive_legend.html',\n    '<div><div class=\"chart-legend-item\" ng-repeat=\"item in series\" ng-show=\"item.values || item.value\"><md-checkbox class=\"lp16 m8\" ng-model=\"item.disabled\" ng-true-value=\"false\" ng-false-value=\"true\" ng-if=\"interactive\" aria-label=\"{{ item.label }}\"><p class=\"legend-item-value\" ng-if=\"item.value\" ng-style=\"{\\'background-color\\': item.color}\">{{ item.value }}</p><p class=\"legend-item-label\">{{:: item.label || item.key }}</p></md-checkbox><div ng-if=\"!interactive\"><span class=\"bullet\" ng-style=\"{\\'background-color\\': item.color}\"></span> <span>{{:: item.label || item.key}}</span></div></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('line/line_chart.html',\n    '<div class=\"line-chart\" flex=\"auto\" layout=\"column\"><svg class=\"flex-auto\" ng-class=\"{\\'visible-x-axis\\': lineChart.isVisibleX(), \\'visible-y-axis\\': lineChart.isVisibleY()}\"></svg><div class=\"scroll-container\"><div class=\"visual-scroll\"><div class=\"scrolled-block\"></div></div></div><md-button class=\"md-fab md-mini minus-button\" ng-click=\"lineChart.zoomOut()\"><md-icon md-svg-icon=\"icons:minus-circle\"></md-icon></md-button><md-button class=\"md-fab md-mini plus-button\" ng-click=\"lineChart.zoomIn()\"><md-icon md-svg-icon=\"icons:plus-circle\"></md-icon></md-button></div><pip-chart-legend pip-series=\"lineChart.legend\" pip-interactive=\"lineChart.interactiveLegend\"></pip-chart-legend>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipCharts.Templates');\n} catch (e) {\n  module = angular.module('pipCharts.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('pie/pie_chart.html',\n    '<div class=\"pie-chart\" ng-class=\"{\\'circle\\': !pieChart.donut}\"><svg class=\"flex-auto\"></svg></div><pip-chart-legend pip-series=\"pieChart.data\" pip-interactive=\"false\" ng-if=\"pieChart.showLegend()\"></pip-chart-legend>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-charts-html.min.js.map\n","/**\n * @file Location control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n\n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocation\", []);\n\n    thisModule.directive('pipLocation', \n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationName: '&',\n                    pipLocationPos: '&',\n                    pipLocationResize: '&',\n                    pipShowLocationIcon: '='\n                },\n                template: \n                    function($element, $attrs: any) {\n                        function toBoolean(value) {\n                            if (value == null) return false;\n                            if (!value) return false;\n                            value = value.toString().toLowerCase();\n                            return value == '1' || value == 'true';\n                        }\n\n                        if (toBoolean($attrs.pipCollapse)) {\n                            return String()\n                                + '<div class=\"pip-location-name location-collapse\" ng-click=\"pipLocationResize()\" ng-hide=\"!pipLocationName()\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text\">{{pipLocationName()}}</span> '\n                                + '</div>'\n                                + '<div class=\"pip-location-container\" ng-hide=\"!pipLocationPos()\"></div>';\n                        } else {\n                            return String()\n                                + '<md-button class=\"pip-location-name\" ng-click=\"pipLocationResize()\" '\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\">'\n                                + '<div class=\"layout-align-start-center layout-row w-stretch\">'\n                                + '<md-icon md-svg-icon=\"icons:location\" class=\"flex-fixed pip-icon\" ng-if=\"pipShowLocationIcon\"></md-icon>'\n                                + '<span class=\"pip-location-text flex\">{{pipLocationName()}}</span>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-down\" class=\"flex-fixed\" ng-if=\"!showMap\"></md-icon>'\n                                + '<md-icon md-svg-icon=\"icons:triangle-up\" class=\"flex-fixed\" ng-if=\"showMap\"></md-icon>'\n                                + '</div></md-button>'\n                                + '<div class=\"pip-location-container\"'\n                                + 'ng-class=\"pipShowLocationIcon ? \\'pip-location-icon-space\\' : \\'\\'\"></div>';\n                        }\n                    },\n                controller: 'pipLocationController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationController',\n        function ($scope, $element, $attrs) {\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            var \n                $name = $element.children('.pip-location-name'),\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                $up = $element.find('.icon-up'),\n                $down = $element.find('.icon-down'),\n                collapsable = toBoolean($attrs.pipCollapse);\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n                $mapContainer.hide();\n            };\n\n            function generateMap() {\n                var location = $scope.pipLocationPos();\n                \n                // Safeguard for bad coordinates\n                if ($scope.showMap == false || location == null\n                    || location.coordinates == null\n                    || location.coordinates.length < 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    location.coordinates[0],\n                    location.coordinates[1]\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapContainer.show();\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            };\n\n            // Process user actions\n            if (!collapsable) {\n                $scope.showMap = false;\n                $up.hide();\n                $mapContainer.hide();\n\n                $name.click(function (event) {\n                    event.stopPropagation();\n                    if ($attrs.disabled) return;\n                    $scope.showMap = !$scope.showMap;\n                    $up[$scope.showMap ? 'show' : 'hide']();\n                    $down[!$scope.showMap ? 'show' : 'hide']();\n                    generateMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch($scope.pipLocationPos,\n                    function (newValue) {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location');\n\n            // Visualize map\n            if ($scope.pipLocationPos()) generateMap();\n            else clearMap();\n        }    \n    );\n\n})();\n","/**\n * @file Location edit dialog\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve sample in sampler app\n */\n \n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipLocationEditDialog', \n        ['ngMaterial',  'pipLocations.Templates']);\n\n    thisModule.run(function ($injector) {\n        var pipTranslate = $injector.has('pipTranslate') ? $injector.get('pipTranslate') : null;\n\n        if (pipTranslate) {\n            pipTranslate.setTranslations('en', {\n                'LOCATION_ADD_LOCATION': 'Add location',\n                'LOCATION_SET_LOCATION': 'Set location',\n                'LOCATION_ADD_PIN': 'Add pin',\n                'LOCATION_REMOVE_PIN': 'Remove pin'\n            });\n            pipTranslate.setTranslations('ru', {\n                'LOCATION_ADD_LOCATION': 'Добавить местоположение',\n                'LOCATION_SET_LOCATION': 'Определить положение',\n                'LOCATION_ADD_PIN': 'Добавить точку',\n                'LOCATION_REMOVE_PIN': 'Убрать точку'\n            });\n        }\n    });\n    \n    thisModule.factory('pipLocationEditDialog',\n        function ($mdDialog) {\n            return {\n                show: function (params, successCallback, cancelCallback) {\n                    $mdDialog.show({\n                        controller: 'pipLocationEditDialogController',\n                        templateUrl: 'location_dialog/location_dialog.html',\n                        locals: {\n                            locationName: params.locationName,\n                            locationPos: params.locationPos\n                        },\n                        clickOutsideToClose: true\n                    })\n                    .then(function (result) {\n                        if (successCallback) {\n                            successCallback(result);\n                        }\n                    }, function () {\n                        if (cancelCallback) {\n                            cancelCallback();\n                        }\n                    });\n                }\n            };\n        }\n    );\n\n    thisModule.controller('pipLocationEditDialogController', \n        function ($scope, $rootScope, $timeout, $mdDialog,  locationPos, locationName) {\n\n            $scope.theme = $rootScope.$theme;\n            $scope.locationPos = locationPos && locationPos.type == 'Point'\n                && locationPos.coordinates && locationPos.coordinates.length == 2\n                ? locationPos : null;\n            $scope.locationName = locationName;\n            $scope.supportSet = navigator.geolocation != null;\n\n            // $scope.transaction = pipTransaction('location_edit_dialog', $scope);\n\n            var map = null, marker = null;\n\n            function createMarker (coordinates) {\n                if (marker) marker.setMap(null);\n                \n                if (coordinates) {\n                    marker = new google.maps.Marker({ \n                        position: coordinates, \n                        map: map,\n                        draggable: true,\n                        animation: google.maps.Animation.DROP\n                    });\n\n                    var thisMarker = marker;\n                    google.maps.event.addListener(thisMarker, 'dragend', function() {\n                       var coordinates = thisMarker.getPosition(); \n                       changeLocation(coordinates, null);\n                    });\n                } else {\n                    marker = null;\n                }\n\n                return marker;\n            };\n\n            function changeLocation(coordinates, tid) {\n                $scope.locationPos = {\n                    type: 'Point',\n                    coordinates: [coordinates.lat(), coordinates.lng()]\n                };\n                $scope.locationName = null;\n\n                if (tid == null) {\n                    // tid = $scope.transaction.begin();\n                    if (tid == null) return;\n                }\n\n                // Read address\n                var geocoder = new google.maps.Geocoder();\n                geocoder.geocode({ location: coordinates }, function(results, status) {\n                    // if ($scope.transaction.aborted(tid)) return;\n\n                    // Process positive response\n                    if (status == google.maps.GeocoderStatus.OK\n                        && results && results.length > 0) {\n                        $scope.locationName = results[0].formatted_address;\n                    }\n\n                    // $scope.transaction.end();\n                    $scope.$apply();\n                });\n            };\n\n            // Wait until dialog is initialized\n            $timeout(function () {\n                var mapContainer = $('.pip-location-edit-dialog .pip-location-container');\n\n                // Calculate coordinate of the center\n                var coordinates = $scope.locationPos ?\n                    new google.maps.LatLng(\n                        $scope.locationPos.coordinates[0],\n                        $scope.locationPos.coordinates[1]\n                    ) : null;\n\n                // Create the map with point marker\n                var mapOptions = {\n                    center: new google.maps.LatLng(0, 0),\n                    zoom: 1,\n                    mapTypeId: google.maps.MapTypeId.ROADMAP,\n                    disableDefaultUI: true\n                };\n                if (coordinates != null) {\n                    mapOptions.center = coordinates;\n                    mapOptions.zoom = 12;\n                }\n\n                map = new google.maps.Map(mapContainer[0], mapOptions);\n                marker = createMarker(coordinates);\n\n                // Fix resizing issue\n                setTimeout(function () {\n                    google.maps.event.trigger(map, 'resize');\n                }, 1000);\n            }, 0);\n\n            $scope.$on('pipLayoutResized', function (event) {\n                if (map == null) return;\n                google.maps.event.trigger(map, 'resize');\n            });\n\n            $scope.onAddPin = function () {\n                if (map == null) return;\n\n                var coordinates = map.getCenter();\n                marker = createMarker(coordinates);\n                changeLocation(coordinates, null);\n            };\n\n            $scope.onRemovePin = function () {\n                if (map == null) return;\n                marker = createMarker(null);\n                $scope.locationPos = null;\n                $scope.locationName = null;\n            };\n\n            $scope.onZoomIn = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom + 1);\n            };\n\n            $scope.onZoomOut = function () {\n                if (map == null) return;\n                var zoom = map.getZoom();\n                map.setZoom(zoom > 1 ? zoom - 1 : zoom);\n            };\n\n            $scope.onSetLocation = function () {\n                if (map == null) return;\n\n                // var tid = $scope.transaction.begin();\n                // if (tid == null) return;\n\n                navigator.geolocation.getCurrentPosition(\n                    function (position) {\n                        // if ($scope.transaction.aborted(tid)) return;\n\n                        var coordinates = new google.maps.LatLng(\n                            position.coords.latitude, position.coords.longitude);\n\n                        marker = createMarker(coordinates);\n                        map.setCenter(coordinates);\n                        map.setZoom(12);\n\n                        // changeLocation(coordinates, tid);\n                    },\n                    function () {\n                        // $scope.transaction.end();\n                        $scope.$apply();\n                    },\n                    {\n                        maximumAge: 0,\n                        enableHighAccuracy: true,\n                        timeout: 5000\n                    }\n                );\n            };\n\n            $scope.onCancel = function () {\n                $mdDialog.cancel();\n            };\n\n            $scope.onApply = function () {\n                $mdDialog.hide({\n                    location: $scope.locationPos,\n                    locationPos: $scope.locationPos,\n                    locationName: $scope.locationName   \n                });\n            };\n        }\n    );\n\n})();\n","/**\n * @file Location edit control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationEdit\", ['pipLocationEditDialog']);\n\n    thisModule.directive('pipLocationEdit',\n        function ($parse, $http, pipLocationEditDialog) {\n            return {\n                restrict: 'EAC',\n                scope: {\n                    pipLocationName: '=',\n                    pipLocationPos: '=',\n                    pipLocationHolder: '=',\n                    ngDisabled: '&',\n                    pipChanged: '&'\n                },\n                template: String()\n                    + '<md-input-container class=\"md-block\">'\n                    + '<label>{{ \\'LOCATION\\' | translate }}</label>'\n                    + '<input ng-model=\"pipLocationName\"'\n                    + 'ng-disabled=\"ngDisabled()\"/></md-input-container>'\n                    + '<div class=\"pip-location-empty\" layout=\"column\" layout-align=\"center center\">'\n                    + '<md-button class=\"md-raised\" ng-disabled=\"ngDisabled()\" ng-click=\"onSetLocation()\"'\n                    + 'aria-label=\"LOCATION_ADD_LOCATION\">'\n                    + '<span class=\"icon-location\"></span> {{::\\'LOCATION_ADD_LOCATION\\' | translate }}'\n                    + '</md-button></div>'\n                    + '<div class=\"pip-location-container\" tabindex=\"{{ ngDisabled() ? -1 : 0 }}\"'\n                    + ' ng-click=\"onMapClick($event)\" ng-keypress=\"\"onMapKeyPress($event)\"></div>',\n                controller: function ($scope, $element) {\n                    $element.find('md-input-container').attr('md-no-float', !!$scope.pipLocationHolder);\n                },\n                link: function ($scope: any, $element) {\n\n                    var \n                        $empty = $element.children('.pip-location-empty'),\n                        $mapContainer = $element.children('.pip-location-container'),\n                        $mapControl = null;\n\n                    function clearMap() {\n                        // Remove map control\n                        if ($mapControl) $mapControl.remove();\n                        $mapControl = null;\n\n                        // Toggle control visibility\n                        $mapContainer.hide();\n                        $empty.show();\n                    };\n\n                    function generateMap() {\n                        // Safeguard for bad coordinates\n                        var location = $scope.pipLocationPos;\n                        if (location == null || location.coordinates == null || location.coordinates.length < 0) {\n                            clearMap();\n                            return;\n                        }\n\n                        // Determine map coordinates\n                        var coordinates = new google.maps.LatLng(\n                            location.coordinates[0],\n                            location.coordinates[1]\n                        );\n\n                        // Clean up the control\n                        if ($mapControl) $mapControl.remove();\n\n                        // Toggle control visibility\n                        $mapContainer.show();\n                        $empty.hide();\n\n                        // Add a new map\n                        $mapControl = $('<div></div>');\n                        $mapControl.appendTo($mapContainer);\n\n                        // Create the map with point marker\n                        var mapOptions = {\n                            center: coordinates,\n                            zoom: 12,\n                            mapTypeId: google.maps.MapTypeId.ROADMAP,\n                            disableDefaultUI: true,\n                            disableDoubleClickZoom: true,\n                            scrollwheel: false,\n                            draggable: false\n                        };\n                        var map = new google.maps.Map($mapControl[0], mapOptions);\n                        var marker = new google.maps.Marker({\n                            position: coordinates,\n                            map: map\n                        });\n                    };\n\n                    function defineCoordinates() {\n                        var locationName = $scope.pipLocationName;\n\n                        if (locationName == '') {\n                            $scope.pipLocationPos = null;\n                            clearMap();\n                            $scope.$apply();\n                            return;\n                        }\n\n                    //    $http.get('http://maps.googleapis.com/maps/api/geocode/json?address=' + locationName)\n                    //    .success(function (response) { ... })\n                    //    .error(function (response) {... });\n\n                        var geocoder = new google.maps.Geocoder();\n                        geocoder.geocode({ address: locationName }, function(results, status) {\n                            $scope.$apply(function() {\n                                // Process response\n                                if (status == google.maps.GeocoderStatus.OK) {\n                                    // Check for empty results\n                                    if (results == null || results.length == 0) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    var \n                                        geometry = results[0].geometry || {},\n                                        location = geometry.location || {};\n\n                                    // Check for empty results again\n                                    if (location.lat == null || location.lng == null) {\n                                        $scope.pipLocationPos = null;\n                                        clearMap();\n                                        return;\n                                    }\n\n                                    $scope.pipLocationPos = {\n                                        type: 'Point',\n                                        coordinates: [\n                                            location.lat(),\n                                            location.lng()\n                                        ]\n                                    };\n\n                                    //generateMap();                                \n                                } \n                                // Process error...\n                                else {\n                                    $scope.pipLocationPos = null;\n                                    //clearMap();                                \n                                }\n                            });\n                        });\n\n                    };\n                    var defineCoordinatesDebounced = _.debounce(defineCoordinates, 2000);\n\n                    // Process user actions\n                    \n                    $scope.onSetLocation = function() {\n                        if ($scope.ngDisabled()) return;\n                          \n                        pipLocationEditDialog.show(\n                            {\n                                locationName: $scope.pipLocationName,\n                                locationPos: $scope.pipLocationPos\n                            },\n                            function (result) {\n                                var \n                                    location = result.location,\n                                    locationName = result.locationName;\n\n                                // Do not change anything if location is about the same\n                                if ($scope.pipLocationPos && $scope.pipLocationPos.type == 'Point'\n                                    && $scope.pipLocationPos.coordinates.length == 2\n                                    && location && location.coordinates.length == 2\n                                    && ($scope.pipLocationPos.coordinates[0] - location.coordinates[0]) < 0.0001\n                                    && ($scope.pipLocationPos.coordinates[1] - location.coordinates[1]) < 0.0001\n                                    && (locationName == $scope.pipLocationName)) {\n                                    return;        \n                                }\n\n                                $scope.pipLocationPos = location;\n                                $scope.pipLocationName = locationName;\n\n                                if (locationName == null && location != null) {\n                                    $scope.pipLocationName = \n                                        '(' + result.location.coordinates[0]\n                                        + ',' + result.location.coordinates[1] + ')';\n                                }\n                                $scope.pipChanged();\n                                $mapContainer[0].focus();\n                            }\n                        );\n                    };\n\n                    $scope.onMapClick = function ($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        $mapContainer[0].focus();\n                        $scope.onSetLocation();\n                        //$event.stopPropagation();\n                    };\n\n                    $scope.onMapKeyPress = function($event) {\n                        if ($scope.ngDisabled()) return;\n\n                        if ($event.keyCode == 13 || $event.keyCode == 32) {\n                            $scope.onSetLocation();\n                            //$event.stopPropagation();\n                        }  \n                    };\n\n                    // Watch for location name changes\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationName\n                        },\n                        function (newValue, oldValue) {\n                            if (newValue != oldValue)\n                                defineCoordinatesDebounced();\n                        }\n                    );\n\n                    $scope.$watch(\n                        function () {\n                            return $scope.pipLocationPos\n                        },\n                        function () {\n                            generateMap();\n                        }\n                    );\n\n                    // Add class\n                    $element.addClass('pip-location-edit');\n\n                    // Visualize map\n                    if ($scope.pipLocationPos) generateMap();\n                    else clearMap();\n                }\n            }\n        }\n    );\n\n})();\n","/**\n * @file Location IP control\n * @copyright Digital Living Software Corp. 2014-2016\n * @todo\n * - Improve samples in sampler app\n */\n \n/* global angular, google */\n\ndeclare let google: any;\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationIp\", []);\n\n    thisModule.directive('pipLocationIp',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipIpaddress: '&',\n                    pipExtraInfo: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationIpController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationIpController',\n        function ($scope, $element, $attrs, $http) {\n\n            var \n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null;\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function generateMap(latitude, longitude) {\n                // Safeguard for bad coordinates\n                if (latitude == null || longitude == null) {\n                    clearMap();\n                    return;\n                }\n\n                // Determine map coordinates\n                var coordinates = new google.maps.LatLng(\n                    latitude,\n                    longitude\n                );\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map with point marker\n                var \n                    mapOptions = {\n                        center: coordinates,\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: false,\n                        draggable: false\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions);\n                    \n                new google.maps.Marker({\n                    position: coordinates,\n                    map: map\n                });\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function defineCoordinates() {\n                var ipAddress = $scope.pipIpaddress();\n\n                if (ipAddress == '') {\n                    clearMap();\n                    return;\n                }\n\n                // Todo: Find more reliable geocoding service to locate ip addresses\n                $http.jsonp('https://www.geoplugin.net/json.gp?ip=' + ipAddress + '&jsoncallback=JSON_CALLBACK')\n                .success(function (response) {\n                    if (response != null \n                        && response.geoplugin_latitude != null\n                        && response.geoplugin_longitude != null) {\n                        \n                        generateMap(response.geoplugin_latitude, response.geoplugin_longitude);\n\n                        if ($scope.pipExtraInfo) {\n                            var extraInfo = {\n                                city: response.geoplugin_city,  \n                                regionCode: response.geoplugin_regionCode,  \n                                region: response.geoplugin_regionName,  \n                                areaCode: response.geoplugin_areaCode,  \n                                countryCode: response.geoplugin_countryCode,  \n                                country: response.geoplugin_countryName,  \n                                continentCode: response.geoplugin_continentCode\n                            };\n                            $scope.pipExtraInfo({ extraInfo: extraInfo });\n                        }\n                    } else {\n                        clearMap();\n                    }\n                })\n                .error(function (response) {\n                    console.error(response);\n                    clearMap();\n                });\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipIpaddress()\n                    },\n                    function (newValue) {\n                        defineCoordinates();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-ip');\n\n            // Visualize map\n            defineCoordinates();\n        }        \n    );\n\n})();\n\n","/**\n * @file Location map control\n * @copyright Digital Living Software Corp. 2014-2016\n */\n \n/* global angular, google */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module(\"pipLocationMap\", []);\n\n    thisModule.directive('pipLocationMap',\n        function () {\n            return {\n                restrict: 'EA',\n                scope: {\n                    pipLocationPos: '&',\n                    pipLocationPositions: '&',\n                    pipIconPath: '&',\n                    pipDraggable: '&',\n                    pipStretch: '&'\n                },\n                template: '<div class=\"pip-location-container\"></div>',\n                controller: 'pipLocationMapController'\n            }\n        }\n    );\n\n    thisModule.controller('pipLocationMapController',\n        ['$scope', '$element', '$attrs', '$parse', '$timeout', function ($scope, $element, $attrs, $parse, $timeout) {\n            var\n                $mapContainer = $element.children('.pip-location-container'),\n                $mapControl = null,\n                stretchMap = $scope.pipStretch() || false,\n                iconPath = $scope.pipIconPath();\n\n            function clearMap() {\n                // Remove map control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = null;\n            }\n\n            function checkLocation (loc) {\n                return !(loc == null\n                || loc.coordinates == null\n                || loc.coordinates.length < 0);\n            }\n\n            function determineCoordinates(loc) {\n                var point = new google.maps.LatLng(\n                    loc.coordinates[0],\n                    loc.coordinates[1]\n                );\n\n                point.fill = loc.fill;\n                point.stroke = loc.stroke;\n\n                return point;\n            }\n\n            function toBoolean(value) {\n                if (value == null) return false;\n                if (!value) return false;\n                value = value.toString().toLowerCase();\n                return value == '1' || value == 'true';\n            }\n\n            function generateMap() {\n                var location = $scope.pipLocationPos(),\n                    locations = $scope.pipLocationPositions(),\n                    points = [],\n                    draggable = $scope.pipDraggable() || false;\n\n                // Safeguard for bad coordinates\n                if (checkLocation(location)) {\n                    points.push(determineCoordinates(location));\n                } else {\n                    if (locations && locations.length && locations.length > 0) {\n                        locations.forEach(function (loc) {\n                            if (checkLocation(loc)) {\n                                points.push(determineCoordinates(loc));\n                            }\n                        });\n                    }\n                }\n\n                if (points.length === 0) {\n                    clearMap();\n                    return;\n                }\n\n                // Clean up the control\n                if ($mapControl) $mapControl.remove();\n                $mapControl = $('<div></div>');\n                $mapControl.appendTo($mapContainer);\n\n                // Create the map\n                var\n                    mapOptions = {\n                        center: points[0],\n                        zoom: 12,\n                        mapTypeId: google.maps.MapTypeId.ROADMAP,\n                        disableDefaultUI: true,\n                        disableDoubleClickZoom: true,\n                        scrollwheel: draggable,\n                        draggable: draggable\n                    },\n                    map = new google.maps.Map($mapControl[0], mapOptions),\n                    bounds = new google.maps.LatLngBounds();\n\n                // Create markers\n                points.forEach(function(point) {\n                    var icon = {\n                        path: iconPath,\n                        fillColor: point.fill || '#EF5350',\n                        fillOpacity: 1,\n                        scale: 1,\n                        strokeColor: point.stroke || 'white',\n                        strokeWeight: 5\n                    };\n\n                    new google.maps.Marker({\n                        position: point,\n                        map: map,\n                        icon: iconPath ? icon : null\n                    });\n                    bounds.extend(point);\n                });\n\n                // Auto-config of zoom and center\n                if (points.length > 1) map.fitBounds(bounds);\n            }\n\n            // Watch for location changes\n            if (toBoolean($attrs.pipRebind)) {\n                $scope.$watch(\n                    function () {\n                        return $scope.pipLocationPos()\n                    },\n                    function () {\n                        generateMap();\n                    }\n                );\n            }\n\n            // Add class\n            $element.addClass('pip-location-map');\n            if (stretchMap) $mapContainer.addClass('stretch');\n\n            // Visualize map\n            if ($scope.pipLocationPos() || $scope.pipLocationPositions()) $timeout(generateMap, 200);\n            else clearMap();\n        }]\n    );\n\n})();\n\n","﻿/// <reference path=\"../typings/tsd.d.ts\" />\n\n(function () {\n    'use strict';\n\n    angular.module('pipLocations', [        \n        'pipLocation',\n        'pipLocationMap',\n        'pipLocationIp',\n        'pipLocationEditDialog',\n        'pipLocationEdit',\n        'pipLocations.Translate'\n    ]);\n    \n})();\n\n\n","(function(module) {\ntry {\n  module = angular.module('pipLocations.Templates');\n} catch (e) {\n  module = angular.module('pipLocations.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('location_dialog/location_dialog.html',\n    '<md-dialog class=\"pip-dialog pip-location-edit-dialog layout-column\" md-theme=\"{{theme}}\"><div class=\"pip-header layout-column layout-align-start-start\"><md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h3 class=\"flex\">{{ \\'LOCATION_SET_LOCATION\\' | translate }}</h3></div><div class=\"pip-footer\"><div class=\"layout-row layout-align-start-center\"><md-button class=\"md-accent\" ng-click=\"onAddPin()\" ng-show=\"locationPos == null\" ng-disabled=\"transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_ADD_PIN\\' }}\">{{ ::\\'LOCATION_ADD_PIN\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"onRemovePin()\" ng-show=\"locationPos != null\" ng-disabled=\"transaction.busy()\" aria-label=\"{{ ::\\'LOCATION_REMOVE_PIN\\' }}\">{{ ::\\'LOCATION_REMOVE_PIN\\' | translate }}</md-button></div><div class=\"flex\"></div><div class=\"layout-row layout-align-end-center\"><md-button ng-click=\"onCancel()\" aria-label=\"{{ ::\\'CANCEL\\' }}\">{{ ::\\'CANCEL\\' | translate }}</md-button><md-button class=\"md-accent\" ng-click=\"onApply()\" ng-disabled=\"transaction.busy()\" aria-label=\"{{ ::\\'APPLY\\' }}\">{{ ::\\'APPLY\\' | translate }}</md-button></div></div><div class=\"pip-body\"><div class=\"pip-location-container\"></div><md-button class=\"md-icon-button md-fab pip-zoom-in\" ng-click=\"onZoomIn()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_IN\\' }}\"><md-icon md-svg-icon=\"icons:plus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-zoom-out\" ng-click=\"onZoomOut()\" aria-label=\"{{ ::\\'LOCATION_ZOOM_OUT\\' }}\"><md-icon md-svg-icon=\"icons:minus\"></md-icon></md-button><md-button class=\"md-icon-button md-fab pip-set-location\" ng-click=\"onSetLocation()\" aria-label=\"{{ ::\\'LOCATION_SET_LOCATION\\' }}\" ng-show=\"supportSet\" ng-disabled=\"transaction.busy()\"><md-icon md-svg-icon=\"icons:target\"></md-icon></md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-locations-html.min.js.map\n","'use strict';\n\nimport './settings_service/index';\nimport './settings_page/index';\n\nangular.module('pipSettings', [\n    'pipSettings.Service',\n    'pipSettings.Page'\n]);\n\nexport * from './settings_service';\nexport * from './settings_page';","﻿/**\n * @file Registration of settings components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipSettings', [\n        'pipSettings.Service',\n        'pipSettings.Page'\n    ]);\n\n})();\n","// Prevent junk from going into typescript definitions\n(() => {\n\nclass SettingsPageController {\n    private _log: ng.ILogService;\n    private _q: ng.IQService;\n    private _state: ng.ui.IStateService;\n\n    public tabs: any;\n    public selected: any;\n    public onDropdownSelect: any;\n\n    constructor(\n        $log: ng.ILogService,\n        $q: ng.IQService,\n        $state: ng.ui.IStateService,\n        pipNavService,\n        pipSettings,\n        $rootScope, \n        $timeout\n    ) {\n        this._log = $log;\n        this._q = $q;\n        this._state = $state;\n\n        this.tabs = _.filter(pipSettings.getTabs(), function (tab: any) {\n                if (tab.visible === true && (tab.access ? tab.access($rootScope.$user, tab) : true)) {\n                    return tab;\n                }\n            });\n\n        this.tabs = _.sortBy(this.tabs, 'index');\n\n        this.selected = {};\n        if (this._state.current.name !== 'settings') {\n            this.initSelect(this._state.current.name);\n        } else if (this._state.current.name === 'settings' && pipSettings.getDefaultTab()) {\n            this.initSelect(pipSettings.getDefaultTab().state);\n        } else {\n            $timeout(function () {\n                if (pipSettings.getDefaultTab()) {\n                    this.initSelect(pipSettings.getDefaultTab().state);\n                }\n                if (!pipSettings.getDefaultTab() && this.tabs.length > 0) {\n                     this.initSelect(this.tabs[0].state);\n                }\n            });\n        }\n\n        pipNavService.icon.showMenu();\n        pipNavService.breadcrumb.text = \"Settings\";\n        pipNavService.actions.hide();\n        pipNavService.appbar.removeShadow();\n        \n        this.onDropdownSelect = (state) => {\n            this.onNavigationSelect(state.state);\n        }\n    }\n\n    private initSelect(state: string) {\n        this.selected.tab = _.find(this.tabs, function (tab: any) {\n                    return tab.state === state;\n                });\n        this.selected.tabIndex = _.indexOf(this.tabs, this.selected.tab);\n        this.selected.tabId = state;\n    }\n\n    public onNavigationSelect(state: string) {\n        this.initSelect(state);\n\n        if (this.selected.tab) {\n            this._state.go(state);\n        }\n    }\n}\n\nangular.module('pipSettings.Page')\n    .controller('pipSettingsPageController', SettingsPageController);\n})();","'use strict';\n\nfunction configureSettingsPageRoutes($stateProvider) {\n    $stateProvider\n        .state('settings', {\n            url: '/settings?party_id',\n            auth: true,\n            controllerAs: 'vm',\n            controller: 'pipSettingsPageController',\n            templateUrl: 'settings_page/SettingsPage.html'\n        });\n       \n}\n\nangular.module('pipSettings.Page')\n    .config(configureSettingsPageRoutes);\n","'use strict';\n\nangular.module('pipSettings.Page', [\n    'ui.router', \n    'pipSettings.Service',\n    'pipNav', \n    'pipSelected',\n    'pipTranslate',\n    'pipSettings.Templates'\n    ]);\n\n\nimport './SettingsPageController';\nimport './SettingsPageRoutes';","'use strict';\n\nexport class SettingsTab {\n    public state: string;\n    public title: string;\n    public index: string;\n    public access: boolean;\n    public visible: boolean;\n    public stateConfig: any;\n}\n\nexport interface ISettingsService {\n    getDefaultTab();\n    showTitleText (newTitleText);\n    showTitleLogo(newTitleLogo);\n    setDefaultTab(name: string);\n    showNavIcon(value);\n    getTabs();\n}\n\nexport interface ISettingsProvider extends ng.IServiceProvider {\n    getDefaultTab(): SettingsTab;\n    addTab(tabObj: any);\n    setDefaultTab(name: string): void;\n    getFullStateName(state: string): string;\n}\n\nexport class SettingsConfig {\n\n    public defaultTab: string;\n    public tabs: SettingsTab[] = [];\n    public titleText: string = 'SETTINGS_TITLE';\n    public titleLogo: boolean = null;\n    public isNavIcon: boolean = true;\n\n}\n\nclass SettingsService implements ISettingsService {\n    private _config: SettingsConfig;\n    private _rootScope: ng.IRootScopeService;\n\n    public constructor($rootScope: ng.IRootScopeService, \n                       config: SettingsConfig) {\n        \"ngInject\";\n        this._rootScope = $rootScope;\n        this._config = config;\n    }\n\n    private getFullStateName(state: string): string {\n        return 'settings.' + state;\n    }\n\n    public setDefaultTab(name: string): void {\n        if (!_.find(this._config.tabs, function (tab) {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n    }\n\n    public getDefaultTab() {\n        var defaultTab;\n        defaultTab = _.find(this._config.tabs, function (p) {\n            return p.state === defaultTab;\n        });\n        return _.cloneDeep(defaultTab);\n    }\n\n    public showTitleText (newTitleText: string) {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value: boolean) {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n    public getTabs() {\n        return _.cloneDeep(this._config.tabs);\n    }\n\n}\n\nclass SettingsProvider implements ISettingsProvider {\n    private _service: SettingsService;\n    private _config: SettingsConfig = new SettingsConfig();\n    private _stateProvider: ng.ui.IStateProvider;\n\n    constructor($stateProvider: ng.ui.IStateProvider) {\n        this._stateProvider = $stateProvider;\n    }\n\n    public getFullStateName(state): string {\n        return 'settings.' + state;\n    }\n\n    public getDefaultTab(): SettingsTab {\n        var defaultTab;\n\n        defaultTab = _.find(this._config.tabs, function (p) {\n            return p.state === defaultTab;\n        });\n\n        return _.cloneDeep(defaultTab);\n    }\n\n    public addTab(tabObj: any) {\n        var existingTab: SettingsTab;\n\n        this.validateTab(tabObj);\n        existingTab = _.find(this._config.tabs, function (p) {\n            return p.state === 'settings.' + tabObj.state;\n        });\n        if (existingTab) {\n            throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n        }\n\n        this._config.tabs.push({\n            state: this.getFullStateName(tabObj.state),\n            title: tabObj.title,\n            index: tabObj.index || 100000,\n            access: tabObj.access,\n            visible: tabObj.visible !== false,\n            stateConfig: _.cloneDeep(tabObj.stateConfig)\n        });\n        this._stateProvider.state(this.getFullStateName(tabObj.state), tabObj.stateConfig);\n\n        // if we just added first state and no default state is specified\n        if (typeof this._config.defaultTab === 'undefined' && this._config.tabs.length === 1) {\n            this.setDefaultTab(tabObj.state);\n        }\n    }\n\n    public setDefaultTab(name: string): void {\n        // TODO [apidhirnyi] extract expression inside 'if' into variable. It isn't readable now.\n        if (!_.find(this._config.tabs, function (tab) {\n            return tab.state === 'settings.' + name;\n        })) {\n            throw new Error('Tab with state name \"' + name + '\" is not registered');\n        }\n\n        this._config.defaultTab = this.getFullStateName(name);\n        //this._stateProvider.go(this._config.defaultTab);\n            //pipAuthStateProvider.redirect('settings', getFullStateName(name));\n    }\n\n    /**\n     * Validates passed tab config object\n     * If passed tab is not valid it will throw an error\n     */\n\n    private validateTab(tabObj: SettingsTab) {\n        if (!tabObj || !_.isObject(tabObj)) {\n            throw new Error('Invalid object');\n        }\n\n        if (tabObj.state === null || tabObj.state === '') {\n            throw new Error('Tab should have valid Angular UI router state name');\n        }\n\n        if (tabObj.access && !_.isFunction(tabObj.access)) {\n            throw new Error('\"access\" should be a function');\n        }\n\n        if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n            throw new Error('Invalid state configuration object');\n        }\n    }\n\n    public showTitleText (newTitleText: string): string {\n        if (newTitleText) {\n            this._config.titleText = newTitleText;\n            this._config.titleLogo = null;\n        }\n\n        return this._config.titleText;\n    }\n\n    public showTitleLogo(newTitleLogo) {\n        if (newTitleLogo) {\n            this._config.titleLogo = newTitleLogo;\n            this._config.titleText = null;\n        }\n\n        return this._config.titleLogo;\n    }\n\n    public showNavIcon(value) {\n        if (value !== null && value !== undefined) {\n            this._config.isNavIcon = !!value;\n        }\n\n        return this._config.isNavIcon;\n    }\n\n    public $get($rootScope, $state) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new SettingsService($rootScope, this._config);\n        \n        return this._service;\n    }\n}\n\nangular\n    .module('pipSettings.Service')\n    .provider('pipSettings', SettingsProvider);\n\n","'use strict';\n\nangular.module('pipSettings.Service', []);\n\nimport './SettingsService';","/**\n * @file Settings tab logic\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipUserSettings', [\n        'ngMaterial', 'pipData',\n        'pipSettings.Service',\n        'pipSettings.Page',\n\n        'pipUserSettings.Strings',\n        'pipUserSettings.Sessions',\n        'pipUserSettings.BasicInfo',\n        'pipSettings.Templates'\n    ]);\n\n})();\n","/**\n * @file Settings basic info controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipUserSettings.BasicInfo',\n        ['pipUserSettings.ChangePassword', 'pipUserSettings.VerifyEmail', \n            'pipSettings.Service', 'pipSettings.Page',]);\n\n    thisModule.config(function (pipSettingsProvider) {\n        pipSettingsProvider.addTab({\n            state: 'basic_info',\n            index: 1,\n            title: 'SETTINGS_BASIC_INFO_TITLE',\n            stateConfig: {\n                url: '/basic_info',\n                controller: 'pipUserSettingsBasicInfoController',\n                templateUrl: 'user_settings/user_settings_basic_info.html',\n                auth: true\n            }\n        });\n\n        pipSettingsProvider.setDefaultTab('basic_info');\n    });\n\n    /**\n     * @ngdoc controller\n     * @name pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\n     *\n     * @description\n     * Controller for the predefined 'basic_info' state.\n     * Provides sync changes user's profile with remote profile.\n     * On state exit everything is saved on the server.\n     */\n    thisModule.controller('pipUserSettingsBasicInfoController',\n        function ($scope, $rootScope, $mdDialog, $state, $window, $timeout, $mdTheming,\n                  pipTranslate, pipTransaction, pipTheme,\n                  pipToasts, pipDataUser, pipDataParty, pipFormErrors) {\n\n            try {\n                $scope.originalParty = angular.toJson($rootScope.$party);\n            } catch (err) {\n                throw err;\n            }\n\n            $scope.nameCopy = $rootScope.$party.name;\n\n            $timeout(function () {\n                $scope.loc_pos = $rootScope.$party.loc_pos;\n            });\n\n            $scope.genders = pipTranslate.translateSet(['male', 'female', 'n/s']);\n            $scope.languages = pipTranslate.translateSet(['ru', 'en']);\n\n            $scope.transaction = pipTransaction('settings.basic_info', $scope);\n\n            $scope.themes = _.keys(_.omit($mdTheming.THEMES, 'default'));\n\n            $state.get('settings.basic_info').onExit = saveChanges;\n\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\n            /** @see onChangePassword */\n            $scope.onChangePassword = onChangePassword;\n            /** @see onVerifyEmail */\n            $scope.onVerifyEmail = onVerifyEmail;\n            /** @see onPictureCreated */\n            $scope.onPictureCreated = onPictureCreated;\n            /** @see onPictureChanged */\n            $scope.onPictureChanged = onPictureChanged;\n            /** @see updateUser */\n            $scope.onChangeUser = _.debounce(updateUser, 2000);\n            /** @see saveChanges */\n            $scope.onChangeBasicInfo = _.debounce(saveChanges, 2000);\n\n            function onPictureChanged() {\n                $scope.picture.save(\n                    function () {\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\n                    },\n                    function (error) {\n                        return new Error(error);\n                    }\n                );\n            }\n\n            function onPictureCreated($event) {\n                $scope.picture = $event.sender;\n                $scope.picture.save(\n                    function () {\n                        $rootScope.$broadcast('pipPartyAvatarUpdated');\n                    },\n                    function (error) {\n                        return new Error(error);\n                    }\n                );\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeBasicInfo\n             *\n             * @description\n             * Saves changes onto server.\n             * This method responses on change of the input information.\n             * It is updated user's party profile. Also it updates user's profile in $rootScope.\n             */\n            function saveChanges() {\n                if ($scope.form) {\n                    $scope.form.$setSubmitted();\n                }\n\n                if ($rootScope.$party) {\n\n                    if ($rootScope.$party.type === 'person' && $scope.form.$invalid) {\n                        return;\n                    }\n\n                    // Check to avoid unnecessary savings\n                    $rootScope.$party.loc_pos = $scope.loc_pos;\n                    try {\n                        var party = angular.toJson($rootScope.$party);\n                    } catch (err) {\n                        throw err;\n                    }\n\n                    if (party !== $scope.originalParty) {\n                        var tid = $scope.transaction.begin('UPDATING');\n\n                        pipDataParty.updateParty($rootScope.$party,\n                            function (data) {\n                                if ($scope.transaction.aborted(tid)) {\n                                    return;\n                                }\n                                $scope.transaction.end();\n\n                                $scope.originalParty = party;\n                                $scope.nameCopy = data.name;\n                            }, function (error) {\n                                $scope.transaction.end(error);\n                                $scope.message = String() + 'ERROR_' + error.status || error.data.status_code;\n                                $rootScope.$party = angular.fromJson($scope.originalParty);\n                            }\n                        );\n                    }\n                }\n\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangeUser\n             *\n             * @description\n             * Saves changes onto server.\n             * This method responses on change of the user's profile information.\n             * Also it updates user's profile in $rootScope.\n             */\n            function updateUser() {\n                var tid = $scope.transaction.begin('RequestEmailVerification');\n\n                if ($rootScope.$user.id === $rootScope.$party.id) {\n                    pipDataUser.updateUser(\n                        {\n                            item: $rootScope.$user\n                        },\n                        function (data) {\n                            if ($scope.transaction.aborted(tid)) {\n                                return;\n                            }\n                            $scope.transaction.end();\n\n                            pipTranslate.use(data.language);\n                            $rootScope.$user.language = data.language;\n                            $rootScope.$user.theme = data.theme;\n                            if ($rootScope.$user.theme) {\n                                pipTheme.setCurrentTheme($rootScope.$user.theme, true);\n                            }\n\n                        }, function (error) {\n                            var message;\n                            \n                            $scope.transaction.end(error);\n                            message = String() + 'ERROR_' + error.status || error.data.status_code;\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\n                        }\n                    );\n                }\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onChangePassword\n             *\n             * @description\n             * It opens a dialog panel to change password.\n             *\n             * @param {Object} event    Triggered event object\n             */\n            function onChangePassword(event) {\n                var message;\n\n                $mdDialog.show({\n                    templateUrl: 'user_settings/user_settings_change_password.html',\n                    controller: 'pipUserSettingsChangePasswordController',\n                    targetEvent: event,\n                    locals: {email: $rootScope.$party.email}\n                }).then(\n                    function (answer) {\n                        if (answer) {\n                            message = String() + 'RESET_PWD_SUCCESS_TEXT';\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\n                        }\n                    });\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.BasicInfo:pipUserSettingsBasicInfoController\n             * @name pipUserSettings.BasicInfo.pipUserSettingsBasicInfoController:onVerifyEmail\n             *\n             * @description\n             * It opens a dialog panel to change password.\n             *\n             * @param {Object} event    Triggered event object\n             */\n            function onVerifyEmail(event) {\n                var message;\n\n                $mdDialog.show({\n                    templateUrl: 'user_settings/user_settings_verify_email.html',\n                    controller: 'pipUserSettingsVerifyEmailController',\n                    targetEvent: event,\n                    locals: {email: $rootScope.$party.email}\n                }).then(\n                    function (answer) {\n                        $scope.user.email_ver = answer;\n                        if (answer) {\n                            message = String() + 'VERIFY_EMAIL_SUCCESS_TEXT';\n                            pipToasts.showNotification(pipTranslate.translate(message), null, null, null);\n                        }\n                    }\n                );\n            }\n        }\n    );\n\n})();\n","/**\n * @file Settings change password controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipUserSettings.ChangePassword', []);\n\n    /**\n     * @ngdoc controller\n     * @name pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\n     *\n     * @description\n     * Controller for dialog panel of password change.\n     */\n    thisModule.controller('pipUserSettingsChangePasswordController',\n        function ($scope, $rootScope, $mdDialog, email, pipDataUser, pipTransaction, pipFormErrors) {\n\n            $scope.transaction = pipTransaction('settings.change_password', $scope);\n            $scope.errorsRepeatWithHint = function (form, formPart) {\n                if ($scope.showRepeatHint) {\n                    return pipFormErrors.errorsWithHint(form, formPart);\n                }\n\n                return {};\n            };\n            $scope.showRepeatHint = true;\n            $scope.changePasData = {};\n\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\n            $scope.onCancel = onCancel;\n            $scope.onCheckRepeatPassword = onCheckRepeatPassword;\n            $scope.onApply = onApply;\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCancel\n             *\n             * @description\n             * Closes opened dialog panel.\n             */\n            function onCancel() {\n                $mdDialog.cancel();\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onCheckRepeatPassword\n             *\n             * @description\n             * Validates a password typed into password fields.\n             */\n            function onCheckRepeatPassword() {\n                if ($scope.changePasData) {\n                    if ($scope.repeat === $scope.changePasData.new_password || $scope.repeat === '' || !$scope.repeat) {\n                        $scope.form.repeat.$setValidity('repeat', true);\n                        if ($scope.repeat === $scope.changePasData.new_password) {\n                            $scope.showRepeatHint = false;\n                        } else {\n                            $scope.showRepeatHint = true;\n                        }\n                    } else {\n                        $scope.showRepeatHint = true;\n                        $scope.form.repeat.$setValidity('repeat', false);\n                    }\n                }\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.ChangePassword:pipUserSettingsChangePasswordController\n             * @name pipUserSettings.ChangePassword.pipUserSettingsChangePasswordController:onApply\n             *\n             * @description\n             * Approves password change and sends request to the server on password change.\n             */\n            function onApply() {\n                $scope.onCheckRepeatPassword();\n\n                if ($scope.form.$invalid) {\n                    return;\n                }\n\n                if (!$scope.transaction.begin('CHANGE_PASSWORD')) {\n                    return;\n                }\n\n                $scope.changePasData.email = email;\n\n                pipDataUser.changePassword(\n                    $scope.changePasData,\n                    function () {\n                        $scope.transaction.end();\n                        $mdDialog.hide(true);\n                    },\n                    function (error) {\n                        $scope.transaction.end(error);\n                        pipFormErrors.setFormError(\n                            $scope.form, error,\n                            {\n                                1107: 'oldPassword',\n                                1105: 'newPassword'\n                            }\n                        );\n                    }\n                );\n            }\n        }\n    );\n\n})();\n","/**\n * @file Settings sessions controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipUserSettings.Sessions', [\n        'pipSettings.Service', 'pipSettings.Page',]);\n\n    thisModule.config(function (pipSettingsProvider, pipDataSessionProvider) {\n        pipSettingsProvider.addTab({\n            state: 'sessions',\n            index: 3,\n            title: 'SETTINGS_ACTIVE_SESSIONS_TITLE',\n            stateConfig: {\n                url: '/sessions',\n                controller: 'pipUserSettingsSessionsController',\n                templateUrl: 'user_settings/user_settings_sessions.html',\n                auth: true,\n                resolve: {\n                    sessions: pipDataSessionProvider.readSessionsResolver,\n                    sessionId: pipDataSessionProvider.readSessionIdResolver\n                }\n            }\n        });\n    });\n\n    /**\n     * @ngdoc controller\n     * @name pipUserSettings.Sessions:pipUserSettingsSessionsController\n     *\n     * @description\n     * Controller provides an interface for managing active sessions.\n     */\n    thisModule.controller('pipUserSettingsSessionsController',\n        function ($scope, pipTransaction, pipDataSession, sessions, sessionId) {\n\n            $scope.sessionId = sessionId;\n            $scope.transaction = pipTransaction('settings.sessions', $scope);\n            $scope.sessions = sessions;\n\n            $scope.onRemoveAll = onRemoveAll;\n            $scope.onRemove = onRemove;\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemoveAll\n             *\n             * @description\n             * Closes all active session.\n             */\n            function onRemoveAll() {\n                var tid = $scope.transaction.begin('REMOVING');\n\n                async.eachSeries(\n                    $scope.sessions,\n                    function (session: any, callback) {\n                        if (session.id == $scope.sessionId) {\n                            callback();\n                        } else {\n                            pipDataSession.removeSession(\n                                {\n                                    session: session\n                                },\n                                function () {\n                                    $scope.sessions = _.without($scope.sessions, session);\n                                    callback();\n                                },\n                                function (error) {\n                                    callback;\n                                }\n                            );\n                        }\n                    },\n                    function (err) {\n                        if (err) {\n                            $scope.transaction.end(err);\n                        }\n                        if ($scope.transaction.aborted(tid)) {\n                            return;\n                        }\n                        $scope.transaction.end();\n                    });                \n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.Sessions:pipUserSettingsSessionsController\n             * @name pipUserSettings.Sessions.pipUserSettingsSessionsController:onRemove\n             *\n             * @description\n             * Closes passed session.\n             *\n             * @param {Object} session  Session configuration object\n             */\n            function onRemove(session, callback) {\n                if (session.id === $scope.sessionId) {\n                    return;\n                }\n                var tid = $scope.transaction.begin('REMOVING');\n                pipDataSession.removeSession(\n                    {\n                        session: session\n                    },\n                    function () {\n                        if ($scope.transaction.aborted(tid)) {\n                            return;\n                        }\n                        $scope.transaction.end();\n\n                        $scope.sessions = _.without($scope.sessions, session);\n                        if (callback) {\n                            callback();\n                        }\n                    },\n                    function (error) {\n                        $scope.transaction.end(error);\n                        $scope.message = 'ERROR_' + error.status || error.data.status_code;\n                    }\n                );\n            }\n        }\n    );\n\n})();\n","/**\n * @file Settings string resources\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n/* eslint-disable quote-props */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipUserSettings.Strings', ['pipTranslate']);\n\n    thisModule.config(function (pipTranslateProvider) {\n\n        // Set translation strings for the module\n        pipTranslateProvider.translations('en', {\n            'SETTINGS_TITLE': 'Settings',\n            'SETTINGS_BASIC_INFO_TITLE': 'Basic info',\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Active sessions',\n\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Full name',\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Please, verify your email address.',\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Verify email address',\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Your password was changed on ',\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Change your password',\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Please, use your real name to let other people know who you are.',\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Few words about yourself',\n\n            'SETTINGS_BASIC_INFO_GENDER': 'Gender',\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Birthday',\n            'SETTINGS_BASIC_INFO_LOCATION': 'Current location',\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Primary email',\n            'SETTINGS_BASIC_INFO_FROM': 'User since ',\n            'SETTINGS_BASIC_INFO_USER_ID': 'User ID',\n\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Change password',\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'New password',\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Repeat password',\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Current password',\n\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': ' If you notice any unfamiliar devices or locations, click' +\n            '\"Close Session\" to end the session.',\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Close session',\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Close active sessions',\n            'SETTINGS_ACTIVE_SESSION_OS': 'OS: ',\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'active',\n\n            'SETTINGS_BLACKLIST_TITLE': 'Blacklist',\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Parties from blacklist will not be able to send you invitations and ' +\n            'private messages.',\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Unblock',\n            'SETTINGS_BLACKLIST_EMPTY': 'You have no blocked parties',\n\n            'SETTINGS_CONTACT_INFO_TITLE': 'Contact info',\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Email',\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Add email',\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Add phone',\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Add address',\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Add account',\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Add URL',\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Address',\n            'SETTINGS_CONTACT_INFO_PHONE': 'Phone',\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Account name',\n            'SETTINGS_CONTACT_INFO_URL': 'URL',\n\n            'THEME': 'Theme',\n\n            'HINT_PASSWORD': 'Minimum 6 characters',\n            'HINT_REPEAT_PASSWORD': 'Repeat password',\n\n            'ERROR_WRONG_PASSWORD': 'Wrong password',\n            'ERROR_IDENTICAL_PASSWORDS': 'Old and new passwords are identical',\n            'REPEAT_PASSWORD_INVALID': 'Password does not match',\n            'ERROR_EMAIL_INVALID': 'Please, enter a valid email'\n        });\n\n        pipTranslateProvider.translations('ru', {\n            'SETTINGS_TITLE': 'Настройки',\n            'SETTINGS_BASIC_INFO_TITLE': 'Основные данные',\n            'SETTINGS_ACTIVE_SESSIONS_TITLE': 'Активные сессии',\n\n            'SETTINGS_BASIC_INFO_FULL_NAME': 'Полное имя',\n            'SETTINGS_BASIC_INFO_NAME_HINT': 'Пожалуйста, используйте реальное имя, чтоб люди могли вас узнать',\n            'SETTINGS_BASIC_INFO_VERIFY_HINT': 'Пожалуйста, подтвердите адрес своей электронной почты',\n            'SETTINGS_BASIC_INFO_VERIFY_CODE': 'Подтвердите адрес эл.почты',\n            'SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD': 'Ваш пароль был изменен ',\n            'SETTINGS_BASIC_INFO_CHANGE_PASSWORD': 'Поменять пароль',\n\n            'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME': 'Несколько слов о себе',\n            'SETTINGS_BASIC_INFO_GENDER': 'Пол',\n            'SETTINGS_BASIC_INFO_BIRTHDAY': 'Дата рождения',\n            'SETTINGS_BASIC_INFO_LOCATION': 'Текущее местонахождение',\n            'SETTINGS_BASIC_INFO_PRIMARY_EMAIL': 'Основной адрес эл. почты',\n            'SETTINGS_BASIC_INFO_FROM': 'Начиная с',\n            'SETTINGS_BASIC_INFO_USER_ID': 'Личный код',\n\n            'SETTINGS_CHANGE_PASSWORD_TITLE': 'Изменить пароль',\n            'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD': 'Новый пароль',\n            'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD': 'Повтор',\n            'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD': 'Текущий пароль',\n\n            'SETTINGS_ACTIVE_SESSIONS_SUBTITLE': 'Если вы заметили какие-либо незнакомые устройства или ' +\n            'месторасположение, нажмите кнопку \"Закончить сеанс\", чтобы завершить сеанс.',\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION': 'Закрыть сессию',\n            'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS': 'Закрыть активные сессии',\n            'SETTINGS_ACTIVE_SESSION_OS': 'ОС: ',\n            'SETTINGS_ACTIVE_SESSION_IP': 'IP: ',\n            'SETTINGS_ACTIVE_SESSION_ACTIVE': 'Активно',\n\n            'SETTINGS_BLACKLIST_TITLE': 'Блокировки',\n            'SETTINGS_BLACKLIST_SUBTITLE': 'Участники из черного списка не смогут' +\n            ' посылать вам приглашения и личные сообщения.',\n            'SETTINGS_BLACKLIST_UNBLOCK': 'Разблокировать',\n            'SETTINGS_BLACKLIST_EMPTY': 'У вас нет заблокированных участников',\n\n            'SETTINGS_CONTACT_INFO_TITLE': 'Контакты',\n            'SETTINGS_CONTACT_INFO_EMAIL': 'Адрес электронной почты',\n            'SETTINGS_CONTACT_INFO_ADD_EMAIL': 'Добавить адрес эл. почты',\n            'SETTINGS_CONTACT_INFO_ADD_PHONE': 'Добавить телефон',\n            'SETTINGS_CONTACT_INFO_ADD_ADDRESS': 'Добавить адрес',\n            'SETTINGS_CONTACT_INFO_ADD_ACCOUNT': 'Добавить аккаунт',\n            'SETTINGS_CONTACT_INFO_ADD_URL': 'Добавить веб-сайт',\n            'SETTINGS_CONTACT_INFO_ADDRESS': 'Адрес',\n            'SETTINGS_CONTACT_INFO_PHONE': 'Телефон',\n            'SETTINGS_CONTACT_INFO_ACCOUNT_NAME': 'Учетка в мессенджере',\n            'SETTINGS_CONTACT_INFO_URL': 'Веб сайт',\n\n            'THEME': 'Тема',\n\n            'HINT_PASSWORD': 'Минимум 6 знаков',\n            'HINT_REPEAT_PASSWORD': 'Повторите пароль',\n\n            'ERROR_WRONG_PASSWORD': 'Неправильный пароль',\n            'ERROR_IDENTICAL_PASSWORDS': 'Старый и новый пароли идентичны',\n            'REPEAT_PASSWORD_INVALID': 'Пароль не совпадает',\n            'ERROR_EMAIL_INVALID': 'Пожалуйста, введите правильный почт.адрес'\n        });\n    });\n\n})();\n","/**\n * @file Settings verify email controller\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    var thisModule = angular.module('pipUserSettings.VerifyEmail', []);\n\n    /**\n     * @ngdoc controller\n     * @name pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\n     *\n     * @description\n     * Controller for verify email dialog panel.\n     */\n    thisModule.controller('pipUserSettingsVerifyEmailController',\n        function ($scope, $rootScope, $mdDialog, pipTransaction, pipFormErrors, pipDataUser, email) {\n\n            $scope.emailVerified = false;\n            $scope.data = {\n                email: email,\n                code: ''\n            };\n            $scope.transaction = pipTransaction('settings.verify_email', $scope);\n\n            /** @see onAbort */\n            $scope.onAbort = onAbort;\n            /** @see onRequestVerificationClick*/\n            $scope.onRequestVerificationClick = onRequestVerificationClick;\n            $scope.errorsWithHint = pipFormErrors.errorsWithHint;\n            /** @see onVerify */\n            $scope.onVerify = onVerify;\n            /** @see onCancel */\n            $scope.onCancel = onCancel;\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onAbort\n             *\n             * @description\n             * Aborts a verify request.\n             */\n            function onAbort() {\n                $scope.transaction.abort();\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onCancel\n             *\n             * @description\n             * Closes opened dialog panel.\n             */\n            function onCancel() {\n                $mdDialog.cancel();\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onRequestVerificationClick\n             *\n             * @description\n             * Sends request to verify entered email.\n             */\n            function onRequestVerificationClick() {\n                    var tid = $scope.transaction.begin('RequestEmailVerification');\n\n                pipDataUser.requestEmailVerification(\n                    {},                         \n                    function (result) {\n                            if ($scope.transaction.aborted(tid)) {\n                                return;\n                            }\n                            $scope.transaction.end();\n                        }, \n                        function (error) {\n                            $scope.transaction.end(error);\n                        }\n                    );\n            }\n\n            /**\n             * @ngdoc method\n             * @methodOf pipUserSettings.VerifyEmail:pipUserSettingsVerifyEmailController\n             * @name pipUserSettings.VerifyEmail.pipUserSettingsVerifyEmailController:onVerify\n             *\n             * @description\n             * Initiates request on verify email on the server.\n             */\n            function onVerify() {\n                $scope.form.$setSubmitted();\n\n                if ($scope.form.$invalid) {\n                    return;\n                }\n                var tid = $scope.transaction.begin('Verifying');\n\n                pipDataUser.verifyEmail(\n                    {\n                        email: $scope.data.email,\n                        code: $scope.data.code\n                    }, \n                    function (verifyData) {\n                            if ($scope.transaction.aborted(tid)) {\n                                return;\n                            }\n                            $scope.transaction.end();\n\n                        $mdDialog.hide(true);\n                    },\n                    function (error) {\n                        $scope.transaction.end(error);\n\n                        pipFormErrors.setFormError(\n                            $scope.form, error,\n                            {\n                                1106: 'email',\n                                1103: 'code'\n                            }\n                        );\n\n                    }\n                );\n            }\n        }\n    );\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('settings_page/SettingsPage.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\" class=\"pip-settings\"><div class=\"pip-menu-container\" ng-hide=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\"><md-list class=\"pip-menu pip-simple-list\" pip-selected=\"vm.selected.tabIndex\" pip-selected-watch=\"vm.selected.navId\" pip-select=\"vm.onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable flex\" ng-repeat=\"tab in vm.tabs track by tab.state\" ng-if=\"vm.$party.id == vm.$user.id || tab.state == \\'settings.basic_info\\'|| tab.state ==\\'settings.contact_info\\' || tab.state ==\\'settings.blacklist\\'\" md-ink-ripple=\"\" pip-id=\"{{:: tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown pip-actions=\"vm.tabs\" pip-dropdown-select=\"vm.onDropdownSelect\" pip-active-index=\"vm.selected.tabIndex\"></pip-dropdown><div class=\"pip-body tp24-flex layout-column\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-show=\"vm.manager === false || !vm.tabs || vm.tabs.length < 1\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_basic_info.html',\n    '<form name=\"form\" class=\"w-stretch\" novalidate=\"\"><md-progress-linear class=\"pip-progress-top\" ng-show=\"transaction.busy()\" md-mode=\"indeterminate\"></md-progress-linear><div class=\"layout-row bm12\"><div class=\"md-tile-left\"><pip-avatar-edit pip-party-id=\"$party.id\" pip-created=\"onPictureCreated($event)\" pip-changed=\"onPictureChanged($control, $event)\"></pip-avatar-edit></div><div class=\"md-tile-content tp0 layout-align-center\"><h3 class=\"tm16 bm8 text-one-line\">{{ nameCopy }}</h3><p class=\"text-primary text-overflow m0\">{{::\\'SETTINGS_BASIC_INFO_FROM\\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_BASIC_INFO_FULL_NAME\\' | translate}}</label> <input name=\"fullName\" step=\"any\" type=\"text\" tabindex=\"0\" required=\"\" ng-model=\"$party.name\" ng-disabled=\"transaction.busy()\" ng-change=\"onChangeBasicInfo()\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.fullName).hint\">{{::\\'ERROR_FULLNAME_INVALID\\' | translate}}</div></md-input-container><md-input-container class=\"md-block bm0\"><label>{{::\\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" required=\"\" ng-model=\"$party.email\" ng-change=\"onChangeBasicInfo()\" pip-email-unique=\"{{$party.email}}\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint && !$user.email_ver\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_HINT\\' | translate}}</div><div ng-messages=\"errorsWithHint(form.email)\" ng-hide=\"$party.type ==\\'team\\'\"><div ng-message=\"email\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div><div ng-message=\"emailUnique\">{{::\\'ERROR_EMAIL_INVALID\\' | translate}}</div></div></md-input-container><md-button class=\"md-raised bm16 tm8 rm8\" ng-click=\"onVerifyEmail($event)\" ng-hide=\"$user.email_ver || $party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_VERIFY_CODE\\' | translate}}</md-button><md-button ng-click=\"onChangePassword($event)\" class=\"md-raised bm16 tm8\" ng-hide=\"$party.type ==\\'team\\'\">{{::\\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\\' | translate}}</md-button><md-input-container class=\"md-block flex\"><label>{{::\\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\\' | translate }}</label> <textarea ng-model=\"$party.about\" columns=\"1\" ng-change=\"onChangeBasicInfo()\"></textarea></md-input-container><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'GENDER\\' | translate}}</label><md-select ng-model=\"$party.gender\" ng-change=\"onChangeBasicInfo()\" placeholder=\"{{\\'GENDER\\' | translate}}\"><md-option ng-value=\"gender.id\" ng-repeat=\"gender in genders\">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide=\"$party.type ==\\'team\\'\"><p class=\"text-caption text-grey tm0 bm0\">{{::\\'SETTINGS_BASIC_INFO_BIRTHDAY\\' | translate}}</p><pip-date ng-model=\"$party.birthday\" ng-change=\"onChangeBasicInfo()\" pip-time-mode=\"past time-mode=\" past\"=\"\"></pip-date></div><md-input-container class=\"md-block\" ng-hide=\"$party.type ==\\'team\\'\"><label>{{::\\'LANGUAGE\\' | translate}}</label><md-select placeholder=\"{{\\'LANGUAGE\\' | translate}}\" ng-model=\"$user.language\" ng-change=\"onChangeUser()\"><md-option ng-value=\"language.id\" ng-repeat=\"language in languages\">{{language.name}}</md-option></md-select></md-input-container><md-input-container class=\"md-block\" ng-if=\"$party.type !=\\'team\\'\"><label>{{::\\'THEME\\' | translate}}</label><md-select class=\"w-stretch theme-text-primary\" ng-model=\"$user.theme\" ng-change=\"onChangeUser()\" ng-disabled=\"transaction.busy()\"><md-option ng-value=\"theme\" ng-repeat=\"theme in themes\" ng-selected=\"$theme == theme ? true : false\">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class=\"map-edit bm24-flex\" ng-hide=\"$party.type ==\\'team\\'\" pip-changed=\"onChangeBasicInfo()\" pip-location-name=\"$party.loc_name\" pip-location-pos=\"loc_pos\"></pip-location-edit></form>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_change_password.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><form name=\"form\" ng-submit=\"onApply()\"><div class=\"pip-header\"><h3 class=\"m0\">{{::\\'SETTINGS_CHANGE_PASSWORD_TITLE\\' | translate : module}}</h3></div><div class=\"pip-body\"><div class=\"pip-content\"><div class=\"text-error bm8\" ng-messages=\"form.$serverError\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"md-block\"><label>{{::\\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\\' | translate }}</label> <input name=\"oldPassword\" type=\"password\" ng-model=\"changePasData.old_password\" ng-required=\"change_password.$submitted\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.oldPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"ERROR_1107\">{{::\\'ERROR_WRONG_PASSWORD\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{\\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\\' | translate }}</label> <input name=\"newPassword\" type=\"password\" ng-model=\"changePasData.new_password\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\" pip-clear-errors=\"\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.newPassword).hint\">{{ \\'HINT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsWithHint(form, form.newPassword)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate}}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"ERROR_1105\">{{::\\'ERROR_IDENTICAL_PASSWORDS\\' | translate }}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{ \\'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\\' | translate }}</label> <input name=\"repeat\" type=\"password\" ng-model=\"repeat\" ng-change=\"onCheckRepeatPassword()\" ng-required=\"change_password.$submitted\" ng-minlength=\"6\"><div class=\"hint\" ng-if=\"errorsRepeatWithHint(form.repeat).hint\">{{::\\'HINT_REPEAT_PASSWORD\\' | translate }}</div><div ng-messages=\"errorsRepeatWithHint(form.repeat)\"><div ng-message=\"required\">{{::\\'ERROR_REQUIRED\\' | translate }}</div><div ng-message=\"minlength\">{{::\\'HINT_PASSWORD\\' | translate }}</div><div ng-message=\"repeat\">{{::\\'REPEAT_PASSWORD_INVALID\\' | translate }}</div></div></md-input-container></div></div><div class=\"pip-footer\"><div><md-button aria-label=\"xxx\" ng-click=\"onCancel()\">{{::\\'CANCEL\\' | translate }}</md-button><md-button type=\"submit\" class=\"md-accent\" aria-label=\"xxx\">{{::\\'APPLY\\' | translate : module}}</md-button></div></div></form></md-dialog>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_sessions.html',\n    '<md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><div class=\"pip-details-title pip-sessions\"><p class=\"pip-title bm16\">{{::\\'SETTINGS_ACTIVE_SESSIONS_TITLE\\' | translate}}</p><p class=\"pip-subtitle\">{{::\\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\\' | translate}}</p></div><md-list class=\"w-stretch\"><div ng-repeat=\"session in sessions\"><div class=\"layout-row\" ng-init=\"showBlock = session.id != sessionId\" ng-click=\"showBlock = !showBlock\"><p class=\"m0 text-subhead2 text-overflow max-w50-stretch\">{{::session.client}}</p><p class=\"m0 lp4 text-body1 color-secondary-text flex\">{{::\\'SETTINGS_ACTIVE_SESSION_ACTIVE\\' | translate}}</p><p class=\"m0 text-body1 color-secondary-text\">{{::country}}<md-icon ng-if=\"showBlock\" md-svg-icon=\"icons:triangle-up\"></md-icon><md-icon ng-if=\"!showBlock\" md-svg-icon=\"icons:triangle-down\"></md-icon></p></div><div class=\"layout-row bm8 bp8\" ng-class=\"{\\'divider-bottom\\':!$last}\"><div class=\"flex-50\"><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\">{{session.last_req | date : \\'medium\\'}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_OS\\' | translate}}{{::session.platform}}</p><p class=\"m0 bm4 text-body1 text-overflow color-secondary-text\" ng-show=\"showBlock\">{{::\\'SETTINGS_ACTIVE_SESSION_IP\\' | translate}}{{::session.address}}</p><md-button class=\"md-raised\" ng-show=\"showBlock && session.id != sessionId\" ng-click=\"onRemove(session)\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\\' | translate}}</md-button></div><pip-location-ip class=\"map-edit flex-50\" ng-if=\"showBlock\" pip-ipaddress=\"session.address\" pip-extra-info=\"country = extraInfo.country\"></pip-location-ip></div></div></md-list><div class=\"layout-row layout-align-end-center\"><md-button class=\"md-raised\" ng-show=\"sessions.length > 1\" ng-click=\"onRemoveAll()\">{{::\\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\\' | translate}}</md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipSettings.Templates');\n} catch (e) {\n  module = angular.module('pipSettings.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('user_settings/user_settings_verify_email.html',\n    '<md-dialog class=\"pip-dialog layout-column\" width=\"440\"><div class=\"pip-body\"><div class=\"pip-content\"><md-progress-linear ng-show=\"transaction.busy()\" md-mode=\"indeterminate\" class=\"pip-progress-top\"></md-progress-linear><h2>{{::\\'VERIFY_EMAIL_TITLE\\' | translate}}</h2><p class=\"title-padding\">{{::\\'VERIFY_EMAIL_TEXT_1\\' | translate}}</p><form name=\"form\" novalidate=\"\"><div ng-messages=\"form.$serverError\" class=\"text-error bm8\"><div ng-message=\"ERROR_UNKNOWN\">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class=\"display bp4 md-block\"><label>{{::\\'EMAIL\\' | translate}}</label> <input name=\"email\" type=\"email\" ng-model=\"data.email\" required=\"\" step=\"any\" pip-clear-errors=\"\" tabindex=\"1\" ng-disabled=\"transaction.busy()\" pip-test=\"input-email\"><div class=\"hint\" ng-if=\"errorsWithHint(form, form.email).hint\">{{::\\'HINT_EMAIL\\' | translate}}</div><div ng-messages=\"errorsWithHint(form, form.email)\" xng-if=\"!form.email.$pristine\"><div ng-message=\"required\">{{::\\'ERROR_EMAIL_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1106\">{{::\\'ERROR_USER_NOT_FOUND\\' | translate}}</div></div></md-input-container><md-input-container class=\"md-block\"><label>{{::\\'ENTRY_VERIFICATION_CODE\\' | translate}}</label> <input name=\"code\" ng-disabled=\"transaction.busy()\" tabindex=\"0\" ng-model=\"data.code\" required=\"\" pip-clear-errors=\"\"><div ng-messages=\"errorsWithHint(form, form.code)\"><div ng-message=\"required\">{{::\\'ERROR_CODE_INVALID\\' | translate }}</div><div ng-message=\"ERROR_1103\">{{::\\'ERROR_CODE_WRONG\\' | translate }}</div></div></md-input-container><p>{{::\\'VERIFY_EMAIL_TEXT_21\\' | translate}} <a ng-click=\"onRequestVerificationClick()\" class=\"pointer\" tabindex=\"0\">{{::\\'VERIFY_EMAIL_RESEND\\' | translate}}</a> {{::\\'VERIFY_EMAIL_TEXT_22\\' | translate}}</p></form></div></div><div class=\"pip-footer\"><md-button ng-click=\"onCancel()\" ng-hide=\"transaction.busy()\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button><md-button class=\"md-accent\" ng-click=\"onVerify()\" ng-hide=\"transaction.busy()\" tabindex=\"0\" aria-label=\"xxx\" ng-disabled=\"data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)\">{{::\\'VERIFY\\' | translate}}</md-button><md-button class=\"md-warn\" ng-show=\"transaction.busy()\" ng-click=\"transaction.abort()\" tabindex=\"0\" aria-label=\"xxx\">{{::\\'CANCEL\\' | translate}}</md-button></div></md-dialog>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-settings-html.min.js.map\n","﻿/**\n * @file Registration of all help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipHelp', [\n        'pipHelp.Service',\n        'pipHelp.Page'\n    ]);\n\n})();\n","/**\n * @file Page template for help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    angular.module('pipHelp.Page', ['ui.router', 'pipHelp.Service', 'pipAppBar', 'pipSelected', 'pipTranslate',\n        'pipHelp.Templates'])\n        .config(config)\n        .controller('pipHelpPageController', HelpPageController);\n\n    function config($stateProvider) {\n        $stateProvider.state('help', {\n            url: '/help',\n            auth: false,\n            controller: 'pipHelpPageController',\n            templateUrl: 'help_page/help_page.html'\n        });\n    }\n\n    /**\n     * @ngdoc controller\n     * @name pipHelp.Page.pipHelpPageController\n     *\n     * @description\n     * The controller is used for the root Help component.\n     * It manages available tabs provide navigation through those ones.\n     *\n     * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L40 View source}\n     *\n     *\n     * @param {Object} $rootScope   Root scope object\n     * @param {Object} $scope       Scope for the current controller\n     * @param {Object} $state       UI Router service\n     * @param {Object} pipAppBar    Service provides an interface to manage on application bar header.\n     * @param {Object} pipHelp      Service to manage this component behaviour\n     */\n    function HelpPageController($rootScope, $scope, $state, pipAppBar, pipHelp) {\n\n        $scope.tabs = _.filter(pipHelp.getTabs(), function (tab: any) {\n            if (tab.visible && (tab.access !== angular.noop ? tab.access($rootScope.$user, tab) : true)) {\n                return tab;\n            }\n        });\n        $scope.selected = {};\n\n        if ($state.current.name !== 'help') {\n            initSelect($state.current.name);\n        } else {\n            initSelect(pipHelp.getDefaultTab().state);\n        }\n\n        appHeader();\n\n        $scope.onNavigationSelect = onNavigationSelect;\n        $scope.onDropdownSelect = onDropdownSelect;\n\n        /**\n         * @ngdoc method\n         * @name pipHelp.Page.pipHelpPageController#onDropdownSelect\n         * @methodOf pipHelp.Page.pipHelpPageController\n         *\n         * @description\n         * It redirects to a passed state.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L72 View source}\n         *\n         * @param {Object} state    State configuration object\n         */\n        function onDropdownSelect(state) {\n            onNavigationSelect(state.state);\n        }\n\n        /**\n         * Config appBar due to this page\n         */\n        function appHeader() {\n            pipAppBar.showMenuNavIcon();\n            pipAppBar.showTitleText('Help');\n            pipAppBar.showShadowSm();\n            pipAppBar.showLocalActions(null, []);\n        }\n\n        /**\n         * @ngdoc method\n         * @name pipHelp.Page.pipHelpPageController#onNavigationSelect\n         * @methodOf pipHelp.Page.pipHelpPageController\n         *\n         * @description\n         * It redirects to a passed state.\n         *\n         * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_page/help_page.js#L98 View source}\n         *\n         * @param {string} state    Name of the target state.\n         */\n        function onNavigationSelect(state) {\n            initSelect(state);\n\n            if ($scope.selected.tab) {\n                $state.go(state);\n            }\n        }\n\n        /**\n         * Set selected item for highlighting in the nav menu\n         */\n        function initSelect(state) {\n            $scope.selected.tab = _.find($scope.tabs, function (tab: any) {\n                return tab.state === state;\n            });\n\n            $scope.selected.tabIndex = _.indexOf($scope.tabs, $scope.selected.tab);\n            $scope.selected.tabId = state;\n        }\n    }\n})();\n","/**\n * @file Service for help components\n * @copyright Digital Living Software Corp. 2014-2016\n */\n\n(function () {\n    'use strict';\n\n    /**\n     * @ngdoc service\n     * @name pipHelp.Service.pipHelp\n     *\n     * @description\n     * This service is provided an interface to manage the Help component.\n     * It is available on the config and run application phases. On the both phases the interface is the same.\n     * This module requires the '$state' module.\n     */\n    angular.module('pipHelp.Service', ['ui.router'])\n        .provider('pipHelp',\n            function ($stateProvider): any {\n                var defaultTab,\n                    tabs = [];\n\n                /** @see addTab */\n                this.addTab = addTab;\n\n                /** @see setDefaultTab */\n                this.setDefaultTab = setDefaultTab;\n\n                /** @see getTabs */\n                this.getTabs = getTabs;\n\n                /** @see getDefaultTab */\n                this.getDefaultTab = getDefaultTab;\n\n                this.$get = function () {\n                    return {\n                        /** @see getTabs */\n                        getTabs: getTabs,\n\n                        /** @see getDefaultTab */\n                        getDefaultTab: getDefaultTab,\n\n                        /** @see addTab */\n                        addTab: addTab,\n\n                        /** @see setDefaultTab */\n                        setDefaultTab: setDefaultTab\n                    };\n                };\n\n                /**\n                 * This method build the full name of state within the abstract 'help' state\n                 */\n                function getFullStateName(state) {\n                    return 'help.' + state;\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#getTabs\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method returns asset of all tabs registered in the Help component.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L79 View source}\n                 *\n                 * @returns {Array<Object>} List of registered states\n                 *\n                 * @example\n                 * <pre>\n                 * // on the config phase\n                 * pipHelpProvider.getTabs();\n                 * </pre>\n                 */\n                function getTabs() {\n                    return _.cloneDeep(tabs);\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#getDefaultTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method return name of the default state.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L101 View source}\n                 *\n                 * @returns {string} Name of the state\n                 *\n                 * @example\n                 * <pre>\n                 * // on the config phase\n                 * pipHelpProvider.getDefaultTab();\n                 * </pre>\n                 */\n                function getDefaultTab() {\n                    return _.cloneDeep(_.find(tabs, function (tab) {\n                        return tab.state === defaultTab;\n                    }));\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#addTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method allows add new tab into navigation menu. It accepts config object to define new state\n                 * with needed params.\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L139 View source}\n                 *\n                 * @param {Object} tabObj Configuration object contains settings for another tab\n                 * @param {Object.<string>} tabObj.state   Name of tab state which is available via UI router\n                 * @param {Object.<string>} tabObj.title   Tab title in the navigation menu.\n                 * @param {Object.<boolean>} tabObj.access If it is true it will be available only for logged in users\n                 * @param {Object.<boolean>} tabObj.visible If it is true the tab will be visible\n                 * @param {Object.<Object>} tabObj.stateConfig  Configuration object in format like UI Router state\n                 *\n                 * @example\n                 * <pre>\n                 *  // on the config phase\n                 *  pipHelpProvider.addTab({\n                 *      state: 'test',\n                 *      title: 'Test help tab',\n                 *      auth: true,\n                 *      stateConfig: {\n                 *          url: '/test',\n                 *          templateUrl: 'help/help_test1.html'\n                 *      }\n                 *  });\n                 * </pre>\n                 */\n                function addTab(tabObj) {\n                    var tab;\n\n                    validateTab(tabObj);\n\n                    tab = _.find(tabs, function (tab) {\n                        return tab.state === getFullStateName(tabObj.state);\n                    });\n                    if (tab) {\n                        throw new Error('Tab with state name \"' + tabObj.state + '\" is already registered');\n                    }\n\n                    tabs.push({\n                        state: getFullStateName(tabObj.state),\n                        title: tabObj.title,\n                        access: tabObj.access || angular.noop,\n                        visible: tabObj.visible || true,\n                        stateConfig: _.cloneDeep(tabObj.stateConfig)\n                    });\n\n                    $stateProvider.state(getFullStateName(tabObj.state), tabObj.stateConfig);\n\n                    // if we just added first state and no default state is specified\n                    if (_.isUndefined(defaultTab) && tabs.length === 1) {\n                        setDefaultTab(tabObj.state);\n                    }\n                }\n\n                /**\n                 * @ngdoc method\n                 * @name pipHelp.Service.pipHelp#setDefaultTab\n                 * @methodOf pipHelp.Service.pipHelp\n                 *\n                 * @description\n                 * This method establishes passed state as default which is redirected at after transfer on abstract\n                 * state\n                 *\n                 * {@link https://github.com/pip-webui/pip-webui-help/blob/master/src/help_service/help_service.js#L185 View source}\n                 *\n                 * @param {Object} name     Name of the state\n                 *\n                 * @example\n                 * <pre>\n                 * pipHelpProvider.setDefaultTab('test');\n                 * </pre>\n                 */\n                function setDefaultTab(name) {\n                    var tab, error;\n\n                    tab = _.find(tabs, function (tab) {\n                        return tab.state === getFullStateName(name);\n                    });\n                    if (!tab) {\n                        error = new Error('Tab with state name \"' + name + '\" is not registered');\n                        throw error;\n                    }\n\n                    defaultTab = getFullStateName(name);\n\n                    $stateProvider.redirect('help', getFullStateName(name));\n                }\n\n                /**\n                 * This method validates passed state.\n                 * If it is incorrect it will throw an error.\n                 */\n                function validateTab(tabObj) {\n                    if (!tabObj || !_.isObject(tabObj)) {\n                        throw new Error('Invalid object');\n                    }\n\n                    if (!tabObj.state || tabObj.state === '') {\n                        throw new Error('Tab should have valid Angular UI router state name');\n                    }\n\n                    if (tabObj.access && !_.isFunction(tabObj.access)) {\n                        throw new Error('\"access\" should be a function');\n                    }\n\n                    if (!tabObj.stateConfig || !_.isObject(tabObj.stateConfig)) {\n                        throw new Error('Invalid state configuration object');\n                    }\n                }\n            });\n\n})();\n","(function(module) {\ntry {\n  module = angular.module('pipHelp.Templates');\n} catch (e) {\n  module = angular.module('pipHelp.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('help_page/help_page.html',\n    '<md-toolbar class=\"pip-appbar-ext\"></md-toolbar><pip-document width=\"800\" min-height=\"400\"><div class=\"pip-menu-container pip-help\" ng-if=\"manager !== false\"><md-list class=\"pip-menu pip-simple-list hide-xs\" pip-selected=\"selected.tabIndex\" pip-selected-watch=\"selected.navId\" pip-select=\"onNavigationSelect($event.id)\"><md-list-item class=\"pip-simple-list-item pip-selectable\" ng-repeat=\"tab in tabs track by tab.state\" md-ink-ripple=\"\" pip-id=\"{{::tab.state }}\"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class=\"pip-content-container\"><pip-dropdown class=\"hide-gt-xs\" pip-actions=\"tabs\" pip-dropdown-select=\"onDropdownSelect\" pip-active-index=\"selected.tabIndex\"></pip-dropdown><div class=\"pip-body layout-column flex\" ui-view=\"\"></div></div></div><div class=\"layout-column layout-align-center-center flex\" ng-if=\"manager === false\">{{::\\'ERROR_400\\' | translate}}</div></pip-document>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-help-html.min.js.map\n"]}