{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auxpanel/AuxPanel.ts","src/auxpanel/AuxPanelPart.ts","src/auxpanel/AuxPanelService.ts","src/auxpanel/IAuxPanelService.ts","src/auxpanel/index.ts","src/index.ts","src/layouts/CardDirective.ts","src/layouts/DialogDirective.ts","src/layouts/DocumentDirective.ts","src/layouts/MainDirective.ts","src/layouts/SimpleDirective.ts","src/layouts/TilesDirective.ts","src/media/IMediaService.ts","src/media/MediaService.ts","src/media/ResizeFunctions.ts","src/media/index.ts","src/actions/ActionsService.ts","src/actions/IActionsService.ts","src/actions/PrimaryActions.ts","src/actions/SecondaryActions.ts","src/actions/index.ts","src/appbar/AppBar.ts","src/appbar/AppBarConfig.ts","src/appbar/AppBarPart.ts","src/appbar/AppBarService.ts","src/appbar/index.ts","src/breadcrumb/Breadcrumb.ts","src/breadcrumb/BreadcrumbConfig.ts","src/breadcrumb/BreadcrumbService.ts","src/breadcrumb/index.ts","src/common/NavService.ts","src/dependencies/TranslateFilter.ts","src/dropdown/Dropdown.ts","src/header/NavHeader.ts","src/header/NavHeaderConfig.ts","src/header/NavHeaderService.ts","src/header/index.ts","src/icon/NavIcon.ts","src/icon/NavIconConfig.ts","src/icon/NavIconService.ts","src/icon/index.ts","src/language/LanguagePickerDirective.ts","src/menu/NavMenu.ts","src/menu/NavMenuService.ts","src/menu/index.ts","src/search/SearchBar.ts","src/search/SearchConfig.ts","src/search/SearchService.ts","src/search/index.ts","src/sidenav/SideNav.ts","src/sidenav/SideNavPart.ts","src/sidenav/SideNavService.ts","src/sidenav/SideNavState.ts","src/sidenav/index.ts","src/tabs/Tabs.ts","temp/pip-webui-nav-html.min.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","pip","layouts","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","MediaService_1","IMediaService_1","AuxPanelDirectiveController","$rootScope","pipAuxPanel","_this","normalSize","largeSize","gtxs","gtlg","bodyElement","$","bodyWidth","width","$on","LayoutResizedEvent","$inject","prototype","isGtxs","isOpen","MainBreakpoints","xs","isGtlg","lg","AuxPanel","controller","transclude","component","../media/IMediaService","../media/MediaService","2","AuxPanelPartDirective","ngIfDirective","ngIf","priority","terminal","restrict","link","$scope","$element","$attrs","apply","AuxPanelPartController_1","partName","pipAuxPanelPart","pos","indexOf","partValue","substr","onAuxPanelChanged","config","event","currentPartValue","parts","angular","3","hookAuxPanelEvents","IAuxPanelService_1","OpenAuxPanelEvent","open","CloseAuxPanelEvent","close","defineProperty","value","AuxPanelService","$mdSidenav","id","_config","_rootScope","_sidenav","get","configurable","classes","sendConfigEvent","_state","$broadcast","AuxPanelStateChangedEvent","enumerable","$emit","AuxPanelOpenedEvent","AuxPanelClosedEvent","toggle","_i","arguments","_","each","c","push","reject","cc","part","AuxPanelChangedEvent","AuxPanelProvider","state","set","IAuxPanelService_2","AuxPanelConfig","type","_service","$get","provider","run","./IAuxPanelService","4","Object","m","p","hasOwnProperty","./auxpanel/index","./layouts/CardDirective","./layouts/DialogDirective","./layouts/DocumentDirective","./layouts/MainDirective","./layouts/SimpleDirective","./layouts/TilesDirective","./media/index","7","cardDirective","CardDirectiveLink","addClass","listener","resize","MainResizedEvent","left","top","$mainBody","cardContainer","maxWidth","maxHeight","height","minWidth","Math","floor","Number","minHeight","MainBreakpointStatuses","space","min","css","hasClass","max","setTimeout","$header","find","$footer","$body","maxBodyHeight","outerHeight","8","dialogDirective","documentDirective","directive","10","mainDirective","MainDirectiveController","controllerAs","mainBodyDirective","MainBodyDirectiveLink","$timeout","_container","pipContainer","ResizeFunctions_1","addResizeListener","removeResizeListener","updateBreakpointStatuses","innerWidth","body","update","breakpoint","status","isBoolean","$apply","../media/ResizeFunctions","11","simpleDirective","12","tilesDirective","convertToBoolean","toString","toLowerCase","heading","pipInfinite","String","tilesOptions","gutter","isFitWidth","isResizeBound","TilesDirectiveLink","TilesOptions","_columnWidth","columnWidth","children","_heading","_prevContainerWidth","_masonry","Masonry","data","_sizer","appendTo","force","containerWidth","parent","columns","removeClass","layout","13","MediaBreakpoints","sm","md","MediaBreakpointStatuses","breakpoints","MediaProvider","service","size","15","callback","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","cancelFrame","cancel","cancelAnimationFrame","mozCancelAnimationFrame","webkitCancelAnimationFrame","clearTimeout","resizeListener","win","target","srcElement","__resizeRAF__","requestFrame","trigger","__resizeTrigger__","__resizeListeners__","forEach","fn","loadListener","contentDocument","defaultView","__resizeElement__","addEventListener","element","attachEvent","getComputedStyle","position","style","obj","document","createElement","setAttribute","onload","isIE","appendChild","removeEventListener","removeChild","navigator","userAgent","match","nav","IActionsService_1","IActionsService_2","IActionsService_3","ActionsService","primaryGlobalActions","sendChangeEvent","secondaryGlobalActions","primaryLocalActions","secondaryLocalActions","show","primaryActions","secondaryActions","hide","updateCount","action","count","isNumber","name","clearCounts","ActionsChangedEvent","openMenuEvent","SecondaryActionsOpenEvent","ActionsProvider","ActionsConfig","SimpleActionItem","ActionItem","_super","__extends","PrimaryActionsController","$injector","$window","$location","pipActions","$log","_pipTranslate","has","setTranslations","DOCUMENTS_ATTACHED","ERROR_DOCUMENTS_LOADED","onActionsChanged","$onInit","localActions","globalActions","isHidden","access","actionCount","clickAction","$mdOpenMenu","divider","subActions","originatorEv","isFunction","click","href","location","url","go","stateParams","PrimaryActionsBindings","PrimaryActionsChanges","bindings","templateUrl","SecondaryActionsController","onActionsMenuOpen","getMenu","menuFn","_menuFn","openMenu","ev","calcActions","actions","secondaryActionsVisible","secondaryDividerVisible","SecondaryActionsBindings","SecondaryActionsChanges","AppBarController","pipAppBar","onAppBarChanged","appbar","AppBarConfig","AppBarPartController","_partName","_partValue","visible","appbarPart","9","AppBarChangedEvent","AppBarService","shadowBreakpoints","setShadow","hideShadow","startsWith","bp","addShadow","removeShadow","AppBarProvider","AppBarConfig_1","./AppBar","./AppBarConfig","./AppBarPart","./AppBarService","BreadcrumbController","pipBreadcrumb","$mdMedia","$state","navConstant","BreadcrumbService_1","BreadcrumbChangedEvent","onBreadcrumbChanged","BreadcrumbService_2","BreadcrumbBackEvent","onBreadcrumbBack","pipMedia","_media","undefined","BREADCRUMB_BREAKPOINT","items","item","history","back","onClick","openSearch","SearchService_1","OpenSearchEvent","actionsVisible","isArray","onOpenMenu","onSubActionClick","breadcrumb","./BreadcrumbService","BreadcrumbItem","title","BreadcrumbConfig","BreadcrumbService","text","criteria","showText","showItems","BreadcrumbProvider","BreadcrumbConfig_1","./BreadcrumbConfig","14","NavService","icon","search","sidenav","header","menu","reset","showMenu","translateFilter","pipTranslate","translate","key","DropdownController","_pipTheme","_pipMedia","currentTheme","theme","themeClass","media","isUndefined","activeIndex","disabled","ngDisabled","onSelect","index","select","pipChange","showDropdown","DropdownBindings","DropdownChanges","dropdown","NavHeaderController","pipNavHeader","imageUrl","initImage","cleanupNavHeaderChanged","$event","onNavHeaderChanged","cleanupSideNavStateChanged","onStateChanged","$onDestroy","imageBlock","image","onImageLoad","onerror","onImageError","initHeader","subtitle","imageCss","setImageMarginCSS","loadedDefaultImage","setImage","showHeader","cssParams","clientWidth","containerHeight","clientHeight","imageWidth","imageHeight","margin","loadError","defaultImageUrl","attr","onUserClick","navHeader","NavHeaderConfig","20","NavHeaderService","callbackOrEvent","isString","NavHeaderChangedEvent","NavHeaderProvider","NavHeaderConfig_1","clear","./NavHeaderService","22","23","SideNavService_1","NavIconService_1","NavIconBindings","NavIconChanges","NavIconController","pipNavIcon","clearFn","onNavIconChanged","onNavIconClick","ToggleSideNavEvent","NavIconClickedEvent","NavIcon","NavIconConfig","25","NavIconService","setCallbackOrEvent","showIcon","showBack","showImage","NavIconChangedEvent","NavIconConfig_1","NavIconProvider","setMenu","setIcon","setBack","./NavIconConfig","26","__export","./INavIconService","./NavIcon","./NavIconService","27","constant","TAB_BREAKPOINT","SIDENAV_CONTAINER","SIDENAV_MIDDLE_WIDTH","SIDENAV_SMALL_WIDTH","./appbar","./breadcrumb","./common/NavService","./dependencies/TranslateFilter","./dropdown/Dropdown","./header","./icon","./language/LanguagePickerDirective","./menu","./search","./sidenav","./tabs/Tabs","28","LanguagePickerDirectiveController","_translate","languages","$onChanges","changes","previousValue","language","setLanguages","onLanguageClick","LanguagePickerBindings","LanguagePickerChanges","languagePickerDirective","navMenuDirective","replace","NavMenuController","pipSideNav","pipNavMenu","expanded","_animationDuration","SIDENAV_ANIMATION_DURATION","_pipSideNavElement","parents","sections","setCollapsible","defaultIcon","cleanupNavMenuChanged","onConfigChanged","collapsed","isCollapsed","onExpand","isSectionEmpty","linkCollection","result","expand","expandedButton","isExpanded","sideNavState","isActive","parentState","includes","split","clickLink","stopPropagation","current","NavMenuBindings","NavMenuChangedEvent","NavMenuService","updateBadgeStyle","links","badgeStyle","NavMenuProvider","31","./NavMenuService","32","SearchBarController","pipSearch","enabled","stateChange","SearchChangedEvent","onSearchChanged","focusText","focus","enable","SearchActivatedEvent","onKeyDown","keyCode","SearchBar","./SearchService","34","SearchConfig","CloseSearchEvent","SearchService","params","SearchProvider","36","./SearchBar","./SearchConfig","37","SideNavController","_bigWidth","SIDENAV_LARGE_WIDTH","_middleWidth","_isResizing","_navState","SideNavState_1","SideNavStateConfig","_mediaBreakpoints","setBreakpoints","setSideNaveState","windowResize","debounce","cleanupSideNavState","onSideNavState","sidenavState","backdrop","setState","SideNavStateNames","Toggle","cleanupSideNavChanged","onSideNavChanged","cleanupMainResized","isObject","stateName","mainWidth","_mainContainer","sideNavWidth","currentWidth","Small","Large","XLarge","SideNavBindings","sideNav","./SideNavState","38","sidenavPartDirective","scope","SideNavPartBindings_1","SideNavPartController_1","hookSideNavEvents","OpenSideNavEvent","CloseSideNavEvent","SideNavChangedEvent","SideNavService","SideNavStateChangedEvent","SideNavConfig","SideNavProvider","40","SideNavState","isLockedOpen","showIconTooltype","small","large","xlarge","41","./SideNavPart","./SideNavService","42","PipTab","TabsChanges","TabsDirectiveController","setTheme","setTranslate","tabs","translateObjects","isDisabled","toBoolean","tabDisabled","selectedTabId","showShadow","showTabsShadow","showTabs","currentValue","on","Tabs","TabsBindings","43","$templateCache","put"],"mappings":"CAAA,SAAAA,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAC,QAAAX,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,GAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gECAA,IAAA2B,GAAAR,EAAA,yBAEAS,EAAAT,EAAA,0BAGIU,EAAA,mBAaQA,GAAWC,EAAAC,GAJf,UACY,IAAAC,GAAAxB,IACAA,MAAAsB,WAAWA,EAVftB,KAAAuB,YAAqBA,EACrBvB,KAAAyB,WAAoB,IAEpBzB,KAAA0B,UAAqB,IACrB1B,KAAA2B,KAAgB,KAgBpB3B,KAAK4B,KAAA,KACL5B,KAAK6B,YAAYC,EAAI,QACrB9B,KAAA+B,UAAe/B,KAAA6B,YAAAG,UACNC,IAAAb,EAAiBc,mBAAoB,WAC3CV,EAAAO,UAAAP,EAAAK,YAAAG,UAzBX,MASIX,GAAAc,SACY,aACA,iBA6BcC,UAASC,OAAA,mBAACrC,KAAMuB,YAAOe,WAI7CtC,KAAA+B,UAAY/B,KAAS6B,YAAGG,QAC3BhC,KAAA+B,UAAAZ,EAAAoB,gBAAAC,OAayBJ,UAASK,OAAA,mBAACzC,KAAMuB,YAAOe,WAI7CtC,KAAA+B,UAAY/B,KAAS6B,YAAIG,QAC5BhC,KAAA+B,UAAAZ,EAAAoB,gBAAAG,GAAA1C,KAAA0B,YACJL,KAIGsB,GACAC,WAAYvB,EACZwB,YAAU,WACV,8PAMCpD,OAAA,eAERqD,UAAA,cAAAH,KCpFAI,yBAAA,GAAAC,wBAAA,KAAAC,GAAA,SAAAtC,EAAAlB,EAAAD,WA2CO0D,GAAOC,iBAEHC,GAAAD,EAAe,UAEfN,WAAUO,EAAKP,WACfQ,SAAOD,EAAIC,SACXC,SAAMF,EAAAE,kBAEIF,EAAKG,gBACX,EACJC,KAAC,SAAAC,EAAAC,EAAAC,GACDA,EAAUP,KAAE,WAAA,MAAsBK,GAAA,SACpCL,EAAAI,KAAAI,MAAAR,IAGCR,WAAAiB,KAnDH1B,SAAA,uBAMe,mBALH0B,GAAiBJ,EAAAC,EAAAC,EAAArC,EAAAC,GAMzB,UACA,IAAIC,GAAOxB,IACXA,MAAIyD,OAAQA,OACRK,SAAK,GAAYH,EAAKI,qBACtBC,IAAKhE,KAAA8D,SAAgBG,QAAQ,KAChCjE,KAAAgE,IAAA,IAEGhE,KAACkE,UAAAlE,KAAkB8D,SAAMK,OAAYnE,KAAMgE,IAAC,GAChDhE,KAAA8D,SAAe9D,KAAA8D,SAAAK,OAAsB,EAAAnE,KAACgE,MAEtChE,KAAGoE,kBAAA,KAAA7C,EAAA8C,QAEN/C,EAAAW,IAAA,qBAAA,SAAAqC,EAAAD,GAEO7C,EAAA4C,kBAAAE,EAAAD,KAWR,SAbClC,SAAA,SAAA,WAAA,SAAA,aAAA,iBAOwBC,UAASgC,kBAAY,SAAgBE,EAASD,GACtE,GACLE,IADKF,EAAAG,MACLH,EAACrE,KAAA8D,UAAA9D,MAAAyD,OAAA,QAAAzD,KAAAkE,UAAAK,GAAAvE,KAAAkE,UAAAK,GAIGV,IAuBPY,mEC9DDC,GAAA,SAAA/D,EAAAlB,EAAAD,GACA,YA2KA,SAAOmF,GAAArD,EAAAC,gBAEOU,IAAA2C,EAAeC,kBAAiB,WAAAtD,EAAAuD,WACrC7C,IAAA2C,EAAoBG,mBAAA,WAAAxD,EAAAyD,UA5K7BL,EAAAxC,SAAA,aAAA,sBAOI8C,eAAAzF,EAAmB,cAAwD0F,OAAE,UAE9DvE,EAAA,wBAJFA,EAAe,wBAKT,mBAEVwE,GAAWd,EAAW/C,EAAA8D,GAC9B,UAEDpF,MAAAqF,GAAA,oBAAAC,QAAAjB,OACIkB,WAAYjE,EAChBtB,KAACwF,SAAAJ,WANQjD,SAAa,SAAW,aAAA,0DAMhCsD,IAAA,WAED,MAAAzF,MAAAsF,qBACW,EACXI,cAAC,iDAAAD,IAAA,WAED,MAAAzF,MAAAsF,QAAWK,qBACA,EACXD,cAAC,0BAGgBP,EAAiB/C,UAAG,aACjC,WACH,MAAApC,MAAAsF,QAAAd,uBALAxE,KAAAsF,QAAAd,MAAAU,MAODlF,KAAA4F,+BACW,EACXF,cAAC,0BAGiBP,EAAY/C,UAAA,aAC1B,WACH,MAAApC,MAAA6F,wBALA7F,KAAA6F,OAAAX,MAOMlF,KAAAuF,WAAAO,WAAPlB,EAAAmB,0BAAAb,IAECc,YAAA,EAEMN,cAAA,MAEEtD,UAAiBE,OAAA,WACzB,MAAAtC,MAAAwF,SAAAxF,KAAAqF,IAAA/C,YAGQF,UAAiB0C,KAAM,WAC5B9E,KAAKwF,SAAAxF,KAAWqF,IAAMP,OACzB9E,KAAAuF,WAAAU,MAAArB,EAAAsB,oBAAAlG,KAAAsF,YAGQlD,UAAiB4C,MAAO,WAChChF,KAAAwF,SAAAxF,KAAAqF,IAAAL,QAEMhF,KAAAuF,WAAAU,MAAArB,EAAPuB,oBAAAnG,KAAAsF,YAAgBlD,UAAoBgE,OAAA,gBAApBZ,SAAAxF,KAAAqF,IAAAe,0CAGZ,IAAG,GAFD5E,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACCV,EAACU,GAAAC,UAAkBD,EAGpBE,GAAAC,KAAAb,EAAA,SAAAc,GAAPjF,EAAA8D,QAKCK,QAAAe,KAAAD,UALkBb,sDAGf,IAAG,GAFDpE,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACCV,EAACU,GAAAC,UAAkBD,EAGpBE,GAAAC,KAAAb,EAAA,SAAIc,GACHjF,EAAC8D,QAAaK,QAASY,EAAAI,OAAMnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,MAEpCzG,KAAA4F,qBAGQxD,UAAiByE,KAAA,SAAAA,EAAA3B,GACzBlF,KAAAsF,QAAAd,MAAAqC,GAAA3B,EACLlF,KAAA4F,mBAEAT,EAAA/C,UAAAwD,gBAAA,WAAA5F,KAAAuF,WAAAU,MAAArB,EAAAkC,qBAAA9G,KAAAsF,iBAIc,mBACNyB,UACFzB,SAwELd,SApEGmB,gBAAA,SACIqB,MAAO,MAwEX,6BApEgBD,EAAgB3E,UAAA,UAChCqD,IAAC,gCAJAwB,IAAA,SAAA/B,GAMDlF,KAAAsF,QAAWJ,GAAA,GAAAgC,GAAAC,4BACA,EACXzB,cAAC,0BAGgBqB,EAAiB3E,UAAG,SACrCqD,IAAC,sCAJAwB,IAAA,SAAA/B,GAMDlF,KAAAsF,QAAAd,MAAWU,mBACA,EACXQ,cAAC,0BAGgBqB,EAAa3E,UAAA,QAC9BqD,IAAC,qCAJAwB,IAAA,SAAA/B,GAMDlF,KAAAsF,QAAA8B,KAAWlC,eACA,EACXQ,cAAC,0BAGgBqB,EAAe3E,UAAO,WACvCqD,IAAC,wCAJAwB,IAAA,SAAA/B,GAMMlF,KAAAsF,QAAAK,QAAAT,OAASc,YAAA,gBAAA,oCAGZ,IAAG,GAFDxE,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACNV,EAAAU,GAAAC,UAAAD,EAEDE,GAAAC,KAAAb,EAAA,SAICc,GAJkBjF,EAAA8D,QAAoBK,QAAAe,KAAAD,yCAGnC,IAAG,GAFDjF,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACNV,EAAAU,GAAAC,UAAAD,EAGGE,GAAAC,KAAKb,EAAQ,SAAWc,GAC3BjF,EAAA8D,QAAAK,QAAAY,EAAAI,OAAAnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,OAIDM,EAAC3E,UAAAyE,KAAA,SAAAA,EAAA3B,GAEMlF,KAAAsF,QAAAd,MAAAqC,GAAA3B,GAEP6B,EAAC3E,UAAA0C,KAAA,WAEM9E,KAAAqH,SAAAvC,QAEPiC,EAAC3E,UAAA4C,MAAA,WAEMhF,KAAAqH,SAAArC,WAGM5C,UAAYgE,OAAK,gBACtBiB,SAAKjB,UAGbW,EAAC3E,UAAAkF,MAAA,aAAA,aAAA,SAAAhG,EAAA8D,GACL,UAGI,OAHH,OAAApF,KAAAqH,WAEDrH,KAAAqH,SAA4B,GAAAlC,GAAkCnF,KAA6BsF,QAAAhE,EAAA8D,IAC5EpF,KAAAqH,WAEXN,mCCzKSQ,SAAA,cAAoBR,GACpBS,IAAA7C,KACA8C,qBAAA,IAAoBC,GAAA,SAAA/G,EAAkBlB,EAAAD,GACtC,YACAmI,QAAA1C,eAAAzF,EAAsB,cAAA0F,OAAoB,IAC1C1F,EAAAsH,qBAAsB,qBAEnCtH,EAAAuG,0BAAA,4BAAAlB,kBAAA,oBAKCE,mBAAA,qBAADmB,oBAAC,oBAAD1G,EAAC2G,oBAAA,mBALY,IAAAgB,GAAA,gFCPb,YAMAQ,QAAA1C,eAAAzF,EAAA,cAAmC0F,OAAA,4GAJnC,SAAA0C,GACA,IAAA,GAAAC,KAAAD,GAAwBpI,EAAAsI,eAAAD,KAAArI,EAAAqI,GAAAD,EAAAC,oICHxB,YAMAF,QAAA1C,eAAAzF,EAAA,cAAmC0F,OAAA,IACnCT,QAAAhF,OAAA,aAAA,aAAqC,WAAA,gBACrCkB,EAAA,iBACAA,EAAA,2BACAA,EAAA,2BAEAA,EAAA,2HCZAA,EAAA,oBDEA,SAAAiH,GAEA,IAAA,GAAAC,KAAAD,GAAApI,EAAAsI,eAAiCD,KAAArI,EAAAqI,GAAAD,EAAAC,KCHjClH,EAAA,oBAGCoH,mBAAA,EAAAC,0BAAA,EAAAC,4BAAA,EAAAC,8BAAA,EAAAC,0BAAA,GAAAC,4BAAA,GAAAC,2BAAA,GAAAC,gBAAA,KAAAC,GAAA,SAAA5H,EAAAlB,EAAAD,sCAWGA,EAAA,cAEY0F,OAAA,UAGCvE,EAAC,4BALdA,EAmBC,6CA2FA6H,GAAAlH,GACJ,UAGD,QACKiC,SAAO,KACPC,KAAS,SAAUC,EAAEC,EAAeC,GAEpC,GAAA8E,GAAAnH,EAAAoC,EAAAC,OApHWxB,SAAA,oBACA,mBAMJsG,GAAWnH,EAAaoC,EAAUC,GAGtC,UAGA,IAAInC,GAAOxB,IAGXA,MAAAsB,WAAWA,EACdtB,KAAA0D,SAAAA,EAEO1D,KAAA2D,OAAAA,EAARD,EAAAgF,SA8EC,WA7EG,IACIC,GAAS,WAAKnH,EAAiBoH,SAGnCtH,GACIW,IAAWb,EAAeyH,iBACdF,GAQhB3I,KAAI4I,oBACAD,EAAgB,cA9BXxG,SAAS,aAAY,WAAA,YAgClBC,UAAKwG,OAAA,cAGIE,GAAAC,EAFjBvH,EAAMxB,KACNgJ,EAAWlH,EAAA,kBAAKmH,EAAAnH,EAAA,uBAChBoH,GADgBpH,EAAA,YAAAE,QACPgH,EAAQhH,SAAAmH,EAAAH,EAAAI,SAAAC,EAAArJ,KAAA2D,OAAA0F,SAAAC,KAAAC,MAAAC,OAAAxJ,KAAA2D,OAAA0F,WAAA,KAAAI,EAAAzJ,KAAA2D,OAAA8F,UAAAH,KAAAC,MAAAC,OAAAxJ,KAAA2D,OAAA8F,YAAA,KAAAzH,EAAAhC,KAAA2D,OAAA3B,MAAAsH,KAAAC,MAAAC,OAAAxJ,KAAA2D,OAAA3B,QAAA,KAAAoH,EAAApJ,KAAA2D,OAAAyF,OAAAE,KAAAC,MAAAC,OAAAxJ,KAAA2D,OAAAyF,SAAA,IACrB,IAACjI,EAAAuI,uBAAAlH,GAEG6G,EAAE,KAEFI,EAAc,KACdzH,EAAQ,KACRoH,EAAS,KAGTF,EAAW,KACXC,EAAY,SAIZ,CACH,GAAAQ,GAAAxI,EAAAuI,uBAAA,SAAA,GAAA,EAGGR,IAAc,EAAJS,EACVR,GAAc,EAADQ,EACbN,EAAUA,EAAWC,KAAEM,IAAQP,EAAQH,GAAW,KAClDO,EAAUA,EAAcH,KAAAM,IAASH,EAASN,GAAW,KAErDnH,EAACA,EAAcsH,KAAAM,IAAS5H,EAAAkH,GAAoB,KAC5CE,EAAKA,EAAaE,KAAAM,IAAAR,EAAcD,GAAY,aAE5CzF,SACImG,IAAU,YAAaX,EAAMA,EAAA,KAAsB,SAGvDxF,SAAImG,IAAA,YAAgBR,EAAaA,EAAgB,KAAG,SAEpD3F,SAAImG,IAAQ,QAAW7H,EAAAA,EAAA,KAAA,kBACnB6H,IAAA,SAAiBT,EAAQA,EAAY,KAAM,IAC/CH,EAAYa,SAAW,sBAWTpB,SAAK,cAClBvH,EAAAuI,uBAAAlH,IAEGsG,EAAC,EACDC,EAAC,IAMJD,EAAUG,EAAOjH,QAAA,EAAoBhC,KAAA0D,SAAA1B,QAAA,EAAA,GAC7C+G,EAAAO,KAAAS,IAAAd,EAAAG,SAAA,EAAApJ,KAAA0D,SAAA0F,SAAA,EAAA,GAAA,IACJpJ,KAAA0D,SAAAmG,IAAA,OAAAf,GAED9I,KAAA0D,SAAuBmG,IAAA,MAAgCd,GACnDiB,WAAW,WAAAxI,EAAAkC,SAAAmG,IAAA,UAAA,SAAA,SA1BoB,MACnBnG,SAAAmG,IAAa,aAAYV,EAAYA,EAAM,KAAA,IAE/CnJ,KAAK0D,SAAKmG,IAAA,aAAcJ,EAAoBA,EAAE,KAAA,GACjD,IAAAQ,GAAAjK,KAAA0D,SAAAwG,KAAA,uBAAAC,EAAAnK,KAAA0D,SAAAwG,KAAA,uBAAAE,EAAApK,KAAA0D,SAAAwG,KAAA,aAAOG,EAAAlB,GAAAH,EAAAI,QACJa,GAAAhJ,OAAc,IACVoJ,GAAAJ,EAAAK,aAAsB,IACtBH,EAAQlJ,OAAC,IACToJ,GAAQF,EAAAG,aAAA,IACZF,EAACP,IAAA,aAAAQ,EAAA,MAoBLrK,KAAAsB,WAAc2E,MAAA,yCCpHd,uBACM,UAACuC,iCAEN,GAAAxF,wBAAA,KAAAuH,GAAA,SAAA5J,EAAAlB,EAAAD,eAET,QAACgL,KAED,OACKjH,SAAO,KACPC,KAAS,SAACC,EAAaC,EAAAC,GAEvBD,EAAAgF,SAAA,+BCXG,uBACM,YAAC8B,uBAEN7J,EAAAlB,EAAAD,eAET,QAACiL,KAED,OACKlH,SAAO,KACPC,KAAS,SAACC,EAAeC,EAAAC,GAEzBD,EAAAgF,SAAA,kBChBLjE,QACAhF,OAAA,aACAiL,UAAA,cAAAD,WASIE,IAAA,SAAAhK,EAAAlB,EAAAD,sCAUkBA,EAAC,cAAA0F,OAAA,UAPfvE,EAwBC,8BAvBWA,EAAA,4BACAA,EAAA,6CAoEZiK,KACA,kBAEIrH,SAAM,KACTX,WAAAiI,EACJC,aAAA,cAIIC,eAGJ,sBChGJvH,KAAAwH,SDkBmB,mBAIHH,GAAoBpH,EAAYC,EAAKpC,EAAO2J,EAAgBtH,GAGjE,UAGA,IAAMnC,GAAQxB,IACdA,MAAAyD,OAAAA,EAGAzD,KAAA0D,SAAWA,OACPpC,WAAAA,EACJtB,KAAGiL,SAAAA,EAGHjL,KAAK2D,OAAAA,EACR3D,KAAAkL,WAAAvH,EAAAwH,aAAArJ,EAAA6B,EAAAwH,cAAAzH,EAEOA,EAAAgF,SAAA,WAAR,IAAAC,GAAA,WAeCnH,EAAAoH,SAdGwC,GAAmBC,kBAAWrL,KAAakL,WAAA,GAAAvC,GAC3ClF,EAAMxB,IAAO,WAAU,WAEvBmJ,EAAAE,qBAAuB9J,EAAO0J,WAAA,GAAAvC,UAG1B4C,2BAgBZ,SA5CsBpJ,SAA0B,SAAA,WAAA,aAAA,WAAA,YA8BnCC,UAAAmJ,yBAAA,WACL,GAAG/J,GAAAxB,KAECgC,EAAChC,KAASkL,WAAAM,aACVC,EAAK3J,EAAA,OACTX,GAAGuI,uBAAAgC,OAAAvK,EAAAoB,gBAAAP,GACNF,EAAA0E,KAAArF,EAAAuI,uBAAA,SAAAiC,EAAAC,GAEOrF,EAAAsF,UAAAD,IACCH,EAAAG,EAAA,WAA2B,eAAA,OAAAD,KAGxC3L,KAAAiL,SAAA,WAACzJ,EAAAF,WAAAwK,cAOkB1J,UAAAwG,OAAA,WAEX5I,KAAAuL,2BACHvL,KAAAsB,WAAA2E,MAAA7E,EAAAyH,iBAAA1H,EAAAuI,yBACJmB,KAGGG,EAAW,mBAEPA,GAAcvH,EAAAC,GACd,UACAA,GAAAgF,SAAkB,iBAEzB,MALGsC,GAAO7I,SAAA,SAAA,YAKV6I,oBC5EO,uBACM,UAACJ,aACH,cAAkBG,iCAExB,GAAA/H,wBAAA,GAAA+I,2BAAA,KAAAC,IAAA,SAAArL,EAAAlB,EAAAD,eAGN,QAAOyM,uBAIN1I,SAAA,qDCdLkB,QASAhF,OAAA,aAAAiL,UAAA,YAAAuB,WAKAC,IAAA,SAAAvL,EAAClB,EAAAD,GAAD,qBAkHQ2M,GAAc7K,sBAEnB8K,GAAWlH,SACX,OAAAA,MAESA,IAII,MAFRA,EAAQA,EACRmH,WAACC,gBAC+B,QAAxBpH,wDAQJqH,QAAC,6BACG,SAAO7I,EAAQC,YACxBA,EAAA6I,aACeC,SACA,qUAQNA,SACA,2PAOV7J,YAAA,SAAA,SAAAa,GACLA,EAAAiJ,cAEMC,OAAAlJ,EAAAkJ,QAAA,EACKC,YAAY,EACTC,eAAY,0BC5KdrJ,KAAA,SAAgBC,EAAGC,EAAAC,GACnB,GAAAmJ,GAAqBrJ,EAAAC,EAAmBC,EAAArC,KDqBrD6K,EAAAhK,SAAA,qBAQI8C,eAAAzF,EAAA,cAEY0F,OACA,UAGGvE,EAAA,8BANfA,EAkCC,4BAhCmBA,EAAR,4BACM,mBACNoM,UAMH,mBAILD,GAAkBrJ,EAAaC,EAAAC,EAAArC,GAG/B,UACA,IAAAE,GAAAxB,IAGAA,MAAA0D,SAAWA,OACPC,OAAAA,EACJ3D,KAAGsB,WAAAA,EAGHtB,KAAKgN,aAAWrJ,EAAAsJ,YAAA3D,KAAAC,MAAoCC,OAAE7F,EAAAsJ,cAAA,IACtDjN,KAAKkL,WAAOxH,EAAcwJ,SAAU,wBAGpClN,KAAAmN,SAAerL,EAAA4B,EAAAwJ,SAAA,sBAAkB,IAGjClN,KAAKoN,oBAAa,KACrBpN,KAAAqN,SAAAC,QAAAC,KAAAvN,KAAAkL,WAAA,IAEOxH,EAAAgF,SAAA,YACJ,IAAIC,GAAQ,WAAcnH,EAASoH,QAAO,GAG1CwC,GAAIC,kBAAA3H,EAAuB,GAAOiF,KAC9B1G,IAAK,WAAa,WAElBmJ,EAAkBE,qBAAoB5H,EAAA,GAAciF,UAGpD6E,OAAI1L,EAAA,kDACA2L,SAAUzN,KAAAkL,cACVjJ,IAAAb,EAAuByH,iBAAkB,WAAarH,EAAGoH,QAAA,UAC5DA,QAAA,GAgDT,SAtFiBzG,SAAW,SAAU,WAAc,SAAC,gBAyCzCC,UAAiBwG,OAAM,SAAA8E,MACEC,KAArB3N,KAAC0D,SAAWkK,SAAS5L,WAC7Bb,EAACuI,uBAAA,UAAA1H,EAAA,GAAAhC,KAAAgN,aAAA,CAAChL,GAAM,MACJ6L,GAAKvE,KAAUC,MAACvH,EAAahC,KAACgN,aAClCW,IAAC3N,KAAAgN,aAAA,IAAAa,EAAA,GAGGF,EAAgB3L,IACzB6L,IACHF,GAAkB3N,KAAAgN,aAAU,IAAca,EAAS,IAEvCA,EAAC,GACRF,EAAA3L,EAAOhC,KAAAwN,OAAA3D,IAAA,QAAA8D,EAAA,OAIA3N,KAACwN,OAAW3D,IAAA,QAAS7J,KAAAgN,aAAuB,MAGzDhN,KAAIkL,WAAKrB,IAAW,QAAA8D,EAAA,GAAA,MACnB3N,KAAKmN,UACLnN,KAAAmN,SAAAtD,IAAA,QAAA8D,EAAA,GAAA,MAEK3N,KAAAkL,WAAA4C,YAAA,kBAKG9L,IAAc,GAGd2L,EAAgB3L,EACnBhC,KAAAwN,OAAA3D,IAAA,QAAA8D,EAAA,MACJ3N,KAAAkL,WAAArB,IAAA,QAAA8D,EAAA,GAAA,MACL3N,KAAAmN,UAACnN,KAAAmN,SAAAtD,IAAA,QAAA8D,EAAA,GAAA,MAGG3N,KAAWkL,WAAAxC,SAAA,eAIH1I,KAAKoN,qBAASO,GAAAD,KAAC1N,KAAAoN,oBAAaO,EAC5B3N,KAACqN,SAAMU,SAAC/N,KAAAsB,WAAa2E,MAAA7E,EAAAc,mBAAAyL,KAG5Bb,qBCtHO,uBACG,WAAMX,8BAChB,GAAAnJ,wBAAA,GAAA+I,2BAAA,KAAAiC,IAAA,SAAArN,EAAAlB,EAAAD,eAMLmI,QAAC1C,eAAAzF,EAAA,cAAA0F,OAAA,IAdY1F,EAAAqJ,iBAAA,iBAgBbrJ,EAAA0C,mBAAA,sBAAA+L,GAAA,WA0BA,QAACA,GAAAzL,EAAA0L,EAAAC,EAAAzL,GAdU1C,KAAAwC,GAAAA,EACHxC,KAAIkO,GAAAA,OAAsCC,GAAMA,EAEhDnO,KAAK0C,GAAKA,QAEVuL,QAEAA,iBAAgBA,QACK,mBAChBG,MCAb,SDEwBhM,UAAQsJ,OAAe,SAAA2C,EAAArM,GACrB,MAAdqM,GAAuB,MAAArM,IAEnChC,KAAAgC,MAAAA,EAAChC,KAAA,GAAAgC,GAAAqM,EAAA7L,GA1BYxC,KAAA,SAAAgC,EAAAqM,EAAA7L,wECnBbxC,KAAA,SAAAgC,EAAAqM,EAAAF,GAGWnO,KAAA,GAAAgC,EAAkBqM,EAAIF,IAAAnM,GAAAqM,EAAsB3L,GAC1C1C,KAAA,SAAAgC,EAAsBqM,EAAO3L,GAE1C1C,KAAA,GAAAA,KAAA,WAkCCoO,+BAjCGA,oBACWzN,EAAAlB,EAAAD,sCAGXA,EAA8C,cAAA0F,OAAA,UAC1CvE,EAAA,qBACJ4B,gBAAC,GAAAnB,GAAA6M,iBAAA,IAAA,IAAA,KAAA,sFAJAK,MCLM,cDYHrJ,eAAgBqJ,EAAKlM,UAAA,mBACjB,WACH,MAAA5C,GAAA+C,qBAGG,SAAK2C,GACL1F,EAAK+C,gBAAM2C,eAGP,gBAIH,MAGE9C,UAAAkF,KAAe,cAClBiH,GAAK,SAAAC,SACDhP,GAAOkK,uBAAA8E,GCjCf,eDmCGvJ,eAAAsJ,EAAA,eAEH9I,IAAO,WAAQ,MAAAjG,GAAA+C,iBAClB0E,IAAA,SAAA/B,GACL1F,EAAC+C,gBAAA2C,GAAA,GAAA9D,GAAA6M,iBAAA,IAAA,IAAA,KAAA,MAAAzO,EAAAkK,uBAAAgC,OAAAlM,EAAA+C,gBAAA/C,EAAAkK,uBAAA1H,UAII2F,OAAS1C,eAAYsJ,EAAa,iEC3C5BA,GAGAD,oBAGM,qBACN,WAAUA,uBACF,KAAOG,IAAA,SAAW9N,EAAUlB,EAAID,2BAU1BkP,aAUrB,QAPO7O,OAAY8O,uBACf9O,OAAO+O,0BACT/O,OAAAgP,6BACL,SAAAH,GAED,MAAA7O,QAAwBmK,WAAU0E,EAAA,MAEtBA,WACJI,mBAEAC,GAAQlP,OAAAmP,6BACDC,yBACJpP,OAAAqP,4BACJrP,OAAAsP,YACN,OAAA,UAAA9J,GAED,MAAA0J,GAAsB1J,YAGd+J,GAAK9K,GACT,GAAC+K,GAAA/K,EAAAgL,QAAAhL,EAAAiL,UACJF,GAAAG,eAEDV,IACWO,EAAAG,cAAWC,EAAA,WACd,GAACC,GAAQL,EAAAM,iBACTD,GAAQE,oBAAmBC,QAAM,SAAAC,GAC7BA,EAAA9O,KAAA0O,EAAcpL,eAIlByL,GAAMzL,QACF0L,uCAAiEC,YAAYN,kBAAW3P,KAAAkQ,uBACxFF,gBAAwBC,YAACE,iBAA4B,SAACf,eAGzCgB,EAAAzH,oBAETiH,yBAAMA,uBACVS,EACAD,EAAKT,kBAAKS,IAACC,YAAQ,WAAiBjB,OAE3C,CAE0C,UAAnCkB,iBAAoBF,GAAKG,WACpCH,EAAAI,MAAAD,SAAA,WAtBD,IAAAE,GAAAL,EAAAT,kBAsBCe,SAAAC,cAAA,SAEDF,GAAAG,aAAA,QAA4C,wIACjCH,EAAWP,kBAAAE,EACdK,EAAQI,OAACd,EAACU,EAAQrJ,KAAA,YACV0J,GACJV,EAAYW,YAAAN,GAACA,EAAAlD,KAAQ,cACnBuD,GACEV,EAAQW,YAAAN,KAGZb,oBAAClJ,KAAAiC,GAGb,QAAC2C,GAAA8E,EAAAzH,GAZD,4ICrEeyH,EAAAT,kBAAgBK,kBAE/BI,EAAAT,kBAAwBK,gBAAAC,YAAAe,oBAAA,SAAA5B,GACxBgB,EAAAT,mBAA2BS,EAAAa,YAAAb,EAAAT,uBDShBxN,SAAM,YACjBkJ,EAAClJ,SAAA,UAAA,YAEDmJ,EAAAnJ,SAAA,UAAA,mBACW8C,eAAWzF,EAAA,cAAA0F,OAAA,OAClBmL,GAAaK,SAAOL,cACPa,UAAQC,UAAAC,MAAA,aA8DpB/F,kBAAAA;;;CfhFL,SAAA9L,GAAA,GAAA,gBAAAC,UAAA,mBAAAC,QAAAA,OAAAD,QAAAD,QAAA,IAAA,kBAAAG,SAAAA,OAAAC,IAAAD,UAAAH,OAAA,CAAA,GAAAK,EAAAA,GAAA,mBAAAC,QAAAA,OAAA,mBAAAC,QAAAA,OAAA,mBAAAC,MAAAA,KAAAC,MAAAJ,EAAAK,MAAAL,EAAAK,SAAAoR,IAAA9R,MAAA,WAAA,MAAA,SAAAY,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAjB,GAAA,GAAAsB,OAAA,uBAAAL,EAAA,IAAA,MAAAjB,GAAAuB,KAAA,mBAAAvB,EAAA,GAAAwB,GAAAV,EAAAG,IAAAhB,WAAAY,GAAAI,GAAA,GAAAQ,KAAAD,EAAAvB,QAAA,SAAAW,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,GAAAF,IAAAY,EAAAA,EAAAvB,QAAAW,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAhB,QAAA,IAAA,GAAAoB,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAW,OAAAT,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAW,GAAA,SAAAP,EAAAlB,EAAAD,gEiBAA,IAAA8R,GAAA3Q,EAAA,qBAEA4Q,EAAA5Q,EAAA,qBACA6Q,EAAA7Q,EAAA,qBAKA8Q,EAAA,WAII,QAAAA,GACIpN,EACA/C,GAEAtB,KAAKsF,QAAUjB,EACfrE,KAAKuF,WAAajE,EAwF1B,MArFIqG,QAAA1C,eAAWwM,EAAArP,UAAA,cAAX,WACI,MAAOpC,MAAKsF,yCAGhBqC,OAAA1C,eAAWwM,EAAArP,UAAA,4BAAX,WACI,MAAOpC,MAAKsF,QAAQoM,0BAGxB,SAAgCxM,GAC5BlF,KAAKsF,QAAQoM,qBAAuBxM,MACpClF,KAAK2R,mDAGThK,OAAA1C,eAAWwM,EAAArP,UAAA,8BAAX,WACI,MAAOpC,MAAKsF,QAAQsM,4BAGxB,SAAkC1M,GAC9BlF,KAAKsF,QAAQsM,uBAAyB1M,MACtClF,KAAK2R,mDAGThK,OAAA1C,eAAWwM,EAAArP,UAAA,2BAAX,WACI,MAAOpC,MAAKsF,QAAQuM,yBAGxB,SAA+B3M,GAC3BlF,KAAKsF,QAAQuM,oBAAsB3M,MACnClF,KAAK2R,mDAGThK,OAAA1C,eAAWwM,EAAArP,UAAA,6BAAX,WACI,MAAOpC,MAAKsF,QAAQwM,2BAGxB,SAAiC5M,GAC7BlF,KAAKsF,QAAQwM,sBAAwB5M,MACrClF,KAAK2R,mDAGFF,EAAArP,UAAA2P,KAAP,SAAYC,EAA+BC,GACvCjS,KAAKsF,QAAQuM,oBAAsBG,MACnChS,KAAKsF,QAAQwM,sBAAwBG,MACrCjS,KAAK2R,mBAGFF,EAAArP,UAAA8P,KAAP,WACIlS,KAAKsF,QAAQuM,uBACb7R,KAAKsF,QAAQwM,yBACb9R,KAAK2R,mBAGFF,EAAArP,UAAA+P,YAAP,SAAmBC,EAAgBC,GACjB,MAAVD,GAAmB7L,EAAE+L,SAASD,KAElC9L,EAAEC,KAAKxG,KAAKsF,QAAQoM,qBAAsB,SAAChR,GACnCA,EAAE6R,MAAQH,IACV1R,EAAE2R,MAAQA,KAElB9L,EAAEC,KAAKxG,KAAKsF,QAAQuM,oBAAqB,SAACnR,GAClCA,EAAE6R,MAAQH,IACV1R,EAAE2R,MAAQA,KAGlBrS,KAAK2R,oBAGFF,EAAArP,UAAAoQ,YAAP,WACIjM,EAAEC,KAAKxG,KAAKsF,QAAQoM,qBAAsB,SAAChR,GACvCA,EAAE2R,MAAQ,OAEd9L,EAAEC,KAAKxG,KAAKsF,QAAQuM,oBAAqB,SAACnR,GACtCA,EAAE2R,MAAQ,OAGdrS,KAAK2R,mBAGDF,EAAArP,UAAAuP,gBAAR,WACI3R,KAAKuF,WAAWU,MAAMsL,EAAAkB,oBAAqBzS,KAAKsF,UAG7CmM,EAAArP,UAAAsQ,cAAP,WACI1S,KAAKuF,WAAWU,MAAMuL,EAAAmB,4BAE9BlB,KAEAmB,EAAA,WAAA,QAAAA,KACY5S,KAAAsF,QAAyB,GAAIgM,GAAAuB,cAmDzC,MAhDIlL,QAAA1C,eAAW2N,EAAAxQ,UAAA,cAAX,WACI,MAAOpC,MAAKsF,aAGhB,SAAkBJ,GACdlF,KAAKsF,QAAUJ,GAAS,GAAIoM,GAAAuB,+CAGhClL,OAAA1C,eAAW2N,EAAAxQ,UAAA,4BAAX,WACI,MAAOpC,MAAKsF,QAAQoM,0BAGxB,SAAgCxM,GAC5BlF,KAAKsF,QAAQoM,qBAAuBxM,uCAGxCyC,OAAA1C,eAAW2N,EAAAxQ,UAAA,8BAAX,WACI,MAAOpC,MAAKsF,QAAQsM,4BAGxB,SAAkC1M,GAC9BlF,KAAKsF,QAAQsM,uBAAyB1M,uCAG1CyC,OAAA1C,eAAW2N,EAAAxQ,UAAA,2BAAX,WACI,MAAOpC,MAAKsF,QAAQuM,yBAGxB,SAA+B3M,GAC3BlF,KAAKsF,QAAQuM,oBAAsB3M,uCAGvCyC,OAAA1C,eAAW2N,EAAAxQ,UAAA,6BAAX,WACI,MAAOpC,MAAKsF,QAAQwM,2BAGxB,SAAiC5M,GAC7BlF,KAAKsF,QAAQwM,sBAAwB5M,uCAGlC0N,EAAAxQ,UAAAkF,MAAP,aAAY,SAAUhG,GAClB,UAKA,OAHqB,OAAjBtB,KAAKqH,WACLrH,KAAKqH,SAAW,GAAIoK,GAAezR,KAAKsF,QAAShE,IAE9CtB,KAAKqH,WAEpBuL,IAEAnO,SACKhF,OAAO,cACP8H,SAAS,aAAcqL,qbCnKfpT,EAAAiT,oBAA8B,oBAC9BjT,EAAAmT,0BAAoC,yBAEjD,IAAAG,GAAA,WAAA,QAAAA,MA2BA,MAAAA,KA3BatT,GAAAsT,iBAAAA,CA6Bb,IAAAC,GAAA,SAAAC,GAAA,QAAAD,oDAEA,MAFgCE,GAAAF,EAAAC,GAEhCD,GAFgCD,EAAnBtT,GAAAuT,WAAAA,CAIb,IAAAF,GAAA,WAAA,QAAAA,KAEW7S,KAAA0R,wBAEA1R,KAAA6R,uBAGA7R,KAAA4R,0BAEA5R,KAAA8R,yBACX,MAAAe,KAVarT,GAAAqT,cAAAA,uFClCb,IAAAK,GAAA,mBAqBQA,GAAWxP,EAAAyP,EAAA1P,EAAAnC,EAAA8R,EAAAC,EAAAC,EAAAC,EAAA5P,GAZf,UACY,IAAAnC,GAAAxB,IACAA,MAAA0D,SAASA,EACT1D,KAAAmT,UAAAA,EACAnT,KAAAyD,OAAAA,EACAzD,KAAAsB,WAAAA,EACAtB,KAAAoT,QAASA,EACTpT,KAAAqT,UAAUA,EAQlBrT,KAAKsT,WAAaA,EAClBtT,KAAIwT,cAAKxT,KAAiBmT,UAAKM,IAAA,gBAAczT,KAAkBmT,UAAA1N,IAAA,gBAAA,KAC3DzF,KAAKwT,eAAcxT,KAAAwT,cAAsBE,uBACrCF,cAAAE,gBAAoB,MACpBC,mBAAA,uBACDC,uBAAA,+DAECJ,cAAAE,gBAAoB,MACpBC,mBAAA,uBAEDC,uBAAA,2DAMP5T,KAAK0D,SAAAgF,SAAe,4BAChBpH,WAAKW,IAAA,oBAA+B,SAACqC,EAAAD,GACtC7C,EAAAqS,iBAAAvP,EAAAD,KA1CX,MASI6O,GAAA/Q,SACY,WACA,YACsB,SACtB,aAEA,UACA,YACR,aACsB,OAAA,YA6BDC,UAAG0R,QAAA,WACpB9T,KAAK+T,eACR/T,KAAAsT,WAAAzB,oBAAA7R,KAAA+T,cAGG/T,KAAKgU,gBACRhU,KAAAsT,WAAA5B,qBAAA1R,KAAAgU,eAGJhU,KAAAqE,OAAArE,KAAAsT,WAAAjP,UAGwBjC,UAAAyR,iBAAA,SAAAvP,EAAAD,GACxBrE,KAAAqE,OAAAA,KAIuBjC,UAAW6R,SAAQ,SAAQ7B,GAClD,MAAAA,GAAA8B,SAAA9B,EAAA8B,OAAA9B,MAGwBhQ,UAAQ+R,YAAgB,SAAI/B,SACnC,QAAVA,EAAOC,OAAGD,EAAAC,OAAA,EACb,GAEGD,EAAOC,MAAI,GACd,IAGJ5F,OAAA2F,EAAAC,UAGwBjQ,UAAUgS,YAAC,SAAAhC,EAAAiC,MAC5BjC,IAAOA,EAAAkC,YAIPlC,EAAAmC,WAEH,WADGF,GAAOrU,KAAAwU,iBAIPjO,EAAAkO,WAAarC,EAAOsC,OAEvB,WADGtC,GAAOsC,MAAAtC,MAIPA,EAAKuC,KAER,YADG3U,KAAAoT,QAAOwB,SAAAD,KAAAvC,EAAAuC,SAIPvC,EAAKyC,IAER,WADG7U,MAAAqT,UAAOwB,IAAAzC,EAAAyC,QAIPzC,EAAIpL,UACAhH,KAAImT,UAAmCM,IAAK,UAAU,CACtD,GAAI5N,GAAS7F,KAAAmT,UAAAM,IAAA,gBAAAzT,KAAAmT,UAAA1N,IAAA,UAAA,IACTI,IACHA,EAAAiP,GAAA1C,EAAApL,MAAAoL,EAAA2C,kBAML3C,GAAK9N,MACRtE,KAAAsB,WAAAwE,WAAAsM,EAAA9N,OAGAtE,KAAAsB,WAAAwE,WAAA,mBAAAsM,EAAAG,QAGRW,KAYG8B,GACAjB,aAAa,mBACbC,cAAc,oBACjBQ,aAAA,sBAED,WAMA,QAACS,yBAKOjD,IACAkD,SAAAF,EACAG,YAAY,8BACdvS,WAAAsQ,WAKGzT,OAAA,cAEJqD,UAAA,oBAAAkP,0CC/JLrK,QAAA1C,eAAAzF,EAAA,cAAA0F,OAAA,OASIkQ,GAAA,mBAAAA,GAiCCzR,EAAAwP,EAAAI,EAAAjS,EAAA8R,EAAAC,EAAAC,EAAA5P,GAhCW,UACA,IAAAlC,GAAAxB,IACAA,MAAA2D,OAAAA,EACA3D,KAAAmT,UAAUA,EACVnT,KAAAuT,KAAOA,EACPvT,KAAAsB,WAAAA,EACAtB,KAAAoT,QAAUA,EAMlBpT,KAAAqT,UAAiBA,EAEjBrT,KAAIsT,WAAKA,IACL5K,SAAW,yBACd1I,KAAA+T,eAEGT,EAAKxB,sBAAgB9R,KAAA+T,cAExB/T,KAAAgU,gBAEGV,EAAU1B,uBAAkB5R,KAAAgU,oBAG5B3P,OAAKiP,EAAAjP,OACTrE,KAAGsB,WAAAW,IAAA,oBAAA,SAAAqC,EAAAD,GAEC7C,EAACqS,iBAAevP,EAAAD,KAEpBrE,KAAGsB,WAAAW,IAAA,0BAAA,WAENT,EAAA6T,sBAoHC,SA3IalT,SAAA,SAAA,YAAA,OAAA,aAAA,UAAA,YAAA,aAAA,YA2BfiT,EAAChT,UAAAkT,QAAA,SAAAC,GAEMvV,KAAAwV,QAAAD,GAEPH,EAAChT,UAAAiT,kBAAA,WAEMrV,KAAAwV,aAEapT,UAAAqT,SAAA,SAAApB,EAAAqB,GACnB1V,KAAAwU,aAAAkB,EAEOrB,EAAAqB,IAERN,EAAChT,UAAAyR,iBAAA,SAAAvP,EAAAD,GAEMrE,KAAAqE,OAAAA,GAGP+Q,EAAChT,UAAA6R,SAAA,SAAA7B,GAEM,MAAAA,GAAA8B,SAAA9B,EAAA8B,OAAA9B,MAEWhQ,UAAA+R,YAAA,SAAA/B,GACd,MAAC,QAAAA,EAAAC,OAAAD,EAAAC,OAAA,EACU,GAEVD,EAAAC,MAAA,GAEM,IAIH5F,OAAA2F,EAAAC,UACkBjQ,UAAAuT,YAAA,SAAAC,GAEtB,GAAEpU,GAAKxB,KACHqS,EAAK,CAQN,iBAPa,SAAAD,GACX5Q,EAAAyS,SAAA7B,IACFC,MAKAA,KAEkBjQ,UAAYyT,wBAA0B,WAC9D,MAAA7V,MAAA2V,YAAA3V,KAAAqE,OAAAuN,wBAAA,GAEM5R,KAAA2V,YAAA3V,KAAAqE,OAAAyN,uBAAuB,KAEL1P,UAAY0T,wBAA0B,WAC9D,MAAA9V,MAAA2V,YAAA3V,KAAAqE,OAAAuN,wBAAA,GAEM5R,KAAA2V,YAAA3V,KAAAqE,OAAAyN,uBAAY,KAEJ1P,UAAAgS,YAAA,SAAAhC,EAAAiC,GACX,GAACjC,IAAAA,EAAAkC,QAAD,IASIlC,EAAOmC,WAGP,WAFHF,GAAArU,KAAAwU,iBAIGpC,EAAOsC,MAGP,WAFHtC,GAAAsC,MAAAtC,MAIGA,EAAOuC,KAGP,YAFH3U,KAAAoT,QAAAwB,SAAAD,KAAAvC,EAAAuC,SAIGvC,EAAOyC,IAGP,WAFH7U,MAAAqT,UAAAwB,IAAAzC,EAAAyC,UAIO7N,UACAhH,KAAImT,UAASM,IAAA,UAAA,IACT5N,GAAS7F,KAACmT,UAAcM,IAAA,gBAAoBzT,KAAAmT,UAAA1N,IAAA,UAAA,IAC/CI,IACJA,EAAAiP,GAAA1C,EAAApL,MAAAoL,EAAA2C,kBAMJ3C,GAAA9N,MAAKtE,KAAEsB,WAAAwE,WAAAsM,EAAA9N,OAIXtE,KAAAsB,WAAAwE,WAAA,mBAAAsM,EAAAG,QAYC6C,KAEFW,GACHhC,aAAA,mBAEDC,cAAA,sBAKC,WAAD,QAAAgC,yBAMQ/D,IACAiD,SAAUa,EACZZ,YAAA,gCAEFvS,WAAOwS,WAIN3V,OAAA,wFCtLLkI,QAAA1C,eAAAzF,EAA0B,cAAA0F,OAAA,IAC1BT,QAAAhF,OAAA,cAA0B,aAAA,mBAAA,cAC1BkB,EAAA,oBAEAA,EAAA,+OCHA,oBAGIsE,eAAAzF,EACI,cACA0F,OACA,UAEW,mBAEX+Q,GAAkBvS,EAAcpC,EAAA4U,GAChC,UAEA,IAAI1U,GAAOxB,IAEX0D,GAAAgF,SAAe,gBACPA,SAAC,oBACT1I,KAAGqE,OAAA6R,EAAA7R,OACN/C,EAAAW,IAAA,mBAAA,SAAAqC,EAAAD,GAEM7C,EAAA2U,gBAAA7R,EAAAD,KAOP,SAxBAlC,SAeC,WAAA,aAAA,aAML8T,EAAA7T,UAAC+T,gBAAA,SAAA7R,EAAAD,GAAArE,KAAAqE,OAAAA,GAGS4R,KAGFG,GACHvT,YAAA,EAEDsS,YAAO,gCACKc,EAGfxR,2DCxCD8D,GAAA,SAAA5H,EAAAlB,EAAAD,uBAICyF,eAAAzF,EAAA,cAAA0F,OAAA,OAADmR,GAAA,WAJA,QAICA,wCCDD9L,GAAA,SAAA5J,EAAAlB,EAAAD,sCAamBA,EAAA,cAAA0F,OAAA,UAiBd,mBAfQoR,GAAmB7S,EAAOC,EAAAC,EAAkB4P,EAAAjS,EAAA4U,GACjD,UAGA,IAAI1U,GAAcxB,IAClBA,MAAIyD,OAAUA,OACV8S,UAAK9J,OAAa9I,EAAsB,oBACxC6S,WAAc,IAClB,IAACxS,GAAAhE,KAAAuW,UAAAtS,QAAA,IAEGD,GAAC,IACLhE,KAAAwW,WAAexW,KAAAuW,UAAoBpS,OAAAH,EAAwB,GACvDhE,KAAIuW,UAACvW,KAAgBuW,UAAMpS,OAAO,EAAAH,IAGzChE,KAAAmW,gBAAA,KAAAD,EAAA7R,QAEO/C,EAAAW,IAAA,mBAAA,SAARqC,EAAAD,GACQ7C,EAAK2U,gBAAoB,KAAO9R,cA3B5BlC,SAAiB,SAAA,WAAA,SAAA,OAAA,aAAA,eAiCVC,UAAY+T,gBAAW,SAAA7R,EAAAD,MAClCG,GAAKH,EAAOG,UACnBD,EAAAC,EAAAxE,KAAAuW,WAELE,KAAAzW,KAAAwW,WAACjS,GAAAvE,KAAAwW,WAAAjS,EAAAkS,IAAAzW,KAAAyD,OAAA,UAGAzD,KAAAyD,OAAA,QAAAgT,IAEOH,yBAMII,GAAUvT,iBAEVC,GAAAD,EAAe,UAEfN,WAAMO,EAAAP,oBAEIO,EAACC,kBACHD,EAAOE,kBACTF,EAAAG,gBACF,EACJC,KAAC,SAAAC,EAAAC,EAAAC,GACDA,EAAY,KAAA,WACd,MAAAF,GAAA,SAGEL,EAAOI,KAAAI,MAAYR,EAAAkD,YAG1B1D,WAAA0T,KAnBOnU,SAAY,6CCxDxBuI,UAAA,gBAAAgM,WAKAC,GAAA,SAAAhW,EAAAlB,EAAAD,sCAGqDA,EAAA,cAAgC0F,OAAA,UACjEvE,EAAS,oBACxBiW,mBAAA,sBAEDC,GAAA,mBAAAA,GAAAxS,EAAA/C,QACIA,WAAYA,EAChBtB,KAACsF,QAAAjB,qDAAAoB,IAAA,WAED,MAAAzF,MAAAsF,qBACW,EACXI,cAAC,iDAAAD,IAAA,WAED,MAAAzF,MAAAsF,QAAWK,qBACA,EACXD,cAAC,0BAGgBmR,EAAazU,UAAO,aACjC,WACH,MAAApC,MAAAsF,QAAAd,uBALAxE,KAAAsF,QAAAd,MAAAU,MAOMlF,KAAA4F,mBAEHI,YAAY,EACZN,cAAa,MAEJtD,UAAU2P,KAAA,SAAkBvN,EAACmB,EAAAmR,GACtC9W,KAACsF,QAAAmR,SAAA,EACDzW,KAAKsF,QAAAd,MAAeA,GAAGxE,KAAAsF,QAAAd,UAC1BxE,KAAAsF,QAAAK,QAAAA,GAAA3F,KAAAsF,QAAAK,YAEMmR,GACC9W,KAAC+W,UAAQD,GAEhB9W,KAAA4F,qBAGQxD,UAAe8P,KAAK,WAC5BlS,KAAAsF,QAAAmR,SAAA,EAEOzW,KAAA4F,qBACCxD,UAAa4U,WAAA,WAElBhX,KAAIsF,QAAAK,QAAmBY,EAAAI,OAAI3G,KAAAsF,QAAkBK,QAAO,SAAAc,GAAA,MAAAA,GAAAwQ,WAAA,mBAE5C7U,UAAK2U,UAAgB,SAAK1I,MAC9B7M,GAAGxB,IACPA,MAACgX,aAAO,MAAF3I,GAAEA,EAAApN,OAAA,EACJsF,EAAAC,KAAK6H,EAAe,SAAM6I,GAC7B1V,EAAA8D,QAAAK,QAAAe,KAAA,cAAAwQ,UAGY5R,QAAAK,QAAAe,KAAA,iBACRtE,UAAU+U,UAAa,WAE/B,IAAA,GADO9I,MACPhI,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IAEMgI,EAAAhI,GAAAC,UAAYD,EAEfrG,MAAK+W,UAAA1I,GACRrO,KAAA4F,qBAEDxD,UAKCgV,aAAA,WALepX,KAAAgX,kBAAApR,mDAGZ,IAAG,GAFDpE,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACCV,EAACU,GAAAC,UAAkBD,EAGpBE,GAAAC,KAAAb,EAAA,SAAAc,GAAPjF,EAAA8D,QAKCK,QAAAe,KAAAD,UALkBb,sDAGf,IAAG,GAFDpE,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACCV,EAACU,GAAAC,UAAkBD,EAGpBE,GAAAC,KAAAb,EAAA,SAAIc,GACHjF,EAAC8D,QAAaK,QAASY,EAAAI,OAAMnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,MAEpCzG,KAAA4F,qBAGQxD,UAAWyE,KAAW,SAAAA,EAAA3B,GAC9BlF,KAAAsF,QAAAd,MAAAqC,GAAA3B,EACLlF,KAAA4F,mBAEAiR,EAAAzU,UAAAwD,gBAAA,WAAA5F,KAAAsB,WAAAwE,WAAAtG,EAAAoX,mBAAA5W,KAAAsF,iBAIiB,mBACX+R,KAoDLrX,KAAAsF,SAjDGmR,SAAA,WACI9Q,yCAIY0R,EAAgBjV,UAAA,UAChCqD,IAAC,gCAJAwB,IAAA,SAAA/B,GAMDlF,KAAAsF,QAAWJ,GAAA,GAAAoS,GAAAjB,0BACA,EACX3Q,cAAC,0BAGgB2R,EAAajV,UAAO,SAErCqD,IAAC,sCALAwB,IAAA,SAAA/B,GAODlF,KAAAsF,QAAAd,MAAWU,mBACA,EACXQ,cAAC,0BAGgB2R,EAAejV,UAAO,WACvCqD,IAAC,wCAJAwB,IAAA,SAAA/B,GAMMlF,KAAAsF,QAAAK,QAAAT,OAASc,YAAA,gBAAA,oCAGZ,IAAG,GAFDxE,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACNV,EAAAU,GAAAC,UAAAD,EAEDE,GAAAC,KAAAb,EAAA,SAICc,GAJkBjF,EAAA8D,QAAoBK,QAAAe,KAAAD,yCAGnC,IAAG,GAFDjF,GAAKxB,KACH2F,KACDU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACNV,EAAAU,GAAAC,UAAAD,EAGGE,GAAAC,KAAKb,EAAQ,SAAWc,GAC3BjF,EAAA8D,QAAAK,QAAAY,EAAAI,OAAAnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,SAKYrE,UAAYyE,KAAK,SAAAA,EAAA3B,QACtBI,QAAKd,MAAQqC,GAAO3B,GAG5BmS,EAACjV,UAAAkF,MAAA,aAAA,SAAAhG,GACL,UAGK,OAHJ,OAAAtB,KAAAqH,WAEMrH,KAAAqH,SAAA,GAAAwP,GAAA7W,KAAAsF,QAAAhE,IACKtB,KAAAqH,+GC1JZ,YAKAM,QAAA1C,eAAkBzF,EAAA,cAAA0F,OAAA,IAClBT,QAEAhF,OAAA,aAAA,aAAgC,4ECJhCkB,EAAA,yBDHYiH,GAEZ,IAAA,GAAAC,KAAAD,GAAwBpI,EAAAsI,eAAAD,KAAArI,EAAAqI,GAAAD,EAAAC,KCExBlH,EAAA,sBACA4W,WAAA,EAAAC,iBAAA,EAAAC,eAAA,EAAAC,kBAA0D,IAAA1L,IAAA,SAAArL,EAAAlB,EAAAD,GAkB1D,oBAOIyF,eAAAzF,EAAA,cAEY0F,OAA0B,UASvBvE,EAAA,yBAmBdA,EAAA,yBA7BWA,EAAA,6BACA,mBAEAgX,GAASrW,EAA0B8R,EAAAC,EAAAF,EAAAyE,EAAAC,EAAAC,EAAApU,EAAAqU,GAKnC,UAKR,IAAAvW,GAASxB,IAETA,MAAKsB,WAASA,EAEdtB,KAAAoT,QAAeA,OACXC,UAAKA,EACTrT,KAAGmT,UAAAA,EACHnT,KAAA+X,YAAeA,EAEfrU,EAAIgF,SAAW,kBACf1I,KAAKqE,OAASuT,EAAavT,OAE3B/C,EAAUW,IAAA+V,EAAoBC,uBAAA,SAAA3T,EAAAD,GAC1B7C,EAAK0W,oBAAoB5T,EAAKD,KAGrC/C,EAAAW,IAAAkW,EAAAC,oBAAA,WAAA5W,EAAA6W,oBAcO,IAAAC,GAAAnF,EAAAM,IAAA,YAAAN,EAAR1N,IAAA,YAAqD,IACjDzF,MAAKuY,WAAgBC,KAAPF,EAAOA,EAAAT,EACxB7X,KAAAqE,OAAAsH,aAEO3L,KAAAqE,OAAAsH,WAAA3L,KAAA+X,YAARU,uBAgFJ,SA7HgBtW,SAA8B,aAAA,UAAA,YAAA,YAAA,gBAAA,WAAA,SAAA,WAAA,iBAiDPC,UAAY8V,oBAAY,SAAA5T,EAAAD,QACnDA,OAAMA,KAELjC,UAAAiW,iBAAA,cAACK,GAAM1Y,KAAAqE,OAAAqU,mBACCA,IAAQA,EAAQzX,OAAO,EAAA,CAChC,GAAC0X,GAAAD,EAAAA,EAAAzX,OAAA,EACJsF,GAAAkO,WAAAkE,EAAAjE,OAAOiE,EAAAjE,MAAAiE,GAGX3Y,KAAAoT,QAAAwF,QAAAC,WAKI7Y,MAAAoT,QAAAwF,QAAAC,UAIezW,UAAW0W,QAAA,SAAAH,GAC9BpS,EAAAkO,WAAAkE,EAAAjE,QAEMiE,EAAAjE,MAAAiE,IAKAhB,EAAAvV,UAAA2W,WAAP,WACI/Y,KAAKsB,WAAAwE,WAAqBkT,EAAAC,kBAE9BtB,EAACvV,UAAA8W,eAAA,SAAAP,GAEM,MAAAlU,SAAA0U,QAAAR,EAAApE,aAAgBoE,EAAvBpE,WAAwBtT,OAAwB,KAEjCmB,UAAAgX,WAAA,SAAA/E,EAAA/P,GACXtE,KAACwU,aAAAlQ,EAED+P,EAAMrU,KAAWwU,iBAENpS,UAAAiX,iBAAA,SAAAjH,GACX,GAACA,IAAAA,EAAAkC,QAAD,IAII/N,EAAAkO,WAAOrC,EAAAsC,OAGP,WAFHtC,GAAAsC,MAAAtC,MAIGA,EAAOuC,KAGP,YAFH3U,KAAAoT,QAAAwB,SAAAD,KAAAvC,EAAAuC,WAIOE,IAEJ,iBADIxB,UAAUwB,IAAAzC,EAAYyC,IAG9B,IAACzC,EAAApL,OAEG,GAAAhH,KAAOmT,UAAQM,IAAA,UAAA,CACX,GAAC5N,GAAW7F,KAAAmT,UAAW1N,IAAO,SAC9BI,GAACiP,GAAA1C,EAAepL,MAAKoL,EAAA2C,kBAIzB3C,GAAK9N,OACRtE,KAAAsB,WAAAwE,WAAAsM,EAAA9N,OACJtE,KAAAwU,aAAA,OAGCxU,KAAmCsB,WAAAwE,WAAA,mBAAAsM,EAAAG,MAErCvS,KAAawU,aAAA,QAIVmD,8DC9JPlT,SAAAhF,OAAA,2BACI,gBAAqB6Z,+BACyB,GAAAC,sBAAA,KAAArN,IAAA,SAAAvL,EAAAlB,EAAAD,uBAEjDyF,eAAAzF,EAAA,cAAA0F,OAAA,OAADsU,GAAA,WAJA,QAICA,KAJYxZ,KAAAyZ,MAAA,KAMbzZ,KAAA0U,MAAA,KAAA1U,KAAAuU,WAAA,KAKA,MAAAiF,KALaha,GAAAga,eAAAA,iCCPb,MAAAE,KAIala,GAAAka,iBAAmBA,OAEhC1L,IAAA,SAAArN,EAAAlB,EAAAD,sCAIgBA,EAAA,cAAgC0F,OAAA,UAGzBvE,EAAO,wBACzBsX,uBAAA,yBAEDG,oBAAW,0BAAX,mBACIuB,GAAmBrY,EAAC+C,GACxBrE,KAACsB,WAAAA,iBAkED,cAlEC2D,eAAA0U,EAAAvX,UAAA,UAEDqD,IAAA,iBAAAzF,MAAAsF,SAEAU,YAAC,gBAED,0BAEiB2T,EAAavX,UAAA,YAE1B,WACH,MAAApC,MAAAsF,QAAAsU,sBAPA5Z,KAAAsF,QAAAsU,KAAA1U,EASDlF,KAAAsF,QAAAoT,MAAW,UAAX9S,mBAEAI,YAAC,gBAED,0BAEiB2T,EAAcvX,UAAA,aAE3B,WACH,MAAApC,MAAAsF,QAAAoT,uBAPA1Y,KAAAsF,QAAAsU,KAAA,KASD5Z,KAAAsF,QAAAoT,MAAWxT,OAAXU,mBAEAI,YAAC,gBAED,0BAES2T,EAAkBvX,UAAA,YAC3BqD,IAAC,yCALAwB,IAAA,SAAA/B,GAODlF,KAAAsF,QAAAuU,SAAW3U,OAAXU,mBAEAI,YAAC,gBAED,0BAES2T,EAAkBvX,UAAA,cAC3BqD,IAAC,2CALAwB,IAAA,SAAA/B,GAOMlF,KAAAsF,QAAAqG,WAAAzG,EACClF,KAAC4F,mBAELI,YAAY,EACZN,cAAK,IAGFiU,EAAAvX,UAAA0X,SAAS,SAAhBF,EAAwCC,GACpC7Z,KAAKsF,QAAQsU,KAAKA,EAClB5Z,KAAKsF,QAAQoT,MAAO,KACpB1Y,KAAKsF,QAAQuU,SAAWA,EACxB7Z,KAAK4F,mBAGF+T,EAAAvX,UAAA2X,UAAA,SAAPrB,EAAAmB,GACI7Z,KAAKsF,QAAAoT,MAAWA,MACnB1Y,KAAAsF,QAAAsU,KAAA,KACL5Z,KAAAsF,QAAAuU,SAACA,EAAA7Z,KAAA4F,mBAGD+T,EAAAvX,UAAAwD,gBAAA,WACY5F,KAAAsB,WAA4BwE,WAAItG,EAAAyY,uBAAmBjY,KAAAsF,UAG3DqU,OACgB,mBACfK,UAED1U,QAAgB,GAAA2U,GAAaP,+BAE5BzU,eAAA+U,EAAA5X,UAAA,iDAEM6E,IAAA,SAAA/B,GACHlF,KAAAsF,QAAWsU,KAAA1U,eAGF,EAETQ,cAAY,IAEpBsU,EAAA5X,UAACkF,MAAA,aAAA,SAAAhG,GAAA,UAKI,OAFE,OAAAtB,KAAAqH,WACKrH,KAAAqH,SAAgB,GAAAsS,GAAArY,EAAAtB,KAAAsF,UACdtF,KAAAqH,8ECzGd6S,qBAAe,KAAAC,IAAkB,SAAAxZ,EAAclB,EAAAD,GAE/C,mJCQAmB,EAAA,kBAWI,uBDlBJ,SAAAiH,GAEA,IAAA,GAAAC,KAAAD,GAAApI,EAAAsI,eAAoCD,KAAArI,EAAAqI,GAAAD,EAAAC,KCiB5BlH,EAAA,yCAEK,GAAM4Y,sBAAiB,KAAY9K,IAAmB,SAAU9N,EAAIlB,EAAWD,sCAE/EA,EAAa,cAAc0F,OAAA,UAC3B,mBAEAkV,GAAUjH,GACf,UACAnT,MAAKoW,OAAOjD,EAAUM,IAAI,aAAiCN,EAAU1N,IAAI,aAAgB,KAC5FzF,KAAAqa,KAAAlH,EAAAM,IAAA,cAAAN,EAAA1N,IAAA,cAAA,KAEMzF,KAAAsZ,WAAAnG,EAAPM,IAAA,iBAAAN,EAAA1N,IAAA,iBAAA,KAEIzF,KAAI4V,QAAWzC,EAAGM,IAAA,cAAAN,EAAA1N,IAAA,cAAA,UACd6U,OAAKnH,EAAcM,IAAA,aAAAN,EAAA1N,IAAA,aAAA,KACvBzF,KAACua,QAAApH,EAAAM,IAAA,cAAAN,EAAA1N,IAAA,cAAA,KAGDzF,KAAIwa,OAAUrH,EAAEM,IAAA,gBAAAN,EAAA1N,IAAA,gBAAA,UACZgV,KAAKtH,EAAaM,IAAG,cAAAN,EAAA1N,IAAA,cAAA,KCxC7B,SD0BStD,SAAS,eAkBVC,UAAKsY,MAAa,WAClB1a,KAAKoW,QACRpW,KAAAoW,OAAArE,OAIG/R,KAAKqa,MACRra,KAAAqa,KAAAM,WAIG3a,KAAKsZ,YACRtZ,KAAAsZ,WAAAQ,SAAA,MAGG9Z,KAAK4V,SACR5V,KAAA4V,QAAA7D,OAGT/R,KAAAsa,QAACta,KAAAsa,OAAArT,IAAA,MAGWjH,KAAAua,SACAva,KAACua,QAAAxI,QCnETqI,gDAMI,gBAA4BA,qBACjBzZ,EAAAlB,EAAeD,GAI9B,QAAOob,GAAAzH,iBAEF0H,GAAkB1H,EAAEM,IAAA,gBAE5BN,EAAA1N,IAAA,gBAAA,wBCjBA,MAAAoV,GAAAA,EAAAC,UAAAC,IAAAA,EAAAA,GDWGH,EAACzY,SAAA,4BCQe,8BACA,YAAAyY,qBAYHja,EAASlB,EAAGD,SAGR,mBACFwb,GAAevX,EAAYwH,EAAAvH,EAAAC,EAAAwP,EAAAI,EAAAjS,EAAAuW,aAElC7X,MAACyD,OAAAA,EAEDzD,KAAKiL,SAAUA,EAGfjL,KAAKib,UAAW9H,EAAWM,IAAC,YAAeN,EAAQ1N,IAAA,YAAqB,KACxEzF,KAAKkb,UAAW/H,EAAKM,IAAO,YAAcN,EAAa1N,IAAI,YAAY,KACnEzF,KAACib,UACRjb,KAAAmb,aAAAnb,KAAAib,UAAAG,MAGY9Z,EAAa,SAClBtB,KAAAmb,aAAY7Z,EAAa,QAC3BtB,KAAKqb,YAAC1X,EAAA,OAAA,IAAA,OAAA3D,KAAAmb,aAAA,cACJG,MAAO/U,EAAKgV,YAACvb,KAAAkb,WAAArD,EAAA7X,KAAAkb,UACjBlb,KAAC4V,QAAA5V,KAAA4V,SAAArP,EAAA4S,QAAAnZ,KAAA4V,SAAA5V,KAAA4V,WACJ5V,KAAAwb,YAAAxb,KAAAwb,aAAA,EA6CJ,SA/DQrZ,SAAA,SAAA,WAAA,WAAA,SAAA,YAAA,OAAA,aAAA,cAoBLC,UAWCqZ,SAAA,WAVG,QAAIzb,KAAC0b,YACI1b,KAAO0b,gBAOTtZ,UAAAuZ,SAAA,SAAAC,GACP,GAACpa,GAAAxB,IACJA,MAAAwb,YAAAI,EAEM5b,KAAA6b,QACC7b,KAAA6b,OAAgB7b,KAAA4V,QAAAgG,GAAA5b,KAAAwb,aAEhBxb,KAAA8b,WACH9b,KAAAiL,SAAA,WAAOzJ,EAAAsa,eAKhBd,EAAA5Y,UAAC2P,KAAA,WAcK,OAAA/R,KAAA+b,kBACa/b,KAAA+b,gBAMlBf,KAEDgB,GASAN,WAAC,IAAD9F,QAAA,cATAmG,aASC,WAEKP,YAAiC,kBACnCK,OAAQ,qBACRC,UAAW,QAEb,WAEF,QAAOG,2DCnHVrZ,WAAAoY,mBAwBW,eAAW,+BAVf,cAwBCkB,qBAtBWvb,EAAAlB,EAAsBD,sCAGtBA,EAAA,cAA4B0F,OAAA,UAZd,mBAsBjBiX,GAAYzY,EAAAD,EAAA8P,EAAAjS,EAAA2J,EAAAmR,EAAArE,GAEjB,cACIvW,GAAKxB,IACTA,MAAG0D,SAAAA,EACH1D,KAAKyD,OAAAA,OACDnC,WAAKA,EACTtB,KAAGiL,SAAAA,EAENjL,KAAAoc,aAAAA,EAEMpc,KAAAqc,SAAA,KAEH3Y,EAAIgF,SAAQ,8BACR4T,YACJtc,KAACuc,wBAAAjb,EAAAW,IAAA,sBAAA,SAAAua,EAAAnY,GACG7C,EAAAib,mBAAwBD,EAAAnY,KAE5BrE,KAAC0c,2BAAApb,EAAAW,IAAA,yBAAA,SAAAua,EAAAxV,GACJxF,EAAAmb,eAAAH,EAAAxV,cArBY7E,SAAS,WAAA,SAAyB,OAAA,aAAA,WAAA,eAAA,iBAwB5BC,UAAQwa,WAAc,WAEjCnY,QAACgQ,WAASzU,KAAAuc,0BACVvc,KAAIuc,kCAGA9H,WAAczU,KAAA0c,kCAMdA,gCAKKta,UAAYka,UAAI,iBACrBtc,UACH6c,WAAA7c,KAAA0D,SAAAwG,KAAA,oCAEDe,SAAK,WACNzJ,EAAIsb,MAAAtb,EAAAkC,SAAAwG,KAAA,qCACV1I,EAAAsb,MAAA,IAEOtb,EAAAsb,MAAA,GAAAjM,OAAA,WAAR,MAAArP,GAAAub,eACSvb,EAAKsb,MAAA,GAAaE,QAAO,WAAA,MAAAxb,GAAAyb,kBAGzBzb,EAAQsb,MAAOjM,OAAC,WAAoB,MAASrP,GAAAub,eAC7Cvb,EAAQsb,MAAOE,QAAC,WAAoB,MAASxb,GAAAyb,iBAErDzb,EAAAib,mBAAA,KAAAjb,EAAA4a,aAAA/X,SAeO,KAER8X,EAAC/Z,UAAA8a,WAAA,WAACld,KAAAoc,aAAA/X,SAEFrE,KAAAyZ,MAAAzZ,KAKCoc,aAAA/X,OAAAoV,MAJGzZ,KAAImd,SAAKnd,KAAAoc,aAAmB/X,OAAA8Y,cAACd,SAAOrc,KAAAoc,aAAA/X,OAAAgY,SACpCrc,KAAKod,SAAOpd,KAAOoc,aAAA/X,OAAA+Y,aAEhBhb,UAAA2a,YAAA,WACN/c,KAAAqd,kBAAArd,KAAA8c,UAED1a,UAUC6a,aAAA,WATG,GAAIzb,GAAKxB,IAAgBA,MAAAsd,yBAGrB7Z,OAAKqI,OAAS,aACVyR,SAAK/b,EAAU4a,aAAY/X,QAAQ,QAGlCjC,UAAaua,eAAM,SAAArY,EAAA0C,GAC5B,GAACxF,GAAAxB,SACJwY,KAAAxR,IAGmB,UAAZA,EAAA3B,GAOArF,KAACiL,SAAa,WACdzJ,EAAUgc,WAAYxW,GAAiB,UAAdA,EAAW3B,IACpC,KAGArF,KAAAwd,YAAU,MAEEpb,UAAAib,kBAA2B,SAAAP,MACvCW,MAAU9P,EAAqB3N,KAAM6c,WAAQ7a,MAAAhC,KAAA6c,WAAA7a,QAAAhC,KAAA6c,WAAAa,YAAAC,EAAA3d,KAAA6c,WAAAzT,OAAApJ,KAAA6c,WAAAzT,SAAApJ,KAAA6c,WAAAe,aAAAC,EAAAf,EAAA,GAAA,cAAAA,EAAA9a,MAAA8b,EAAAhB,EAAA,GAAA,eAAAA,EAAA1T,OAAA2U,EAAA,CAC7CF,GAAUlQ,EAAiBmQ,EAAcH,GACzCI,IAAUF,EAAaC,EAAGH,EAAsBhQ,GAAA,EAChD8P,EAAU,eAAoBM,EAAA,KACjCN,EAAA,OAAAE,EAAA,KAEDF,EAAqB,MAAAI,EAAAF,EAAAG,EAAA,KACxBL,EAAA,cAAA,KAGOM,IAAQD,EAAAD,EAAAlQ,EAAAgQ,GAAA,EAACF,EAAO,cAAAM,EAAA,KAEhBN,EAAY,OAAAK,EAAAnQ,EAAAkQ,EAAA,KAEZJ,EAAgB,MAAO9P,EAAW,KAClC8P,EAAM,eAAgB,IACxBX,EAAMjT,IAAA4T,MAGPrb,UAAAmb,SAAA,SAAAlZ,EAAA2Z,GAED,GAAI3Z,EAAJ,CAEA,GAACwQ,IAAMmJ,GAAC3Z,EAAAgY,SACJxH,EAAKxQ,EAAAgY,UAILrc,KAAAsd,oBAAA,EACAzI,EAACxQ,EAAO4Z,iBAERpJ,GAAM7U,KAAG8c,MACT9c,KAAC8c,MAAQoB,KAAG,MAAOrJ,GAInB7U,KAAC6c,WAAehT,IAAE,UAAM,YAIZzH,UAAUqa,mBAAqB,SAACD,EAAAnY,GACnDA,IAEJrE,KAAAyZ,MAAApV,EAAAoV,MAEKzZ,KAASmd,SAAyB9Y,EAAA8Y,SACpCnd,KAAAqc,SAAahY,EAAAgY,SACbrc,KAAAod,SAAY/Y,EAAA+Y,SACdpd,KAAAud,SAAAlZ,GAAA,OAGUjC,UAAe+b,YAAA,WACtBne,KAAAsB,WAAUwE,WAAgB,8BChMnCqP,YAAA,wBAAAvS,WAAAuZ,EAeA1X,SAAChF,OAAA,gBAfYqD,UAAA,eAAAsb,yFCAb,IAAAC,GAAA,WAGW,QAAAA,MAKP,MAAAA,QACIA,gBAAeA,OAGnBC,IAAA,SAAA3d,EAAWlB,EAAAD,sCACAA,EAAY,cAAC0F,OAAA,UACvBvE,EAAA,4FAAA4d,GAAAla,EAAA/C,GAEDtB,KAAAsB,WAAWA,OAAXgE,QAAAjB,gBAECY,eAAAsZ,EAAAnc,UAAA,cAED,WACI,MAAKpC,MAAOsF,SAEhBU,YAAC,2BALAf,eAAAsZ,EAAAnc,UAAA,SAODqD,IAAA,iBAAAzF,MAAAsF,QAAAmU,OAEAxS,IAAC,SAAA/B,QAEDI,QAAoBmU,MAAavU,EAC7BlF,KAAK4F,mBAETI,YAAC,2BALAf,eAAAsZ,EAAAnc,UAAA,YAODqD,IAAA,iBAAAzF,MAAAsF,QAAA6X,UAEAlW,IAAC,SAAA/B,QAEDI,QAAoB6X,SAAajY,EAC7BlF,KAAK4F,mBAETI,YAAC,2BALAf,eAAAsZ,EAAAnc,UAAA,YAODqD,IAAA,iBAAAzF,MAAAsF,QAAA+W,UAEApV,IAAC,SAAA/B,QAEDI,QAAiB+W,SAAiBnX,EAC9BlF,KAAK4F,mBAETI,YAAC,2BALAf,eAAAsZ,EAAAnc,UAAA,SAODqD,IAAA,iBAAAzF,MAAAsF,QAAAoP,OAEAzN,IAAC,SAAA/B,QAEDI,QAAiBoP,MAAaxP,EAC1BlF,KAAK4F,mBAETI,YAAC,2BALAf,eAAAsZ,EAAAnc,UAAA,SAOMqD,IAAA,WACC,MAACzF,MAAQsF,QAAQhB,OAErB2C,IAAK,SAAQ/B,GAETlF,KAAEsF,QAAWhB,MAAAY,EACblF,KAAK4F,mBACPI,YAAM,gBACC,MAEH5D,UAAS2P,KAAe,SAAI0H,EAAA0D,EAAAd,EAAAmC,QAC9BlZ,QAAKmU,MAAQA,EACjBzZ,KAACsF,QAAA6X,SAAAA,EAACnd,KAAKsF,QAAC+W,SAAAA,EACJ9V,EAAAkO,WAAa+J,GAChBxe,KAAAsF,QAAAoP,MAAA8J,EAIExe,KAAAsF,QAAAoP,MAAA,KAECnO,EAACkY,SAAQD,GACTxe,KAACsF,QAAQhB,MAAWka,EAGpBxe,KAACsF,QAAAhB,MAAkB,KAGnBtE,KAAA4F,mBAER2Y,EAACnc,UAAA8P,KAAA,WACLlS,KAAAsF,QAAAmU,MAAC,KAAAzZ,KAAAsF,QAAA6X,SAAA,KAEDnd,KAAAsF,QAAA+W,SAAA,KAAArc,KAAAsF,QAAAoP,MAAA,KACY1U,KAAAsF,QAAOhB,MAAwB,KA6F1CtE,KAAA4F,qBA1FGxD,UAAAwD,gBAAA,gBACItE,WAAY2E,MAAAzG,EAAQkf,sBAAA1e,KAAAsF,iBAKvB,iEAEDqC,QAAA1C,eAAW0Z,EAAAvc,UAAA,cAAX,WACI,MAAOpC,MAAKsF,aAGhB,SAA2BJ,GACvBlF,KAAKsF,QAAQJ,GAAA,GAAe0Z,GAASP,iDAGzC1W,OAAA1C,eAAW0Z,EAAAvc,UAAA,uBAAX,WACI,MAAOpC,MAAKsF,QAAQ2Y,qBAGxB,SAAiB/Y,GACblF,KAAKsF,QAAQ2Y,gBAAc/Y,mCAG/ByC,OAAA1C,eAAW0Z,EAAAvc,UAAA,aAAX,WACI,MAAOpC,MAAKsF,QAAQmU,WAGxB,SAAoBvU,GAChBlF,KAAKsF,QAAQmU,MAAQvU,mCAGzByC,OAAA1C,eAAW0Z,EAAAvc,UAAA,gBAAX,WACI,MAAOpC,MAAKsF,QAAQ6X,cAGxB,SAAoBjY,GAChBlF,KAAKsF,QAAQ6X,SAAWjY,mCAG5ByC,OAAA1C,eAAW0Z,EAAAvc,UAAA,gBAAX,WACI,MAAOpC,MAAKsF,QAAQ+W,cAGxB,SAAiBnX,GACblF,KAAKsF,QAAQ+W,SAAQnX,mCAGzByC,OAAA1C,eAAW0Z,EAAAvc,UAAA,aAAX,WACI,MAAOpC,MAAKsF,QAAQoP,WAGxB,SAAiBxP,GACblF,KAAKsF,QAAQoP,MAAQxP,mCAGlByC,OAAA1C,eAAA0Z,EAAPvc,UAA0B,SACtBqD,IAAK,WACD,MAACzF,MAAQsF,QAAWhB,OAGxB2C,IAAK,SAAC/B,GACFlF,KAAKsF,QAAQhB,MAAQY,GACvBc,YAAM,gBACC,MAEK5D,UAAC6E,IAAe,SAAIwS,EAAA0D,EAAAd,EAAAmC,QAC9BlZ,QAAKmU,MAAQA,EACjBzZ,KAACsF,QAAA6X,SAAAA,EAACnd,KAAKsF,QAAC+W,SAAAA,EACJ9V,EAAAkO,WAAa+J,GAChBxe,KAAAsF,QAAAoP,MAAA8J,EAIGxe,KAACsF,QAAQoP,MAAY,KAErBnO,EAACkY,SAAQD,GACTxe,KAACsF,QAAQhB,MAAYka,EAItBxe,KAAAsF,QAAAhB,MAAA,QAIMlC,UAAeyc,MAAA,WAExB7e,KAAAsF,QAAYmU,MAAS,KACxBzZ,KAAAsF,QAAA6X,SAAA,KAELnd,KAAAsF,QAAA+W,SAAC,KAAArc,KAAAsF,QAAAoP,MAAA,KAGM1U,KAAAsF,QAAAhB,MAAA,QAEOlC,UAAgBkF,MAAA,aAAmB,SAAAhG,oGC9LjDmD,SACAhF,OAAA,gBAEA8H,SAAA,eAAAoX,gHCLAla,QAAAhF,OAAA,gBAAA,aAAA,qBAGAkB,EAAA,sBAUAA,EAAM,4EACEA,EAAE,uCACI,GAAAme,qBAAe,KAAAC,IAAA,SAAApe,EAAAlB,EAAAD,uBAE5ByF,eAAAzF,EAAA,cAAA0F,OAAA,SAED8Z,IAAA,SAAAre,EAAAlB,EAAAD,uBAOCyF,eAAAzF,EAAA,cAAA0F,OAAA,OAAD+Z,GAAAte,EAAC,6BAPDue,EAOCve,EAAA,oBAEDwe,GAQI/X,KAAA,qBAQI,qBARJ,gBAEmB,mBAUfgY,UAMG,WAIA,QAAAC,GAAA/d,EAAP8R,EAAA1P,EAAAD,EAAA8P,EAAA+L,GACI,cACI9d,GAAKxB,IACTA,MAACsB,WAAAA,EACDtB,KAAIoT,QAAKA,IACA1K,SAAO,gBAChB1I,KAACqE,OAAAib,EAAAjb,OACDrE,KAAIuf,QAAWje,EAACW,IAAA,oBAAA,SAAAqC,EAAAD,GACZ7C,EAAKge,iBAAkBlb,EAAMD,WAVrCgb,GAACld,SAAA,aAAA,UAAA,WAAA,SAAA,OAAA,cAcMkd,EAAAjd,UAAA0R,QAAU,WACT9T,KAAEoH,OACFpH,KAAKqE,OAAO+C,KAAGpH,KAAAoH,MAEtBpH,KAAAqc,WAEMrc,KAAAqE,OAAAgY,SAAArc,KAAAqc,UAENrc,KAAAqa,OAEMra,KAAAqE,OAAAgW,KAAAra,KAAAqa,SAIFjY,UAAAwa,WAAA,WAAKrW,EAACkO,WAASzU,KAAOuf,UACnBvf,KAAKuf,aAEAnd,UAAWod,iBAAW,SAAAlb,EAAAD,GAC/BrE,KAACqE,OAAAA,KACQjC,UAAeqd,eAAQ,WAC/BlZ,EAAAkO,WAAAzU,KAAAqE,OAAAqQ,OAAK1U,KAAEqE,OAAAqQ,QAEP1U,KAAAqE,OAAAC,MACJtE,KAAAsB,WAAAwE,WAAA9F,KAAAqE,OAAAC,OAEJ,QAAAtE,KAAAqE,OAAA+C,KAEYpH,KAAyBsB,WAAAwE,WAAAmZ,EAAAS,oBAEF,QAAnB1f,KAAAqE,OAAA+C,KACbpH,KAAYoT,QAAAwF,QAAiBC,OAIrB7Y,KAAAsB,WAAawE,WAAAoZ,EAAAS,4BCxGzBC,GAAA1K,SAAAiK,EAWAhK,YAAC,oBAADvS,WAAAyc,EAXa5a,SAWXhF,OAAA,iICXFkI,QAAA1C,eAAAzF,EAAA,cAAA0F,OAAgD,GAGnC,IAAA2a,GAAA,WACA,QAAAA,MAKT,MAAAA,QACIA,cAAeA,OAGnBC,IAAA,SAAAnf,EAAWlB,EAAAD,sCACAA,EAAY,cAAC0F,OAAA,UACvBvE,EAAA,6GAAA,WAEO,QAAAof,GAAA1b,EAAA/C,GACJtB,KAAKsB,WAAYA,OACbgE,QAAKjB,gBAERY,eAAA8a,EAAA3d,UAAA,UAACqD,IAAK,WACH,MAAKzF,MAAOsF,SAEhBU,YAAC,EAACN,cAAM,MAECtD,UAAQ4d,mBAAa,SAAAxB,GAC7BjY,EAAAkO,WAAA+J,IACJxe,KAAAsF,QAAAoP,MAAA8J,EAEMxe,KAAAsF,QAAAhB,MAAA,MAEEiC,EAAAkY,SAAAD,IACDxe,KAACsF,QAAAoP,MAAkB,KAC1B1U,KAAAsF,QAAAhB,MAAAka,IAIOxe,KAACsF,QAAYoP,MAAQ,KACrB1U,KAACsF,QAAAhB,MAAmB,OAIrByb,EAAA3d,UAAAuY,SAAP,SAAgB6D,GACZxe,KAAKsF,QAAQ8B,KAAO,OACpBpH,KAAKggB,mBAAmBxB,GACxBxe,KAAK4F,mBAGFma,EAAA3d,UAAA6d,SAAS,SAAhB5F,EAAiBmE,GACbxe,KAAKsF,QAAQ8B,KAAO,OACpBpH,KAAKsF,QAAQ+U,KAAAA,EACbra,KAAKggB,mBAAmBxB,GACxBxe,KAAK4F,mBAGFma,EAAA3d,UAAA8d,SAAP,SAAA1B,GACIxe,KAAKsF,QAAQ8B,KAAO,OACpBpH,KAAKggB,mBAAmBxB,GACxBxe,KAAK4F,mBAGDma,EAAA3d,UAAA+d,UAAA,SAAR9D,EAAAmC,GACIxe,KAAKsF,QAAA8B,KAAW,QACnBpH,KAAAsF,QAAA+W,SAAAA;wBACLrc,KAAAggB,mBAACxB,GAAAxe,KAAA4F,mBAEDma,EAAA3d,UAAA8P,KAAA,WACYlS,KAAAsF,QAAO8B,KAAsB,OAyDxCpH,KAAAggB,mBAAA,MAtDGhgB,KAAA4F,qBACWxD,UAAKwD,gBAAQ,WACxB5F,KAACsB,WAAAwE,WAAAtG,EAAA4gB,oBAAApgB,KAAAsF,yCAAAtF,KAAAsF,QAAA,GAAA+a,GAAAR,cCzEL,cDgFW5a,eAAcqb,EAAiBle,UAAA,cAC9B,WACA,MAAApC,MAAAsF,SAEJ2B,IAAK,SAAU/B,GACXlF,KAAKsF,QAAQJ,GAAQ,GAAAmb,GAAgBR,2BAC/B,EACbna,cAAA,MAGetD,UAAQ4d,mBAAO,SAAAxB,GACvBjY,EAACkO,WAAA+J,GACRxe,KAAAsF,QAAAoP,MAAA8J,EAGOxe,KAACsF,QAAYoP,MAAG,KAChBnO,EAACkY,SAAQD,GACTxe,KAACsF,QAAAhB,MAAmBka,EAGrBxe,KAAAsF,QAAAhB,MAAA,QAEElC,UAAAme,QAAmB,SAAiB/B,GAC5Cxe,KAAAsF,QAAA8B,KAAA,OAEMpH,KAAAggB,mBAAAxB,MAESpc,UAASoe,QAAW,SAACnG,EAAAmE,GACjCxe,KAAKsF,QAAA8B,KAAA,OACRpH,KAAAsF,QAAA+U,KAAAA,EAEMra,KAAAggB,mBAAAxB,MAEEpc,UAAAqe,QAAyB,SAAAjC,GACjCxe,KAAAsF,QAAA8B,KAAA,OAEMpH,KAAAggB,mBAAAxB,MAGMpc,UAAYmb,SAAK,SAAAlB,EAAAmC,QACtBlZ,QAAK8B,KAAW,QAEpBpH,KAAAsF,QAAY+W,SAASA,EACxBrc,KAAAggB,mBAAAxB,IAxDL8B,EA0DCle,UAAAyc,MAAA,WAGM7e,KAAAsF,QAAA8B,KAAA,OACFpH,KAAOggB,mBAAa,+ICjIjBM,IAGR7b,SACAhF,OAAA,cACA8H,SAAA,aAAmB+Y,KAGnBI,kBAAA,KAAAC,IAAA,SAAgChgB,EAAAlB,EAAAD,GAEhC,mOnCVCmB,EAAA,qBACDA,EAAA,oBACAA,EAAA,aACAigB,EAAAjgB,EAAA,oBACAigB,EAAAjgB,EAAA,uBACAkgB,oBAAkB,GAAAC,YAAA,GAAAJ,kBAAA,GAAAK,mBAAA,KAAAC,IAAA,SAAArgB,EAAAlB,EAAAD,GAClB,YACA,SAAAohB,GAAAhZ,GACA,IAAA,GAAAC,KAAAD,GAAmBpI,EAAAsI,eAAAD,KAAArI,EAAAqI,GAAAD,EAAAC,IAEnBF,OAAA1C,eAAgBzF,EAAA,cAAA0F,OAAA,IAChBvE,EAAA,kCACAA,EAAA,sCAEAA,EAAO,yBACF,iBACG,eACA,cACA,cACA,kBACA,eACA,cACA,YACA,YACA,+BAEAlB,OAAA,UACA,gBACF,wBAEE,YACA,eACA,aACA,gBACA,oBACA,aACA,aACF,aAEN,iBAEAwhB,SAAA,eAEAC,eAAA,QACAzI,sBAAuB,QAEvB0I,kBAAA,oCoC9CCC,qBAAA,IACGC,oBAAA,8BAKI,UAOS,kBAGL,iBAEK,qBACA,gBACR1gB,EAAA,aAEMA,EAAA,2BACA,EAAC2gB,WAAU,GAAIC,eAAc,GAAAC,sBAAgB,GAAAC,iCAAA,GAAAC,sBAAA,GAAAC,WAAA,GAAAC,SAAA,GAAAC,qCAAA,GAAAC,SAAA,GAAAC,WAAA,GAAAC,YAAA,GAAAC,cAAA,KAAAC,IAAA,SAAAvhB,EAAAlB,EAAAD,MAEpD2iB,GAAC,mBAEDA,GAAAze,EAAAyP,EAAA7R,aAEAtB,MAACoiB,WAAAjP,EAAAM,IAAA,gBAAAN,EAAA1N,IAAA,gBAAA,yEAAAzF,KAAAkF,MAAAlF,KAAAkF,OAAAlF,KAAAqiB,UAAA,GAoCD,MAtCAF,GAAWhgB,SAAA,WAAA,YAAA,gBAKuBC,UAAUkgB,WAAa,SAASC,GACjEviB,KAAAkF,MAAAqd,EAAArd,MAAAsd,qCAIoBL,EAAS/f,UAAA,gBACtB,WACH,MAAApC,MAAAoiB,WAAApiB,KAAAoiB,WAAAK,SAAA,MAGTzc,YAAA,EAACN,cAAA,IAUGyc,EAAwB/f,UAAAsgB,aAAA,SAAAL,GACxBriB,KAAOqiB,UAASA,GAAAA,EAAAphB,OAAA,EAAAohB,GAAA,KAAA,OAGpBF,EAAA/f,UAAAugB,gBAAA,SAAAF,GAAA,MAAAziB,KAAAoiB,aAMCpiB,KAAAkF,MAAAud,EAADziB,KAAAoiB,WAAAK,SAACziB,KAAAkF,QAGGid,KAEAS,GACHP,UAAA,cAEDnd,MAAO,cAEe,WAChB,QAAA2d,sBCpET1N,YAAA,+BACGvS,WAAAuf,mBAaI,kCACY,mBAAsB,+BAEtB,oBAA8BW,qBAE9BniB,EAAQlB,EAARD,sCAEAA,EAAA,cAA2B0F,OAAA,eAyM3C,QAAC6d,kCChOQC,SAAA,EAEb7N,YAAA,oBAIIvS,WAAAqgB,EAIQnY,aAAW,eDsBG,mBAGVmY,GAAKxf,EAAqB2P,EAASC,EAAQ/R,EAAe2J,EAAAiY,EAAAC,EAAAzf,EAAAyP,EAAA4E,GAE9D,UAEA,IAAIvW,GAACxB,IAELA,MAAKyD,OAAAA,EAELzD,KAAKoT,QAAAA,EAELpT,KAAKqT,UAAAA,EAELrT,KAAIsB,WAAAA,OACA2J,SAAKA,EACTjL,KAAGkjB,WAAAA,EACHljB,KAAImjB,WAAAA,OACAC,SAAK,KACTpjB,KAAG6F,OAAAsN,EAAAM,IAAA,UAAAN,EAAA1N,IAAA,UAAA,KAEHzF,KAAKqjB,mBAAqBtL,EAAEuL,2BACxBtjB,KAAIujB,mBAAmB7f,EAAA8f,QAAA,iBACnB9a,SAAA,4BACH+a,SAAAzjB,KAAAyD,OAAA,UAAAzD,KAAAmjB,WAAAM,cACDC,kCACI1jB,KAAAmjB,WAA0BQ,iBAC7BhH,eAAA,KAAA3c,KAAAkjB,WAAAlc,MACL,IAAG4c,GAAA5jB,KAAAsB,WAAAW,IAAA,oBAAA,SAAAua,EAAAnY,GAEN7C,EAAAqiB,gBAAArH,EAAAnY,KAGOqY,EAAmB1c,KAAAsB,WAAAW,IAAA,yBAAA,SAAAua,EAAAxV,GACnBxF,EAAAmb,eAAmBH,EAAKxV,IAE5BhH,MAACyD,OAAAxB,IAAA,WAAA,WAAOwC,QAAAgQ,WAAAmP,IACJA,IAGCnf,QAAWgQ,WAAGiI,IACtBA,eAxCQva,SAAkB,SAAG,UAAY,YAAA,aAA0B,WAAA,aAAA,aAAA,WAAA,YAAA,iBA2C/BC,UAAAshB,eAAA,WAEjC,GAAII,EAGAA,GADArf,QAAKgQ,WAAWzU,KAAAyD,OAAA,WACXzD,KAAAyD,OAA8B,aAEF,IAA5BzD,KAAAyD,OAA4B,WAAwB,UAAxBzD,KAAsByD,OAAE,UAE7DzD,KAAK+jB,YAAWD,GAGbb,EAAA7gB,UAAA4hB,SAAP,WACIhkB,KAAO+jB,cAGX/jB,KAAAojB,UASCpjB,KAAAojB,SAROpjB,KAAAojB,SACFpjB,KAAKujB,mBAAgBzV,YAAkB,wBAGrC9N,KAACujB,mBAAA7a,SAAA,wBAGL1I,KAAAsB,WAAc2E,MAAA,iBAAAjG,KAAAojB,YAGVH,EAAA7gB,UAAA6R,SAAA,SAAR0E,GACI,MAAKA,IAAOA,EAAAzE,SAAAyE,EAAAzE,OAAAyE,MACCvW,UAAU6hB,eAAS,SAAAC,GACnC,GAAA1iB,GAAAxB,KAEOmkB,GAAA,CAMJ,OAJA5d,GAAEC,KAAG0d,EAAM,SAAA1gB,GAAChC,EAAOyS,SAAAzQ,KAEd2gB,GAAW,KAEXA,GAGTlB,EAAC7gB,UAAAyhB,gBAAA,SAAArH,EAAAnY,GAEMA,SAGCof,SAASpf,EAAUof,aAElBrhB,UAAAua,eAAA,SAAArY,EAAA0C,GACJA,SACG+c,YAAe/c,EAAIod,SACfC,gBAAY,MAAArkB,KAAAojB,WAChBpjB,KAACojB,SAAApc,EAAAsd,YACLtkB,KAACqkB,eAAArd,EAAAqd,eAACrkB,KAAKukB,aAAevd,MAER5E,UAAMoiB,SAAA,SAAAhhB,MAChBA,EAACihB,aACJ,GAAA,MAAAzkB,KAAA6F,QAAA7F,KAAA6F,OAAA6e,SAAAlhB,EAAAihB,aAAS,OAAM,MAGX,IAAAjhB,EAAAwD,OACJ,GAAA,MAAAhH,KAAA6F,QAAA7F,KAAA6F,OAAA6e,SAAAlhB,EAAAwD,OAEM,OAAM,MAGjB,IAAAxD,EAAAmR,MACI,GAAMnR,EAAAmR,KAAAgQ,MAAkB,KAAA,KAAA3kB,KAAAoT,QAAAwB,SAAAD,KAAAgQ,MAAA,KAAA,GAEnB,OAAO,MAIX,IAAAnhB,EAAAqR,KAEOrR,EAAKqR,IAAG8P,MAAA,YAAA,KAAA3kB,KAAAqT,UAAAwB,MAAA8P,MAAA,YAAA,GACR,OAAK,SAIR,KAGIviB,UAASwiB,UAAA,SAAAtgB,EAAAd,SACVxD,cACH6kB,kBAEDrhB,IAGImR,KACAnR,EAAAmR,KAAOgQ,MAAA,KAAA,KAAA3kB,KAAAoT,QAAAwB,SAAAD,KAAAgQ,MAAA,KAAA,OACV3kB,MAAAkjB,WAAAle,cAIGke,WAAKle,YACThF,MAAGiL,SAAK,WAERzJ,EAAO4R,QAAAwB,SAAAD,KAAAnR,EAAAmR,MACV3U,KAAAqjB,qBAEO7f,EAAKqR,IAELrR,EAAAqR,IAAO8P,MAAA,YAAA,KAAA3kB,KAAAqT,UAAAwB,MAAA8P,MAAA,YAAA,OACV3kB,MAAAkjB,WAAAle,cAIGke,WAAWle,YACfhF,MAAGiL,SAAK,WAERzJ,EAAO6R,UAAAwB,IAAArR,EAAAqR,MACV7U,KAAAqjB,qBAEA7f,EAAAwD,MAEsB,MAAlBhH,KAAA6F,QAAmB7F,KAAA6F,OAAAif,QAAAvS,OAAA/O,EAAAwD,UAC3BhH,MAAAkjB,WAAAle,SASChF,KAAAkjB,WAAoCle,YAC9BhF,MAAEiL,SAAA,WACCzJ,EAAAqE,OAAAiP,GAAgBtR,EAAAwD,MAAAxD,EAAAuR,cAC7B/U,KAAAqjB,sBAIc7f,EAAMc,OACdtE,KAAOsB,WAAAwE,WAAetC,EAAAc,MAAAd,OAEtBxD,MAAAkjB,WAAale,aAjDZhF,MAAAkjB,WAAAle,SAmDDie,KAEP8B,GAEDtB,SAAO,0BACK,iBC/MZhf,gBAAA,wBACW,aAAase,wBAGxBpiB,EAAoBlB,EAAuBD,sCAElCA,EAAA,cAAkB0F,OAAA,MAC3B8f,oBAAC,qDALAhlB,KAAAsF,QAAAjB,EAODrE,KAAAuF,WAAWjE,+BACK2jB,EAAQ7iB,UAAY,YACpCqD,IAAC,iBAeDzF,MAAuBsF,QAAame,cAEhC,SAAKve,GACRlF,KAAAsF,QAAAme,SAAAve,8BAlBAc,YAAA,EAEMN,cAAA,0BAC4Cuf,EAAA7iB,UAAA,eAE/CqD,IAAE,WACE,MAAOzF,MAAEsF,QAAOqe,0BAENze,GACVlF,KAAGsF,QAAAqe,YAAAze,EACJlF,KAAA2R,mBAGN3L,YAAA,EAOMN,cAAA,MAC4CtD,UAAA8iB,iBAAA,SAAA1hB,EAAAgN,GAEnC,MAAVhN,GAAkB+C,EAAAkY,SAAUjO,iBAElBlL,QAAMme,SAAS,SAAAljB,YACd4kB,MAAM,SAASpkB,GACrBA,EAAAwR,MAAA/O,IACJzC,EAAAqkB,WAAA5U,OAKAxQ,KAAA2R,sBAEQvP,UAAS+P,YAAE,SAAA3O,EAAA6O,GACZ,SAAQ9L,EAAK+L,SAAAD,KAEvB9L,EAAEC,KAACxG,KAAAsF,QAAAme,SAAA,SAAAljB,GAECgG,EAACC,KAAAjG,EAAA4kB,MAAe,SAAGpkB,GAC1BA,EAAAwR,MAAA/O,IAEOzC,EAAAsR,MAAAA,OAGZrS,KAAA2R,oBAEAsT,EAAA7iB,UAAAoQ,YAAA,WAAAjM,EAAAC,KAAAxG,KAAAsF,QAAAme,SAAA,SAAAljB,GACYgG,EAAAC,KAAAjG,EAAO4kB,MAAkB,SAAApkB,GAC7BA,EAAAsR,MAAY,SA6BnBrS,KAAA2R,qBAxBGvP,UAAAuP,gBAAA,gBACIpM,WAAYU,MAAAzG,EAAQwlB,oBAAShlB,KAAAsF,iBAKhC,sCAJAme,YAMDE,YAAA,8BAEC1e,eAAAogB,EAAAjjB,UAAA,gBAED,WACI,MAAKpC,MAAOsF,QAACme,uDAGVzd,YAAA,EACHN,cAAW,0BAGM2f,EAAOjjB,UAAoB,eAE5CqD,IAAA,WACH,MAAAzF,MAAAsF,QAAAqe,aACJ1c,IAAA,SAAA/B,GAEMlF,KAAAsF,QAAAqe,YAAAze,GAEFc,YAAS,+DC/GN,iBAEkB,OAA1BhG,KAAAqH,WACArH,KAAAqH,SAAmB,GAAA4d,GAAAjlB,KAAAsF,QAAAhE,sDCDnBiG,SAAA,aAAA8d,QAEAC,IAAA,SAAA3kB,EAAAlB,EAAAD,sCAYmBA,EAAA,cAAA0F,OAAA,YALfzF,OAAA,cAeC,aAAA,mBAAA,uBAdW,sBACA,2BALL,GAAA8lB,mBAAyB,KAAAC,IAAA,SAAA7kB,EAAAlB,EAAAD,sCAWnBA,EAAS,cAAkB0F,OAAA,aAEpC,SAAWvE,EAAGlB,EAAUD,sCAEZA,EAAG,cAAe0F,OAAA,UACrBvE,EAAA,qBACN,WAGA,QAAA8kB,GAAA/hB,EAAApC,EAAPokB,GACI,cACIlkB,GAAKxB,IACTA,MAAC0D,SAAAA,EACJ1D,KAAAsB,WAAAA,EAEOtB,KAAA2lB,SAAA,EACJ3lB,KAAIsa,QAAYV,KAAG,MACVlR,SAAS,uBACdrE,OAAKqhB,EAAerhB,OAExBrE,KAAC4lB,cAAC5lB,KAAKuf,QAACje,EAAAW,IAAA+W,EAAA6M,mBAAA,SAAAvhB,EAAAD,GACJ7C,EAAKskB,gBAASxhB,EAAYD,KC7BtC,MDeIohB,GAACtjB,SAAA,WAAA,aAAA,aAiBDsjB,EAACrjB,UAAAwa,WAAA,WAEOrW,EAAAkO,WAAAzU,KAAAuf,UACAvf,KAACuf,aAGWnd,UAAGwjB,YAAA,WACtB5lB,KAAA2lB,SAEO3lB,KAAA0D,SAAAgF,SAAA,aACJ1I,KAAA0D,SAAWkK,SAAAlF,SAAA,4BAGHhF,SAAQoK,YAAQ,aACpB9N,KAAE0D,SAAAkK,SAAAE,YAAA,yBAIU1L,UAAQ0jB,gBAAgB,SAAAxhB,EAAAD,GACxCrE,KAAKqE,OAAOA,EACZrE,KAAK2lB,SAAS,EACd3lB,KAAKsa,OAAAV,KAAc,GACtB5Z,KAAA4lB,iBAGgBxjB,UAAY2jB,UAAK,WAE9B/b,WAAW,WACP,GAACoG,GAAUtO,EAAK,mBACfsO,GAAWnP,OAAG,GAEXmP,EAAQ4V,eAER5jB,UAAA6jB,OAAA,gBACJ3L,OAAKV,KAAU5Z,KAACqE,OAAWwV,SAC/B7Z,KAAC2lB,SAAA,EACJ3lB,KAAA+lB,YAEM/lB,KAAA4lB,iBAEaxjB,UAAU0W,QAAA,cACtBwB,GAAKta,KAASsa,OAAGV,IACrB5Z,MAACsa,OAAAV,KAAA,GAAC5Z,KAAK2lB,SAAC,OACJC,cACA5lB,KAAKqE,OAAAqK,SACL1O,KAAKqE,OAAOqK,SAAG4L,GAIhBta,KAAAsB,WAAAwE,WAAAkT,EAAPkN,qBAAqC5L,MAKlBlY,UAAOyc,MAAU,WAC5B7e,KAAKsa,OAAOV,MACZ5Z,KAAKsa,OAAAV,KAAc,GACtB5Z,KAAA+lB,cAER/lB,KAAA2lB,SAAA,EAEK3lB,KAAkC4lB,cACpC5lB,KAAa8Y,YAIjB2M,EAAOrjB,UAAA+jB,UAAA,SAAA7hB,GACoB,KAAfA,EAAA8hB,QACPpmB,KAAU8Y,gECpGd2M,KAXDY,GAAalR,YAAA,8CCAb1V,OAAA,gBAGaqD,UAAA,eAAkBujB,KAClBC,kBAAA,KAAgBC,IAAG,SAAA5lB,EAAiBlB,EAAAD,GACpC,YACAmI,QAAA1C,eAAAzF,EAAuB,cAAA0F,OAAqB,GAEzD,IAAAshB,GAAA,WAGI,QAAAA,YAEYA,QAIRA,aAAeA,WACf,SAAW7lB,EAAIlB,EAAAD,uBAGnByF,eAAAzF,EAAW,cAAA0F,OAAA,UAAXvE,EAAA,oCACgB,kBAChB8lB,iBAAC,2GAAA,WAED,QAAAC,GAAWriB,EAAA/C,SAAXtB,UACIsB,WAAYA,EAChBtB,KAACsF,QAAAjB,IAEDpC,IAAoBzC,EAAayZ,gBAAA,WAAAzX,EAAAsD,SACxB7C,IAAAzC,EAAQinB,iBAAiB,WAAAjlB,EAAAwD,QAkEtC,cAhEKC,eAAAyhB,EAAAtkB,UAAA,8CAED4D,YAAA,gBAAA,WAECf,eAAAyhB,EAAAtkB,UAAA,gBAED,WACI,MAAKpC,MAAOsF,QAAOuU,UAEvB5S,IAAC,SAAA/B,mDAEDc,YAAA,gBAAA,WAECf,eAAAyhB,EAAAtkB,UAAA,cAED,WACI,MAAKpC,MAAOsF,QAAQqhB,QAExB1f,IAAC,SAAA/B,iDAEDc,YAAA,gBAAA,WAECf,eAAAyhB,EAAAtkB,UAAA,eAED,WACI,MAAKpC,MAAOsF,QAACsT,SAEjB3R,IAAC,SAAA/B,kDAEMc,YAAA,EACHN,cAAa,WAEbT,eAAayhB,EAAgBtkB,UAAA,YAC7BqD,IAAK,WACD,MAACzF,MAAAsF,QAAkBoJ,UAGpBzH,IAAA,SAAA/B,GACClF,KAACsF,QAAQoJ,SAAexJ,EACxBlF,KAAC4F,mBAELI,YAAK,EACRN,cAAA,MAGQtD,UAAe6E,IAAG,SAAKyH,EAAAmL,EAAA8M,EAAA/N,GAC5B5Y,KAAKsF,QAAAoJ,SAAkBA,EAC1B1O,KAAAsF,QAAAuU,SAAAA,EAEM7Z,KAAAsF,QAAAqhB,OAAAA,EACH3mB,KAAKsF,QAAQsT,QAAUA,EACvB5Y,KAAK4F,mBAGF8gB,EAAAtkB,UAAAyc,MAAM,WACT7e,KAAKsF,QAAQoJ,SAAW,KACxB1O,KAAKsF,QAAAuU,SAAkB,KAC1B7Z,KAAAsF,QAAAqhB,OAAA,KAEO3mB,KAAA4F,mBAER8gB,EAACtkB,UAAA0C,KAAA,WACL9E,KAAAsF,QAAAmR,SAAC,EAAAzW,KAAA4F,mBAED8gB,EAAAtkB,UAAA4C,MAAA,WACYhF,KAAAsF,QAAOmR,SAAqB,EAC5BzW,KAAA4F,mBAED8gB,EAAAtkB,UAAAgE,OAAP,WACIpG,KAAAsF,QAAWmR,SAAAzW,KAAAsF,QAAAmR,QAEXzW,KAAI4F,qBAGGxD,UAAawD,gBAAC,WACxB5F,KAAAsB,WAAAwE,WAAAtG,EAAAqmB,mBAAA7lB,KAAAsF,UACJohB,OAIa,iFC9GdE,GAAAxkB,UAAwBkF,MAAA,aAAA,SAAAhG,GACxB,iBACyB,OAAzBtB,KAAAqH,WACArH,KAAAqH,SAAqB,GAAAqf,GAAA1mB,KAAAsF,QAAAhE,wBCHrBmD,SAAAhF,OAAA,gBAEA8H,SAAA,YAAAqf,sBAkBI,KAAAC,IAAA,SACYlmB,EACRlB,EACAD,sCAHJA,EA2DC,cAAA0F,OAAA,YA1DWzF,OAAA,gBAAQ,aAAqB,mBAAA,uBAG7B,oBACA,sBACA,qBACA,oCAMM,GAAGqnB,cAAc,GAAAC,iBAAyC,GAAST,kBAAgB,KAAOU,IAAC,SAAArmB,EAAAlB,EAAAD,sCAG3FA,EAAG,cAAY0F,OAAA,UACxBvE,EAAe,+BACfA,EAAc,oBACH,mBAEXsmB,GAAgBvjB,EAAAC,EAAAwP,EAAA1P,EAAqBnC,EAAA2J,EAAAiY,EAAAnL,GAC1C,UAGA,IAAIvW,GAACxB,IAELA,MAAI0D,SAAKA,OACLD,OAAKA,kBACInC,OACR2J,SAAOA,OAERiY,WAAKA,OACLhI,UAAK/H,EAAkBM,IAAG,YAAeN,EAAK1N,IAAA,YAAkB,yBACvDsS,EAAeoJ,uBACvB+F,UAAEnP,EAAAoP,yBACHC,aAAKrP,EAAsBqJ,sCAClBrJ,EAAesJ,yBACvBgG,aAAE,EACPrnB,KAACqjB,mBAAAtL,EAAAuL,2BAACtjB,KAAKsnB,UAAC,GAAAC,GAAAC,wBACJC,kBAAmBznB,KAAM0nB,sBACzBhkB,SAAKgF,SAAY,sBACjB1I,KAAKkjB,WAAS7e,QAAA,SAAArE,KAAAkjB,WAAA7e,OAAA+C,WACV6D,SAAS,aACL0c,8BACFC,aAAMrhB,EAAAshB,SAAA,WAAArmB,EAAAmmB,oBAAA,4BACU3nB,KAAAsB,WAAYW,IAAA,iBAA6B,WAC3DT,EAAComB,iBAEL5nB,KAAG8nB,oBAAK9nB,KAAAsB,WAAAW,IAAA,kBAAA,SAAAua,EAAAxV,GACXxF,EAAAumB,eAAAvL,EAAAxV,OAKGhH,KAACqnB,aAAA,EACDrnB,KAAIgoB,aAAC,KACNhoB,KAAAiL,SAAA,WAEN,GAAAzJ,EAAA0hB,WAAA7e,OAAA4jB,SAEMzmB,EAAAkC,SAAAgF,SAAU,6BAGZlH,EAAAkC,SAAAoK,YAAA,6BAEOtM,EAAC0mB,SAAAX,EAAwBY,kBAAAC,SAChC,WAEG7L,wBAA0Bvc,KAAAsB,WAAAW,IAAAgd,EAAAS,mBAAA,WAC7Ble,EAAAie,wBAEG4I,sBAAwBroB,KAAGsB,WAAAW,IAAA,oBAAA,SAAAua,EAAAnY,GAC9B7C,EAAA8mB,iBAAA9L,EAAAnY,KA0HL,SA/KSlC,SAAkB,WAAc,SAAC,YAAA,SAA2B,aAAA,WAAA,aAAA,iBAyDvDC,UAAcwa,WAAQ,WAC5BnY,QAAOgQ,WAAWzU,KAAIuc,0BACzBvc,KAAAuc,0BACG9X,QAAOgQ,WAAKzU,KAAUqoB,wBACzBroB,KAAAqoB,wBAGG5jB,QAAAgQ,WAAAzU,KAAAuoB,qBACAvoB,KAAAuoB,qBAEH9jB,QAAAgQ,WAAAzU,KAAA8nB,sBAAK9nB,KAAE8nB,uBAGZb,EAAC7kB,UAAAslB,eAAA,WAEO,MAAA1nB,MAAAkb,WAAAzW,QAAA+jB,SAARxoB,KAAAkb,UAAA7M,aAKerO,KAACkb,UAAS7M,aAJhB7L,GAAW,IAAM0L,GAAG,IAAAC,GAAA,KAAAzL,GAAA,OAO7BukB,EAAC7kB,UAAAkmB,iBAAA,SAAA9L,EAAAnY,GAEOA,GAAAA,EAAAoS,QAARzW,KAAA0D,SA0BCmG,IAAA,UAAA,SAzBmF7J,KAAA0D,SAAAmG,IAAA,UAAA,WAKrEzH,UAAAqd,eAAA,WACXzf,KAACkjB,WAAA9c,YAGGhE,UAAyB2lB,eAAA,SAAuBvL,EAAaiM,GAC7DhkB,QAAAga,SAAuBgK,QAAoCjQ,KAArBxY,KAAAsnB,UAAgBmB,IAEtDzoB,KAAAkoB,SAAYO,MAGfrmB,UAAAulB,iBAAA,WACD,GAAInmB,GAAAxB,SACAA,KAAKkjB,WAAS7e,QAAyB,SAAzBrE,KAAAkjB,WAAA7e,OAAkB+C,MAGpC,GAAIpH,KAAAqnB,YAEA,WADArnB,MAAKiL,SAAS,WAAAzJ,EAAAmmB,oBAAyB3nB,KAAAqjB,mBAG3C,IAAIqF,GAAU5mB,EAAA9B,KAAA2oB,gBAAAnd,aACjBod,EAAA9mB,EAAA,uBAAA0J,aAEOqd,EAAAD,EAAQA,EAAC,EAAA,CAAjB,OAAAF,GAAAG,GAuCC7oB,KAAAynB,kBAAAvZ,OAtCOlO,MAAKkoB,SAAAX,EAAYY,kBAAAC,QACuCM,EAAOG,GAAA7oB,KAAAynB,kBAAAtZ,OAE/DnO,MAAAkoB,SAAaX,EAAAY,kBAAkBW,OAI/BJ,EAASG,GAAI7oB,KAAAynB,kBAAuB/kB,OACpC1C,MAAKkoB,SAASX,EAAYY,kBAAAY,iBAI1Bb,SAAKX,EAAoBY,kBAAkBa,YAGlC5mB,UAAI8lB,SAAA,SAAAO,MACbjnB,GAAKxB,IACRA,MAAAqnB,aAMGrnB,KAACgoB,cAAoBhoB,KAAAgoB,aAAiB3iB,IAAAojB,IAGtCA,GAAYlB,EAAaY,kBAAaC,QAGtCpoB,KAAC0D,SAASoK,YAAA,kBAEX2a,GAAIlB,EAAAY,kBAAAW,OAGH9oB,KAAC0D,SAASoK,YAAA,wBAEX2a,GAAKlB,EAAoBY,kBAAAa,QAE/BhpB,KAAA0D,SAAAoK,YAAA,mBACJ2a,GAAAlB,EAAAY,kBAAAY,OAQK/oB,KAAA0D,SAAoCoK,YAAA,wBAExC9N,KAAAqnB,aAAA,EAEDrnB,KAAAgoB,aAAAhoB,KAAAsnB,UAAA7a,OAAAgc,IAESzoB,KAAA0D,SAAgCgF,SAAA1I,KAAAgoB,aAAAtf,UAClC1I,KAAAkjB,WAAgBlc,MAAAhH,KAAAgoB,aAChBhoB,KAAAiL,SAAU,WACVzJ,EAAAmmB,oBACA,IACF3nB,KAAAiL,SAAA,WAEKzJ,EAAA6lB,aAAA,GACFrnB,KAAOqjB,sBAGX4D,KCzNJgC,GAOGjB,aAAM,kBAIN,GAAAkB,IAKIrmB,YAAA,WAAAomB,cACY,kCAJJhC,kBAYA,wBACA,aAAiBiC,oCAEpB,GAAAC,iBAAA,KAAAC,IAAA,SAAAzoB,EAAAlB,EAAAD,WAsCJ6pB,GAAoBlmB,aAG5B,IAAAC,GAAAD,EAAA,sDCrEDG,SAAAF,EAAAE,SAGaC,SAAAH,EAAmBG,SACnB+lB,MAAAC,EACA/lB,KAAA,SAAmBC,EAAiBC,EAAAC,GACpCA,EAAoB,KAAA,WAAkB,MAAAF,GAAA,SACtCL,EAAAI,KAAkBI,MAAGR,EAAAkD,YAM9B1D,WAAA4mB,KDkBmBrnB,SAAI,oBACnBonB,IAEQ9S,QAAA,QAEmB,mBAGnB+S,GAAuB/lB,EAAUC,EAACC,EAAArC,EAAA4hB,MAClC1hB,GAAKxB,IACZA,MAAAyD,OAAAA,EACLzD,KAAAkE,UAAA,KAAClE,KAAA8D,SAAA,GAAAH,EAAA,eAED3D,KAAAgE,IAAAhE,KAAA8D,SAA8BG,QAAA,KAC1BjE,KAAWgE,IAAA,IACHhE,KAAGkE,UAAclE,KAAG8D,SAAAK,OAAAnE,KAAAgE,IAAA,GAErBhE,KAAA8D,SAAA9D,KAAA8D,SAAAK,OAAA,EAAAnE,KAAAgE,MAEHhE,KAAAsoB,iBAAe,KAAQpF,EAAA7e,QACvB/C,EAAUW,IAAK,oBAAQ,SAAAqC,EAAAD,GAAA7C,EAAA8mB,iBAAAhkB,EAAAD,KAY9B,SA1BiClC,SAAc,SAAG,WAAgB,SAAS,aAAY,gBAgBzEC,UAAmBkmB,iBAAA,SAAAhkB,EAAAD,GAC1B,GAAIG,GAAEH,EAAAG,UAIFD,EAAiBC,EAAAxE,KAAA8D,UACjB2S,KAAUzW,KAAMkE,UAAMK,GAAWvE,KAAAkE,UAAAK,EACpCkS,IAAAzW,KAAAyD,OAAA,UACDzD,KAAAyD,OAAY,QAAAgT,IAEnB+S,aC7CA/pB,OAAA,cAEDiL,UAAA,iBAAW2e,qBACA1oB,EAAKlB,EAAQD,eClBjB,SAAAiqB,GAAgBnoB,EAAQ4hB,GACxB5hB,EAAAW,IAAAzC,EAAiBkqB,iBAAS,WAAAxG,EAAApe,SAJxBxD,EAAAW,IAAAzC,EAAAmqB,kBAAiB,WAAAzG,EAAAle,uGDsBzBrE,EAAA,oBAEDipB,oBAAW,+CAAX,4CACgB,mBAChBD,kBAAC,mFAAAE,GAAAxlB,EAAA/C,EAAA8D,GAEDpF,KAAAsB,WAAWA,OAAX8D,WAAAA,OACIE,QAAWjB,+BAGEwlB,EAAUznB,UAAA,cACvB,WACA,MAAKpC,MAAAsF,yCAGTqC,OAAA1C,eAAW4kB,EAAAznB,UAAA,eAAX,WACI,MAAOpC,MAAKsF,QAAOK,qBAGvB,gBACS,WAERV,eAAA4kB,EAAAznB,UAAA,mDAED6E,IAAA,SAAA/B,QAAAI,QAAAd,MAAAU,MACIlF,KAAA4F,+BAGJ,gBACS,8DAHR,MAAA5F,MAAA6F,YAMD,SAAAX,GACIlF,KAAA6F,OAAYX,MACflF,KAAAsB,WAAAwE,WAAAtG,EAAAsqB,yBAAA5kB,gBAGQ,EACTQ,cAAC,8CAJAD,IAAA,WAMM,MAAAzF,MAAAsF,QAAA8B,MAENH,IAAA,SAAA/B,GAEMlF,KAAAsF,QAAA8B,KAAAlC,GAENc,YAAA,EAEMN,cAAA,IAEPiC,OAAC1C,eAAA4kB,EAAAznB,UAAA,YAEMqD,IAAA,WACC,MAAMzF,MAAAsF,QAAQ2iB,cAEd,SAAK/iB,GACRlF,KAAAsF,QAAA2iB,SAAA/iB,GAGEc,YAAA,EACHN,cAAS,MAEAtD,UAAA0C,KAAkB,WAC3B9E,KAACoF,WAAA,sBAAAN,QAGE+kB,EAAAznB,UAAA4C,MAAQ,WAAfhF,KAAAoF,WAAA,sBAKCJ,WALe5C,UAAAgE,OAAA,gBAAAhB,WAAA,sBAAoBgB,YACzBhE,UAAS2P,KAAE,WACd/R,KAAKsF,QAAQmR,UACdzW,KAAAsF,QAAAmR,SAAA,EACCzW,KAAC4F,sBAGTxD,UAKC8P,KAAA,WALkBlS,KAAAsF,QAAoBmR,eAApBnR,QAAAmR,SAAA,EAAAzW,KAAA4F,sBAENxD,UAAQsG,SAAY,WAGhC,IAAA,GAFMlH,GAAAxB,KACC2F,KACPU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IAEMV,EAAAU,GAAAC,UAAPD,EAEIE,GAAAC,KAAKb,EAAA,SAAkBc,GAC1BjF,EAAA8D,QAAAK,QAAAe,KAAAD,KAGGzG,KAAK4F,mBAEbikB,EAAAznB,UAAC0L,YAAA,WAED,IAAA,GAFCtM,GAAAxB,KAED2F,KAAAU,EAAA,EAAAA,EAAAC,UAAArF,OAAAoF,IACYV,EAAOU,GAAkBC,UAAAD,UAE7BV,EAAW,SAAAc,GACXjF,EAAM8D,QAAOK,QAAAY,EAAAI,OAAAnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,WAEbb,qBAEFxD,UAAAyE,KAAA,SAAAA,EAAA3B,GA4ELlF,KAAAsF,QAAAd,MAAAqC,GAAA3B,EAxEGlF,KAAA4F,qBACWxD,UAAKwD,gBAAiB,WACjC5F,KAACsB,WAAA2E,MAAAzG,EAAAoqB,oBAAA5pB,KAAAsF,yCAAAtF,KAAAsF,SAMDd,oBACI4C,KAAM,QACT6gB,UAAA,QAED,KACIxR,SAAK,GCxIF,qDDqINhR,IAAA,WAMD,MAAAzF,MAAAsF,QAAW2iB,cACP,SAAW/iB,GACdlF,KAAAsF,QAAA2iB,SAAA/iB,eAGQ,EACTQ,cAAC,gDAJAD,IAAA,WAMD,MAAAzF,MAAAsF,aACI,SAAWJ,GACdlF,KAAAsF,QAAAJ,GAAA,GAAAqiB,GAAAwC,2BAGQ,EACTrkB,cAAC,+CAJAD,IAAA,WAMD,MAAAzF,MAAAsF,QAAWd,WACP,SAAWU,GACdlF,KAAAsF,QAAAd,MAAAU,mBAGQ,EACTQ,cAAC,8CAJAD,IAAA,WAMD,MAAAzF,MAAAsF,QAAW8B,UACP,SAAWlC,GACdlF,KAAAsF,QAAA8B,KAAAlC,eAGQ,EACTQ,cAAC,iDAJAD,IAAA,WAMM,MAAAzF,MAAAsF,QAAAmR,SAASxP,IAAA,SAAA/B,QAAAI,QAAAmR,QAAAvR,iBACZQ,cAAc,WAEXT,eAAA+kB,EAAA5nB,UAAA,WACNqD,IAAA,WAEM,MAAAzF,MAAAsF,QAAAK,SAAYsB,IAAA,SAAA/B,QAAAI,QAAAK,QAAAT,qBACfQ,cAAc,MAEXtD,UAAAsG,SAAA,WAIH,IAAK,GAHRlH,GAAAxB,KAEM2F,KACEU,EAAQ,EAAAA,EAAMC,UAAarF,OAACoF,IACpCV,EAAAU,GAAAC,UAAAD,EAGGE,GAAAC,KAAAb,EAAW,SAAAc,GAEPjF,EAAK8D,QAAQK,QAASe,KAAAD,MAI9BujB,EAAC5nB,UAAA0L,YAAA,WAGL,IAAA,GAFAtM,GAAAxB,KAAC2F,KAEDU,EAAA,EAAAA,EAA2BC,UAAkCrF,OAAAoF,IACzDV,EAAeU,GAAAC,UAAAD,EAElBE,GAAAC,KAAAb,EAAA,SAAAc,GAEMjF,EAAA8D,QAAAK,QAAAY,EAAAI,OAAAnF,EAAA8D,QAAAK,QAAA,SAAAiB,GAAA,MAAAA,IAAAH,SAGErE,UAAmByE,KAAA,SAAAA,EAAA3B,sFC9M5B,UAKA,OALA,OAAAlF,KAAAqH,WAKCrH,KAAAqH,SAAA,GAAAwiB,GAAA7pB,KAAAsF,QAAAhE,EAAA8D,IAADpF,KAAAqH,WAJW2iB,aAsBVvqB,OAAA,cAAD8H,SAAA,aAACyiB,GAAAxiB,IAAAiiB,KAhBYN,iBAAA,KAAAc,IAAA,SAAYtpB,EAAAlB,EAAAD,GAkBzB,oBAAAyF,eAAAzF,EAAA,cAAA0F,OAAA,UAC2B,mBACnBijB,oBAIAC,OAAc,WACdU,MAAY,UACNC,MAAM,UACZC,OAAA,6BACFb,QACG,mBACD+B,iCAIAA,QACY,mBACZ1C,UACAphB,QACFf,GAAA8iB,EAAAC,OACF1f,SAAsB,iBAClB8U,YAAI,EACJ2M,cAAU,EACV9F,gBAAY,EACZC,YAAY,EACZF,QAAA,EACAgG,kBAAgB,QAEhBC,OACFhlB,GAAA8iB,EAAAW,MACFpgB,SAAuB,4CACnB8U,YAAI,EACJ2M,cAAU,EACV9F,gBAAY,EACZC,YAAY,EACZF,QAAA,EACAgG,kBAAgB,QAEhBE,OACFjlB,GAAA8iB,EAAAY,MACLrgB,SAAA,uBAAD8U,YAAA,EAAC2M,cAAA,EAzCY9F,gBAAA,EA2CbC,YAAA,EAAAF,QAAA,EAKIgG,kBAAyB,GAE7BpqB,KAAAuqB,QAACllB,GAAA8iB,EAAAa,OAPYtgB,SAAA,+GCjEb,MAAA8e,KAEAhoB,GAAAgoB,mBAAmBA,CAEnB,IAAAuC,GAAA,yCCNA,MAAAA,QAKCA,cAAAA,OAADS,IAAA,SAAC7pB,EAAAlB,EAAAD,GAAD,mCAiBoBA,EAAI,cAAA0F,OAAA,YAChBzF,OAAM,cAAU,aAAA,uBAChB,oBACA,sBACA,mBACA,aA3BK,SAAAmI,GAOZ,IAAA,GAAAC,KAAAD,GAAApI,EAAAsI,eAAAD,KAAArI,EAAAqI,GAAAD,EAAAC,KAqBOlH,EAAA,mCACA,GAAU8pB,gBAAgB,GAAAC,mBAAA,GAAAvB,iBAAA,KAAAwB,IAAA,SAAAhqB,EAAAlB,EAAAD,uBAG9ByF,eAAAzF,EAAA,cAAA0F,OAAA,UAAA,mBAWC0lB,MAAD,MAACA,QAqBGA,OAAAA,oBAEY,UACA,oBACA,8BACA,6BAKH,0BACD,6BAEK,8BACD,mBAGX,WAEO,QAAAC,UAIH,mBACGC,GAAyBpnB,EAAUyP,EAAW7R,EAAA2J,EAAA8M,EAAAF,GAClD,UAEA7X,MAAK0D,SAAUA,EAClB1D,KAAAmT,UAAAA,EAEOnT,KAAAsB,WAAAA,EACJtB,KAAKiL,SAAAA,EACLjL,KAAI+X,YAAKA,OACLgT,yBACS/qB,KAAAmT,UAAcM,IAAA,YAAsBzT,KAAImT,UAAW1N,IAAA,YAAaoS,EACxE7X,KAAAqO,cAACrO,KAAKqO,YAACrO,KAAA+X,YAAAmJ,gBC7FxB,SDiF4B/e,SAAW,WAAY,YAAA,aAAA,WAAA,cAAA,cAetCC,UAAA2oB,SAAA,WACJ/qB,KAAAib,UAAAjb,KAAAmT,UAAAM,IAAA,YAAAzT,KAAAmT,UAAA1N,IAAA,YAAA,KAEMzF,KAAAib,UACCjb,KAAEmb,aAAgBnb,KAAAib,UAAcG,MAEnCpb,KAAAsB,WAAA,SAAKtB,KAAEmb,aAAAnb,KAAAsB,WAAA,QAERtB,KAACqb,YAAArb,KAAAqb,YAAA,IAAA,OAAArb,KAAAmb,aAAA,UACJ2P,EAAC1oB,UAAA4oB,aAAA,WAEKhrB,KAAAwT,cAAAxT,KAAAmT,UAAAM,IAAA,gBAAYzT,KAAamT,UAAA1N,IAAA,gBAAA,KAC5BzF,KAAQwT,gBACXxT,KAAAirB,KAAAhqB,OAAA,GAAAjB,KAAAirB,KAAA,GAAAxR,MAACzZ,KAAAwT,cAAA0X,iBAAAlrB,KAAAirB,KAAA,QAAA,aAGUjrB,KAACwT,cAAa0X,iBAAAlrB,KAAAirB,KAAA,OAAA,iBAGR7oB,UAAA+oB,WAAA,iBACV5kB,GAAEkO,WAAOzU,KAAQ0b,YACb1b,KAAK0b,aAIhB1b,KAAAorB,UAAAprB,KAAA0b,eAImBtZ,UAAcipB,YAAG,SAAAzP,GACjC,MAAC5b,MAAAmrB,cAAAnrB,KAAAwb,aAAAI,KAEAxZ,UAAAuZ,SAAA,SAAAC,GACJ,GAAApa,GAAAxB,IAACA,MAAAmrB,eAGEnrB,KAAKwb,YAAcI,OAAC0P,cAAYtrB,KAAAirB,KAAAhqB,QAAAjB,KAAAwb,YAAAxb,KAAAirB,KAAAjrB,KAAAwb,aAAAnW,GAAA,KAChCrF,KAAKiL,SAAC,WACFzJ,EAAOqa,QACVra,EAAAqa,OAAAra,EAAAypB,KAAAzpB,EAAAga,aAAAha,EAAAga,mBAGJsP,EAAC1oB,UAAAmpB,WAAA,WAEK,MAAAhlB,GAAAkO,WAAAzU,KAAAwrB,gBACMxrB,KAAIwrB,iBACMxrB,KAAKorB,UAACprB,KAAAwrB,iBAKtBV,EAAA1oB,UAAA2P,KAAA,WAAP,OAAA/R,KAAAyrB,WAGQllB,EAAEkO,WAAQzU,KAAAyrB,UACNzrB,KAAKyrB,WAGLzrB,KAAAorB,UAAAprB,KAAAyrB,cAKMrpB,UAAcgpB,UAAA,SAAAlmB,SACf,aAEZA,IAEY,QADLA,EAACmH,WAAcC,gBACO,QAATpH,OAED9C,UAAKkgB,WAAc,SAAAC,SAC3BviB,IAwChB,mCAjC2BuiB,EAAAlU,YAAAqd,aAAAnJ,EAAAlU,YAAAqd,aAAA1rB,KAAA+X,YAAAmJ,oBALV7S,mBACAA,YAAcrO,KAAE+X,YAAAmJ,oBAMZ1I,OAANgD,YACNxb,KAAAwb,cACJxb,KAAAwb,YAAA,IAKGxb,KAACwb,YAAA+G,EAAA/G,YAAAkQ,cAAA,EACJ1rB,KAAAiL,UAAAjL,KAAAwb,cAAA+G,EAAA/G,YAAAgH,eAAOxiB,KAAAiL,SAAA,WACC,GAAOvK,GAAAc,EAAQkC,SAAKwG,KAAA,iBACpBxJ,IAAYA,EAAE,IACtB+D,QAAA2L,QAAA1P,EAAA,IAAAwd,KAAA,cAAA1c,EAAAga,aAGS9a,EAAKirB,GAAI,WAAS,WACZlnB,QAAC2L,QAAa1P,EAAA,IAAAwd,KAAA,cAAA1c,EAAAga,aACtBha,EAAAyJ,SAAA,WACYxG,QAAA2L,QAAA1P,EAAA,IAAAwd,KAAA,cAAA1c,EAAAga,cACP,OACA,UAGZhD,KAAA+J,EAAA0I,MAAA1kB,EAAA4S,QAAAoJ,EAAA0I,KAAAS,eAKR1rB,KAAAirB,KAAA1I,EAAA0I,KAAAS,aAEkC1rB,KAAAgrB,gBAPnBhrB,KAAAirB,OACAjrB,KAACirB,UAQb1I,EAAa/G,aAAgB+G,EAAA0I,UAAAzS,KAAAxY,KAAAsrB,cAAA,CAC7B,GAAY1P,GAAArV,EAAAtC,QAAAjE,KAAuBirB,KAAA1kB,EAAA2D,KAAAlK,KAAAirB,MACtC5lB,GAAArF,KAAAsrB,gBAGW1P,GAAY,EACT5b,KAAAsrB,cAAiBtrB,KAAAirB,KAAAhqB,QAAAjB,KAAAwb,YAAAxb,KAAAirB,KAAAjrB,KAAAwb,aAAAnW,GAAA,2CC5NpCrF,KAAA2b,SAAAC,OAIA5b,MAAAsrB,cAAAtrB,KAAAirB,KAAAhqB,QAAAjB,KAAAwb,YAAAxb,KAAAirB,KAAAjrB,KAAAwb,aAAAnW,GAAA,MAGAylB,MAEAc,GACA1W,SAAA2W,EACA1W,YAAA,iBACAvS,WAAAkoB,EAEArmB,SACAhF,OAAA,WAAA,qBACAqD,UAAA,UAAA8oB,QAEAE,IAAA,SAAAnrB,EAAAlB,EAAAD,IACA,SAAAC,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,8BACA,s7DAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,gCACA,soCAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,qBACA,iJAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU;UACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,6BACA,ysGAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,yBACA,snBAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,wBACA,ymBAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,oBACA,2nBAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,+BACA,4cAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,oBACA,m8GAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB,GACAA,EAAAC,IAAA,wBACA,01BAIA,SAAAvsB,GACA,IACAA,EAAAgF,QAAAhF,OAAA,oBACA,MAAAU,GACAV,EAAAgF,QAAAhF,OAAA,uBAEAA,EAAA+H,KAAA,iBAAA,SAAAukB","file":"pip-webui.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { MainBreakpoints } from '../media/MediaService';\r\nimport { IAuxPanelService } from './IAuxPanelService';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\n\r\n{\r\n    class AuxPanelDirectiveController {\r\n        private normalSize: number = 320;\r\n        private largeSize: number = 480;\r\n        private _debounceBodySize: Function;\r\n        private gtxs: boolean = null;\r\n        private gtlg: boolean = null;\r\n        private bodyWidth: number;\r\n        private bodyElement: any;\r\n\r\n        public constructor(\r\n            private $rootScope: ng.IRootScopeService,\r\n            private pipAuxPanel: IAuxPanelService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // this._debounceBodySize = _.debounce(() => {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n            // }, 10);\r\n\r\n            this.bodyElement = $('body');\r\n            this.bodyWidth = this.bodyElement.width();\r\n            $rootScope.$on(LayoutResizedEvent, () => {\r\n                this.bodyWidth = this.bodyElement.width();\r\n            });\r\n            // this._debounceBodySize();\r\n        }\r\n\r\n        public isGtxs(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtxs;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtxs = bodySize > MainBreakpoints.xs && this.pipAuxPanel.isOpen();\r\n\r\n            //     return this.gtxs;\r\n            // }\r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n\r\n            return this.bodyWidth > MainBreakpoints.xs;\r\n        }\r\n\r\n        public isGtlg(): boolean {\r\n            // if (this.gtxs != null) {\r\n            //     this._debounceBodySize();\r\n            //     return this.gtlg;\r\n            // } else {\r\n            //     let bodySize: number = Number($('body').width());\r\n            //     this.gtlg = bodySize > (MainBreakpoints.lg + this.largeSize)  && this.pipAuxPanel.isOpen();\r\n                \r\n            //     return this.gtlg;\r\n            // }            \r\n\r\n            if (!this.pipAuxPanel.isOpen()) return false;\r\n\r\n            this.bodyWidth = this.bodyElement.width();\r\n            \r\n            return this.bodyWidth > (MainBreakpoints.lg + this.largeSize);\r\n        }\r\n    }\r\n\r\n    const AuxPanel: ng.IComponentOptions = {\r\n\r\n        controller: AuxPanelDirectiveController,\r\n        transclude: true,\r\n        template: '<md-sidenav class=\"md-sidenav-right md-whiteframe-z2 pip-auxpanel color-content-bg\" ng-class=\"{\\'pip-large\\': $ctrl.isGtlg()}\"' +\r\n        'md-component-id=\"pip-auxpanel\" md-is-locked-open=\"$ctrl.isGtxs()\" ng-transclude><div pip-focused></div>' +\r\n        '</md-sidenav>'\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .component('pipAuxPanel', AuxPanel);\r\n\r\n}\r\n","{\r\n\r\n    class AuxPanelPartController {\r\n        private partName: string;\r\n        private partValue: string;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipAuxPanel) {\r\n            \"ngInject\";\r\n            this.partName = '' + $attrs.pipAuxPanelPart;\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onAuxPanelChanged(null, pipAuxPanel.config)\r\n            $rootScope.$on('pipAuxPanelChanged', (event, config) => {\r\n                this.onAuxPanelChanged(event, config);\r\n            });\r\n\r\n        }\r\n\r\n        private onAuxPanelChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = config[this.partName];\r\n            // Set visible variable to switch ngIf\r\n\r\n            this.$scope['visible'] = this.partValue ? currentPartValue == this.partValue : currentPartValue;\r\n        }\r\n    }\r\n\r\n\r\n    function AuxPanelPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function ($scope: ng.IScope, $element, $attrs) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs.ngIf = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf);\r\n            },\r\n            controller: AuxPanelPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipAuxPanel')\r\n        .directive('pipAuxPanelPart', AuxPanelPartDirective);\r\n\r\n}","import { AuxPanelStateChangedEvent, AuxPanelChangedEvent, OpenAuxPanelEvent, CloseAuxPanelEvent, AuxPanelOpenedEvent, AuxPanelClosedEvent } from './IAuxPanelService';\r\nimport { AuxPanelConfig, IAuxPanelService, IAuxPanelProvider } from './IAuxPanelService';\r\n\r\nclass AuxPanelService implements IAuxPanelService {\r\n    private _config: AuxPanelConfig;\r\n    private _state: any;\r\n    private _rootScope: ng.IRootScopeService;\r\n    private _sidenav: ng.material.ISidenavService;\r\n    private id = 'pip-auxpanel';\r\n\r\n    public constructor(config: AuxPanelConfig, $rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n\r\n        \"ngInject\";\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n        this._sidenav = $mdSidenav;\r\n    }\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this._rootScope.$broadcast(AuxPanelStateChangedEvent, value);\r\n    }\r\n\r\n    public isOpen(): boolean {\r\n        return this._sidenav(this.id).isOpen();\r\n    }\r\n\r\n    public open() {\r\n        this._sidenav(this.id).open();\r\n        this._rootScope.$emit(AuxPanelOpenedEvent, this._config);\r\n    }\r\n\r\n    public close() {\r\n        this._sidenav(this.id).close();\r\n        this._rootScope.$emit(AuxPanelClosedEvent, this._config);\r\n    }\r\n\r\n    public toggle() {\r\n        this._sidenav(this.id).toggle();\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this._rootScope.$emit(AuxPanelChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AuxPanelProvider implements IAuxPanelProvider {\r\n    private _config: AuxPanelConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'sticky',\r\n        state: null\r\n    };\r\n\r\n    private _service: AuxPanelService;\r\n\r\n    public get config(): AuxPanelConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AuxPanelConfig) {\r\n        this._config = value || new AuxPanelConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public open(): void {\r\n        this._service.open();\r\n    }\r\n\r\n    public close(): void {\r\n        this._service.close();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._service.toggle();\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AuxPanelService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookAuxPanelEvents($rootScope: ng.IRootScopeService, pipAuxPanel: IAuxPanelService) {\r\n    \"ngInject\";\r\n    $rootScope.$on(OpenAuxPanelEvent, () => { pipAuxPanel.open(); });\r\n    $rootScope.$on(CloseAuxPanelEvent, () => { pipAuxPanel.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipAuxPanel')\r\n    .provider('pipAuxPanel', AuxPanelProvider)\r\n    .run(hookAuxPanelEvents);\r\n","export const AuxPanelChangedEvent = 'pipAuxPanelChanged';\r\nexport const AuxPanelStateChangedEvent = 'pipAuxPanelStateChanged';\r\nexport const OpenAuxPanelEvent = 'pipOpenAuxPanel';\r\nexport const CloseAuxPanelEvent = 'pipCloseAuxPanel';\r\nexport const AuxPanelOpenedEvent = 'pipAuxPanelOpened';\r\nexport const AuxPanelClosedEvent = 'pipAuxPanelClosed';\r\n\r\nexport class AuxPanelConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: any;\r\n    type: string;\r\n} \r\n\r\nexport interface IAuxPanelService {\r\n    readonly config: AuxPanelConfig;\r\n    readonly classes: string[];\r\n    parts: any;\r\n    state: any;    \r\n\r\n    isOpen(): boolean;\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n  \r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n \r\n    part(part: string, value: any): void;\r\n}\r\n\r\nexport interface IAuxPanelProvider extends ng.IServiceProvider {\r\n    config: AuxPanelConfig;\r\n    parts: any;\r\n    type: string;\r\n    classes: string[];\r\n\r\n    open(): void;\r\n    close(): void;\r\n    toggle(): void;\r\n\r\n    addClass(...classes: string[]): void;\r\n    removeClass(...classes: string[]): void;\r\n\r\n    part(part: string, value: any): void;\r\n}","angular.module('pipAuxPanel', ['ngMaterial']);\r\n\r\nimport './AuxPanelService';\r\nimport './AuxPanelPart';\r\nimport './AuxPanel';\r\n\r\nexport * from './IAuxPanelService';","import './dependencies/TranslateFilter';\r\nimport './language/LanguagePickerDirective';\r\nimport './dropdown/Dropdown';\r\nimport './tabs/Tabs';\r\nimport './actions';\r\nimport './appbar';\r\nimport './search';\r\nimport './breadcrumb';\r\nimport './sidenav';\r\nimport './header';\r\nimport './menu';\r\nimport './icon';\r\nimport './common/NavService';\r\n\r\nangular\r\n    .module('pipNav', [\r\n        'pipNavService',\r\n        'pipDropdown',\r\n        'pipTabs',\r\n        'pipAppBar',\r\n        'pipSearchBar',\r\n        'pipNavIcon',\r\n        'pipBreadcrumb',\r\n        'pipLanguagePicker',\r\n        'pipActions', \r\n        'pipSideNav',\r\n        'pipNavMenu',\r\n        'pipNavHeader'\r\n    ])\r\n    .constant('navConstant', {\r\n        'TAB_BREAKPOINT': 'gt-sm',\r\n        'BREADCRUMB_BREAKPOINT': 'gt-xs',\r\n        'SIDENAV_CONTAINER': '.pip-main',\r\n        'SIDENAV_LARGE_WIDTH': 320,\r\n        'SIDENAV_MIDDLE_WIDTH': 240,\r\n        'SIDENAV_SMALL_WIDTH': 72,\r\n        'SIDENAV_ANIMATION_DURATION': 600\r\n    })\r\n\r\nexport * from './actions';\r\nexport * from './appbar';\r\nexport * from './breadcrumb';\r\nexport * from './search';\r\nexport * from './sidenav';\r\nexport * from './icon';\r\nexport * from './menu';\r\nexport * from './header';\r\nexport * from './common/INavService';\r\n","import { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\ninterface ICardDirectiveAttributes extends ng.IAttributes {\r\n    minWidth: string | number;\r\n    minHeight: string | number;\r\n    width: string | number;\r\n    height: string | number;\r\n}\r\n\r\nclass CardDirectiveLink {\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService, \r\n        private $element: JQuery, \r\n        private $attrs: ICardDirectiveAttributes\r\n    ) {\r\n       \"ngInject\";\r\n        // Add class to the element\r\n        $element.addClass('pip-card');\r\n\r\n        let listener = () => { this.resize(); }\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, listener);\r\n\r\n        // Resize right away to avoid flicking\r\n        this.resize();\r\n\r\n        // Resize the element right away\r\n        setTimeout(listener, 100);\r\n    }\r\n\r\n    private resize() {\r\n        const\r\n            $mainBody = $('.pip-main-body'),\r\n            cardContainer = $('.pip-card-container'),\r\n            windowWidth = $('pip-main').width();\r\n        let\r\n            maxWidth = $mainBody.width(),\r\n            maxHeight = $mainBody.height(),\r\n            minWidth = this.$attrs.minWidth ? Math.floor(Number(this.$attrs.minWidth)) : null,\r\n            minHeight = this.$attrs.minHeight ? Math.floor(Number(this.$attrs.minHeight)) : null,\r\n            width = this.$attrs.width ? Math.floor(Number(this.$attrs.width)) : null,\r\n            height = this.$attrs.height ? Math.floor(Number(this.$attrs.height)) : null,\r\n            left, top;\r\n\r\n        // Full-screen on phone\r\n        if (MainBreakpointStatuses.xs) {\r\n            minWidth = null;\r\n            minHeight = null;\r\n            width = null;\r\n            height = null;\r\n            maxWidth = null;\r\n            maxHeight = null;\r\n        }\r\n        // Card view with adjustable margins on tablet and desktop\r\n        else {\r\n            // Set margin and maximum dimensions\r\n            const space = MainBreakpointStatuses['gt-md'] ? 24 : 16;\r\n            maxWidth -= space * 2;\r\n            maxHeight -= space * 2;\r\n\r\n            // Set minimum dimensions\r\n            minWidth = minWidth ? Math.min(minWidth, maxWidth) : null;\r\n            minHeight = minHeight ? Math.min(minHeight, maxHeight) : null;\r\n\r\n            // Set regular dimensions\r\n            width = width ? Math.min(width, maxWidth) : null;\r\n            height = height ? Math.min(height, maxHeight) : null;\r\n        }\r\n\r\n        // Set dimensions\r\n        this.$element.css('max-width', maxWidth ? maxWidth + 'px' : '');\r\n        this.$element.css('min-width', minWidth ? minWidth + 'px' : '');\r\n        this.$element.css('width', width ? width + 'px' : '');\r\n        this.$element.css('height', height ? height + 'px' : '');\r\n\r\n        if (!cardContainer.hasClass('pip-outer-scroll')) {\r\n            this.$element.css('max-height', maxHeight ? maxHeight + 'px' : '');\r\n            this.$element.css('min-height', minHeight ? minHeight + 'px' : '');\r\n            const\r\n                $header = this.$element.find('.pip-header:visible'),\r\n                $footer = this.$element.find('.pip-footer:visible'),\r\n                $body = this.$element.find('.pip-body');\r\n            let maxBodyHeight = maxHeight || $mainBody.height();\r\n\r\n            if ($header.length > 0)\r\n                maxBodyHeight -= $header.outerHeight(true);\r\n            if ($footer.length > 0)\r\n                maxBodyHeight -= $footer.outerHeight(true);\r\n\r\n            $body.css('max-height', maxBodyHeight + 'px');\r\n        } else {\r\n            cardContainer.addClass('pip-scroll');\r\n            if (MainBreakpointStatuses.xs) {\r\n                left = 0;\r\n                top = 0;\r\n            } else {\r\n                left = cardContainer.width() / 2 - this.$element.width() / 2 - 16;\r\n                top = Math.max(cardContainer.height() / 2 - this.$element.height() / 2 - 16, 0);\r\n            }\r\n\r\n            this.$element.css('left', left);\r\n            this.$element.css('top', top);\r\n\r\n            setTimeout(() => { this.$element.css('display', 'flex'); }, 100);\r\n        }\r\n\r\n        // Notify child controls that layout was resized\r\n        this.$rootScope.$emit('pipLayoutResized');\r\n    }\r\n}\r\n\r\nfunction cardDirective($rootScope: ng.IRootScopeService) {\r\n    \"ngInject\";\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope, $element, $attrs) => {\r\n            new CardDirectiveLink($rootScope, $element, $attrs);\r\n        }\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipCard', cardDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction dialogDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-dialog');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDialog', dialogDirective);\r\n\r\n})();","// Avoid default export\r\n(() => {\r\n\r\nfunction documentDirective(): ng.IDirective {\r\n    return {\r\n        restrict: 'EA',\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n            $element.addClass('pip-document');\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipDocument', documentDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\n// Avoid default export\r\n(() => {\r\n\r\n    interface IMainDirectiveAttributes extends ng.IAttributes {\r\n        pipContainer: string;\r\n    }\r\n\r\n    class MainDirectiveController implements ng.IController {\r\n        private _container: any;\r\n\r\n        public constructor(\r\n            private $scope: ng.IScope,\r\n            private $element: angular.IRootElementService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private $attrs: IMainDirectiveAttributes\r\n        ) {\r\n            \"ngInject\";\r\n            this._container = $attrs.pipContainer ? $($attrs.pipContainer) : $element;\r\n\r\n            // Add CSS class\r\n            $element.addClass('pip-main');\r\n\r\n            // Add resize listener\r\n            const listener = () => { this.resize(); };\r\n            addResizeListener(this._container[0], listener);\r\n\r\n            // Unbind when scope is removed\r\n            $scope.$on('$destroy', () => {\r\n                removeResizeListener(this._container[0], listener);\r\n            });\r\n\r\n            // Perform initial calculations\r\n            this.updateBreakpointStatuses();\r\n        }\r\n\r\n        private updateBreakpointStatuses() {\r\n            const width = this._container.innerWidth();\r\n            const body = $('body');\r\n\r\n            MainBreakpointStatuses.update(MainBreakpoints, width);\r\n\r\n            $.each(MainBreakpointStatuses, (breakpoint, status) => {\r\n                if (_.isBoolean(status)) {\r\n                    body[status ? 'addClass' : 'removeClass']('pip-' + breakpoint);\r\n                }\r\n            });\r\n\r\n            this.$timeout(() => {\r\n                this.$rootScope.$apply();\r\n            });\r\n        }\r\n\r\n        private resize() {\r\n            this.updateBreakpointStatuses();\r\n            this.$rootScope.$emit(MainResizedEvent, MainBreakpointStatuses);\r\n        }\r\n    }\r\n\r\n    class MainBodyDirectiveLink {\r\n        public constructor(\r\n            $scope: ng.IScope,\r\n            $element: angular.IRootElementService\r\n        ) {\r\n            \"ngInject\";\r\n            // Add CSS class\r\n            $element.addClass('pip-main-body');\r\n        }\r\n    }\r\n\r\n    function mainDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            controller: MainDirectiveController,\r\n            controllerAs: 'vm'\r\n        }\r\n    }\r\n\r\n    function mainBodyDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: MainBodyDirectiveLink\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipMain', mainDirective)\r\n        .directive('pipMainBody', mainBodyDirective);\r\n\r\n})();","(() => {\r\n\r\n    function simpleDirective(): ng.IDirective {\r\n        \"ngInject\";\r\n        return {\r\n            restrict: 'EA',\r\n            link: ($scope: ng.IScope, $element: JQuery, $attrs: ng.IAttributes) => {\r\n                $element.addClass('pip-simple');\r\n            }\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipLayout')\r\n        .directive('pipSimple', simpleDirective);\r\n\r\n})();","import { addResizeListener, removeResizeListener } from '../media/ResizeFunctions';\r\nimport { MainResizedEvent, LayoutResizedEvent } from '../media/IMediaService';\r\nimport { MainBreakpoints, MainBreakpointStatuses } from '../media/MediaService';\r\n\r\ndeclare var Masonry: any;\r\n\r\ninterface ITilesDirectiveAttributes extends ng.IAttributes {\r\n    columnWidth: string | number;\r\n    pipInfinite: string | boolean | number;\r\n}\r\n\r\nclass TilesOptions {\r\n    gutter: number;\r\n    isFitWidth: boolean;\r\n    isResizeBound: boolean;\r\n    transitionDuration: number;\r\n}\r\n\r\ninterface ITilesControllerScope extends ng.IScope {\r\n    tilesOptions: TilesOptions;\r\n}\r\n\r\nclass TilesDirectiveLink {\r\n    private _columnWidth: number;\r\n    private _container: any;\r\n\tprivate _heading: any;\r\n    private _prevContainerWidth: number;\r\n    private _masonry: any;\r\n    private _sizer: any;\r\n\r\n    public constructor(\r\n        $scope: ng.IScope,\r\n        private $element: JQuery,\r\n        private $attrs: ITilesDirectiveAttributes,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        \"ngInject\";\r\n        this._columnWidth = $attrs.columnWidth ? Math.floor(Number($attrs.columnWidth)) : 440;\r\n        this._container = $element.children('.pip-tiles-container');\r\n\t\tthis._heading = $($element.children('.pip-tiles-heading')[0]);\r\n        this._prevContainerWidth = null;\r\n        this._masonry = Masonry.data(this._container[0]);\r\n\r\n        // Add class to the element\r\n        $element.addClass('pip-tiles');\r\n\r\n        // Add resize listener\r\n        const listener = () => { this.resize(false); };\r\n        addResizeListener($element[0], listener);\r\n\r\n        // Unbind when scope is removed\r\n        $scope.$on('$destroy', () => {\r\n            removeResizeListener($element[0], listener);\r\n        });\r\n\r\n        // Insert sizer\r\n        this._sizer = $('<div class=\"pip-tile-sizer\"></div>');\r\n        this._sizer.appendTo(this._container);\r\n\r\n        // Resize every time window is resized\r\n        $rootScope.$on(MainResizedEvent, () => { this.resize(false); });\r\n\r\n        // Resize the element right away\r\n        this.resize(true);\r\n    }\r\n\r\n    private resize(force: boolean) {\r\n        let width = this.$element.parent().width(),\r\n            containerWidth;\r\n\r\n        if (MainBreakpointStatuses['gt-xs'] && (width - 36) > this._columnWidth) {\r\n            width = width - 24 * 2;\r\n\r\n            let columns = Math.floor(width / this._columnWidth);\r\n            containerWidth = (this._columnWidth + 16) * columns - 16;\r\n\r\n            if (containerWidth > width) {\r\n                columns--;\r\n                containerWidth = (this._columnWidth + 16) * columns - 16;\r\n            }\r\n\r\n            if (columns < 1) {\r\n                containerWidth = width;\r\n                this._sizer.css('width', containerWidth + 'px');\r\n            } else {\r\n                this._sizer.css('width', this._columnWidth + 'px');\r\n            }\r\n\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.removeClass('pip-mobile');\r\n        } else {\r\n            width = width - 16 * 2;\r\n            containerWidth = width;\r\n\r\n            this._sizer.css('width', containerWidth + 'px');\r\n            // +10 to avoid precision related error\r\n            this._container.css('width', (containerWidth + 10) + 'px');\r\n\t\t\tif (this._heading) {\r\n\t\t\t\tthis._heading.css('width', (containerWidth + 10) + 'px');\r\n\t\t\t}\r\n            this._container.addClass('pip-mobile');\r\n        }\r\n\r\n        // Manually call layout on tile container\r\n        if (this._prevContainerWidth != containerWidth || force) {\r\n            this._prevContainerWidth = containerWidth;\r\n            this._masonry.layout();\r\n\r\n            // Notify child controls that layout was resized\r\n            this.$rootScope.$emit(LayoutResizedEvent, containerWidth);\r\n        }\r\n    }\r\n}\r\n\r\nfunction tilesDirective($rootScope: ng.IRootScopeService): ng.IDirective {\r\n    \"ngInject\";\r\n\r\n    // Converts value into boolean\r\n    function convertToBoolean(value): boolean {\r\n        if (value == null) return false;\r\n        if (!value) return false;\r\n        value = value.toString().toLowerCase();\r\n        return value == '1' || value == 'true';\r\n    }\r\n\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {\r\n\t\t\tgutter: '='\r\n\t\t},\r\n        transclude: {\r\n            'heading': '?pipTilesHeading'\r\n        },\r\n        template:\r\n        ($element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            if (convertToBoolean($attrs.pipInfinite)) {\r\n                return String()\r\n                    + '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\"  pip-scroll-container=\"\\'.pip-tiles\\'\"'\r\n                    + ' pip-infinite-scroll=\"readScroll()\" >'\r\n                    + '</div>';\r\n            } else {\r\n                return String()\r\n\t\t\t\t\t+ '<div class=\"pip-tiles-heading\" ng-transclude=\"heading\"></div>'\r\n                    + '<div masonry class=\"pip-tiles-container\" load-images=\"false\" preserve-order  '\r\n                    + ' ng-transclude column-width=\".pip-tile-sizer\" item-selector=\".pip-tile\"'\r\n                    + ' masonry-options=\"tilesOptions\">'\r\n                    + '</div>';\r\n            }\r\n        },\r\n        controller: ($scope: ITilesControllerScope) => {\r\n            $scope.tilesOptions = {\r\n                gutter: $scope.gutter || 8,//16\r\n                isFitWidth: false,\r\n                isResizeBound: false,\r\n                transitionDuration: 0 // '0.2s'\r\n            };\r\n        },\r\n        link: ($scope: ng.IScope, $element: JQuery, $attrs: ITilesDirectiveAttributes) => {\r\n            new TilesDirectiveLink($scope, $element, $attrs, $rootScope);\r\n        }\r\n    };\r\n}\r\n\r\nangular\r\n    .module('pipLayout')\r\n    .directive('pipTiles', tilesDirective);\r\n","export const MainResizedEvent = 'pipMainResized';\r\nexport const LayoutResizedEvent = 'pipLayoutResized';\r\n\r\nexport class MediaBreakpoints {\r\n    public constructor(\r\n        xs: number, sm: number, md: number, lg: number\r\n    ) {\r\n        this.xs = xs;\r\n        this.sm = sm;\r\n        this.md = md;\r\n        this.lg = lg;\r\n    }\r\n\r\n    public xs: number;\r\n    public sm: number;\r\n    public md: number;\r\n    public lg: number;\r\n}\r\n\r\nexport class MediaBreakpointStatuses {\r\n    public width: number;\r\n    public 'xs': boolean;\r\n    public 'gt-xs': boolean;\r\n    public 'sm': boolean;\r\n    public 'gt-sm': boolean;\r\n    public 'md': boolean;\r\n    public 'gt-md': boolean;\r\n    public 'lg': boolean;\r\n    public 'gt-lg': boolean;\r\n    public 'xl': boolean;\r\n\r\n    public update(breakpoints: MediaBreakpoints, width: number) {\r\n        if (breakpoints == null || width == null) return;\r\n\r\n        this.width = width;\r\n        this['xs'] = width <= breakpoints.xs;\r\n        this['gt-xs'] = width > breakpoints.xs;\r\n        this['sm'] = width > breakpoints.xs && width <= breakpoints.sm;\r\n        this['gt-sm'] = width > breakpoints.sm;\r\n        this['md'] = width > breakpoints.sm && width <= breakpoints.md;\r\n        this['gt-md'] = width > breakpoints.md;\r\n        this['lg'] = width > breakpoints.md && width <= breakpoints.lg;\r\n        this['gt-lg'] = width > breakpoints.lg;\r\n        this['xl'] = this['gt-lg'];\r\n    }\r\n}\r\n\r\nexport interface IMediaService {\r\n    (breakpoint: string): boolean;\r\n    breakpoints: MediaBreakpoints;\r\n    width: number;\r\n} \r\n\r\nexport interface IMediaProvider extends ng.IServiceProvider {\r\n    breakpoints: MediaBreakpoints;\r\n}","import { MediaBreakpoints, MediaBreakpointStatuses } from './IMediaService';\r\nimport { IMediaProvider } from './IMediaService';\r\n\r\nexport let MainBreakpoints = new MediaBreakpoints(639, 716, 1024, 1439);\r\nexport const MainBreakpointStatuses = new MediaBreakpointStatuses();\r\n\r\nclass MediaProvider implements IMediaProvider {\r\n    public get breakpoints(): MediaBreakpoints {\r\n        return MainBreakpoints;\r\n    }\r\n\r\n    public set breakpoints(value: MediaBreakpoints) {\r\n        MainBreakpoints = value;\r\n    }\r\n\r\n    public $get() {\r\n        const service = (size) => {\r\n            return MainBreakpointStatuses[size];\r\n        }\r\n\r\n        Object.defineProperty(service, 'breakpoints', {\r\n            get: () => { return MainBreakpoints; },\r\n            set: (value) => { \r\n                MainBreakpoints = value || new MediaBreakpoints(639, 716, 1024, 1439);\r\n                \r\n                MainBreakpointStatuses.update(\r\n                    MainBreakpoints, \r\n                    MainBreakpointStatuses.width\r\n                );\r\n            }\r\n        });\r\n\r\n        Object.defineProperty(service, 'width', {\r\n            get: () => { \r\n                return MainBreakpointStatuses.width; \r\n            }\r\n        });\r\n\r\n        return service; \r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipMedia')\r\n    .provider('pipMedia', MediaProvider);\r\n","let attachEvent = (<any>document).attachEvent;\r\nlet isIE = navigator.userAgent.match(/Trident/);\r\n\r\nfunction requestFrame(callback): any {\r\n           \"ngInject\";\r\n    let frame = window.requestAnimationFrame\r\n        || (<any>window).mozRequestAnimationFrame\r\n        || (<any>window).webkitRequestAnimationFrame\r\n        || function (callback) {\r\n            return window.setTimeout(callback, 20);\r\n        };\r\n\r\n    return frame(callback);\r\n}\r\n\r\nfunction cancelFrame(): any {\r\n           \"ngInject\";\r\n    let cancel = window.cancelAnimationFrame\r\n        || (<any>window).mozCancelAnimationFrame\r\n        || (<any>window).webkitCancelAnimationFrame\r\n        || window.clearTimeout;\r\n\r\n    return function (id) {\r\n        return cancel(id);\r\n    };\r\n}\r\n\r\nfunction resizeListener(event: any): void {\r\n    const win = event.target || event.srcElement;\r\n    if (win.__resizeRAF__) cancelFrame(/*win.__resizeRAF__*/);\r\n    win.__resizeRAF__ = requestFrame(function () {\r\n        const trigger = win.__resizeTrigger__;\r\n        trigger.__resizeListeners__.forEach(function (fn) {\r\n            fn.call(trigger, event);\r\n        });\r\n    });\r\n}\r\n\r\nfunction loadListener(event: any): void {\r\n    if (this.contentDocument) {\r\n        this.contentDocument.defaultView.__resizeTrigger__ = this.__resizeElement__;\r\n        this.contentDocument.defaultView.addEventListener('resize', resizeListener);\r\n    }\r\n}\r\n\r\nexport function addResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (!element.__resizeListeners__) {\r\n        element.__resizeListeners__ = [];\r\n        if (attachEvent) {\r\n            element.__resizeTrigger__ = element;\r\n            element.attachEvent('onresize', resizeListener);\r\n        }\r\n        else {\r\n            if (getComputedStyle(element).position == 'static') element.style.position = 'relative';\r\n            const obj: any = element.__resizeTrigger__ = document.createElement('object');\r\n            obj.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\r\n            obj.__resizeElement__ = element;\r\n            obj.onload = loadListener;\r\n            obj.type = 'text/html';\r\n            if (isIE) element.appendChild(obj);\r\n            obj.data = 'about:blank';\r\n            if (!isIE) element.appendChild(obj);\r\n        }\r\n    }\r\n\r\n    element.__resizeListeners__.push(listener);\r\n}\r\n\r\nexport function removeResizeListener(element, listener): void {\r\n           \"ngInject\";\r\n    if (listener) element.__resizeListeners__.splice(element.__resizeListeners__.indexOf(listener), 1);\r\n    if (!element.__resizeListeners__.length) {\r\n        if (attachEvent) element.detachEvent('onresize', resizeListener);\r\n        else {\r\n            if (element.__resizeTrigger__.contentDocument) {\r\n                element.__resizeTrigger__.contentDocument.defaultView.removeEventListener('resize', resizeListener);\r\n                element.__resizeTrigger__ = !element.removeChild(element.__resizeTrigger__);\r\n            }\r\n        }\r\n    }\r\n}\r\n","angular.module('pipMedia', []);\r\n\r\nimport './MediaService';\r\nimport './ResizeFunctions';\r\n\r\nexport * from './IMediaService';\r\nexport * from './MediaService';\r\nexport * from './ResizeFunctions';","import { ActionsConfig } from './IActionsService';\r\nimport { ActionItem } from './IActionsService';\r\nimport { ActionsChangedEvent } from './IActionsService';\r\nimport { SecondaryActionsOpenEvent } from './IActionsService';\r\nimport { IActionsService } from './IActionsService';\r\nimport { IActionsProvider } from './IActionsService';\r\n\r\n\r\nclass ActionsService implements IActionsService {\r\n    private _config: ActionsConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: ActionsConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void {\r\n        this._config.primaryLocalActions = primaryActions || [];\r\n        this._config.secondaryLocalActions = secondaryActions || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.primaryLocalActions = [];\r\n        this._config.secondaryLocalActions = [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(action: string, count: number) {\r\n        if (action == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            if (a.name == action)\r\n                a.count = count;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.primaryGlobalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n        _.each(this._config.primaryLocalActions, (a) => {\r\n            a.count = null;\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(ActionsChangedEvent, this._config);\r\n    }\r\n\r\n    public openMenuEvent(): void {\r\n        this._rootScope.$emit(SecondaryActionsOpenEvent);\r\n    }\r\n}\r\n\r\nclass ActionsProvider implements IActionsProvider {\r\n    private _config: ActionsConfig = new ActionsConfig();\r\n    private _service: ActionsService;\r\n\r\n    public get config(): ActionsConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: ActionsConfig) {\r\n        this._config = value || new ActionsConfig();\r\n    }\r\n\r\n    public get primaryGlobalActions(): ActionItem[] {\r\n        return this._config.primaryGlobalActions;\r\n    }\r\n\r\n    public set primaryGlobalActions(value: ActionItem[]) {\r\n        this._config.primaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get secondaryGlobalActions(): ActionItem[] {\r\n        return this._config.secondaryGlobalActions;\r\n    }\r\n\r\n    public set secondaryGlobalActions(value: ActionItem[]) {\r\n        this._config.secondaryGlobalActions = value || [];\r\n    }\r\n\r\n    public get primaryLocalActions(): ActionItem[] {\r\n        return this._config.primaryLocalActions;\r\n    }\r\n\r\n    public set primaryLocalActions(value: ActionItem[]) {\r\n        this._config.primaryLocalActions = value || [];\r\n    }\r\n\r\n    public get secondaryLocalActions(): ActionItem[] {\r\n        return this._config.secondaryLocalActions;\r\n    }\r\n\r\n    public set secondaryLocalActions(value: ActionItem[]) {\r\n        this._config.secondaryLocalActions = value || [];\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new ActionsService(this._config, $rootScope);\r\n        \r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipActions')\r\n    .provider('pipActions', ActionsProvider);\r\n\r\n","export const ActionsChangedEvent: string = 'pipActionsChanged';\r\nexport const SecondaryActionsOpenEvent: string = 'pipSecondaryActionsOpen';\r\n\r\nexport class SimpleActionItem {\r\n    // Name to refer to the item\r\n    public name: string;\r\n    // Link visible title\r\n    public title?: string;\r\n    // Show divider instead of title\r\n    public divider?: boolean;\r\n    // Icon name from $iconProvider\r\n    public icon?: string;\r\n    // Counter badge\r\n    public count?: number;\r\n    // Access function\r\n    public access?: (action: SimpleActionItem) => boolean;\r\n    // Show on specified breakpoints\r\n    public breakpoints?: string[];\r\n    // window.location.href\r\n    public href?: string;\r\n    // $location.url\r\n    public url?: string;\r\n    // $state.go(state, stateParams)\r\n    public state?: string;\r\n    // Parameters for $state.go(state, stateParams)\r\n    public stateParams?: any;\r\n    // $rootScope.broadcast(event)\r\n    public event?: string;\r\n    // Click callback\r\n    public click?: (action: SimpleActionItem) => void;\r\n}\r\n\r\nexport class ActionItem extends SimpleActionItem {\r\n    public subActions?: SimpleActionItem[];\r\n}\r\n\r\nexport class ActionsConfig {\r\n    // Primary global actions visible on the screen\r\n    public primaryGlobalActions: ActionItem[] = [];\r\n    // Primary local actions visible on the screen\r\n    public primaryLocalActions: ActionItem[] = [];\r\n\r\n    // Secondary global actions available in popup\r\n    public secondaryGlobalActions: ActionItem[] = [];\r\n    // Secondary local actions available in popup\r\n    public secondaryLocalActions: ActionItem[]= [];\r\n}\r\n\r\nexport interface IActionsService {\r\n    readonly config: ActionsConfig;\r\n\r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n\r\n    show(primaryActions?: ActionItem[], secondaryActions?: ActionItem[]): void;\r\n    hide(): void;\r\n    updateCount(link: string, count: number): void; \r\n    clearCounts(): void;\r\n    openMenuEvent(): void;\r\n}\r\n\r\nexport interface IActionsProvider extends ng.IServiceProvider {\r\n    config: ActionsConfig;\r\n    \r\n    primaryGlobalActions: ActionItem[];\r\n    primaryLocalActions: ActionItem[];\r\n    secondaryGlobalActions: ActionItem[];\r\n    secondaryLocalActions: ActionItem[];    \r\n}","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass PrimaryActionsController {\r\n    private _pipTranslate: pip.services.ITranslateService\r\n\r\n    public config: ActionsConfig;\r\n\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n    public originatorEv: any;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $log: ng.ILogService,\r\n        $attrs: ng.IAttributes\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n        if (this._pipTranslate && this._pipTranslate.setTranslations) {\r\n            this._pipTranslate.setTranslations('en', {\r\n                DOCUMENTS_ATTACHED: 'document(s) attached',\r\n                ERROR_DOCUMENTS_LOADED: 'Error: <%= error_number %> document(s) are not loaded'\r\n            });\r\n            this._pipTranslate.setTranslations('ru', {\r\n                DOCUMENTS_ATTACHED: ' ',\r\n                ERROR_DOCUMENTS_LOADED: ': <%= error_number %> ()  '\r\n\r\n            });\r\n        }\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-primary-actions');\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n    }\r\n    \r\n    public $onInit() {\r\n        if (this.localActions) {\r\n            this.pipActions.primaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            this.pipActions.primaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = this.pipActions.config;\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null ;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface IPrimaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any,\r\n    originatorEv: any\r\n}\r\n\r\nconst PrimaryActionsBindings: IPrimaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions',\r\n    originatorEv: '<?pipOriginatorEv'\r\n}\r\n\r\nclass PrimaryActionsChanges implements ng.IOnChangesObject, IPrimaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n    originatorEv: ng.IChangesObject<any>;\r\n}\r\n\r\n\r\n(() => {\r\n    const primaryActions: ng.IComponentOptions = {\r\n        bindings: PrimaryActionsBindings,\r\n        templateUrl: 'actions/PrimaryActions.html',\r\n        controller: PrimaryActionsController\r\n    };\r\n\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipPrimaryActions', primaryActions);\r\n\r\n})();","import { IActionsService, ActionItem, ActionsConfig } from \"./IActionsService\";\r\n\r\nclass SecondaryActionsController {\r\n    private pipTranslate: pip.services.ITranslateService\r\n    private _menuFn: Function;\r\n    private originatorEv: any;\r\n\r\n    public config: ActionsConfig;\r\n    public localActions: ActionItem[];\r\n    public globalActions: ActionItem[];\r\n\r\n    constructor(\r\n        private $attrs: ng.IAttributes,\r\n        private $injector: ng.auto.IInjectorService,\r\n        private $log: ng.ILogService,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private pipActions: IActionsService,\r\n        $element: ng.IAugmentedJQuery,\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-secondary-actions');\r\n\r\n        if (this.localActions) {\r\n            pipActions.secondaryLocalActions = this.localActions;\r\n        }\r\n\r\n        if (this.globalActions) {\r\n            pipActions.secondaryGlobalActions = this.globalActions;\r\n        }\r\n\r\n        this.config = pipActions.config;\r\n\r\n        this.$rootScope.$on('pipActionsChanged', (event: ng.IAngularEvent, config: ActionsConfig) => {\r\n            this.onActionsChanged(event, config);\r\n        });\r\n\r\n        this.$rootScope.$on('pipSecondaryActionsOpen', () => {\r\n            this.onActionsMenuOpen();\r\n        });\r\n\r\n    }\r\n\r\n    public getMenu(menuFn: Function): void {\r\n         this._menuFn = menuFn;\r\n    }\r\n\r\n    public onActionsMenuOpen(): void {\r\n        this._menuFn();\r\n    }\r\n\r\n    public openMenu($mdOpenMenu: Function, ev: ng.IAngularEvent): void {\r\n        this.originatorEv = ev;\r\n        $mdOpenMenu(ev);\r\n    }\r\n\r\n    private onActionsChanged(event: ng.IAngularEvent, config: ActionsConfig) {\r\n        this.config = config;\r\n    }\r\n\r\n    public isHidden(action: ActionItem): boolean {\r\n        // Todo: Check breakpoints here\r\n        return action.access && !action.access(action);\r\n    }\r\n\r\n    public actionCount(action: ActionItem): string {\r\n        if (action.count === null || action.count <= 0) {\r\n            return '';\r\n        }\r\n        if (action.count > 99) {\r\n            return '!';\r\n        }\r\n\r\n        return String(action.count);\r\n    }\r\n\r\n\r\n    private calcActions(actions: ActionItem[]): number {\r\n        let count: number = 0;\r\n\r\n        _.each(actions, (action: ActionItem) => {\r\n            if (!this.isHidden(action)) {\r\n                count++;\r\n            }\r\n        });\r\n\r\n        return count;\r\n    }\r\n\r\n    public secondaryActionsVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 ||\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public secondaryDividerVisible() {\r\n        return this.calcActions(this.config.secondaryGlobalActions) > 0 &&\r\n            this.calcActions(this.config.secondaryLocalActions) > 0;\r\n    }\r\n\r\n    public clickAction(action: ActionItem, $mdOpenMenu: Function): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        // todo: do not supported into ActionItem\r\n        // if (action.close) {\r\n        //     this.$scope.originatorEv = null;\r\n        // }\r\n\r\n        if (action.subActions) {\r\n            $mdOpenMenu(this.originatorEv);\r\n            return;\r\n        }\r\n\r\n        if (action.click) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.has('pipTranslate') ? <angular.ui.IStateService>this.$injector.get('$state') : null;\r\n                if (_state) {\r\n                    _state.go(action.state, action.stateParams);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\ninterface ISecondaryActionsBindings {\r\n    [key: string]: any;\r\n\r\n    localActions: any,\r\n    globalActions: any\r\n}\r\n\r\nconst SecondaryActionsBindings: ISecondaryActionsBindings = {\r\n    localActions: '<pipLocalActions',\r\n    globalActions: '<pipGlobalActions'\r\n}\r\n\r\nclass SecondaryActionsChanges implements ng.IOnChangesObject, ISecondaryActionsBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n\r\n    localActions: ng.IChangesObject<ActionItem[]>;\r\n    globalActions: ng.IChangesObject<ActionItem[]>;\r\n}\r\n\r\n\r\n(() => {\r\n    const secondaryActions: ng.IComponentOptions = {\r\n        bindings: SecondaryActionsBindings,\r\n        templateUrl: 'actions/SecondaryActions.html',\r\n        controller: SecondaryActionsController\r\n    };\r\n\r\n    angular\r\n        .module('pipActions')\r\n        .component('pipSecondaryActions', secondaryActions);\r\n\r\n})();\r\n","angular.module('pipActions', ['ngMaterial', 'pipNav.Templates', 'ui.router']);\r\n\r\nimport './ActionsService';\r\nimport './PrimaryActions';\r\nimport './SecondaryActions';\r\n\r\nexport * from './IActionsService';","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarController {\r\n    public config: AppBarConfig;\r\n\r\n    constructor(\r\n        $element: ng.IAugmentedJQuery,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n        // Apply class and call resize\r\n        $element.addClass('pip-appbar');\r\n        $element.addClass('color-primary-bg');\r\n\r\n        this.config = pipAppBar.config;\r\n\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(event, config)\r\n        });\r\n    }\r\n\r\n    public onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        this.config = config;\r\n    }\r\n    \r\n}\r\n\r\n{\r\n    const appbar: ng.IComponentOptions = {\r\n        transclude: true,\r\n        templateUrl: 'appbar/AppBar.html',\r\n        controller: AppBarController\r\n    }\r\n\r\n    angular\r\n        .module('pipAppBar')\r\n        .component('pipAppbar', appbar);\r\n\r\n}","export class AppBarConfig {\r\n    visible: boolean;\r\n    parts: any;\r\n    classes: string[];\r\n} ","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService } from \"./IAppBarService\";\r\n\r\nclass AppBarPartController {\r\n    \r\n    private _partName: string;\r\n    private _partValue: string;\r\n\r\n    constructor(\r\n        private $scope: ng.IScope,\r\n        $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $log: ng.ILogService,\r\n        $rootScope: ng.IRootScopeService,\r\n        pipAppBar: IAppBarService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._partName = String($attrs['pipAppbarPart']);\r\n        this._partValue = null;\r\n\r\n        // Break part apart\r\n        let pos: number = this._partName.indexOf(':');\r\n        if (pos > 0) {\r\n            this._partValue = this._partName.substr(pos + 1);\r\n            this._partName = this._partName.substr(0, pos);\r\n        }\r\n\r\n        this.onAppBarChanged(null, pipAppBar.config);\r\n        $rootScope.$on('pipAppBarChanged', (event: ng.IAngularEvent, config: AppBarConfig) => {\r\n            this.onAppBarChanged(null, config)\r\n        });\r\n\r\n    }\r\n\r\n    private onAppBarChanged(event: ng.IAngularEvent, config: AppBarConfig) {\r\n        let parts: any = config.parts || {};\r\n        let currentPartValue = parts[this._partName];\r\n\r\n        // Set visible variable to switch ngIf\r\n        let visible: boolean = !!(this._partValue ? currentPartValue == this._partValue : currentPartValue);\r\n\r\n        if (visible != this.$scope['visible'])\r\n            this.$scope['visible'] = visible;\r\n    }\r\n\r\n}\r\n\r\n// Example is taken from here: http://stackoverflow.com/questions/20325480/angularjs-whats-the-best-practice-to-add-ngif-to-a-directive-programmatically\r\n(() => {\r\n    function appbarPart(ngIfDirective) {\r\n        \"ngInject\";\r\n\r\n        var ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: true,\r\n            link: function linkFunction($scope: ng.IScope, $element: ng.IAugmentedJQuery, $attrs: ng.IAttributes) {\r\n                // Visualize based on visible variable in scope\r\n                $attrs['ngIf'] = () => {\r\n                    return $scope['visible'];\r\n                };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: AppBarPartController\r\n        };\r\n    }\r\n\r\n    angular.module('pipAppBar')\r\n        .directive('pipAppbarPart', appbarPart);\r\n\r\n})();","import { AppBarConfig } from './AppBarConfig';\r\nimport { IAppBarService, IAppBarProvider } from './IAppBarService';\r\n\r\nexport const AppBarChangedEvent: string = 'pipAppBarChanged';\r\n\r\nclass AppBarService implements IAppBarService {\r\n    private _config: AppBarConfig;\r\n\r\n    public constructor(config: AppBarConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(parts?: any, classes?: string[], shadowBreakpoints?: string[]): void {\r\n        this._config.visible = true;\r\n        this._config.parts = parts || this._config.parts || {};\r\n        this._config.classes = classes || this._config.classes || [];\r\n        if (shadowBreakpoints) {\r\n            this.setShadow(shadowBreakpoints); \r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private hideShadow(): void {\r\n        this._config.classes = _.reject(this._config.classes, (c) => c.startsWith('pip-shadow'));\r\n    }\r\n\r\n    private setShadow(breakpoints: string[]): void {\r\n        this.hideShadow();\r\n\r\n        if (breakpoints != null && breakpoints.length > 0) {\r\n            _.each(breakpoints, (bp) => {\r\n                this._config.classes.push('pip-shadow-' + bp);\r\n            });\r\n        } else {\r\n            this._config.classes.push('pip-shadow');\r\n        }\r\n    }\r\n\r\n    public addShadow(...breakpoints: string[]): void {\r\n        this.setShadow(breakpoints);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeShadow(): void {\r\n        this.hideShadow();\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(AppBarChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass AppBarProvider implements IAppBarProvider {\r\n    private _config: AppBarConfig = {\r\n        visible: true,\r\n        parts: {},\r\n        classes: []\r\n    };\r\n    private _service: AppBarService;\r\n\r\n    public get config(): AppBarConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: AppBarConfig) {\r\n        this._config = value || new AppBarConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n \r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new AppBarService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }     \r\n}\r\n\r\nangular\r\n    .module('pipAppBar')\r\n    .provider('pipAppBar', AppBarProvider);\r\n","angular\r\n    .module('pipAppBar', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './AppBarConfig';\r\nimport './AppBarService';\r\nimport './AppBar';\r\nimport './AppBarPart';\r\n\r\nexport * from './AppBarService';\r\n","import { SimpleActionItem } from '../actions/IActionsService';\r\nimport { BreadcrumbItem } from './BreadcrumbConfig';\r\nimport { BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService } from './IBreadcrumbService';\r\nimport { BreadcrumbChangedEvent } from './BreadcrumbService';\r\nimport { BreadcrumbBackEvent } from './BreadcrumbService';\r\nimport { OpenSearchEvent } from '../search/SearchService';\r\n\r\n// interface IBreadcrumbBindings {\r\n//     [key: string]: any;\r\n\r\n//     breakpoint: any;\r\n// }\r\n\r\n// const BreadcrumbBindings: IBreadcrumbBindings = {\r\n//     breakpoint: '<?pipBreakpoint', // string\r\n// }\r\n\r\n// class BreadcrumbChanges implements ng.IOnChangesObject, IBreadcrumbBindings {\r\n//     [key: string]: ng.IChangesObject<any>;\r\n//     // Not one way bindings\r\n//     breakpoint: ng.IChangesObject<string>;\r\n// }\r\n\r\nclass BreadcrumbController {\r\n    private originatorEv: Event;\r\n    private _media: any;\r\n\r\n    public config: BreadcrumbConfig;\r\n    // public breakpoint: string;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        private $location: ng.ILocationService,\r\n        private $injector: ng.auto.IInjectorService,\r\n        pipBreadcrumb: IBreadcrumbService,\r\n        $mdMedia: angular.material.IMedia,\r\n        $state: ng.ui.IStateService,\r\n        $element: ng.IAugmentedJQuery,\r\n        private navConstant: any\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-breadcrumb');\r\n\r\n        this.config = pipBreadcrumb.config;\r\n\r\n        $rootScope.$on(BreadcrumbChangedEvent, (event: ng.IAngularEvent, config: BreadcrumbConfig) => {\r\n            this.onBreadcrumbChanged(event, config);\r\n        });\r\n        $rootScope.$on(BreadcrumbBackEvent, () => { this.onBreadcrumbBack(); });\r\n\r\n        let pipMedia = $injector.has('pipMedia') ? $injector.get('pipMedia') : null;\r\n        this._media = pipMedia !== undefined ? pipMedia : $mdMedia;\r\n\r\n        if (!this.config.breakpoint) {\r\n            this.config.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n        }\r\n    }\r\n\r\n    // public $onChanges(changes: BreadcrumbChanges) {\r\n\r\n    //     if (!changes.breakpoint) {\r\n    //         if (!this.breakpoint) {\r\n    //             this.breakpoint = this.navConstant.BREADCRUMB_BREAKPOINT;\r\n\r\n    //         }\r\n    //     } else {\r\n    //         this.breakpoint = changes.breakpoint.currentValue ? changes.breakpoint.currentValue : this.navConstant.BREADCRUMB_BREAKPOINT\r\n    //     }\r\n    // }\r\n\r\n    private onBreadcrumbChanged(event: ng.IAngularEvent, config: BreadcrumbConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    private onBreadcrumbBack(): void {\r\n        let items: BreadcrumbItem[] = this.config.items;\r\n        // Go to the last breadcrumb item\r\n        if (_.isArray(items) && items.length > 0) {\r\n            let item: BreadcrumbItem = items[items.length - 1];\r\n            if (_.isFunction(item.click)) {\r\n                item.click(item);\r\n            } else {\r\n                this.$window.history.back();\r\n            }\r\n        } else {\r\n            this.$window.history.back();\r\n        }\r\n    }\r\n\r\n    public onClick(item: BreadcrumbItem): void {\r\n        if (_.isFunction(item.click)) {\r\n            item.click(item);\r\n        }\r\n    }\r\n\r\n    public openSearch(): void {\r\n        this.$rootScope.$broadcast(OpenSearchEvent);\r\n    }\r\n\r\n    public actionsVisible(item: BreadcrumbItem): boolean {\r\n\r\n        return angular.isArray(item.subActions) && item.subActions.length > 1;\r\n    }\r\n\r\n    public onOpenMenu($mdOpenMenu: Function, event: Event): void {\r\n        this.originatorEv = event;\r\n        $mdOpenMenu(this.originatorEv);\r\n    }\r\n\r\n    public onSubActionClick(action: SimpleActionItem): void {\r\n        if (!action || action.divider) {\r\n            return;\r\n        }\r\n\r\n        if (_.isFunction(action.click)) {\r\n            action.click(action);\r\n            return;\r\n        }\r\n\r\n        if (action.href) {\r\n            this.$window.location.href = action.href;\r\n            return;\r\n        }\r\n\r\n        if (action.url) {\r\n            this.$location.url(action.url);\r\n            return;\r\n        }\r\n\r\n        if (action.state) {\r\n            if (this.$injector.has('$state')) {\r\n                let _state: angular.ui.IStateService = this.$injector.get('$state') as ng.ui.IStateService\r\n                _state.go(action.state, action.stateParams);\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (action.event) {\r\n            this.$rootScope.$broadcast(action.event);\r\n            this.originatorEv = null;\r\n        } else {\r\n            // Otherwise raise notification\r\n            this.$rootScope.$broadcast('pipActionClicked', action.name);\r\n            this.originatorEv = null;\r\n        }\r\n    }\r\n}\r\n\r\nconst breadcrumb: ng.IComponentOptions = {\r\n    // bindings: BreadcrumbBindings,\r\n    templateUrl: 'breadcrumb/Breadcrumb.html',\r\n    controller: BreadcrumbController\r\n}\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .component('pipBreadcrumb', breadcrumb);","import { SimpleActionItem } from '../actions/IActionsService';\r\nexport class BreadcrumbItem {\r\n    title: string = null;\r\n    click?: (item: BreadcrumbItem) => void = null;   \r\n    subActions?: SimpleActionItem[] = null; \r\n}\r\n\r\nexport class BreadcrumbConfig {\r\n    text: string;\r\n    items: BreadcrumbItem[];\r\n    criteria: string;\r\n    breakpoint: string;\r\n}\r\n","import { BreadcrumbItem, BreadcrumbConfig } from './BreadcrumbConfig';\r\nimport { IBreadcrumbService, IBreadcrumbProvider } from './IBreadcrumbService';\r\n\r\nexport const BreadcrumbChangedEvent: string = \"pipBreadcrumbChanged\";\r\nexport const BreadcrumbBackEvent: string = \"pipBreadcrumbBack\";\r\n\r\nclass BreadcrumbService implements IBreadcrumbService {\r\n    private _config: BreadcrumbConfig;\r\n\r\n    public constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        config: BreadcrumbConfig\r\n    ) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config() {\r\n        return this._config;\r\n    }\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n        this._config.items = null;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get items(): BreadcrumbItem[] {\r\n        return this._config.items;\r\n    }\r\n\r\n    public set items(value: BreadcrumbItem[]) {\r\n        this._config.text = null;\r\n        this._config.items = value;\r\n\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get breakpoint(): string {\r\n        return this._config.breakpoint;\r\n    }\r\n\r\n    public set breakpoint(value: string) {\r\n        this._config.breakpoint = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showText(text: string, criteria?: string): void {\r\n        this._config.text = text;\r\n        this._config.items = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showItems(items: BreadcrumbItem[], criteria?: string): void {\r\n        this._config.items = items || [];\r\n        this._config.text = null;\r\n        this._config.criteria = criteria;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public sendConfigEvent() {\r\n        this.$rootScope.$broadcast(BreadcrumbChangedEvent, this._config);\r\n    }\r\n}\r\n\r\n\r\nclass BreadcrumbProvider implements IBreadcrumbProvider, ng.IServiceProvider {\r\n    private _config: BreadcrumbConfig = new BreadcrumbConfig();\r\n    private _service: BreadcrumbService;\r\n\r\n    public get text(): string {\r\n        return this._config.text;\r\n    }\r\n\r\n    public set text(value: string) {\r\n        this._config.text = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService): IBreadcrumbService {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new BreadcrumbService($rootScope, this._config);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular\r\n    .module('pipBreadcrumb')\r\n    .provider('pipBreadcrumb', BreadcrumbProvider);\r\n","angular.module('pipBreadcrumb', ['ngMaterial', 'pipNav.Templates', 'pipNav.Translate']);\r\n\r\nimport './Breadcrumb';\r\nimport './BreadcrumbService';\r\n\r\nexport * from './BreadcrumbService';\r\n\r\n\r\n","import { INavService } from './INavService'\r\nimport { INavIconService } from '../icon/INavIconService';\r\nimport { INavMenuService } from '../menu/INavMenuService';\r\nimport { INavHeaderService } from '../header/INavHeaderService';\r\nimport { IBreadcrumbService } from '../breadcrumb/IBreadcrumbService';\r\nimport { ISearchService } from '../search/ISearchService';\r\nimport { IActionsService } from '../actions/IActionsService';\r\nimport { IAppBarService } from '../appbar/IAppBarService';\r\nimport { ISideNavService } from '../sidenav/ISideNavService';\r\n\r\nclass NavService implements INavService {\r\n\r\n    public appbar: IAppBarService;\r\n    public icon: INavIconService;\r\n    public breadcrumb: IBreadcrumbService;\r\n    public actions: IActionsService;\r\n    public search: ISearchService;\r\n    public sidenav: ISideNavService;\r\n    public header: INavHeaderService;\r\n    public menu: INavMenuService;\r\n\r\n    public constructor($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        this.appbar = $injector.has('pipAppBar') ? <IAppBarService>$injector.get('pipAppBar') : null;\r\n        this.icon = $injector.has('pipNavIcon') ? <INavIconService>$injector.get('pipNavIcon') : null;\r\n        this.breadcrumb = $injector.has('pipBreadcrumb') ? <IBreadcrumbService>$injector.get('pipBreadcrumb') : null;\r\n        this.actions = $injector.has('pipActions') ? <IActionsService>$injector.get('pipActions') : null;\r\n        this.search = $injector.has('pipSearch') ? <ISearchService>$injector.get('pipSearch') : null;\r\n        this.sidenav = $injector.has('pipSideNav') ? <ISideNavService>$injector.get('pipSideNav') : null;\r\n        this.header = $injector.has('pipNavHeader') ? <INavHeaderService>$injector.get('pipNavHeader') : null;\r\n        this.menu = $injector.has('pipNavMenu') ? <INavMenuService>$injector.get('pipNavMenu') : null;\r\n    }\r\n\r\n    public reset() {\r\n        // Reset appbar\r\n        if (this.appbar) {\r\n            this.appbar.show();\r\n        }\r\n\r\n        // Reset icon\r\n        if (this.icon) {\r\n            this.icon.showMenu();\r\n        }\r\n\r\n        // Reset breadcrumb\r\n        if (this.breadcrumb) {\r\n            this.breadcrumb.showText(null);\r\n        }\r\n\r\n        // Reset actions\r\n        if (this.actions) {\r\n            this.actions.show();\r\n        }\r\n\r\n        // Reset search\r\n        if (this.search) {\r\n            this.search.set(null);\r\n        }\r\n\r\n        if (this.sidenav) {\r\n            this.sidenav.show();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavService', [])\r\n    .service('pipNavService', NavService);","{\r\n\r\n    function translateFilter($injector: ng.auto.IInjectorService) {\r\n        \"ngInject\";\r\n\r\n        let pipTranslate: pip.services.ITranslateService = $injector.has('pipTranslate') \r\n            ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n        return function (key: string) {\r\n            return pipTranslate ? pipTranslate.translate(key) || key : key;\r\n        }\r\n    }\r\n\r\n    angular\r\n        .module('pipNav.Translate', [])\r\n        .filter('translate', translateFilter);\r\n\r\n}\r\n\r\n","{\r\n    class DropdownController {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n\r\n        public themeClass: string;\r\n        public media: any;\r\n        public actions: any[]; // string or array\r\n        public activeIndex: number;\r\n        public selectedIndex: number;\r\n        public currentTheme: string;\r\n\r\n        public ngDisabled: Function;\r\n        public showDropdown: Function;\r\n        public select: any;\r\n        public pipChange: Function;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $timeout: ng.ITimeoutService,\r\n            $element: ng.IAugmentedJQuery,\r\n            $attrs: ng.IAttributes,\r\n            $injector: ng.auto.IInjectorService,\r\n            $log: ng.ILogService,\r\n            $rootScope: ng.IRootScopeService,\r\n            $mdMedia: angular.material.IMedia,\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._pipTheme = $injector.has('pipTheme') ? <pip.themes.IThemeService>$injector.get('pipTheme') : null;\r\n            this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if ($rootScope['$theme']) {\r\n                this.currentTheme = $rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = ($attrs['class'] || '') + ' md-' + this.currentTheme + '-theme';\r\n\r\n            //pipAssert.isArray($scope.actions, 'pipDropdown: pip-actions attribute should take an array, but take ' + typeof $scope.actions);\r\n            this.media = !_.isUndefined(this._pipMedia) ? this._pipMedia : $mdMedia;\r\n            this.actions = (this.actions && _.isArray(this.actions)) ? this.actions : [];\r\n            this.activeIndex = this.activeIndex || 0;\r\n        }\r\n\r\n        public disabled(): boolean {\r\n            if (this.ngDisabled) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        public onSelect(index: number): void {\r\n            this.activeIndex = index;\r\n            if (this.select) {\r\n                this.select(this.actions[index], this.activeIndex);\r\n            }\r\n\r\n            if (this.pipChange) {\r\n                this.$timeout(() => {\r\n                    this.pipChange();\r\n                });\r\n            }\r\n        }\r\n\r\n        public show(): boolean {\r\n            let result: boolean;\r\n            if (this.showDropdown()) {\r\n                return !!this.showDropdown();\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    interface IDropdownBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any,\r\n        actions: any,\r\n        showDropdown: any,\r\n        activeIndex: any,\r\n        select: any,\r\n        pipChange: any\r\n    }\r\n\r\n    const DropdownBindings: IDropdownBindings = {\r\n        ngDisabled: '&',\r\n        actions: '=pipActions',\r\n        showDropdown: '&pipShow',\r\n        activeIndex: '=pipActiveIndex',\r\n        select: '=pipDropdownSelect',\r\n        pipChange: '&'\r\n    }\r\n\r\n    class DropdownChanges implements ng.IOnChangesObject, IDropdownBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n\r\n        ngDisabled: ng.IChangesObject<Function>;\r\n        actions: ng.IChangesObject<any>;\r\n        showDropdown: ng.IChangesObject<Function>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<any>;\r\n        pipChange: ng.IChangesObject<Function>;\r\n    }\r\n\r\n    const dropdown: ng.IComponentOptions = {\r\n        bindings: DropdownBindings,\r\n        templateUrl: 'dropdown/Dropdown.html',\r\n        controller: DropdownController\r\n    };\r\n\r\n    angular\r\n        .module('pipDropdown', ['pipNav.Templates'])\r\n        .component('pipDropdown', dropdown);\r\n\r\n}","import { INavHeaderService } from \"./INavHeaderService\";\r\nimport { NavHeaderConfig } from \"./NavHeaderConfig\";\r\n\r\n{\r\n    class NavHeaderController {\r\n        private cleanupNavHeaderChanged: Function;\r\n        private cleanupSideNavStateChanged: Function;\r\n\r\n        public title: string;\r\n        public subtitle: string;\r\n        public imageUrl: string = null;\r\n        public imageCss: string;\r\n        public image: any;\r\n        public imageBlock: any;\r\n        public loadedDefaultImage: boolean;\r\n        public showHeader: boolean;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $scope: angular.IScope,\r\n            $log: ng.ILogService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipNavHeader: INavHeaderService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-header');\r\n\r\n            this.initImage();\r\n\r\n            this.cleanupNavHeaderChanged = $rootScope.$on('pipNavHeaderChanged', ($event: ng.IAngularEvent, config: NavHeaderConfig) => {\r\n                this.onNavHeaderChanged($event, config)\r\n            });\r\n            this.cleanupSideNavStateChanged = $rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: any) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n        }\r\n\r\n        public $onDestroy() {\r\n\r\n            if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n                this.cleanupNavHeaderChanged();\r\n            }\r\n            if (angular.isFunction(this.cleanupSideNavStateChanged)) {\r\n                this.cleanupSideNavStateChanged();\r\n            }\r\n        }\r\n\r\n        private initImage() {\r\n            this.imageBlock = this.$element.find('.pip-sticky-nav-header-user');\r\n\r\n            this.$timeout(() => {\r\n                this.image = this.$element.find('.pip-sticky-nav-header-user-image');\r\n\r\n                if (this.image[0]) {\r\n                    this.image[0].onload = (() => this.onImageLoad());\r\n\r\n                    // ($event: HTMLElement, erroev: Event): any =>  {\r\n                    //     this.onImageLoad($event);\r\n                    //     return null;\r\n                    // }\r\n                    this.image[0].onerror = (() => this.onImageError());\r\n                    // ($event: ng.IAngularEvent) => {\r\n                    //     this.onImageError($event);\r\n                    // }\r\n                } else {\r\n                    this.image.onload = (() => this.onImageLoad());\r\n                    this.image.onerror = (() => this.onImageError());\r\n                }\r\n\r\n                this.onNavHeaderChanged(null, this.pipNavHeader.config);\r\n            }, 20);\r\n        }\r\n\r\n        private initHeader() {\r\n            if (!this.pipNavHeader.config) return;\r\n\r\n            this.title = this.pipNavHeader.config.title;\r\n            this.subtitle = this.pipNavHeader.config.subtitle;\r\n            this.imageUrl = this.pipNavHeader.config.imageUrl;\r\n            this.imageCss = this.pipNavHeader.config.imageCss;\r\n        }\r\n\r\n        // // When image is loaded resize/reposition it\r\n        // private onImageLoad($event) {\r\n        //     let image: ng.IAugmentedJQuery = $($event.target);\r\n        //     this.setImageMarginCSS(image);\r\n        // };\r\n\r\n        // private onImageError($event) {\r\n        //     if (this.loadedDefaultImage) return;\r\n        //     this.$scope.$apply(() => {\r\n        //         this.setImage(this.pipNavHeader.config, true);\r\n        //     });\r\n        // };\r\n        // When image is loaded resize/reposition it\r\n        private onImageLoad() {\r\n            this.setImageMarginCSS(this.image);\r\n        };\r\n\r\n        private onImageError() {\r\n            if (this.loadedDefaultImage) return;\r\n            this.$scope.$apply(() => {\r\n                this.setImage(this.pipNavHeader.config, true);\r\n            });\r\n        };\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: any) { // navState\r\n            if (state === undefined) return;\r\n\r\n            if (state.id == 'toggle') {\r\n                this.$timeout(() => {\r\n                    this.showHeader = state && state.id == 'toggle';\r\n                }, 400);\r\n            } else {\r\n                this.showHeader = false;\r\n            }\r\n        }\r\n\r\n        private setImageMarginCSS(image: ng.IAugmentedJQuery) { //image[0]\r\n            var cssParams = {},\r\n                containerWidth = this.imageBlock.width ? this.imageBlock.width() : this.imageBlock.clientWidth,\r\n                containerHeight = this.imageBlock.height ? this.imageBlock.height() : this.imageBlock.clientHeight,\r\n                imageWidth = image[0]['naturalWidth'] || image.width,\r\n                imageHeight = image[0]['naturalHeight'] || image.height,\r\n                margin = 0;\r\n\r\n            if ((imageWidth / containerWidth) > (imageHeight / containerHeight)) {\r\n                margin = -((imageWidth / imageHeight * containerHeight - containerWidth) / 2);\r\n                cssParams['margin-left'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + containerHeight + 'px';\r\n                cssParams['width'] = '' + imageWidth * containerHeight / imageHeight + 'px';\r\n                cssParams['margin-top'] = '';\r\n            } else {\r\n                margin = -((imageHeight / imageWidth * containerWidth - containerHeight) / 2);\r\n                cssParams['margin-top'] = '' + margin + 'px';\r\n                cssParams['height'] = '' + imageHeight * containerWidth / imageWidth + 'px';\r\n                cssParams['width'] = '' + containerWidth + 'px';\r\n                cssParams['margin-left'] = '';\r\n            }\r\n\r\n            image.css(cssParams);\r\n        };\r\n\r\n        private setImage(config, loadError: boolean) {\r\n            if (!config) return;\r\n\r\n            let url: string;\r\n\r\n            if (!loadError && !!config.imageUrl) {\r\n                url = config.imageUrl;\r\n            } else {\r\n                this.loadedDefaultImage = true;\r\n                url = config.defaultImageUrl;\r\n            }\r\n\r\n            if (url && this.image) {\r\n                this.image.attr('src', url);\r\n            } else {\r\n                this.imageBlock.css(\"display\", \"none\");\r\n            }\r\n        }\r\n\r\n        private onNavHeaderChanged($event: ng.IAngularEvent, config: NavHeaderConfig) {\r\n            if (!config) return;\r\n\r\n            this.title = config.title;\r\n            this.subtitle = config.subtitle;\r\n            this.imageUrl = config.imageUrl;\r\n            this.imageCss = config.imageCss;\r\n\r\n            this.setImage(config, false)\r\n        }\r\n\r\n        public onUserClick() {\r\n            this.$rootScope.$broadcast('pipNavUserClicked'); // todo\r\n        }\r\n\r\n    }\r\n\r\n    const navHeader: ng.IComponentOptions = {\r\n        templateUrl: 'header/NavHeader.html',\r\n        controller: NavHeaderController\r\n    };\r\n\r\n    angular\r\n        .module('pipNavHeader')\r\n        .component('pipNavHeader', navHeader);\r\n\r\n}","export class NavHeaderConfig {\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Image url\r\n    public defaultImageUrl: string;\r\n    // Title\r\n    public title: string;\r\n    // Subtitle\r\n    public subtitle: string;\r\n    // image styles\r\n    public imageCss: string;\r\n    // Handle header click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavHeaderConfig } from \"./NavHeaderConfig\";\r\nimport { INavHeaderService, INavHeaderProvider } from \"./INavHeaderService\";\r\n\r\nexport let NavHeaderChangedEvent = 'pipNavHeaderChanged';\r\n\r\nclass NavHeaderService implements INavHeaderService {\r\n    private _config: NavHeaderConfig;\r\n\r\n    public constructor(config: NavHeaderConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public show(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(NavHeaderChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavHeaderProvider implements INavHeaderProvider {\r\n    private _config: NavHeaderConfig = new NavHeaderConfig();\r\n    private _service: NavHeaderService;\r\n\r\n    public get config(): NavHeaderConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavHeaderConfig) {\r\n        this._config = value || new NavHeaderConfig();\r\n    }\r\n\r\n    public get defaultImageUrl(): string {\r\n        return this._config.defaultImageUrl;\r\n    }\r\n\r\n    public set defaultImageUrl(value: string) {\r\n        this._config.defaultImageUrl = value;\r\n    }\r\n\r\n    public get title(): string {\r\n        return this._config.title;\r\n    }\r\n\r\n    public set title(value: string) {\r\n        this._config.title = value;\r\n    }\r\n\r\n    public get subtitle(): string {\r\n        return this._config.subtitle;\r\n    }\r\n\r\n    public set subtitle(value: string) {\r\n        this._config.subtitle = value;\r\n    }\r\n\r\n    public get imageUrl(): string {\r\n        return this._config.imageUrl;\r\n    }\r\n\r\n    public set imageUrl(value: string) {\r\n        this._config.imageUrl = value;\r\n    }\r\n\r\n    public get click(): () => void {\r\n        return this._config.click;\r\n    }\r\n\r\n    public set click(value: () => void) {\r\n        this._config.click = value;\r\n    }\r\n\r\n    public get event(): string {\r\n        return this._config.event;\r\n    }\r\n\r\n    public set event(value: string) {\r\n        this._config.event = value;\r\n    }\r\n\r\n    public set(title: string, subtitle: string, imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.title = title;\r\n        this._config.subtitle = subtitle;\r\n        this._config.imageUrl = imageUrl;\r\n\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n        }\r\n        if (_.isString(callbackOrEvent)) {\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.title = null;\r\n        this._config.subtitle = null;\r\n        this._config.imageUrl = null;\r\n        this._config.click = null;\r\n        this._config.event = null;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavHeaderService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavHeader')\r\n    .provider('pipNavHeader', NavHeaderProvider);\r\n","angular.module('pipNavHeader', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './NavHeaderService';\r\nimport './NavHeader';\r\n\r\nexport * from './NavHeaderService';","import { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService } from './INavIconService';\r\nimport { NavIconClickedEvent, NavIconChangedEvent } from './NavIconService';\r\n\r\ninterface INavIconBindings {\r\n    [key: string]: any;\r\n\r\n    type: any;\r\n    imageUrl: any;\r\n    icon: any;\r\n}\r\n\r\nconst NavIconBindings: INavIconBindings = {\r\n    type: '<?pipType',\r\n    imageUrl: '<?pipImageUrl',\r\n    icon: '<?pipIcon'\r\n}\r\n\r\nclass NavIconChanges implements ng.IOnChangesObject, INavIconBindings {\r\n    [key: string]: ng.IChangesObject<any>;\r\n    // Not one way bindings\r\n\r\n    type: ng.IChangesObject<string>;\r\n    imageUrl: ng.IChangesObject<string>;\r\n    icon: ng.IChangesObject<string>;\r\n}\r\n\r\nclass NavIconController implements INavIconBindings {\r\n    private clearFn: Function;\r\n\r\n    public config: NavIconConfig;\r\n    public type: string;\r\n    public imageUrl: string;\r\n    public icon: string;\r\n\r\n    constructor(\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $window: ng.IWindowService,\r\n        $element: ng.IAugmentedJQuery,\r\n        $scope: angular.IScope,\r\n        $log: ng.ILogService,\r\n        pipNavIcon: INavIconService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-nav-icon');\r\n\r\n        this.config = pipNavIcon.config;\r\n\r\n        this.clearFn = $rootScope.$on('pipNavIconChanged', (event: ng.IAngularEvent, config: NavIconConfig) => {\r\n            this.onNavIconChanged(event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onInit() {\r\n        if (this.type) {\r\n            this.config.type = this.type;\r\n        }\r\n        if (this.imageUrl) {\r\n            this.config.imageUrl = this.imageUrl;\r\n        }\r\n        if (this.icon) {\r\n            this.config.icon = this.icon;\r\n        }        \r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    public onNavIconChanged(event: ng.IAngularEvent, config: NavIconConfig): void {\r\n        this.config = config;\r\n    }\r\n\r\n    public onNavIconClick(): void {\r\n        if (_.isFunction(this.config.click)) {\r\n            // Execute nav icon callback\r\n            this.config.click();\r\n        } else if (this.config.event) {\r\n            this.$rootScope.$broadcast(this.config.event);\r\n        } else if (this.config.type == 'menu') {\r\n            this.$rootScope.$broadcast(ToggleSideNavEvent);\r\n        } else if (this.config.type == 'back') {\r\n            this.$window.history.back();\r\n        } else {\r\n            this.$rootScope.$broadcast(NavIconClickedEvent);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst NavIcon: ng.IComponentOptions = {\r\n    bindings: NavIconBindings,\r\n    templateUrl: 'icon/NavIcon.html',\r\n    controller: NavIconController\r\n}\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .component('pipNavIcon', NavIcon);\r\n","export class NavIconConfig {\r\n    // Type of nav icon: 'back', 'menu', 'image' or 'none'\r\n    public type: string;\r\n    // Image url\r\n    public imageUrl: string;\r\n    // Icon name\r\n    public icon: string;\r\n    // Handle nav icon click event\r\n    click: () => void;\r\n    // Event name\r\n    event: string\r\n};","import { NavIconConfig } from './NavIconConfig';\r\nimport { INavIconService, INavIconProvider } from './INavIconService';\r\n\r\nexport const NavIconClickedEvent: string = 'pipNavIconClicked';\r\nexport const NavIconChangedEvent: string = 'pipNavIconChanged';\r\n\r\nclass NavIconService implements INavIconService {\r\n    private _config: NavIconConfig;\r\n\r\n    public constructor(config: NavIconConfig, private $rootScope: ng.IRootScopeService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent)) {\r\n            this._config.click = callbackOrEvent;\r\n            this._config.event = null;\r\n        } else if (_.isString(callbackOrEvent)) {\r\n            this._config.click = null;\r\n            this._config.event = callbackOrEvent;\r\n        } else {\r\n            this._config.click = null;\r\n            this._config.event = null;\r\n        }\r\n    }\r\n\r\n    public showMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public showImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public hide(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$broadcast(NavIconChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavIconProvider implements INavIconProvider {\r\n    private _config: NavIconConfig = new NavIconConfig();\r\n    private _service: NavIconService;\r\n\r\n    public get config(): NavIconConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: NavIconConfig) {\r\n        this._config = value || new NavIconConfig();\r\n    }\r\n\r\n    private setCallbackOrEvent(callbackOrEvent?: any): void {\r\n        if (_.isFunction(callbackOrEvent))\r\n            this._config.click = callbackOrEvent;\r\n        else this._config.click = null;\r\n\r\n        if (_.isString(callbackOrEvent))\r\n            this._config.event = callbackOrEvent;\r\n        else this._config.event = null;\r\n    }\r\n\r\n    public setMenu(callbackOrEvent?: any): void {\r\n        this._config.type = 'menu';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setIcon(icon: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'icon';\r\n        this._config.icon = icon;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setBack(callbackOrEvent?: any): void {\r\n        this._config.type = 'back';\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public setImage(imageUrl: string, callbackOrEvent?: any): void {\r\n        this._config.type = 'image';\r\n        this._config.imageUrl = imageUrl;\r\n        this.setCallbackOrEvent(callbackOrEvent);\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.type = 'none';\r\n        this.setCallbackOrEvent(null);\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavIconService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n     \r\n}\r\n\r\n\r\nangular\r\n    .module('pipNavIcon')\r\n    .provider('pipNavIcon', NavIconProvider);\r\n","angular.module('pipNavIcon', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavIconConfig';\r\nimport './INavIconService';\r\nimport './NavIconService';\r\nimport './NavIcon';\r\n\r\n\r\nexport * from './NavIconConfig';\r\nexport * from './INavIconService';\r\nexport * from './NavIconService';\r\n","{\r\n    class LanguagePickerDirectiveController implements ILanguagePickerBindings {\r\n        private _translate: pip.services.ITranslateService;\r\n        public languages: string[];\r\n        public value: string;\r\n\r\n        public constructor(\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            $rootScope: ng.IRootScopeService\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._translate = $injector.has('pipTranslate') ? <pip.services.ITranslateService>$injector.get('pipTranslate') : null;\r\n\r\n            // Apply class and call resize\r\n            $element.addClass('pip-language-picker');\r\n\r\n            this.setLanguages(this.languages);\r\n            this.value = this.value || this.languages[0];\r\n        }\r\n\r\n        public $onChanges(changes: LanguagePickerChanges) {\r\n            if (this.value != changes.value.previousValue) {\r\n            }\r\n        }\r\n\r\n        public get language() {\r\n            return this._translate ? this._translate.language : null;\r\n        }\r\n\r\n        public setLanguages(languages: string[]): void {\r\n            this.languages = languages && languages.length > 0 ? languages : ['en', 'ru'];\r\n        }\r\n\r\n        public onLanguageClick(language: string) {\r\n            if (this._translate != null) {\r\n                this.value = language;\r\n                this._translate.language = this.value;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    interface ILanguagePickerBindings {\r\n        [key: string]: any;\r\n\r\n        languages: any,\r\n        value: any\r\n    }\r\n\r\n    const LanguagePickerBindings: ILanguagePickerBindings = {\r\n        languages: '<?languages',\r\n        value: '<?value'\r\n    }\r\n\r\n    class LanguagePickerChanges implements ng.IOnChangesObject, ILanguagePickerBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n\r\n        languages: ng.IChangesObject<string[]>;\r\n        value: ng.IChangesObject<string>;\r\n    }\r\n\r\n    const languagePickerDirective: ng.IComponentOptions = {\r\n        bindings: LanguagePickerBindings,\r\n        templateUrl: 'language/LanguagePicker.html',\r\n        controller: LanguagePickerDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipLanguagePicker', [\r\n            'ngMaterial', 'pipNav.Translate', 'pipNav.Templates'\r\n        ])\r\n        .component('pipLanguagePicker', languagePickerDirective);\r\n\r\n}","import { ISideNavService} from '../sidenav/ISideNavService';\r\nimport { INavMenuService} from './INavMenuService';\r\nimport { SideNavStateNames, SideNavState, SideNavConfig } from '../sidenav/SideNavState';\r\nimport { NavMenuConfig, NavMenuSection, NavMenuLink } from './NavMenuConfig';\r\n\r\n(() => {\r\n    class NavMenuController {\r\n        private _state: angular.ui.IStateService;\r\n        private _pipMedia: pip.layouts.IMediaService;\r\n        private _animationDuration;\r\n        private _pipSideNavElement: ng.IAugmentedJQuery;\r\n\r\n        public sections: NavMenuSection[];\r\n        public defaultIcon: string;\r\n        public isCollapsed: boolean;\r\n        public expanded: boolean = null;\r\n        public expandedButton: boolean;\r\n        public sideNavState: SideNavState;\r\n\r\n        constructor(\r\n            private $scope: angular.IScope,\r\n            private $window: ng.IWindowService,\r\n            private $location: ng.ILocationService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private pipSideNav: ISideNavService,\r\n            private pipNavMenu: INavMenuService,\r\n\r\n            $element: ng.IAugmentedJQuery,\r\n            $injector: ng.auto.IInjectorService,\r\n            navConstant: any\r\n\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this._state = $injector.has('$state') ? <angular.ui.IStateService>$injector.get('$state') : null;\r\n\r\n            this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION,\r\n                this._pipSideNavElement = $element.parents('pip-sidenav');///$element.parent().parent();\r\n            // Apply class and call resize\r\n            $element.addClass('pip-sticky-nav-menu');\r\n\r\n            this.sections = this.$scope['sections'] || this.pipNavMenu.sections;\r\n\r\n            this.setCollapsible();\r\n\r\n            this.defaultIcon = this.pipNavMenu.defaultIcon;\r\n\r\n            this.onStateChanged(null, this.pipSideNav.state);\r\n\r\n            let cleanupNavMenuChanged: Function = this.$rootScope.$on('pipNavMenuChanged', ($event: ng.IAngularEvent, config: NavMenuConfig) => { //navState\r\n                this.onConfigChanged($event, config)\r\n            });\r\n            let cleanupSideNavStateChanged: Function = this.$rootScope.$on('pipSideNavStateChanged', ($event: ng.IAngularEvent, state: SideNavState) => { //navState\r\n                this.onStateChanged($event, state)\r\n            });\r\n\r\n            this.$scope.$on('$destroy', () => {\r\n                if (angular.isFunction(cleanupNavMenuChanged)) {\r\n                    cleanupNavMenuChanged();\r\n                }\r\n                if (angular.isFunction(cleanupSideNavStateChanged)) {\r\n                    cleanupSideNavStateChanged();\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private setCollapsible(): void {\r\n            var collapsed: boolean;\r\n            if (angular.isFunction(this.$scope['collapsed'])) {\r\n                collapsed = this.$scope['collapsed']();\r\n            } else {\r\n                collapsed = this.$scope['collapsed'] !== false && this.$scope['collapsed'] !== 'false';\r\n            }\r\n\r\n            this.isCollapsed = collapsed;\r\n        }\r\n\r\n        public onExpand(): void {\r\n            if (!this.isCollapsed) { return }\r\n\r\n            this.expanded = !this.expanded;\r\n\r\n            if (this.expanded) {\r\n                this._pipSideNavElement.removeClass('pip-sticky-nav-small');\r\n            } else {\r\n                this._pipSideNavElement.addClass('pip-sticky-nav-small');\r\n            }\r\n            this.$rootScope.$emit('pipNavExpanded', this.expanded);\r\n        }\r\n\r\n        public isHidden(item: NavMenuLink): boolean {\r\n            return item && item.access && !item.access(item);\r\n        }\r\n\r\n        public isSectionEmpty(linkCollection: NavMenuLink[]): boolean {\r\n            var result = true;\r\n            _.each(linkCollection, (link: NavMenuLink) => {\r\n                if (!this.isHidden(link)) {\r\n                    result = false;\r\n                }\r\n            });\r\n\r\n            return result;\r\n        }\r\n\r\n        private onConfigChanged($event: ng.IAngularEvent, config: NavMenuConfig): void {\r\n            if (!config) return;\r\n            this.sections = config.sections;\r\n        }\r\n\r\n        private onStateChanged(event: ng.IAngularEvent, state: SideNavState): void {\r\n            // SS> You shall not set it into the menu state. Instead it shall be controlled by the state of Sidenav\r\n            if (!state) return;\r\n\r\n            this.isCollapsed = state.expand;\r\n            if (!state.expandedButton || this.expanded == null) this.expanded = state.isExpanded;\r\n            this.expandedButton = state.expandedButton;\r\n\r\n            this.sideNavState = state;\r\n        }\r\n\r\n        public isActive(link: NavMenuLink): boolean {\r\n            if (link.parentState) {\r\n\r\n                if (this._state != null && this._state.includes(link.parentState)) {\r\n                    return true;\r\n                }\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.includes(link.state)) {\r\n                    return true;\r\n                }\r\n            } else if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    return true;\r\n                }\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public clickLink(event: ng.IAngularEvent, link: NavMenuLink): void {\r\n            event.stopPropagation();\r\n\r\n            if (!link) {\r\n                this.pipSideNav.close();\r\n\r\n                return;\r\n            }\r\n\r\n            if (link.href) {\r\n                if (link.href.split('?')[0] === this.$window.location.href.split('?')[0]) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$window.location.href = link.href;\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.url) {\r\n                if (link.url.split(/[\\s/?]+/)[1] === this.$location.url().split(/[\\s/?]+/)[1]) {\r\n                    this.pipSideNav.close();\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this.$location.url(link.url);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.state) {\r\n                if (this._state != null && this._state.current.name === link.state) {\r\n                    this.pipSideNav.close();\r\n\r\n                    return;\r\n                }\r\n\r\n                this.pipSideNav.close();\r\n                this.$timeout(() => {\r\n                    this._state.go(link.state, link.stateParams);\r\n                }, this._animationDuration);\r\n\r\n                return;\r\n            } else if (link.event) {\r\n                this.$rootScope.$broadcast(link.event, link);\r\n            }\r\n\r\n            this.pipSideNav.close();\r\n        }\r\n    }\r\n\r\n    interface INavMenuBindings {\r\n        [key: string]: any;\r\n        sections: any,\r\n        collapsed: any\r\n    }\r\n\r\n    const NavMenuBindings: INavMenuBindings = {\r\n        sections: '=?pipSections',\r\n        collapsed: '=?pipCollapsed'\r\n    };\r\n\r\n    function navMenuDirective() {\r\n        return {\r\n            restrict: 'EA',\r\n            scope: NavMenuBindings,\r\n            replace: false,\r\n            templateUrl: 'menu/NavMenu.html',\r\n            controller: NavMenuController,\r\n            controllerAs: '$ctrl'\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipNavMenu')\r\n        .directive('pipNavMenu', navMenuDirective);\r\n\r\n})();","import { NavMenuConfig, NavMenuSection } from './NavMenuConfig';\r\nimport { INavMenuService, INavMenuProvider } from './INavMenuService';\r\n\r\nexport const NavMenuChangedEvent = 'pipNavMenuChanged';\r\n\r\nclass NavMenuService implements INavMenuService {\r\n    private _config: NavMenuConfig;\r\n    private _rootScope: ng.IRootScopeService;\r\n\r\n    public constructor(\r\n        config: NavMenuConfig,\r\n        $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n        this._rootScope = $rootScope;\r\n    }\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public updateBadgeStyle(link: string, style: string): void {\r\n        if (link == null || !_.isString(style)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.badgeStyle = style;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public updateCount(link: string, count: number): void {\r\n        if (link == null || !_.isNumber(count)) return;\r\n\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                if (l.name == link)\r\n                    l.count = count;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    public clearCounts(): void {\r\n        _.each(this._config.sections, (s) => {\r\n            _.each(s.links, (l) => {\r\n                l.count = null;\r\n            });\r\n        });\r\n\r\n        this.sendChangeEvent();\r\n    }\r\n\r\n    private sendChangeEvent() {\r\n        this._rootScope.$emit(NavMenuChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass NavMenuProvider implements INavMenuProvider {\r\n    private _config: NavMenuConfig = {\r\n        sections: [],\r\n        defaultIcon: 'icons:folder'\r\n    };\r\n    private _service: NavMenuService;\r\n\r\n    public get sections(): NavMenuSection[] {\r\n        return this._config.sections;\r\n    }\r\n\r\n    public set sections(value: NavMenuSection[]) {\r\n        this._config.sections = value || [];\r\n    }\r\n\r\n    public get defaultIcon(): string {\r\n        return this._config.defaultIcon;\r\n    }\r\n\r\n    public set defaultIcon(value: string) {\r\n        this._config.defaultIcon = value;\r\n    }\r\n\r\n    public $get($rootScope) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new NavMenuService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nangular\r\n    .module('pipNavMenu')\r\n    .provider('pipNavMenu', NavMenuProvider);\r\n","angular.module('pipNavMenu', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './NavMenuService';\r\nimport './NavMenu';","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchService } from './ISearchService';\r\nimport { OpenSearchEvent, CloseSearchEvent, SearchChangedEvent, SearchActivatedEvent } from './SearchService';\r\n\r\nclass SearchBarController {\r\n    private clearFn: Function;\r\n\r\n    public config: SearchConfig;\r\n    public enabled: boolean = false;\r\n    public search: any = { text: '' };\r\n\r\n    public constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        private $rootScope: ng.IRootScopeService,\r\n        pipSearch: ISearchService\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        // Apply class and call resize\r\n        $element.addClass('pip-search-bar');\r\n\r\n        this.config = pipSearch.config;\r\n        this.stateChange();\r\n        this.clearFn = $rootScope.$on(SearchChangedEvent, (event: ng.IAngularEvent, config: SearchConfig) => {\r\n            this.onSearchChanged(event, config);\r\n        });\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (_.isFunction(this.clearFn)) {\r\n            this.clearFn();\r\n        }\r\n    }\r\n\r\n    private stateChange(): void {\r\n        if (this.enabled) {\r\n            this.$element.addClass('w-stretch');\r\n            this.$element.parent().addClass('pip-search-active');\r\n\r\n        } else {\r\n            this.$element.removeClass('w-stretch');\r\n            this.$element.parent().removeClass('pip-search-active');\r\n        }\r\n    }\r\n\r\n    private onSearchChanged(event: ng.IAngularEvent, config: SearchConfig): void {\r\n        this.config = config;\r\n        this.enabled = false;\r\n        this.search.text = '';\r\n        this.stateChange();\r\n    }\r\n\r\n    private focusText(): void {\r\n        setTimeout(() => {\r\n            let element: JQuery = $('.pip-search-text');\r\n            if (element.length > 0)\r\n                element.focus();\r\n        }, 0);\r\n    }\r\n\r\n    public enable(): void {\r\n        this.search.text = this.config.criteria;\r\n        this.enabled = true;\r\n        this.focusText();\r\n        this.stateChange();\r\n    }\r\n\r\n    public onClick(): void {\r\n        let search = this.search.text;\r\n\r\n        this.search.text = '';\r\n        this.enabled = false;\r\n        this.stateChange();\r\n\r\n        if (this.config.callback) {\r\n            this.config.callback(search);\r\n        } else {\r\n            this.$rootScope.$broadcast(SearchActivatedEvent, search);\r\n        }\r\n    }\r\n\r\n    public clear(): void {\r\n        if (this.search.text) {\r\n            this.search.text = '';\r\n            this.focusText();\r\n        } else {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n            this.onClick();\r\n        }\r\n    }\r\n\r\n    public onKeyDown(event: KeyboardEvent): void {\r\n        // Enter pressed\r\n        if (event.keyCode === 13)\r\n            this.onClick();\r\n        // ESC pressed\r\n        else if (event.keyCode === 27) {\r\n            this.enabled = false;\r\n            this.stateChange();\r\n        }\r\n    }\r\n}\r\n\r\nconst SearchBar: ng.IComponentOptions = {\r\n    templateUrl: 'search/SearchBar.html',\r\n    controller: SearchBarController\r\n}\r\n\r\nangular\r\n    .module('pipSearchBar')\r\n    .component('pipSearchBar', SearchBar);\r\n","export class SearchConfig {\r\n    // Search visible\r\n    public visible: boolean;\r\n    // Search criteria\r\n    public criteria: string;\r\n    // Custom search parameters\r\n    public params: any;\r\n    // History for search autocomplete\r\n    public history: string[];\r\n    // Callback for search\r\n    callback: (criteria: string) => void;\r\n}","import { SearchConfig } from './SearchConfig';\r\nimport { ISearchProvider, ISearchService } from './ISearchService';\r\n\r\nexport const OpenSearchEvent = 'pipOpenSearch';\r\nexport const CloseSearchEvent = 'pipCloseSearch';\r\nexport const SearchChangedEvent = 'pipSearchChanged';\r\nexport const SearchActivatedEvent = 'pipSearchActivated';\r\n\r\nclass SearchService implements ISearchService {\r\n    private _config: SearchConfig;\r\n\r\n    public constructor(\r\n        config: SearchConfig,\r\n        private $rootScope: ng.IRootScopeService\r\n    ) {\r\n        this._config = config;\r\n\r\n        $rootScope.$on(OpenSearchEvent, () => { this.open });\r\n        $rootScope.$on(CloseSearchEvent, () => { this.close });\r\n    }\r\n\r\n    public get config(): SearchConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get criteria(): string {\r\n        return this._config.criteria;\r\n    }\r\n\r\n    public set criteria(value: string) {\r\n        this._config.criteria = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get params(): any {\r\n        return this._config.params;\r\n    }\r\n\r\n    public set params(value: any) {\r\n        this._config.params = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get history(): string[] {\r\n        return this._config.history;\r\n    }\r\n\r\n    public set history(value: string[]) {\r\n        this._config.history = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get callback(): (criteria: string) => void {\r\n        return this._config.callback;\r\n    }\r\n\r\n    public set callback(value: (criteria: string) => void) {\r\n        this._config.callback = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public set(callback: (criteria: string) => void, criteria?: string, params?: any, history?: string[]): void {\r\n        this._config.callback = callback;\r\n        this._config.criteria = criteria;\r\n        this._config.params = params;\r\n        this._config.history = history;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public clear(): void {\r\n        this._config.callback = null;\r\n        this._config.criteria = null;\r\n        this._config.params = null;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public open(): void {\r\n        this._config.visible = true;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public close(): void {\r\n        this._config.visible = false;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public toggle(): void {\r\n        this._config.visible = !this._config.visible;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent(): void {\r\n        this.$rootScope.$broadcast(SearchChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SearchProvider implements ISearchProvider {\r\n    private _config: SearchConfig = new SearchConfig();\r\n    private _service: SearchService = null;\r\n\r\n    public $get($rootScope: ng.IRootScopeService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SearchService(this._config, $rootScope);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\n\r\nangular.module('pipSearchBar')\r\n    .provider('pipSearch', SearchProvider);\r\n","angular.module('pipSearchBar', ['ngMaterial', 'pipNav.Translate', 'pipNav.Templates']);\r\n\r\nimport './SearchConfig';\r\nimport './ISearchService';\r\nimport './SearchService';\r\nimport './SearchBar';\r\n\r\nexport * from './ISearchService';\r\n","import { ISideNavService } from './ISideNavService';\r\nimport { ToggleSideNavEvent } from '../sidenav/SideNavService';\r\nimport { SideNavStateNames, SideNavState, SideNavStateConfig, SideNavConfig } from './SideNavState';\r\n\r\nclass SideNavController implements ISideNavBindings {\r\n    private _pipMedia: pip.layouts.IMediaService;\r\n    private _isResizing: boolean;\r\n    private _animationDuration: number;\r\n    private _mainContainer: string; // todo add  to config\r\n    private _bigWidth: number;\r\n    private _middleWidth: number;\r\n    private _smallWidth: number;\r\n    private _mediaBreakpoints: pip.layouts.MediaBreakpoints;\r\n    private _navState: SideNavStateConfig;\r\n    private cleanupMainResized: Function;\r\n    private cleanupSideNavState: Function;\r\n    private cleanupNavHeaderChanged: Function;\r\n    private cleanupSideNavChanged: Function;\r\n    private windowResize: Function;\r\n\r\n    public sidenavState: SideNavState;\r\n\r\n    constructor(\r\n        private $element: ng.IAugmentedJQuery,\r\n        $attrs: ng.IAttributes,\r\n        $injector: ng.auto.IInjectorService,\r\n        private $scope: angular.IScope,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $timeout: ng.ITimeoutService,\r\n        private pipSideNav: ISideNavService,\r\n        navConstant: any\r\n\r\n    ) {\r\n        \"ngInject\";\r\n\r\n        this._pipMedia = $injector.has('pipMedia') ? <pip.layouts.IMediaService>$injector.get('pipMedia') : null;\r\n\r\n        this._mainContainer = navConstant.SIDENAV_CONTAINER;\r\n        this._bigWidth = navConstant.SIDENAV_LARGE_WIDTH;\r\n        this._middleWidth = navConstant.SIDENAV_MIDDLE_WIDTH;\r\n        this._smallWidth = navConstant.SIDENAV_SMALL_WIDTH;\r\n        this._isResizing = false;\r\n        this._animationDuration = navConstant.SIDENAV_ANIMATION_DURATION;\r\n        this._navState = new SideNavStateConfig();\r\n        this._mediaBreakpoints = this.setBreakpoints();\r\n\r\n        // Apply class and call resize\r\n        this.$element.addClass('pip-sticky-sidenav');\r\n\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type != 'popup') {\r\n            this.$timeout(() => {\r\n                this.setSideNaveState()\r\n            }, 100);\r\n\r\n            this.windowResize = _.debounce(() => { this.setSideNaveState(); }, 10);\r\n            this.cleanupMainResized = this.$rootScope.$on('pipMainResized', () => {\r\n                this.windowResize();\r\n            });\r\n            this.cleanupSideNavState = this.$rootScope.$on('pipSideNavState', ($event: ng.IAngularEvent, state: SideNavStateNames) => {\r\n                this.onSideNavState($event, state)\r\n            });\r\n        } else {\r\n            this._isResizing = false;\r\n            this.sidenavState = null;\r\n            this.$timeout(() => {\r\n                if (this.pipSideNav.config.backdrop == false) {\r\n                    this.$element.addClass('pip-sidenav-hide-backdrop');\r\n                } else {\r\n                    this.$element.removeClass('pip-sidenav-hide-backdrop');\r\n                }\r\n                this.setState(SideNavStateNames.Toggle);\r\n            }, 100);\r\n        }\r\n\r\n        this.cleanupNavHeaderChanged = this.$rootScope.$on(ToggleSideNavEvent, () => {\r\n            this.onNavIconClick();\r\n        });\r\n        this.cleanupSideNavChanged = this.$rootScope.$on('pipSideNavChanged', ($event: ng.IAngularEvent, config: SideNavConfig) => { //navState\r\n            this.onSideNavChanged($event, config)\r\n        });\r\n\r\n    }\r\n\r\n    public $onDestroy() {\r\n        if (angular.isFunction(this.cleanupNavHeaderChanged)) {\r\n            this.cleanupNavHeaderChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavChanged)) {\r\n            this.cleanupSideNavChanged();\r\n        }\r\n        if (angular.isFunction(this.cleanupMainResized)) {\r\n            this.cleanupMainResized();\r\n        }\r\n        if (angular.isFunction(this.cleanupSideNavState)) {\r\n            this.cleanupSideNavState();\r\n        }\r\n    }\r\n\r\n    private setBreakpoints(): pip.layouts.MediaBreakpoints {\r\n        if (!this._pipMedia || !angular.isObject(this._pipMedia.breakpoints)) {\r\n            return { xs: 639, sm: 959, md: 1024, lg: 1919 };\r\n        } else {\r\n            return this._pipMedia.breakpoints;\r\n        }\r\n    }\r\n\r\n    private onSideNavChanged($event: ng.IAngularEvent, config: SideNavConfig): void {\r\n        if (config && config.visible) {\r\n            this.$element.css('display', 'block');\r\n        } else {\r\n            this.$element.css('display', 'none');\r\n        }\r\n    }\r\n\r\n    private onNavIconClick(): void {\r\n        this.pipSideNav.toggle();\r\n    }\r\n\r\n    private onSideNavState($event: ng.IAngularEvent, stateName: SideNavStateNames): void {\r\n        if (angular.isString(stateName) && this._navState[stateName] !== undefined) {\r\n            this.setState(stateName);\r\n        }\r\n    }\r\n\r\n    private setSideNaveState(): void {\r\n        if (this.pipSideNav.config && this.pipSideNav.config.type == 'popup') { return }\r\n\r\n        if (this._isResizing) {\r\n            this.$timeout(() => { this.setSideNaveState() }, this._animationDuration);\r\n\r\n            return;\r\n        }\r\n\r\n        let mainWidth: number = $(this._mainContainer).innerWidth();\r\n        let sideNavWidth: number = $('.pip-sticky-sidenav').innerWidth();\r\n        let currentWidth: number = sideNavWidth ? sideNavWidth + 1 : 0; // add border width\r\n\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.sm) {\r\n            this.setState(SideNavStateNames.Toggle);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.md) {\r\n            this.setState(SideNavStateNames.Small);\r\n            return;\r\n        }\r\n        if (mainWidth + currentWidth <= this._mediaBreakpoints.lg) {\r\n            this.setState(SideNavStateNames.Large);\r\n            return;\r\n        }\r\n        this.setState(SideNavStateNames.XLarge);\r\n    }\r\n\r\n    private setState(stateName: SideNavStateNames) {\r\n        if (this._isResizing) return;\r\n        if (this.sidenavState && this.sidenavState.id == stateName) return;\r\n\r\n        if (stateName != SideNavStateNames.Toggle) {\r\n            this.$element.removeClass('sidenav-mobile');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Small) {\r\n            this.$element.removeClass('pip-sticky-nav-small');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.XLarge) {\r\n            this.$element.removeClass('sidenav-desktop');\r\n        }\r\n\r\n        if (stateName != SideNavStateNames.Large) {\r\n            this.$element.removeClass('sidenav-smalldesktop');\r\n        }\r\n\r\n        this._isResizing = true;\r\n        /*if (stateName == SideNavStateNames.Toggle) {\r\n            this.pipSideNav.close();\r\n        }*/\r\n        this.sidenavState = this._navState[String(stateName)];\r\n        this.$element.addClass(this.sidenavState.addClass);\r\n\r\n        this.pipSideNav.state = this.sidenavState;\r\n\r\n        // check sideNav State\r\n        this.$timeout(() => {\r\n            this.setSideNaveState()\r\n        }, 15);\r\n\r\n        // complete animation\r\n        this.$timeout(() => {\r\n            this._isResizing = false;\r\n        }, this._animationDuration); //animationDuration\r\n\r\n    }\r\n}\r\n\r\n\r\ninterface ISideNavBindings {\r\n    [key: string]: any;\r\n    sidenavState: any;\r\n}\r\n\r\nconst SideNavBindings: ISideNavBindings = {\r\n    sidenavState: '=?'\r\n};\r\n\r\n(() => {\r\n\r\n    const sideNav: ng.IComponentOptions = {\r\n        transclude: true,\r\n        bindings: SideNavBindings,\r\n        templateUrl: 'sidenav/SideNav.html',\r\n        controller: SideNavController\r\n    };\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .component('pipSidenav', sideNav);\r\n\r\n})();","{\r\n\r\n    interface ISideNavPartBindings {\r\n        [key: string]: any;\r\n        visible: any\r\n    }\r\n\r\n    const SideNavPartBindings: ISideNavPartBindings = {\r\n        visible: '=?'\r\n    }\r\n\r\n    class SideNavPartController {\r\n        private partName: string;\r\n        private partValue: string = null;\r\n        private pos: number;\r\n\r\n        constructor(\r\n            private $scope: ng.IScope,\r\n            $element: ng.IRootElementService,\r\n            $attrs: ng.IAttributes,\r\n            $rootScope: ng.IRootScopeService,\r\n            pipSideNav) {\r\n\r\n            this.partName = '' + $attrs['pipSidenavPart'];\r\n            this.pos = this.partName.indexOf(':');\r\n            if (this.pos > 0) {\r\n                this.partValue = this.partName.substr(this.pos + 1);\r\n                this.partName = this.partName.substr(0, this.pos);\r\n            }\r\n\r\n            this.onSideNavChanged(null, pipSideNav.config)\r\n            $rootScope.$on('pipSideNavChanged', (event, config) => { this.onSideNavChanged(event, config) });\r\n        }\r\n\r\n        private onSideNavChanged(event, config) {\r\n            let parts = config.parts || {};\r\n            let currentPartValue = parts[this.partName];\r\n            let visible: boolean = !!(this.partValue ? currentPartValue == this.partValue : currentPartValue);\r\n\r\n            if (visible != this.$scope['visible'])\r\n                this.$scope['visible'] = visible;\r\n        }\r\n    }\r\n\r\n    function sidenavPartDirective(ngIfDirective) {\r\n        \"ngInject\";\r\n        let ngIf = ngIfDirective[0];\r\n\r\n        return {\r\n            transclude: ngIf.transclude,\r\n            priority: ngIf.priority,\r\n            terminal: ngIf.terminal,\r\n            restrict: ngIf.restrict,\r\n            scope: SideNavPartBindings,\r\n            link: function linkFunction(\r\n                $scope: ng.IScope,\r\n                $element: ng.IRootElementService,\r\n                $attrs: ng.IAttributes) {\r\n                $attrs['ngIf'] = () => { return $scope['visible'] };\r\n                ngIf.link.apply(ngIf, arguments);\r\n            },\r\n            controller: SideNavPartController\r\n        };\r\n    }\r\n\r\n    angular\r\n        .module('pipSideNav')\r\n        .directive('pipSidenavPart', sidenavPartDirective);\r\n\r\n}","import { SideNavState, SideNavConfig } from \"./SideNavState\";\r\nimport { ISideNavProvider, ISideNavService } from \"./ISideNavService\";\r\n\r\nexport const SideNavChangedEvent = 'pipSideNavChanged';\r\nexport const SideNavStateChangedEvent = 'pipSideNavStateChanged';\r\nexport const OpenSideNavEvent = 'pipOpenSideNav';\r\nexport const CloseSideNavEvent = 'pipCloseSideNav';\r\nexport const ToggleSideNavEvent = 'pipToggleSideNav';\r\n\r\nclass SideNavService implements ISideNavService {\r\n    private _config: SideNavConfig;\r\n    private _state: any;\r\n\r\n    public constructor(\r\n        config: SideNavConfig,\r\n        private $rootScope: ng.IRootScopeService,\r\n        private $mdSidenav: ng.material.ISidenavService) {\r\n        this._config = config;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public get state(): any {\r\n        return this._state;\r\n    }\r\n\r\n    public set state(value: any) {\r\n        this._state = value || {};\r\n        this.$rootScope.$broadcast(SideNavStateChangedEvent, value);\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public open() {\r\n        this.$mdSidenav('pip-sticky-sidenav').open();\r\n    }\r\n\r\n    public close() {\r\n        this.$mdSidenav('pip-sticky-sidenav').close();\r\n    }\r\n\r\n    public toggle() {\r\n        this.$mdSidenav('pip-sticky-sidenav').toggle();\r\n    }\r\n\r\n    public show() {\r\n        if (!this._config.visible) {\r\n            this._config.visible = true;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public hide() {\r\n        if (this._config.visible) {\r\n            this._config.visible = false;\r\n            this.sendConfigEvent();\r\n        }\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n        this.sendConfigEvent();\r\n    }\r\n\r\n    private sendConfigEvent() {\r\n        this.$rootScope.$emit(SideNavChangedEvent, this._config);\r\n    }\r\n}\r\n\r\nclass SideNavProvider implements ISideNavProvider {\r\n    private _config: SideNavConfig = {\r\n        parts: {},\r\n        classes: [],\r\n        type: 'popup',\r\n        backdrop: true,\r\n        state: null,\r\n        visible: true\r\n    };\r\n\r\n    private _service: SideNavService;\r\n\r\n    public get backdrop(): boolean {\r\n        return this._config.backdrop;\r\n    }\r\n\r\n    public set backdrop(value: boolean) {\r\n        this._config.backdrop = value;\r\n    }\r\n\r\n    public get config(): SideNavConfig {\r\n        return this._config;\r\n    }\r\n\r\n    public set config(value: SideNavConfig) {\r\n        this._config = value || new SideNavConfig();\r\n    }\r\n\r\n    public get parts(): any {\r\n        return this._config.parts;\r\n    }\r\n\r\n    public set parts(value: any) {\r\n        this._config.parts = value || {};\r\n    }\r\n\r\n    public get type(): string {\r\n        return this._config.type;\r\n    }\r\n\r\n    public set type(value: string) {\r\n        this._config.type = value;\r\n    }\r\n\r\n    public get visible(): boolean {\r\n        return this._config.visible;\r\n    }\r\n\r\n    public set visible(value: boolean) {\r\n        this._config.visible = value;\r\n    }\r\n\r\n    public get classes(): string[] {\r\n        return this._config.classes;\r\n    }\r\n\r\n    public set classes(value: string[]) {\r\n        this._config.classes = value || [];\r\n    }\r\n\r\n    public addClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes.push(c);\r\n        });\r\n    }\r\n\r\n    public removeClass(...classes: string[]): void {\r\n        _.each(classes, (c) => {\r\n            this._config.classes = _.reject(this._config.classes, (cc) => cc == c);\r\n        });\r\n    }\r\n\r\n    public part(part: string, value: any): void {\r\n        this._config.parts[part] = value;\r\n    }\r\n\r\n    public $get($rootScope: ng.IRootScopeService, $mdSidenav: ng.material.ISidenavService) {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null)\r\n            this._service = new SideNavService(this._config, $rootScope, $mdSidenav);\r\n\r\n        return this._service;\r\n    }\r\n}\r\n\r\nfunction hookSideNavEvents($rootScope: ng.IRootScopeService, pipSideNav: ISideNavService) {\r\n    $rootScope.$on(OpenSideNavEvent, () => { pipSideNav.open(); });\r\n    $rootScope.$on(CloseSideNavEvent, () => { pipSideNav.close(); });\r\n}\r\n\r\nangular\r\n    .module('pipSideNav')\r\n    .provider('pipSideNav', SideNavProvider)\r\n    .run(hookSideNavEvents);\r\n","export class SideNavStateNames {\r\n    static Toggle: string = 'toggle';\r\n    static Small: string = 'small';\r\n    static Large: string = 'large';\r\n    static XLarge: string = 'xlarge';\r\n}\r\n\r\nexport class SideNavState {\r\n    id: SideNavStateNames;\r\n    // Class which added to sidenav in this state\r\n    addClass: string;\r\n    // Side nav always open\r\n    isLockedOpen: boolean;\r\n    // Show SideNav header \r\n    showHeader: boolean;\r\n    // Show expanded button\r\n    expandedButton: boolean;\r\n    // SideNav has expand\r\n    isExpanded: boolean;\r\n    // SideNav is Expanded in this state by default\r\n    expand: boolean;\r\n    // Tooltype is show\r\n    showIconTooltype: boolean;\r\n}\r\n\r\nexport class SideNavStateConfig {\r\n    toggle: SideNavState = { // media(sm, xs)\r\n        id: SideNavStateNames.Toggle,\r\n        addClass: 'sidenav-mobile',\r\n        showHeader: true,\r\n        isLockedOpen: false,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n    small: SideNavState = { // media(md)\r\n        id: SideNavStateNames.Small,\r\n        addClass: 'pip-sticky-nav-small sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: false,\r\n        expand: false,\r\n        showIconTooltype: true\r\n    };\r\n    large: SideNavState = { // media(lg)\r\n        id: SideNavStateNames.Large,\r\n        addClass: 'sidenav-smalldesktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: true,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: true\r\n    };\r\n    xlarge: SideNavState = { // media(xl)\r\n        id: SideNavStateNames.XLarge,\r\n        addClass: 'sidenav-desktop',\r\n        showHeader: false,\r\n        isLockedOpen: true,\r\n        expandedButton: false,\r\n        isExpanded: true,\r\n        expand: true,\r\n        showIconTooltype: false\r\n    };\r\n}\r\n\r\nexport class SideNavConfig {\r\n    parts: any;\r\n    classes: string[];\r\n    state: SideNavState;\r\n    type: string;\r\n    backdrop: boolean = true;\r\n    visible: boolean;\r\n}","angular.module('pipSideNav', ['ngMaterial', 'pipNav.Templates']);\r\n\r\nimport './SideNavState';\r\nimport './SideNavService';\r\nimport './SideNavPart';\r\nimport './SideNav';\r\n\r\nexport * from './SideNavService';","\r\nexport class PipTab {\r\n    id: string;\r\n    name?: string;\r\n    count: number;\r\n    title: string;\r\n}\r\n\r\n{\r\n    interface ITabsBindings {\r\n        [key: string]: any;\r\n\r\n        ngDisabled: any;\r\n        tabs: any;\r\n        showTabs: any;\r\n        showTabsShadow: any;\r\n        activeIndex: any;\r\n        select: any;\r\n        breakpoints: any;\r\n        themeClass: any;\r\n    }\r\n\r\n    const TabsBindings: ITabsBindings = {\r\n        ngDisabled: '&?', // function\r\n        tabs: '<pipTabs', // PipTab[]\r\n        showTabs: '&pipShowTabs', // function\r\n        showTabsShadow: '&pipTabsShadow', // function\r\n        activeIndex: '<?pipActiveIndex', // number\r\n        select: '=pipTabsSelect', // function\r\n        breakpoints: '<?pipBreakpoints', // string\r\n        themeClass: '<?themeClass', // string\r\n    }\r\n\r\n    class TabsChanges implements ng.IOnChangesObject, ITabsBindings {\r\n        [key: string]: ng.IChangesObject<any>;\r\n        // Not one way bindings\r\n        ngDisabled: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        tabs: ng.IChangesObject<PipTab[]>;\r\n        showTabs: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        showTabsShadow: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        activeIndex: ng.IChangesObject<number>;\r\n        select: ng.IChangesObject<() => ng.IPromise<void>>;\r\n        breakpoints: ng.IChangesObject<string>;\r\n        themeClass: ng.IChangesObject<string>;\r\n    }\r\n\r\n    class TabsDirectiveController implements ITabsBindings {\r\n        private _pipTranslate: pip.services.ITranslateService;\r\n        private _pipTheme: pip.themes.IThemeService;\r\n        private pipMedia;\r\n        private selectedTabId: string;\r\n\r\n        public ngDisabled: Function;\r\n        public tabs: PipTab[];\r\n        public activeIndex: number;\r\n        public breakpoints: string;\r\n        public showTabs: Function;\r\n        public showTabsShadow: Function;\r\n        public select: Function;\r\n        public themeClass: string;\r\n\r\n        public currentTheme: string;\r\n\r\n        public change: () => ng.IPromise<any>;\r\n\r\n        constructor(\r\n            private $element: ng.IAugmentedJQuery,\r\n            private $injector: ng.auto.IInjectorService,\r\n            private $rootScope: ng.IRootScopeService,\r\n            private $timeout: ng.ITimeoutService,\r\n            private navConstant: any,\r\n            $mdMedia: angular.material.IMedia\r\n        ) {\r\n            \"ngInject\";\r\n\r\n            this.setTheme();\r\n            this.pipMedia = this.$injector.has('pipMedia') ? <pip.layouts.IMediaService>this.$injector.get('pipMedia') : $mdMedia;\r\n            \r\n            if (!this.breakpoints) {\r\n                this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n            }\r\n        }\r\n\r\n        private setTheme(): void {\r\n            this._pipTheme = this.$injector.has('pipTheme') ? <pip.themes.IThemeService>this.$injector.get('pipTheme') : null;\r\n            if (this._pipTheme) {\r\n                this.currentTheme = this._pipTheme.theme;\r\n            } else if (this.$rootScope['$theme']) {\r\n                this.currentTheme = this.$rootScope['$theme'];\r\n            }\r\n\r\n            this.themeClass = (this.themeClass || '') + ' md-' + this.currentTheme + '-theme';\r\n        }\r\n\r\n        private setTranslate(): void {\r\n            this._pipTranslate = this.$injector.has('pipTranslate') ? <pip.services.ITranslateService>this.$injector.get('pipTranslate') : null;\r\n            if (this._pipTranslate) {\r\n                if (this.tabs.length > 0 && this.tabs[0].title) {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'title', 'nameLocal');\r\n                } else {\r\n                    this._pipTranslate.translateObjects(this.tabs, 'name', 'nameLocal');\r\n                }\r\n            }\r\n        }\r\n\r\n        public isDisabled(): boolean {\r\n            if (_.isFunction(this.ngDisabled)) {\r\n                return this.ngDisabled();\r\n            } else {\r\n                return this.toBoolean(this.ngDisabled);\r\n            }\r\n        };\r\n\r\n        public tabDisabled(index: number): boolean {\r\n            return (this.isDisabled() && this.activeIndex != index);\r\n        };\r\n\r\n        public onSelect(index: number): void {\r\n            if (this.isDisabled()) return;\r\n            this.activeIndex = index;\r\n            this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            this.$timeout(() => {\r\n                if (this.select) {\r\n                    this.select(this.tabs[this.activeIndex], this.activeIndex);\r\n                }\r\n            }, 0);\r\n\r\n        };\r\n\r\n        public showShadow(): boolean {\r\n            if (_.isFunction(this.showTabsShadow)) {\r\n                return this.showTabsShadow();\r\n            } else {\r\n                return this.toBoolean(this.showTabsShadow);\r\n            }\r\n        };\r\n\r\n        public show(): boolean {\r\n            if (!this.showTabs) return true;\r\n            if (_.isFunction(this.showTabs)) {\r\n                return this.showTabs();\r\n            } else {\r\n                return this.toBoolean(this.showTabs);\r\n            }\r\n        };\r\n\r\n        public toBoolean(value: any): boolean {\r\n            if (value == null) return false;\r\n            if (!value) return false;\r\n            value = value.toString().toLowerCase();\r\n            return value == '1' || value == 'true';\r\n        }\r\n\r\n        public $onChanges(changes: TabsChanges) {\r\n\r\n            if (!changes.breakpoints) {\r\n                if (!this.breakpoints) {\r\n                    this.breakpoints = this.navConstant.TAB_BREAKPOINT;\r\n\r\n                }\r\n            } else {\r\n                this.breakpoints = changes.breakpoints.currentValue ? changes.breakpoints.currentValue : this.navConstant.TAB_BREAKPOINT\r\n            }\r\n\r\n            if (changes.activeIndex === undefined) {\r\n                if (!this.activeIndex) {\r\n                    this.activeIndex = 0;\r\n                }\r\n            } else {\r\n                this.activeIndex = changes.activeIndex.currentValue || 0;\r\n                if (this.$timeout && this.activeIndex !== changes.activeIndex.previousValue) {\r\n                    this.$timeout(() => {\r\n                        let a = this.$element.find('md-tabs-canvas');\r\n                        if (a && a[0]) {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                        }\r\n                        a.on('focusout', () => {\r\n                            angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            this.$timeout(() => {\r\n                                angular.element(a[0]).attr('activeIndex', this.activeIndex);\r\n                            }, 50);\r\n                        });\r\n                    }, 1000);\r\n                }\r\n            }\r\n\r\n            if (changes.tabs === undefined || !_.isArray(changes.tabs.currentValue)) {\r\n                if (!this.tabs) {\r\n                    this.tabs = [];\r\n                }\r\n            } else {\r\n                this.tabs = changes.tabs.currentValue;\r\n                this.setTranslate();\r\n            }\r\n\r\n            if (!changes.activeIndex && changes.tabs && this.selectedTabId !== undefined) {\r\n                const index = _.indexOf(this.tabs, _.find(this.tabs, {\r\n                    id: this.selectedTabId\r\n                }));\r\n                if (index < 0) {\r\n                    this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n                } else if (this.tabs.length > 0 && this.activeIndex) {\r\n                    this.onSelect(index);\r\n                }\r\n            } else {\r\n                this.selectedTabId = this.tabs.length >= this.activeIndex ? this.tabs[this.activeIndex].id : null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    const Tabs: ng.IComponentOptions = {\r\n        bindings: TabsBindings,\r\n        templateUrl: 'tabs/Tabs.html',\r\n        controller: TabsDirectiveController\r\n    }\r\n\r\n    angular\r\n        .module('pipTabs', ['pipNav.Templates'])\r\n        .component('pipTabs', Tabs);\r\n}\r\n","(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/PrimaryActions.html',\n    '<div pip-focused=\"\" pip-focused-tabindex=\"2\"><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryLocalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" tabindex=\"-1\" ng-hide=\"$ctrl.isHidden(action)\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon}}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ ::subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode=\"target-right target\" class=\"pip-primary-actions\" ng-repeat=\"action in $ctrl.config.primaryGlobalActions\"><md-button class=\"pip-primary-actions-action md-icon-button pip-focusable\" ng-click=\"$ctrl.clickAction(action, $mdOpenMenu);\" ng-hide=\"$ctrl.isHidden(action)\" tabindex=\"-1\" aria-label=\"{{ action.title | translate }}\"><div class=\"pip-primary-actions-badge color-badge-bg\" ng-show=\"action.count > 0\">{{ $ctrl.actionCount(action) }}</div><md-icon md-svg-icon=\"{{ action.icon }}\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"subAction in action.subActions\" ng-if=\"!subAction.divider\" ng-hide=\"$ctrl.isHidden(subAction)\"><md-button class=\"pip-focusable\" ng-hide=\"subAction.divider\" tabindex=\"-1\" ng-click=\"$ctrl.clickAction(subAction)\">{{ subAction.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"subAction.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('actions/SecondaryActions.html',\n    '<md-menu ng-if=\"$ctrl.secondaryActionsVisible()\" md-position-mode=\"target-right target\"><md-button class=\"md-icon-button\" tabindex=\"3\" ng-init=\"$ctrl.getMenu($mdOpenMenu)\" ng-click=\"$ctrl.onSecondaryActionClick(); $ctrl.openMenu($mdOpenMenu, $event);\" aria-label=\"open actions\"><md-icon md-svg-icon=\"icons:vdots\"></md-icon></md-button><md-menu-content width=\"3\"><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryLocalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider><md-menu-divider ng-if=\"$ctrl.secondaryDividerVisible()\"></md-menu-divider><md-menu-item ng-repeat-start=\"action in $ctrl.config.secondaryGlobalActions\" ng-if=\"!action.divider\" ng-hide=\"$ctrl.isHidden(action)\"><md-button ng-hide=\"action.divider\" ng-click=\"$ctrl.clickAction(action)\">{{ ::action.title | translate }}</md-button></md-menu-item><md-menu-divider ng-if=\"action.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('appbar/AppBar.html',\n    '<md-toolbar class=\"color-primary-bg {{ $ctrl.config.classes.join(\\' \\') }}\" ng-if=\"$ctrl.config.visible\" ng-transclude=\"\"></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('breadcrumb/Breadcrumb.html',\n    '<div class=\"pip-breadcrumb-block\"><div class=\"text-overflow\" ng-if=\"$ctrl._media($ctrl.config.breakpoint)\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span><span class=\"pip-breadcrumb-item {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" ng-repeat-start=\"item in $ctrl.config.items\" ng-click=\"$ctrl.onClick(item)\" ng-init=\"stepWidth = 100/($ctrl.config.items.length + 1)\" ng-class=\"{\\'cursor-pointer\\': !$last}\" ng-style=\"{\\'max-width\\': stepWidth + \\'%\\'}\"><span ng-if=\"!$last || !$ctrl.actionsVisible(item)\">{{ item.title | translate }}</span><div ng-if=\"$last && $ctrl.actionsVisible(item)\" style=\"display: inline-block; position: relative;\"><md-menu md-offset=\"0 44\"><span class=\"layout-row pip-breadcrumb-item-menu cursor-pointer {{ $last ? \\'breadcrumb-accent\\' : \\'\\' }}\" ng-click=\"$ctrl.onOpenMenu($mdOpenMenu, $event)\" md-ink-ripple=\"\" aria-label=\"open breadcrumb actions\">{{ item.title | translate }}<md-icon class=\"pip-triangle-down\" md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-if=\"!subItem.divider\" ng-repeat-start=\"subItem in item.subActions\"><md-button ng-click=\"$ctrl.onSubActionClick(subItem)\" ng-if=\"!action.divider\" tabindex=\"4\"><md-icon md-menu-align-target=\"\" ng-if=\"subItem.icon\" md-svg-icon=\"{{ subItem.icon }}\"></md-icon><span>{{ subItem.title | translate }}</span></md-button></md-menu-item><md-menu-divider ng-if=\"subItem.divider\" ng-repeat-end=\"\"></md-menu-divider></md-menu-content></md-menu></div></span><md-icon ng-repeat-end=\"\" md-svg-icon=\"icons:chevron-right\" ng-hide=\"$last\"></md-icon><span class=\"pip-title breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span></div><div style=\"position: relative;\" ng-if=\"!$ctrl._media($ctrl.config.breakpoint)\"><md-menu md-offset=\"0 44\"><span class=\"pip-mobile-breadcrumb layout-row\" ng-click=\"$ctrl.config.items && $ctrl.config.items.length > 1 ? $mdOpenMenu() : return\"><span class=\"text-overflow\"><span ng-if=\"$ctrl.config.criteria\" ng-click=\"$ctrl.openSearch()\">{{ $ctrl.config.criteria }} -</span> <span class=\"breadcrumb-accent\" ng-if=\"$ctrl.config.text\">{{ $ctrl.config.text | translate }}</span> <span ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\" class=\"breadcrumb-accent {{ ($ctrl.config.items && $ctrl.config.items.length > 1) ? \\'cursor-pointer\\' : \\'\\' }}\">{{ $ctrl.config.items[$ctrl.config.items.length - 1].title | translate }}</span></span><md-icon class=\"pip-triangle-down cursor-pointer breadcrumb-accent\" md-svg-icon=\"icons:triangle-down\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 1\"></md-icon></span><md-menu-content width=\"4\"><md-menu-item ng-repeat=\"item in $ctrl.config.items\" ng-if=\"$ctrl.config.items && $ctrl.config.items.length > 0\"><md-button ng-click=\"$ctrl.onClick(item)\" tabindex=\"5\"><md-icon md-menu-align-target=\"\" ng-if=\"item.icon\" md-svg-icon=\"{{ item.icon }}\"></md-icon><span>{{ item.title | translate }}</span></md-button></md-menu-item><md-menu-item ng-if=\"$ctrl.config.text\"><md-button tabindex=\"5\"><span class=\"text-grey\">{{ $ctrl.config.text | translate }}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('dropdown/Dropdown.html',\n    '<md-toolbar class=\"md-subhead color-primary-bg {{ $ctrl.themeClass}}\" ng-if=\"$ctrl.show()\" ng-class=\"{\\'md-whiteframe-3dp\\': $ctrl.media(\\'xs\\')}\"><div class=\"pip-divider\"></div><md-select ng-model=\"$ctrl.selectedIndex\" tabindex=\"15\" ng-disabled=\"$ctrl.disabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"DROPDOWN\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.selectedIndex)\"><md-option ng-repeat=\"action in $ctrl.actions\" value=\"{{ ::$index }}\" ng-selected=\"$ctrl.activeIndex == $index ? true : false\">{{ (action.title || action.name || action) | translate }}</md-option></md-select></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('header/NavHeader.html',\n    '<md-toolbar ng-show=\"$ctrl.showHeader\" class=\"layout-row layout-align-start-center\"><div class=\"flex-fixed pip-sticky-nav-header-user\"><md-button class=\"md-icon-button\" ng-click=\"$ctrl.onUserClick()\" aria-label=\"current user\" tabindex=\"-1\"><img src=\"\" class=\"pip-sticky-nav-header-user-image\" ng-class=\"$ctrl.imageCss\"></md-button></div><div class=\"pip-sticky-nav-header-user-text\"><div class=\"pip-sticky-nav-header-user-pri\" ng-click=\"$ctrl.onUserClick()\" tabindex=\"-1\">{{ $ctrl.title | translate }}</div><div class=\"pip-sticky-nav-header-user-sec\">{{ $ctrl.subtitle | translate }}</div></div></md-toolbar>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('icon/NavIcon.html',\n    '<md-button class=\"md-icon-button pip-nav-icon\" ng-if=\"$ctrl.config.type != \\'none\\'\" ng-class=\"$ctrl.config.class\" ng-click=\"$ctrl.onNavIconClick()\" tabindex=\"{{ $ctrl.config.type==\\'menu\\' || $ctrl.config.type==\\'back\\' ? 4 : -1 }}\" aria-label=\"menu\"><md-icon ng-if=\"$ctrl.config.type==\\'menu\\'\" md-svg-icon=\"icons:menu\"></md-icon><img ng-src=\"{{ $ctrl.config.imageUrl }}\" ng-if=\"$ctrl.config.type==\\'image\\'\" height=\"24\" width=\"24\"><md-icon ng-if=\"$ctrl.config.type==\\'back\\'\" md-svg-icon=\"icons:arrow-left\"></md-icon><md-icon ng-if=\"$ctrl.config.type==\\'icon\\'\" md-svg-icon=\"{{ $ctrl.config.icon }}\"></md-icon></md-button>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('language/LanguagePicker.html',\n    '<md-menu md-position-mode=\"target-right target\"><span class=\"pip-language\" ng-click=\"$mdOpenMenu()\" aria-label=\"language selection\">{{ $ctrl.value | translate }}<md-icon md-svg-icon=\"icons:triangle-down\"></md-icon></span><md-menu-content width=\"3\"><md-menu-item ng-repeat=\"language in $ctrl.languages\"><md-button ng-click=\"$ctrl.onLanguageClick(language)\" tabindex=\"7\">{{ language | translate }}</md-button></md-menu-item></md-menu-content></md-menu>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('menu/NavMenu.html',\n    '<div ng-if=\"$ctrl.sections && $ctrl.sections.length\"><md-list class=\"sidenav-list\" pip-focused=\"\" pip-focused-tabindex=\"10\" pip-with-hidden=\"true\"><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-sticky-nav-expanded-button\" ng-click=\"$ctrl.onExpand()\" ng-disabled=\"!$ctrl.isCollapsed\" tabindex=\"-1\" ng-if=\"$ctrl.expandedButton\"><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-left\" ng-if=\"$ctrl.pipSideNav.state.isExpanded\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon\" md-svg-icon=\"icons:chevron-right\" ng-if=\"!$ctrl.pipSideNav.state.isExpanded\"></md-icon></md-list-item><md-divider ng-show=\"$ctrl.expandedButton\"></md-divider><div class=\"pip-section\" ng-repeat=\"section in $ctrl.sections\" xxxng-hide=\"section.access && !section.access(section)\"><md-divider ng-show=\"$index > 0 && !$ctrl.isSectionEmpty(section.links)\"></md-divider><md-subheader ng-show=\"section.title\" style=\"height: 48px;\"><span ng-if=\"$ctrl.pipSideNav.state.isExpanded\" class=\"pip-sticky-nav-menu-title section-title\">{{ ::section.title | translate }}</span><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ section.icon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && section.icon\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon section-icon\" md-svg-icon=\"{{ $ctrl.defaultIcon }}\" ng-if=\"$ctrl.sideNavState.showIconTooltype && !$ctrl.expanded && !section.icon\"><md-tooltip md-visible=\"showTooltip\" class=\"md-secondary\">{{ ::section.tooltipText || section.title | translate }}</md-tooltip></md-icon></md-subheader><md-list-item class=\"no-border pip-sticky-nav-menu-item pip-focusable\" tabindex=\"-1\" ng-repeat=\"link in section.links\" ng-class=\"{\\'active\\': $ctrl.isActive(link)}\"><md-button class=\"layout-row layout-align-start-center pip-button-block\" tabindex=\"-1\" ng-disabled=\"link.access && !link.access(link)\" ng-click=\"$ctrl.clickLink($event, link)\"><div class=\"pip-sticky-nav-menu-icon-block\"><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-if=\"!$ctrl.sideNavState.showIconTooltype || !link.tooltipText || $ctrl.pipSideNav.state.isExpanded\" ng-hide=\"!link.icon\"></md-icon><md-icon class=\"pip-sticky-nav-menu-icon flex-fixed\" md-svg-icon=\"{{ link.icon }}\" ng-hide=\"!link.icon\" ng-if=\"$ctrl.sideNavState.showIconTooltype && link.tooltipText && !$ctrl.pipSideNav.state.isExpanded\"><md-tooltip md-visible=\"showTooltip\" md-direction=\"right\" class=\"sidenav-icon-tooltip\">{{ ::link.tooltipText || link.title | translate }}</md-tooltip></md-icon></div><div class=\"pip-sticky-nav-menu-title\">{{ ::link.title | translate }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count < 100\">{{ link.count }}</div><div class=\"pip-sticky-nav-menu-badge {{ link.badgeStyle ? link.badgeStyle : \\'color-badge-bg\\' }} flex-fixed\" ng-if=\"link.count && link.count > 99\">!</div></md-button></md-list-item></div></md-list></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('search/SearchBar.html',\n    '<div class=\"md-toolbar-tools pip-search-container\" ng-if=\"$ctrl.enabled\"><div class=\"layout-row pip-search-selected\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"start search\" ng-click=\"$ctrl.onClick()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button><input class=\"pip-search-text flex\" type=\"search\" tabindex=\"6\" ng-model=\"$ctrl.search.text\" ng-keydown=\"$ctrl.onKeyDown($event)\"><md-button class=\"md-icon-button\" tabindex=\"6\" aria-label=\"clear search\" ng-click=\"$ctrl.clear()\"><md-icon md-svg-icon=\"icons:cross-circle\"></md-icon></md-button></div></div><div class=\"md-toolbar-tools layout-row layout-align-end-center flex-fixed lp0 rp0\" ng-if=\"!$ctrl.enabled\"><md-button class=\"md-icon-button\" tabindex=\"5\" aria-label=\"start search\" ng-click=\"$ctrl.enable()\"><md-icon md-svg-icon=\"icons:search\"></md-icon></md-button></div>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('sidenav/SideNav.html',\n    '<md-sidenav class=\"md-sidenav-left\" md-is-locked-open=\"$ctrl.sidenavState.isLockedOpen\" md-component-id=\"pip-sticky-sidenav\" ng-transclude=\"\"></md-sidenav>');\n}]);\n})();\n\n(function(module) {\ntry {\n  module = angular.module('pipNav.Templates');\n} catch (e) {\n  module = angular.module('pipNav.Templates', []);\n}\nmodule.run(['$templateCache', function($templateCache) {\n  $templateCache.put('tabs/Tabs.html',\n    '<md-toolbar ng-if=\"$ctrl.pipMedia\" class=\"pip-nav color-primary-bg {{ $ctrl.themeClass }}\" ng-class=\"{\\'pip-visible\\': $ctrl.show(), \\'pip-shadow\\': $ctrl.showShadow()}\"><md-tabs class=\"color-primary-bg\" ng-if=\"$ctrl.pipMedia($ctrl.breakpoints)\" md-selected=\"$ctrl.activeIndex\" ng-class=\"{\\'disabled\\': $ctrl.isDisabled()}\" md-stretch-tabs=\"true\" md-dynamic-height=\"true\"><md-tab ng-repeat=\"tab in $ctrl.tabs track by $index\" ng-disabled=\"$ctrl.tabDisabled($index)\" md-on-select=\"$ctrl.onSelect($index)\"><md-tab-label>{{:: tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-tab-label></md-tab></md-tabs><div class=\"md-subhead pip-tabs-content color-primary-bg\" ng-if=\"!$ctrl.pipMedia($ctrl.breakpoints)\"><div class=\"pip-divider position-top m0\"></div><md-select ng-model=\"$ctrl.activeIndex\" ng-disabled=\"$ctrl.isDisabled()\" md-container-class=\"pip-full-width-dropdown\" aria-label=\"SELECT\" md-ink-ripple=\"\" md-on-close=\"$ctrl.onSelect($ctrl.activeIndex)\"><md-option ng-repeat=\"tab in $ctrl.tabs track by $index\" class=\"pip-tab-option\" value=\"{{ ::$index }}\">{{ ::tab.nameLocal }}<div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 0 && tab.counts <= 99\">{{ tab.counts }}</div><div class=\"pip-tabs-badge color-badge-bg\" ng-if=\"tab.counts > 99\">!</div></md-option></md-select></div></md-toolbar>');\n}]);\n})();\n\n//# sourceMappingURL=pip-webui-nav-html.min.js.map\n"]}