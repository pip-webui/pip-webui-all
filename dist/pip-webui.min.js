!function(){"use strict";angular.module("pipServices",["pipScope","pipTranslate","pipRouting","pipTimer","pipSession","pipIdentity","pipSystemInfo","pipFormat","pipScroll","pipPageReset","pipTags"])}();var pip;!function(t){var e;!function(e){"use strict";function n(e){"ngInject";e.$on("$stateChangeSuccess",function(e,n,r,i,o){t.routing.CurrentState={name:n.name,url:n.url,params:r},t.routing.PreviousState={name:i.name,url:i.url,params:o}})}function r(e,n){"ngInject";function r(){n.history.back()}function i(r){if(null!=t.routing.PreviousState&&null!=t.routing.PreviousState.name){var i=_.cloneDeep(t.routing.PreviousState);i.params=_.extend(i.params,r),e.go(i.name,i.params)}else n.history.back()}return e.goBack=r,e.goBackAndSelect=i,e}function i(t){t.decorator("$state",r)}n.$inject=["$rootScope"],r.$inject=["$delegate","$window"],i.$inject=["$provide"],angular.module("pipRouting.Back",[]).config(i).run(n)}(e=t.routing||(t.routing={}))}(pip||(pip={}));var pip;!function(t){var e;!function(e){"use strict";function n(e){"ngInject";function n(e,n){return t.routing.RedirectedStates[e]=n,this}return e.redirect=n,e}function r(t){"ngInject";t.decorator("$state",n)}function i(e,n){"ngInject";function r(r,i,o){var s=t.routing.RedirectedStates[i.name];if(_.isFunction(s)&&(s=s(i.name,o),_.isNull(s)))throw new Error("Redirected toState cannot be null");return!!s&&(n(function(){r.preventDefault(),e.transitionTo(s,o,{location:"replace"})}),!0)}return e.redirect=r,e}function o(t){"ngInject";t.decorator("$state",i)}n.$inject=["$delegate"],r.$inject=["$provide"],i.$inject=["$delegate","$timeout"],o.$inject=["$provide"],e.RedirectedStates={},angular.module("pipRouting.Redirect",["ui.router"]).config(r).config(o)}(e=t.routing||(t.routing={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";angular.module("pipRouting",["ui.router","pipRouting.Events","pipRouting.Back","pipRouting.Redirect"])}(e=t.routing||(t.routing={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";function e(e,n,r){"ngInject";n.$on("$stateChangeStart",function(e,r,i,o,s){n[t.RoutingVar]=!0}),n.$on("$stateChangeSuccess",function(e,r,i,o,s){n[t.RoutingVar]=!1}),n.$on("$stateChangeError",function(r,i,o,s,a,u){n[t.RoutingVar]=!1,e.error("Error while switching route to "+i.name),e.error(u),console.error("Error while switching route to "+i.name),console.error(u)}),n.$on("$stateNotFound",function(e,i,o,s){e.preventDefault(),n[t.RoutingVar]=!1,r.go("errors_missing_route",{unfoundState:i,fromState:{to:o?o.name:"",fromParams:s}})})}e.$inject=["$log","$rootScope","$state"],t.RoutingVar="$routing",angular.module("pipRouting.Events",[]).run(e)}(e=t.routing||(t.routing={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";angular.module("pipScope",["pipTranslate","pipScope.Error","pipScope.Transaction"]),angular.module("pipTransactions",["pipScope"])}(e=t.scope||(t.scope={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";var e=angular.module("pipScope.Error",[]);e.factory("pipError",["$rootScope",function(t){function e(e){t.errors[e]={message:void 0,code:void 0,details:void 0}}function n(t){if(_.isNull(t))return null;if(t.message)return t.message;if(t.data){if(t.data.code)return"ERROR_"+t.data.code;if(t.data.message)return t.data.message}return t.statusText?t.statusText:t.status?"ERROR_"+t.status:t.data?t.data:t}function r(t){return _.isNull(t)?null:t.data&&t.data.code?t.data.code:t.status?t.status:null}function i(t){return t&&t.data?t.data:t}function o(o,s){o=o||"global";var a={reset:function(){e(o)},empty:function(){var e=t.errors[o];return _.isNull(e)||_.isNull(e.message)&&_.isNull(e.code)},get:function(){return t.errors[o]?t.errors[o]:""},message:function(){return t.errors[o]?t.errors[o].message:null},code:function(){return t.errors[o]?t.errors[o].code:null},details:function(){return t.errors[o]?t.errors[o].details:null},set:function(s){s?(t.errors[o]={message:n(s),code:r(s),details:i(s)},console.error(t.errors[o])):e(o)}};return _.isObject(s)&&(s.error=a),a}return t.errors={},o}])}(e=t.scope||(t.scope={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";var e=angular.module("pipScope.Transaction",["pipTranslate"]);e.run(["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;e&&(e.setTranslations("en",{ENTERING:"Entering...",PROCESSING:"Processing...",LOADING:"Loading...",SAVING:"Saving..."}),e.setTranslations("ru",{ENTERING:"Вход в систему...",PROCESSING:"Обрабатывается...",LOADING:"Загружается...",SAVING:"Сохраняется..."}))}]),e.factory("pipTransaction",["$rootScope","pipError",function(t,e){function n(e){t.transactions[e]={id:void 0,operation:void 0}}function r(r,i){r=r||"global";var o=e(r),s={error:o,reset:function(){n(""),o.reset()},busy:function(){var e=t.transactions[r];return null!=e&&e.id},failed:function(){return!o.empty()},aborted:function(e){var n=t.transactions[r];return _.isNull(n)||n.id!=e},get:function(){return _.isNull(t.transactions[r])&&n(r),t.transactions[r]},id:function(){var e=t.transactions[r];return e?e.id:null},operation:function(){var e=t.transactions[r];return e?e.operation:null},errorMessage:function(){return o.message()},begin:function(e){var n=t.transactions[r];return null!=n&&n.id?null:(n=t.transactions[r]={id:(new Date).getTime(),operation:e||"PROCESSING"},o.reset(),n.id)},abort:function(){var e=t.transactions[r];e&&(e.id=null),o.reset()},end:function(e){e?o.set(e):o.reset();var n=t.transactions[r];null!=n&&(n.id=null)}};return _.isObject(i)&&(i.error=o,i.transaction=s),s}return t.transactions={},r}])}(e=t.scope||(t.scope={}))}(pip||(pip={}));var pip;!function(t){var e;!function(e){"use strict";e.IdentityRootVar="$identity",e.IdentityChangedEvent="pipIdentityChanged";var n=function(){function e(t,e,n){this._setRootVar=t,this._identity=e,this._rootScope=n,this.setRootVar()}return e.prototype.setRootVar=function(){this._setRootVar&&(this._rootScope[t.session.IdentityRootVar]=this._identity)},Object.defineProperty(e.prototype,"identity",{get:function(){return this._identity},set:function(e){this._identity=e,this.setRootVar(),this._rootScope.$broadcast(t.session.IdentityChangedEvent,this._identity)},enumerable:!0,configurable:!0}),e}(),r=function(){function t(){this._setRootVar=!0,this._identity=null,this._service=null}return Object.defineProperty(t.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identity",{get:function(){return this._identity},set:function(t){this._identity=t},enumerable:!0,configurable:!0}),t.prototype.$get=["$rootScope",function(t){"ngInject";return null==this._service&&(this._service=new n(this._setRootVar,this._identity,t)),this._service}],t}();angular.module("pipIdentity",[]).provider("pipIdentity",r)}(e=t.session||(t.session={}))}(pip||(pip={}));var pip;!function(t){var e;!function(e){"use strict";e.SessionRootVar="$session",e.SessionOpenedEvent="pipSessionOpened",e.SessionClosedEvent="pipSessionClosed";var n=function(){function e(t,e,n){this._setRootVar=t,this._session=e,this._rootScope=n,this.setRootVar()}return e.prototype.setRootVar=function(){this._setRootVar&&(this._rootScope[t.session.SessionRootVar]=this._session)},Object.defineProperty(e.prototype,"session",{get:function(){return this._session},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isOpened",{get:function(){return null!=this._session},enumerable:!0,configurable:!0}),e.prototype.open=function(e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),null==e)throw new Error("Session cannot be null");this._session=e,this.setRootVar(),this._rootScope.$broadcast(t.session.SessionOpenedEvent,e)},e.prototype.close=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=this._session;this._session=null,this.setRootVar(),this._rootScope.$broadcast(t.session.SessionClosedEvent,r)},e}(),r=function(){function t(){this._setRootVar=!0,this._session=null,this._service=null}return Object.defineProperty(t.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"session",{get:function(){return this._session},set:function(t){this._session=t},enumerable:!0,configurable:!0}),t.prototype.$get=["$rootScope",function(t){"ngInject";return null==this._service&&(this._service=new n(this._setRootVar,this._session,t)),this._service}],t}();angular.module("pipSession",["pipPageReset"]).provider("pipSession",r)}(e=t.session||(t.session={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";angular.module("pipTranslate",["LocalStorageModule","pipTranslate.Service","pipTranslate.Filter","pipTranslate.Directive"])}(e=t.translate||(t.translate={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";function e(t){"ngInject";return{restrict:"EA",scope:{key1:"@pipTranslate",key2:"@key"},link:function(e,n,r){var i=e.key1||e.key2,o=t.translate(i);n.text(o)}}}function n(t){"ngInject";return{restrict:"EA",scope:{key1:"@pipTranslateHtml",key2:"@key"},link:function(e,n,r){var i=e.key1||e.key2,o=t.translate(i);n.html(o)}}}e.$inject=["pipTranslate"],n.$inject=["pipTranslate"],angular.module("pipTranslate.Directive",[]).directive("pipTranslate",e).directive("pipTranslateHtml",n)}(e=t.translate||(t.translate={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";function e(t){"ngInject";return function(e){return t.translate(e)||e}}function n(t){"ngInject";var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}e.$inject=["pipTranslate"],n.$inject=["$injector"],angular.module("pipTranslate.Filter",[]).filter("translate",e)}(e=t.translate||(t.translate={}))}(pip||(pip={}));var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pip;!function(t){var e;!function(e){"use strict";e.LanguageRootVar="$language",e.LanguageChangedEvent="pipLanguageChanged";var n=function(){function t(){this._language="en",this._translations={en:{en:"English",ru:"Russian",es:"Spanish",pt:"Portuguese",de:"German",fr:"French"},ru:{en:"Английский",ru:"Русский",es:"Испанский",pt:"Португальский",de:"Немецкий",fr:"Французский"}}}return Object.defineProperty(t.prototype,"language",{get:function(){return this._language},set:function(t){this._language=t},enumerable:!0,configurable:!0}),t.prototype.use=function(t){return null!=t&&(this._language=t),this._language},t.prototype.setTranslations=function(t,e){var n=this._translations[t]||{};this._translations[t]=_.extend(n,e)},t.prototype.translate=function(t){if(_.isNull(t)||_.isUndefined(t))return"";var e=this._translations[this._language]||{};return e[t]||t},t.prototype.translateArray=function(t){if(_.isNull(t)||0==t.length)return[];var e=[],n=this._translations[this._language]||{};return _.each(t,function(t){var r=t||"";e.push(n[r]||r)}),e},t.prototype.translateSet=function(t,e,n){if(_.isNull(t)||0==t.length)return[];e=e||"id",n=n||"name";var r=[],i=this._translations[this._language]||{};return _.each(t,function(t){var o={};t=t||"",o[e]=t,o[n]=i[t]||t,r.push(o)}),r},t.prototype.translateObjects=function(t,e,n){if(_.isNull(t)||0==t.length)return[];e=e||"name",n=n||"nameLocal";var r=this._translations[this._language]||{};return _.each(t,function(t){var i=t[e]||"";t[n]=r[i]||i}),t},t.prototype.translateWithPrefix=function(t,e){if(t=t?t+"_":"",e=(t+e).replace(/ /g,"_").toUpperCase(),null==e)return"";var n=this._translations[this._language]||{};return n[e]||e},t.prototype.translateSetWithPrefix=function(t,e,n,r){if(_.isNull(e)||0==e.length)return[];t=t?t.replace(/ /g,"_").toUpperCase():"",n=n||"id",r=r||"name";var i=[],o=this._translations[this._language]||{};return _.each(e,function(e){var s={};e=e||"",s[n]=e,s[r]=o[t+"_"+e]||e,i.push(s)}),i},t.prototype.translateSetWithPrefix2=function(t,e,n,r){if(_.isNull(e)||0==e.length)return[];n=n||"id",r=r||"name",t=t?t.replace(/ /g,"_").toUpperCase()+"_":"";var i=[],o=this._translations[this._language]||{};return _.each(e,function(e){var s={};e=e||"",s[n]=e,s[r]=o[t+e.replace(/ /g,"_").toUpperCase()]||t+e.replace(/ /g,"_").toUpperCase(),i.push(s)}),i},t}(),r=function(){function e(t,e,n,r,i){this._setRootVar=e,this._persist=n,this._translation=t,this._rootScope=r,this._storage=i,this._persist&&(this._translation.language=i.get("language")||this._translation.language),this.save()}return e.prototype.save=function(){this._setRootVar&&(this._rootScope[t.translate.LanguageRootVar]=this._translation.language),this._persist&&this._storage.set("language",this._translation.language)},Object.defineProperty(e.prototype,"language",{get:function(){return this._translation.language},set:function(e){e!=this._translation.language&&(this._translation.language=e,this.save(),this._rootScope.$broadcast(t.translate.LanguageChangedEvent,e))},enumerable:!0,configurable:!0}),e.prototype.use=function(t){return null!=t&&(this.language=t),this.language},e.prototype.setTranslations=function(t,e){return this._translation.setTranslations(t,e)},e.prototype.translate=function(t){return this._translation.translate(t)},e.prototype.translateArray=function(t){return this._translation.translateArray(t)},e.prototype.translateSet=function(t,e,n){return this._translation.translateSet(t,e,n)},e.prototype.translateObjects=function(t,e,n){return this._translation.translateObjects(t,e,n)},e.prototype.translateWithPrefix=function(t,e){return this._translation.translateWithPrefix(t,e)},e.prototype.translateSetWithPrefix=function(t,e,n,r){return this._translation.translateSetWithPrefix(t,e,n,r)},e.prototype.translateSetWithPrefix2=function(t,e,n,r){return this._translation.translateSetWithPrefix2(t,e,n,r)},e}(),i=function(t){function e(){t.call(this)}return __extends(e,t),Object.defineProperty(e.prototype,"setRootVar",{get:function(){return this._setRootVar},set:function(t){this._setRootVar=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"persist",{get:function(){return this._persist},set:function(t){this._persist=!!t},enumerable:!0,configurable:!0}),e.prototype.$get=["$rootScope","localStorageService",function(t,e){"ngInject";return null==this._service&&(this._service=new r(this,this._setRootVar,this._persist,t,e)),this._service}],e}(n);angular.module("pipTranslate.Service",[]).provider("pipTranslate",i)}(e=t.translate||(t.translate={}))}(pip||(pip={})),function(){"use strict";var t=angular.module("pipCodes",[]);t.factory("pipCodes",function(){function t(t){if(null==t)return 0;for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n);return e}function e(){return Math.random().toString(36).substr(2,10).toUpperCase()}return{hash:t,verification:e}})}(),function(){"use strict";var t=angular.module("pipFormat",[]);t.factory("pipFormat",function(){function t(t,e){if(!t||""==t)return"";var n=t.indexOf("\n");return n=n>=0?n:t.length,n=n<e?t.length:e,t.substring(0,n)}function e(t,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=t),e>>=1,t+=t;return n}var n=function t(){function n(t){return toString.call(t).slice(8,-1).toLowerCase()}for(var r=[],i=0;i<arguments.length;i++)r[i-0]=arguments[i];var o=e,s=function(){return s.cache.hasOwnProperty(arguments[0])||(s.cache[arguments[0]]=s.parse(arguments[0])),s.format.call(null,s.cache[arguments[0]],arguments)};return s.format=function(e,r){var i,s,a,u,c,p,l,f=1,g=e.length,h="",d=[];for(s=0;s<g;s++)if(h=n(e[s]),"string"===h)d.push(e[s]);else if("array"===h){if(u=e[s],u[2])for(i=r[f],a=0;a<u[2].length;a++){if(!i.hasOwnProperty(u[2][a]))throw new Error(t('[_.sprintf] property "%s" does not exist',u[2][a]));i=i[u[2][a]]}else i=u[1]?r[u[1]]:r[f++];if(/[^s]/.test(u[8])&&"number"!=n(i))throw new Error(t("[_.sprintf] expecting number but found %s",n(i)));switch(u[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=u[7]?i.toExponential(u[7]):i.toExponential();break;case"f":i=u[7]?parseFloat(i).toFixed(u[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&u[7]?i.substring(0,u[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(u[8])&&u[3]&&i>=0?"+"+i:i,p=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",l=u[6]-String(i).length,c=u[6]?o(p,l):"",d.push(u[5]?i+c:c+i)}return d.join("")},s.cache={},s.parse=function(t){for(var e=t,n=[],r=[],i=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))r.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))r.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw new Error("[_.sprintf] huh?");for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw new Error("[_.sprintf] huh?");o.push(a[1])}n[2]=o}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}e=e.substring(n[0].length)}return r},s}();return{sprintf:n,format:n,sample:t}})}(),function(){"use strict";var t=angular.module("pipPageReset",[]);t.factory("pipPageReset",["$rootScope","$timeout",function(t,e){function n(){o(!1,!0)}function r(){o(!0,!1)}function i(){o(!0,!0)}function o(n,r){n=void 0===n||!!n,r=void 0===r||!!r,(n||r)&&(t.$reset=n,t.$partialReset=r,e(function(){t.$reset=!1,t.$partialReset=!1},0))}return t.$on("pipResetPage",i),{resetPartial:n,resetFull:r,resetAll:i,reset:o}}])}(),function(){"use strict";var t=angular.module("pipScroll",[]);t.factory("pipScroll",function(){function t(t,e,n){t&&e&&(void 0==n&&(n=300),setTimeout(function(){if($(e).position()){var r=Math.abs($(t).scrollTop()-$(e).position().top);if(!(r<20)){var i=$(t).scrollTop()+($(e).position().top-20);n>0&&$(t).animate({scrollTop:i+"px"},n)}}},100))}return{scrollTo:t}})}(),function(){"use strict";var t=angular.module("pipSystemInfo",[]);t.factory("pipSystemInfo",["$rootScope","$window",function(t,e){function n(){var t=e.navigator.userAgent;return t.search(/Edge/)>-1?"edge":t.search(/MSIE/)>-1?"ie":t.search(/Trident/)>-1?"ie":t.search(/Firefox/)>-1?"firefox":t.search(/Opera/)>-1?"opera":t.search(/OPR/)>-1?"opera":t.search(/YaBrowser/)>-1?"yabrowser":t.search(/Chrome/)>-1?"chrome":t.search(/Safari/)>-1?"safari":t.search(/Maxthon/)>-1?"maxthon":"unknown"}function r(){var t,r,i=e.navigator.userAgent;switch(t=n()){case"edge":r=i.split("Edge")[1].split("/")[1];break;case"ie":r=i.split("MSIE ")[1].split(";")[0];break;case"ie11":t="ie",r=i.split("; rv:")[1].split(")")[0];break;case"firefox":r=i.split("Firefox/")[1];break;case"opera":r=i.split("Version/")[1];break;case"operaWebkit":r=i.split("OPR/")[1];break;case"yabrowser":r=i.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":r=i.split("Chrome/")[1].split(" ")[0];break;case"safari":r=i.split("Version/")[1].split(" ")[0];break;case"maxthon":r=i.split("Maxthon/")[1]}return r}function i(){var t=e.navigator.userAgent;return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(t.toLowerCase())?"mobile":"desktop"}function o(){return"desktop"==i()}function s(){return"mobile"==i()}function a(){return null}function u(){var t=e.navigator.userAgent;try{var n=(/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(t.toLowerCase())||[t])[0].replace("sunos","solaris"),r=/(android)/.exec(t.toLowerCase())||"";return!r||"android"!=r&&"android"!=r[0]?n:"android"}catch(t){return"unknown"}}function c(t){t||(t={edge:11,ie:11,firefox:43,opera:35,chrome:47});var e=n(),i=r();return i=i.split(".")[0],e&&t[e]&&i>=t[e],!0}return{getBrowserName:n,getBrowserVersion:r,getPlatform:i,isDesktop:o,isMobile:s,isCordova:a,getOS:u,isSupported:c}}])}(),function(){"use strict";var t=angular.module("pipTags",[]);t.factory("pipTags",function(){function t(t){return t?_.trim(t.replace(/(_|#)+/g," ")):null}function e(t){return t?t.replace(/( |_|#)/g,"").toLowerCase():null}function n(t,n){return null==t&&null==n||null!=t&&null!=n&&e(t)==e(n)}function r(e){return _.isString(e)&&(e=e.split(/( |,|;)+/)),e=_.map(e,function(e){return t(e)})}function i(t){return _.isString(t)&&(t=t.split(/( |,|;)+/)),t=_.map(t,function(t){return e(t)})}function o(t,e){var n=r(t.tags);return _.each(e,function(e){var i=t[e]||"";if(""!=i){var o=i.match(/#\w+/g);n=n.concat(r(o))}}),_.uniq(n)}return{equal:n,normalizeOne:t,normalizeAll:r,normalize:r,compressOne:e,compressAll:i,compress:i,extract:o}})}();var pip;!function(t){var e;!function(t){"use strict";var e=(function(){function t(){}return t}(),[{event:"pipAutoPullChanges",timeout:6e4},{event:"pipAutoUpdatePage",timeout:15e3},{event:"pipAutoUpdateCollection",timeout:3e5}]),n=function(){function t(t,n){this._started=!1,this._events=_.cloneDeep(e),this._rootScope=t,this._interval=n}return t.$inject=["$rootScope","$interval"],Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.addEvent=function(t,e){var n=_.find(this._events,function(e){return e.event==t});if(null==n){var r={event:t,timeout:e};this._events.push(r),this._started&&this.startEvent(r)}},t.prototype.removeEvent=function(t){for(var e=this._events.length-1;e>=0;e--){var n=this._events[e];n.event==t&&(this.stopEvent(n),this._events.splice(e,1))}},t.prototype.clearEvents=function(){this.stop(),this._events=[]},t.prototype.startEvent=function(t){var e=this;t.interval=this._interval(function(){e._rootScope.$broadcast(t.event)},t.timeout)},t.prototype.stopEvent=function(t){if(null!=t.interval){try{this._interval.cancel(t.interval)}catch(t){}t.interval=null}},t.prototype.start=function(){var t=this;this._started||(_.each(this._events,function(e){t.startEvent(e)}),this._started=!0)},t.prototype.stop=function(){var t=this;_.each(this._events,function(e){t.stopEvent(e)}),this._started=!1},t}();angular.module("pipTimer",[]).service("pipTimer",n)}(e=t.utilities||(t.utilities={}))}(pip||(pip={}));
!function(t){try{t=angular.module("pipButtons.Templates")}catch(n){t=angular.module("pipButtons.Templates",[])}t.run(["$templateCache",function(t){t.put("toggle_buttons/toggle_buttons.html",'<div class="pip-toggle-buttons layout-row {{class}}" pip-selected="bufButtonIndex" pip-enter-space-press="enterSpacePress($event)" ng-if="$mdMedia(\'gt-xs\')"><md-button tabindex="-1" ng-repeat="button in buttons" ng-class="{\'md-accent md-raised selected color-accent-bg\' : currentButtonIndex == $index}" ng-attr-style="{{ \'background-color:\' + (currentButtonIndex == $index ? button.backgroundColor : \'\') + \'!important\' }}" class="pip-selectable pip-chip-button flex" ng-click="buttonSelected($index, $event)" ng-disabled="button.disabled || disabled()">{{button.name || button.title | translate}} <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span></md-button></div><md-input-container class="md-block" ng-if="$mdMedia(\'xs\')"><md-select ng-model="currentButtonIndex" ng-disabled="disabled()" aria-label="DROPDOWN" md-on-close="buttonSelected(currentButtonIndex)"><md-option ng-repeat="action in buttons" value="{{ ::$index }}">{{ (action.title || action.name) | translate }} <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span></md-option></md-select></md-input-container>')}])}(),function(){"use strict";angular.module("pipButtons",["pipToggleButtons","pipRefreshButton","pipFabTooltipVisibility"])}(),function(){"use strict";var t=angular.module("pipButtons.Translate",[]);t.filter("translate",["$injector",function(t){var n=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return n?n.translate(t)||t:t}}])}(),function(){"use strict";var t=angular.module("pipFabTooltipVisibility",[]);t.directive("pipFabTooltipVisibility",["$parse","$timeout",function(t,n){return{restrict:"A",scope:!1,controller:["$scope","$attrs",function(e,i){var o=t(i.pipFabTooltipVisibility),u=t(i.pipFabShowTooltip),s=u.assign;e.$watch(o,function(t){t?n(function(){s(e,t)},600):s(e,t)})}]}}])}(),function(){"use strict";var t=angular.module("pipToggleButtons",["pipButtons.Templates"]);t.directive("pipToggleButtons",function(){return{restrict:"EA",scope:{ngDisabled:"&",buttons:"=pipButtons",currentButtonValue:"=ngModel",currentButton:"=?pipButtonObject",change:"&ngChange"},templateUrl:"toggle_buttons/toggle_buttons.html",controller:["$scope","$element","$attrs","$mdMedia","$timeout",function(t,n,e,i,o){var u;t.$mdMedia=i,t.class=e.class||"",(!t.buttons||_.isArray(t.buttons)&&0===t.buttons.length)&&(t.buttons=[]),u=_.indexOf(t.buttons,_.find(t.buttons,{id:t.currentButtonValue})),t.currentButtonIndex=u<0?0:u,t.currentButton=t.buttons.length>0?t.buttons[t.currentButtonIndex]:t.currentButton,t.buttonSelected=function(n){t.disabled()||(t.currentButtonIndex=n,t.currentButton=t.buttons[t.currentButtonIndex],t.currentButtonValue=t.currentButton.id||n,o(function(){t.change&&t.change()}))},t.enterSpacePress=function(n){t.buttonSelected(n.index)},t.disabled=function(){if(t.ngDisabled)return t.ngDisabled()}}],link:function(t,n){n.on("focusin",function(){n.addClass("focused-container")}).on("focusout",function(){n.removeClass("focused-container")})}}})}(),function(){"use strict";var t=angular.module("pipRefreshButton",["ngMaterial"]);t.directive("pipRefreshButton",["$parse",function(t){return{restrict:"EA",scope:!1,template:String()+'<md-button class="pip-refresh-button" tabindex="-1" ng-click="onClick($event)" aria-label="REFRESH"><md-icon md-svg-icon="icons:refresh"></md-icon><span class="pip-refresh-text"></span></md-button>',replace:!1,link:function(n,e,i){function o(){p.hide()}var u,s,c,a=t(i.pipText),r=t(i.pipVisible),l=t(i.pipRefresh),p=e.children(".md-button"),d=p.children(".pip-refresh-text");c=function(){s=a(n),d.text(s),p.show(),u=p.width(),p.css("margin-left","-"+u/2+"px")},n.onClick=function(){l(n)},n.$watch(r,function(t){t?c():o()}),n.$watch(a,function(t){d.text(t)})}}}])}();
!function(n){"use strict";n.module("pipLanding",[])}(window.angular);
!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog","pipLayout.Media"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,e,t){function n(){var n,r,s=$(".pip-main-body"),l=$(".pip-card-container"),a=o.width(),p=s.width(),u=s.height(),c=t.minWidth?Math.floor(t.minWidth):null,d=t.minHeight?Math.floor(t.minHeight):null,h=t.width?Math.floor(t.width):null,m=t.height?Math.floor(t.height):null;if(a<=768)c=null,d=null,h=null,m=null,p=null,u=null;else{var g=a>1200?24:16;p-=2*g,u-=2*g,c=c?Math.min(c,p):null,d=d?Math.min(d,u):null,h=h?Math.min(h,p):null,m=m?Math.min(m,u):null}if(e.css("max-width",p?p+"px":""),e.css("min-width",c?c+"px":""),e.css("width",h?h+"px":""),e.css("height",m?m+"px":""),l.hasClass("pip-outer-scroll"))l.addClass("pip-scroll"),a<=768?(n=0,r=0):(n=l.width()/2-e.width()/2-16,r=Math.max(l.height()/2-e.height()/2-16,0)),e.css("left",n),e.css("top",r),setTimeout(function(){e.css("display","flex")},100);else{e.css("max-height",u?u+"px":""),e.css("min-height",d?d+"px":"");var f=e.find(".pip-header:visible"),_=e.find(".pip-footer:visible"),w=e.find(".pip-body"),v=u||s.height();f.length>0&&(v-=f.outerHeight(!0)),_.length>0&&(v-=_.outerHeight(!0)),w.css("max-height",v+"px")}i.$broadcast("pipLayoutResized")}var o=$(window);e.addClass("pip-card"),i.$on("pipWindowResized",n),n(),setTimeout(n,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EA",controller:"pipDialogController"}}),i.controller("pipDialogController",["$scope","$element","$attrs",function(i,e,t){function n(){var n=o.width(),r=o.height(),s=t.minWidth?Math.floor(t.minWidth):null,l=t.minHeight?Math.floor(t.minHeight):null,a=t.width?Math.floor(t.width):null,p=t.height?Math.floor(t.height):null,u=n>1200?24:16;n-=2*u,r-=2*u,s=s&&s<n?s:null,l=l&&l<r?l:null,a=a?Math.min(a,n):null,p=p?Math.min(p,r):null,e.css("max-width",n?n+"px":""),e.css("max-height",r?r+"px":""),e.css("min-width",s?s+"px":""),e.css("min-height",l?l+"px":""),e.css("width",a?a+"px":""),e.css("height",p?p+"px":""),i.$broadcast("pipLayoutResized")}var o=$(window);e.addClass("pip-dialog"),i.$on("pipWindowResized",n),i.$on("pipResizeLayout",n),n(),o.trigger("resize")}])}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,e){e.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope","pipMedia",function(i,e,t,n){function o(){t.$broadcast("pipWindowResized")}$(window);e.addClass("pip-main"),n().addResizeListener(e[0],o),i.$on("$destroy",function(){n().removeResizeListener(e[0])})}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,e,t){e.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Media",[]);i.service("pipMedia",["$rootScope","$timeout",function(i,e){function t(i){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(i){return window.setTimeout(i,20)};return e(i)}function n(){var i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return i(e)}}function o(i){var e=i.target||i.srcElement;e.__resizeRAF__&&n(),e.__resizeRAF__=t(function(){var t=e.__resizeTrigger__;t.__resizeListeners__.forEach(function(e){e.call(t,i)})})}function r(i){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",o)}function s(i,e){if(!i.__resizeListeners__)if(i.__resizeListeners__=[],d)i.__resizeTrigger__=i,i.attachEvent("onresize",o);else{"static"==getComputedStyle(i).position&&(i.style.position="relative");var t=i.__resizeTrigger__=document.createElement("object");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;"),t.__resizeElement__=i,t.onload=r,t.type="text/html",h&&i.appendChild(t),t.data="about:blank",h||i.appendChild(t)}p(),e&&i.__resizeListeners__.push(e),i.__resizeListeners__.push(p)}function l(i,e){e&&i.__resizeListeners__.splice(i.__resizeListeners__.indexOf(e),1),i.__resizeListeners__.length||(d?i.detachEvent("onresize",o):(i.__resizeTrigger__.contentDocument.defaultView.removeEventListener("resize",o),i.__resizeTrigger__=!i.removeChild(i.__resizeTrigger__)))}function a(){$.each(c,function(i,e){$("body")[e?"addClass":"removeClass"]("pip-"+i)})}function p(){u=$(".pip-main").innerWidth(),c.xs=u<=599,c["gt-xs"]=u>=600,c.sm=u>=600&&u<=959,c["gt-sm"]=u>=960,c.md=u>=960&&u<=1279,c["gt-md"]=u>=1280,c.lg=u>=1280&&u<=1919,c["gt-lg"]=u>=1920,c.xl=c["gt-lg"],a(),e(function(){i.$apply()})}var u=null,c={xs:!1,"gt-xs":!1,sm:!1,"gt-sm":!1,md:!1,"gt-md":!1,lg:!1,"gt-lg":!1,xl:!1},d=document.attachEvent,h=navigator.userAgent.match(/Trident/);return function(i){return i?c[i]:{addResizeListener:s,removeResizeListener:l}}}])}(),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,e,t){e.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,e,t){function n(e){var t,n=o.width();if(n>767){n-=48;var u=Math.floor(n/r);t=(r+16)*u-16,t>n&&(u--,t=(r+16)*u-16),u<1?(t=n,p.css("width",t+"px")):p.css("width",r+"px"),s.css("width",t+1+"px")}else n-=32,t=n,p.css("width",t+"px"),s.css("width",t+1+"px");(l!=t||e)&&(l=t,a.layout(),i.$broadcast("pipLayoutResized"))}var o=$(window),r=t.columnWidth?Math.floor(t.columnWidth):440,s=e.children(".pip-tiles-container"),l=null,a=Masonry.data(s[0]);e.addClass("pip-tiles");var p=$('<div class="pip-tile-sizer"></div>');p.appendTo(s),i.$on("pipWindowResized",function(){console.log("resize tiles"),n(!1)}),n(!0)}function e(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var t=angular.module("pipLayout.Tiles",["wu.masonry"]);t.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,t){return e(t.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}();
!function(){"use strict";var n=angular.module("pipSplit",[]);n.run(["$rootScope","pipSplit",function(n,i){n.$on("$stateChangeStart",function(n,r,t,a,e){var o=$(".pip-split");o.length>0&&(o.removeClass("pip-transition-forward"),o.removeClass("pip-transition-back"),r.name!=a.name&&(i.forwardTransition(r,a)?o.addClass("pip-transition-forward"):o.addClass("pip-transition-back")))})}]),n.provider("pipSplit",function(){function n(n){if(!_.isArray(n)||0==n.length)throw new Error("Transition sequence must be an array of state names");r.push(n)}function i(n,i){var t,a,e;for(t=0;t<r.length;t++)if(a=r[t].indexOf(n.name),e=r[t].indexOf(i.name),a>-1)return a>e;return!1}var r=[];this.addTransitionSequence=n,this.$get=function(){return{forwardTransition:i}}})}();
!function(){"use strict";angular.module("pipBehaviors",["pipFocused","pipSelected","pipInfiniteScroll","pipUnsavedChanges","pipDraggable"])}(),function(){"use strict";var e=angular.module("pipDraggable",[]);e.service("pipDraggable",function(){var e=this;e.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}),e.directive("pipDrag",["$rootScope","$parse","$document","$window","pipDraggable",function(e,n,t,i,o){return{restrict:"A",link:function(r,a,l){function c(){a.attr("pip-draggable","false");var e;e=a[0].querySelectorAll?angular.element(a[0].querySelectorAll("[pip-drag-handle]")):a.find("[pip-drag-handle]"),e.length&&(I=e),p(!0),ne=ee?angular.element(a.parent()):l.pipScrollContainer?angular.element(te(r)):angular.element(window)}function u(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function p(e){e&&(r.$on("$destroy",s),r.$watch(l.pipDrag,d),r.$watch(l.pipCenterAnchor,f),I?I.on(W,v):a.on(W,v),L||"img"!=a[0].nodeName.toLowerCase()||a.on("mousedown",function(){return!1}))}function s(e){p(!1)}function d(e,n){U=e}function f(e,n){angular.isDefined(e)&&(k=e||"true")}function g(e){return angular.isDefined(angular.element(e.target).attr("pip-cancel-drag"))}function v(e){U&&(g(e)||"mousedown"==e.type&&0!=e.button||(m(),L?(h(),M=setTimeout(function(){h(),$(e)},Y),t.on(H,h),t.on(K,h)):$(e)))}function m(){B.left=a.css("css")||0,B.top=a.css("top")||0,B.position=a.css("position"),B.width=a.css("width")}function h(){clearTimeout(M),t.off(H,h),t.off(K,h)}function $(n){U&&(n.preventDefault(),O=a[0].getBoundingClientRect(),P=q?O:{left:document.body.scrollLeft,top:document.body.scrollTop},a.centerX=a[0].offsetWidth/2,a.centerY=a[0].offsetHeight/2,y=o.inputEvent(n).pageX,x=o.inputEvent(n).pageY,T=y-O.left,_=x-O.top,k?(R=y-a.centerX-i.pageXOffset,A=x-a.centerY-i.pageYOffset):(R=y-T-i.pageXOffset,A=x-_-i.pageYOffset),t.on(H,D),t.on(K,C),ie=e.$on("draggable:_triggerHandlerMove",function(e,n){D(n)}))}function D(n){U&&(n.preventDefault(),a.hasClass("pip-dragging")||(N=V(r),a.addClass("pip-dragging"),e.$broadcast("draggable:start",{x:y,y:x,tx:R,ty:A,event:n,element:a,data:N}),X&&r.$apply(function(){X(r,{$data:N,$event:n})})),y=o.inputEvent(n).pageX,x=o.inputEvent(n).pageY,(J||j)&&b(),k?(R=y-a.centerX-P.left,A=x-a.centerY-P.top):(R=y-T-P.left,A=x-_-P.top),w(R,A),e.$broadcast("draggable:move",{x:y,y:x,tx:R,ty:A,event:n,element:a,data:N,uid:F,dragOffset:P}))}function C(n){U&&(n.preventDefault(),e.$broadcast("draggable:end",{x:y,y:x,tx:R,ty:A,event:n,element:a,data:N,callback:E,uid:F}),a.removeClass("pip-dragging"),a.parent().find(".pip-drag-enter").removeClass("pip-drag-enter"),S(),t.off(H,D),t.off(K,C),z&&r.$apply(function(){z(r,{$data:N,$event:n})}),ie())}function E(e){G&&r.$apply(function(){G(r,{$data:N,$event:e})})}function S(){q?a.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):a.css({position:B.position,top:B.top,left:B.left,"z-index":"",width:B.width})}function w(e,n){var t=a.css("width");q?a.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+n+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+n+")"}):a.css({left:e+"px",top:n+"px",position:"fixed","z-index":100,width:t})}function b(){var e=0,n=0,t=function(e){return e.offset()||{left:0,top:0}};if(J){var i=t(ne).left,o=ne.innerWidth(),r=i+o;y-i<Q?e=-Z:r-y<Q&&(e=Z)}if(j){var a=t(ne).top,l=ne.innerHeight(),c=a+l;x-a<Q?n=-Z+30:c-x<Q&&(n=Z-30)}if(0!==e||0!==n){var u=ne.scrollLeft(),p=ne.scrollTop();ne.scrollLeft(u+e),ne.scrollTop(p+n)}}r.value=l.ngDrag;var O,y,x,R,A,T,_,I,Y=50,k=!1,L="ontouchstart"in window||window.DocumentTouch,W="touchstart mousedown",H="touchmove mousemove",K="touchend mouseup",F=r.$id,N=null,P=null,U=!1,M=null,B={},X=n(l.pipDragStart)||null,z=n(l.pipDragStop)||null,G=n(l.pipDragSuccess)||null,q=!!angular.isDefined(l.allowTransform)&&r.$eval(l.allowTransform),V=n(l.pipDragData),j=u(l.pipVerticalScroll)||!0,J=u(l.pipHorizontalScroll)||!0,Q=parseFloat(l.pipActivationDistance)||75,Z=parseFloat(l.pipScrollDistance)||50,ee=!1,ne=angular.element(window),te=n(l.pipScrollContainer),ie=angular.noop;c()}}}]),e.directive("pipDrop",["$parse","$timeout","$window","$document","pipDraggable",function(e,n,t,i,o){return{restrict:"A",link:function(t,o,r){function a(){l(!0)}function l(e){e&&(t.$watch(r.pipDrop,u),t.$on("$destroy",c),t.$on("draggable:start",p),t.$on("draggable:move",s),t.$on("draggable:end",d))}function c(e){l(!1)}function u(e,n){$=e}function p(e,i){$&&(f(i.x,i.y,i.element),r.pipDragStart&&n(function(){C(t,{$data:i.data,$event:i})}))}function s(e,i){$&&(f(i.x,i.y,i.element),r.pipDragMove&&n(function(){S(t,{$data:i.data,$event:i})}))}function d(e,i){return $&&h!==i.uid?(f(i.x,i.y,i.element)&&(i.callback&&i.callback(i),r.pipDropSuccess&&n(function(){D(t,{$data:i.data,$event:i,$target:t.$eval(t.value)})})),r.pipDragStop&&n(function(){E(t,{$data:i.data,$event:i})}),void g(!1,i.element)):void g(!1,i.element)}function f(e,n,i){var r=v(e,n);return t.isTouching=r,r&&(m=o),g(r,i),r}function g(e,n){e?(o.addClass("pip-drag-enter"),n.addClass("pip-drag-over")):m==o&&(m=null,o.removeClass("pip-drag-enter"),n.removeClass("pip-drag-over"))}function v(e,n){var t=o[0].getBoundingClientRect();return e-=i[0].body.scrollLeft+i[0].documentElement.scrollLeft,n-=i[0].body.scrollTop+i[0].documentElement.scrollTop,e>=t.left&&e<=t.right&&n<=t.bottom&&n>=t.top}t.value=r.pipDrop,t.isTouching=!1;var m=null,h=t.$id,$=!1,D=e(r.pipDropSuccess),C=e(r.pipDragStart),E=e(r.pipDragStop),S=e(r.pipDragMove);a()}}}]),e.directive("pipPreventDrag",["$parse","$timeout",function(e,n){return{restrict:"A",link:function(e,n,t){function i(){n.attr("pip-draggable","false"),o(!0)}function o(e){e&&n.on("mousedown touchstart touchmove touchend touchcancel",r)}function r(e){var n=e.originalEvent;return n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.cancelBubble=!0,n.returnValue=!1,!1}i()}}}]),e.directive("pipCancelDrag",function(){return{restrict:"A",link:function(e,n,t){n.find("*").attr("pip-cancel-drag","pip-cancel-drag")}}})}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,n){return{require:"?ngModel",link:function(t,i,o){function r(){var e=u?".pip-focusable":".pip-focusable:visible";l=i.find(e),c=l.length,l.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function a(e){var t=e.which||e.keyCode;if(t==n.KEY_CODE.LEFT_ARROW||t==n.KEY_CODE.UP_ARROW||t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.DOWN_ARROW?1:-1,o=l.index(l.filter(".md-focused"))+i;o>=0&&o<c&&l[o].focus()}}var l,c,u=o.pipWithHidden;e(r),i.on("keydown",a),t.$watch(o.ngModel,function(){e(r)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",[]);e.directive("pipSelected",["$parse","$mdConstant","$timeout",function(e,n,t){return{restrict:"A",scope:!1,link:function(t,i,o){function r(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function a(e){var n=e.itemIndex,t=e.itemId,o=e.items||i.find(h+m),r=o.length,a=function(){return e.item?e.item:(void 0===n&&n===-1&&(n=o.index(o.filter("[pip-id="+t+"]"))),n>=0&&n<r?o[n]:void 0)}(),u=e.raiseEvent;a&&(i.find(h).removeClass("selected md-focused"),a=angular.element(a).addClass("selected md-focused").focus(),v||c(a),u&&l(o))}function l(e){function n(){var n=angular.element(e[D]),r=n.attr("pip-id");p&&p(t,D),d&&d(t,r),f&&f(t,{$event:{target:i,item:n,index:D,id:r,newIndex:D,oldIndex:o}})}var o=D;D=-1;for(var r=0;r<e.length;r++)if($(e[r]).hasClass("selected")){D=r;break}o!=D&&D!==-1&&t.$apply(n)}function c(e){if(!v){var n=i.offset().top,t=i.height(),o=n+t,r=e.offset().top,a=e.outerHeight(!0),l=r+a,c=i.scrollTop();n>r?i.scrollTop(c+r-n):o<l&&i.scrollTop(c+l-o)}}var u=o.pipSelected?e(o.pipSelected):null,p=u?u.assign:null,s=o.pipSelectedId?e(o.pipSelectedId):null,d=s?s.assign:null,f=o.pipSelect?e(o.pipSelect):null,g=o.pipEnterSpacePress?e(o.pipEnterSpacePress):null,v=r(o.pipNoScroll),m=r(o.pipSkipHidden)?":visible":"",h=r(o.pipTreeList)?".pip-selectable-tree":".pip-selectable",D=u(t),C=i.attr("tabindex"),E=o.pipSelectedWatch;i.attr("tabindex",C||0),r(o.pipTreeList)?t.$watch(s,function(e){setTimeout(function(){a({itemId:e,raiseEvent:!0})},0)}):t.$watch(u,function(e){a({itemIndex:e})}),E&&t.$watch(E,function(){setTimeout(function(){D=u(t),a({itemIndex:D})},100)}),a({itemIndex:D,items:i.find(h)}),i.on("click touchstart",h,function(e){a({item:e.currentTarget,raiseEvent:!0})}),i.on("keydown",function(e){var o=e.which||e.keyCode;if(o==n.KEY_CODE.ENTER||o==n.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),g&&g(t,{$event:{target:i,index:D,item:i.find(".selected")}});else if(o==n.KEY_CODE.LEFT_ARROW||o==n.KEY_CODE.RIGHT_ARROW||o==n.KEY_CODE.UP_ARROW||o==n.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var r=i.find(h+m),l=o==n.KEY_CODE.RIGHT_ARROW||o==n.KEY_CODE.DOWN_ARROW?1:-1,c=D+l;a({itemIndex:c,items:r,raiseEvent:!0})}}),i.on("focusin",function(e){var n,o=i.find(h+".selected");o.addClass("md-focused"),0===o.length&&(D=u(t),n=i.find(h+m),a({itemIndex:D||0,items:n,raiseEvent:!0}))}),i.on("focusout",function(e){i.find(h+".md-focused"+m).removeClass("md-focused")})}}}])}(),function(){"use strict";var e=angular.module("pipUnsavedChanges",[]);e.directive("pipUnsavedChanges",["$window","$rootScope",function(e,n){return{restrict:"AE",scope:{unsavedChangesAvailable:"&pipUnsavedChangesAvailable",unsavedChangesMessage:"@pipUnsavedChangesMessage",afterLeave:"&pipUnsavedChangesAfterLeave"},link:function(t){e.onbeforeunload=function(){if(t.unsavedChangesAvailable())return n.$routing=!1,t.unsavedChangesMessage};var i=t.$on("$stateChangeStart",function(i){t.unsavedChangesAvailable()&&!e.confirm(t.unsavedChangesMessage)?(n.$routing=!1,i.preventDefault()):_.isFunction(t.afterLeave)&&t.afterLeave()});t.$on("$destroy",function(){e.onbeforeunload=null,i()})}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,n,t,i){var o=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,r,a){function l(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function c(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+u(e)}function u(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function p(e){return $=parseFloat(e)||0}function s(e){if(D=!e,D&&m)return m=!1,w()}function d(e){return E=e}function f(e){if(null!=v&&v.unbind("scroll",w),v=e,null!=e)return v.bind("scroll",w)}function g(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=r.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var v,m=null,h=!0,$=null,D=null,C=null,E=!1,S=angular.element(n),w=function(){var n,t,o,a,p;return v===S?(n=l(v)+u(v[0].document.documentElement),o=c(r)+l(r)):(n=l(v),t=0,void 0!==c(v)&&(t=c(v)),o=c(r)-t+l(r)),E&&(o=l((r[0].ownerDocument||r[0].document).documentElement)),a=o-n,p=a<=l(v)*$+1,p?(m=!0,D?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):m=!1};return null!=o&&(w=_.throttle(w,o)),i.$on("$destroy",function(){if(v.unbind("scroll",w),null!=C)return C(),C=null}),i.$watch("pipScrollDistance",p),p(i.pipScrollDistance),i.$watch("pipScrollDisabled",s),s(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f(S),i.pipScrollListenForEvent&&(C=e.$on(i.pipScrollListenForEvent,w)),i.$watch("pipScrollContainer",function(e){e!==v&&g(e)}),g(i.pipScrollContainer||[]),null!=a.pipScrollParent&&f(angular.element(r.parent())),null!=a.pipScrolImmediateCheck&&(h=i.$eval(a.pipScrolImmediateCheck)),t(function(){if(h)return w()},0,1)}}}])}();
!function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("color_picker/color_picker.html",'<ul class="pip-color-picker {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="showProgress()"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("popover/popover.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed pip-toast-button" ng-if="toast.type==\'error\' && toast.error && showDetails" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed pip-toast-button" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(){"use strict";angular.module("pipControls",["pipMarkdown","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipControls.Translate"])}(),function(){"use strict";var e=angular.module("pipColorPicker",["pipControls.Templates"]);e.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),e.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(e,t,o,n){var i=["purple","lightgreen","green","darkred","pink","yellow","cyan"];e.class=o.class||"",(!e.colors||_.isArray(e.colors)&&0===e.colors.length)&&(e.colors=i),e.currentColor=e.currentColor||e.colors[0],e.currentColorIndex=e.colors.indexOf(e.currentColor),e.disabled=function(){return!e.ngDisabled||e.ngDisabled()},e.selectColor=function(t){e.disabled()||(e.currentColorIndex=t,e.currentColor=e.colors[e.currentColorIndex],n(function(){e.$apply()}),e.colorChange&&e.colorChange())},e.enterSpacePress=function(t){e.selectColor(t.index)}}])}(),function(){"use strict";var e=angular.module("pipControls.Translate",[]);e.filter("translate",["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return t?t.translate(e)||e:e}}])}(),function(){"use strict";var e=angular.module("pipImageSlider",["pipSliderButton","pipSliderIndicator","pipImageSlider.Service"]);e.directive("pipImageSlider",function(){return{scope:{sliderIndex:"=pipImageIndex"},controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(e,t,o,n,i,r,a){function s(){o.pipImageIndex&&(e.sliderIndex=v)}function l(){g=r(function(){d=v+1===u.length?0:v+1,m="next",f()},k||C)}function p(){r.cancel(g)}function c(){p(),l()}var u,d,m,g,f,v=0,h=n(o.pipAnimationType)(e),C=4500,k=n(o.pipAnimationInterval)(e);t.addClass("pip-image-slider"),t.addClass("pip-animation-"+h),e.swipeStart=0,s(),i(function(){u=t.find(".pip-animation-block"),u.length>0&&$(u[0]).addClass("pip-show")}),l(),f=_.throttle(function(){a.toBlock(h,u,v,d,m),v=d,s()},700),e.nextBlock=function(){c(),d=v+1===u.length?0:v+1,m="next",f()},e.prevBlock=function(){c(),d=v-1<0?u.length-1:v-1,m="prev",f()},e.slideTo=function(e){e===v||e>u.length-1||(c(),d=e,m=e>v?"next":"prev",f())},o.id&&a.registerSlider(o.id,e),t.on("$destroy",function(){p(),a.removeSlider(o.id)})}]}})}(),function(){"use strict";var e=angular.module("pipImageSlider.Service",[]);e.service("$pipImageSlider",["$timeout",function(e){function t(e,t){s[e]=t}function o(e){delete s[e]}function n(e){return s[e]}function i(t,o){t.addClass("pip-next"),e(function(){t.addClass("animated").addClass("pip-show").removeClass("pip-next"),o.addClass("animated").removeClass("pip-show")},100)}function r(t,o){e(function(){t.addClass("animated").addClass("pip-show"),o.addClass("animated").addClass("pip-next").removeClass("pip-show")},100)}function a(e,t,o,n,a){var s=$(t[o]),l=n,p=$(t[l]);"carousel"===e?($(t).removeClass("pip-next").removeClass("pip-prev").removeClass("animated"),!a||"prev"!==a&&"next"!==a?n&&n<o?r(p,s):i(p,s):"prev"===a?r(p,s):i(p,s)):(s.addClass("animated").removeClass("pip-show"),p.addClass("animated").addClass("pip-show"))}var s={};return{nextCarousel:i,prevCarousel:r,toBlock:a,registerSlider:t,removeSlider:o,getSliderScope:n}}])}(),function(){"use strict";var e=angular.module("pipSliderButton",[]);e.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs","$pipImageSlider",function(e,t,o,n,i){var r=o(n.pipButtonType)(e),a=o(n.pipSliderId)(e);t.on("click",function(){a&&r&&i.getSliderScope(a)[r+"Block"]()})}]}})}(),function(){"use strict";var e=angular.module("pipSliderIndicator",[]);e.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs","$pipImageSlider",function(e,t,o,n,i){var r=o(n.pipSliderId)(e),a=o(n.pipSlideTo)(e);t.css("cursor","pointer"),t.on("click",function(){!r||a&&a<0||i.getSliderScope(r).slideTo(a)})}]}})}(),function(){"use strict";var e=angular.module("pipMarkdown",["ngSanitize"]);e.run(["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;t&&(t.setTranslations("en",{MARKDOWN_ATTACHMENTS:"Attachments:",checklist:"Checklist",documents:"Documents",pictures:"Pictures",location:"Location",time:"Time"}),t.setTranslations("ru",{MARKDOWN_ATTACHMENTS:"Вложения:",checklist:"Список",documents:"Документы",pictures:"Изображения",location:"Местонахождение",time:"Время"}))}]),e.directive("pipMarkdown",["$parse","$injector",function(e,t){var o=t.has("pipTranslate")?t.get("pipTranslate"):null;return{restrict:"EA",scope:!1,link:function(t,n,i){function r(e){var t="",n=[];return _.each(e,function(e){e.type&&"text"!==e.type&&(0===t.length&&o&&(t=o.translate("MARKDOWN_ATTACHMENTS")),n.indexOf(e.type)<0&&(n.push(e.type),t+=n.length>1?", ":" ",o&&(t+=o.translate(e.type))))}),t}function a(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function s(e){var t,o,a,s,l;_.isArray(e)?(l=_.find(e,function(e){return"text"===e.type&&e.text}),t=l?l.text:r(e)):t=e,o=i.pipLineCount&&_.isNumber(c()),o=o&&t&&t.length>0,s={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},t=marked(t||"",s),o&&(a=1.5*c()),n.html("<div"+(o?p()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+a+'em">':' class="pip-markdown-content" style="max-height: '+a+'em">':p()?' class="pip-markdown-list">':">")+t+"</div>"),n.find("a").attr("target","blank"),!p()&&o&&n.append('<div class="pip-gradient-block"></div>')}var l=e(i.pipText),p=e(i.pipList),c=e(i.pipLineCount);s(l(t)),a(i.pipRebind)&&t.$watch(l,function(e){s(e)}),t.$on("pipWindowResized",function(){s(l(t))}),n.addClass("pip-markdown")}}}])}(),function(){"use strict";var e=angular.module("pipRoutingProgress",["ngMaterial"]);e.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,scope:{showProgress:"&",logoUrl:"@"},templateUrl:"progress/routing_progress.html",controller:"pipRoutingProgressController"}}),e.controller("pipRoutingProgressController",["$scope","$element","$attrs",function(e,t,o){function n(){e.logoUrl&&i.attr("src",e.logoUrl)}var i=t.children("img");n()}])}(),function(){"use strict";var e=angular.module("pipPopover",["pipPopover.Service"]);e.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(e,t,o,n,i){function r(){d.addClass("opened"),$(".pip-popover-backdrop").focus(),e.params.timeout&&n(function(){s()},e.params.timeout)}function a(){e.params.cancelCallback&&e.params.cancelCallback(),s()}function s(){d.removeClass("opened"),n(function(){d.remove()},100)}function l(e){e.stopPropagation()}function p(){if(e.params.element){var t=$(e.params.element),o=t.offset(),n=t.width(),i=t.height(),r=$(document).width(),a=$(document).height(),s=d.find(".pip-popover");o&&s.css("max-width",r-(r-o.left)).css("max-height",a-(o.top+i)-32,0).css("left",o.left-s.width()+n/2).css("top",o.top+i+16)}}function c(){if(e.params.calcHeight!==!1){var t=d.find(".pip-popover"),o=t.find(".pip-title"),n=t.find(".pip-footer"),i=t.find(".pip-content"),r=t.height()-o.outerHeight(!0)-n.outerHeight(!0);i.css("max-height",Math.max(r,0)+"px").css("box-sizing","border-box")}}function u(){d.find(".pip-popover").find(".pip-content").css("max-height","100%"),p(),c()}var d,m;d=$(".pip-popover-backdrop"),d.on("click keydown scroll",a),d.addClass(e.params.responsive!==!1?"pip-responsive":""),n(function(){p(),e.params.template&&(m=i(e.params.template)(e),o.find(".pip-popover").append(m)),r()}),n(function(){c()},200),e.onPopoverClick=l,e=_.defaults(e,e.$parent),t.$on("pipPopoverResize",u),$(window).resize(u)}]}})}(),function(){"use strict";var e=angular.module("pipPopover.Service",[]);e.service("pipPopoverService",["$compile","$rootScope","$timeout",function(e,t,o){function n(o){var n,r,s,l;n=$("body"),n.find("md-backdrop").length>0||(i(),r=t.$new(),s=o&&_.isObject(o)?o:{},r.params=s,r.locals=s.locals,l=e(a)(r),n.append(l))}function i(){var e=$(".pip-popover-backdrop");e.removeClass("opened"),o(function(){e.remove()},100)}function r(){t.$broadcast("pipPopoverResize")}var a;return a="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:n,hide:i,resize:r}}])}(),function(){"use strict";var e=angular.module("pipToasts",["ngMaterial","pipControls.Translate"]);e.controller("pipToastController",["$scope","$mdToast","toast","$injector",function(e,t,o,n){var i=n.has("pipErrorDetailsDialog")?n.get("pipErrorDetailsDialog"):null;e.message=o.message,e.actions=o.actions,e.toast=o,0===o.actions.length?e.actionLenght=0:1===o.actions.length?e.actionLenght=o.actions[0].toString().length:e.actionLenght=null,e.showDetails=null!=i,e.onDetails=function(){t.hide(),i&&i.show({error:e.toast.error,ok:"Ok"},angular.noop,angular.noop)},e.onAction=function(e){t.hide({action:e,id:o.id,message:o.message})}}]),e.service("pipToasts",["$rootScope","$mdToast",function(e,t){function o(){var e;C.length>0&&(e=C[0],C.splice(0,1),n(e))}function n(e){f=e,t.show({templateUrl:"toast/toast.html",hideDelay:e.duration||v,position:"bottom left",controller:"pipToastController",locals:{toast:f,sounds:$}}).then(function(e){f.successCallback&&f.successCallback(e),f=null,o()},function(e){f.cancelCallback&&f.cancelCallback(e),f=null,o()})}function i(e){f&&"error"!==e.type?C.push(e):n(e)}function r(e){var t=[];_.each(C,function(o){o.type&&o.type===e||t.push(o)}),C=_.cloneDeep(t)}function a(e){_.remove(C,{id:e})}function s(e){return _.find(C,{id:e})}function l(){C=_.reject(C,function(e){return"error"===e.type}),f&&"error"===f.type&&(t.cancel(),o())}function p(){g()}function c(e,t,o,n,r){i({id:r||null,type:"notification",message:e,actions:t||["ok"],successCallback:o,cancelCallback:n,duration:h})}function u(e,t,o,n){i({id:n||null,type:"message",message:e,actions:["ok"],successCallback:t,cancelCallback:o})}function d(e,t,o,n,r){i({id:n||null,error:r,type:"error",message:e,actions:["ok"],successCallback:t,cancelCallback:o})}function m(){t.cancel(),C=[]}function g(e){e?r(e):(t.cancel(),C=[])}var f,v=2e4,h=2e4,C=[],$={};return e.$on("$stateChangeSuccess",l),e.$on("pipSessionClosed",p),e.$on("pipIdentityChanged",p),{showNotification:c,showMessage:u,showError:d,hideAllToasts:m,clearToasts:g,removeToastsById:a,getToastById:s}}])}();
!function(p){try{p=angular.module("pipLists.Templates")}catch(t){p=angular.module("pipLists.Templates",[])}p.run(["$templateCache",function(p){p.put("tag_list/tag_list.html",'<div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && !pipTypeLocal"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && pipTypeLocal"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4" ng-repeat="tag in pipTags"><span>{{::tag}}</span></div>')}])}(),function(){"use strict";angular.module("pipLists",["pipTagList"])}(),function(){"use strict";var p=angular.module("pipList.Translate",[]);p.filter("translate",["$injector",function(p){var t=p.has("pipTranslate")?p.get("pipTranslate"):null;return function(p){return t?t.translate(p)||p:p}}])}(),function(){"use strict";var p=angular.module("pipTagList",["pipList.Translate"]);p.directive("pipTagList",["$parse",function(p){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tag_list/tag_list.html",controller:["$scope","$element","$attrs",function(t,i,a){function e(p){return null!=p&&(!!p&&(p=p.toString().toLowerCase(),"1"==p||"true"==p))}var s;s=p(a.pipTags),i.css("display","block"),t.tags=s(t),e(a.pipRebind)&&t.$watch(s,function(){t.tags=s(t)}),i.addClass("pip-tag-list")}]}}])}();
!function(t){try{t=angular.module("pipDates.Templates")}catch(e){t=angular.module("pipDates.Templates",[])}t.run(["$templateCache",function(t){t.put("date_directive/date.html",'<div class="pip-date layout-row flex" tabindex="-1"><md-input-container class="input-container flex"><md-select class="pip-date-day flex" ng-disabled="disableControls" ng-model="day" placeholder="{{dayLabel}}" ng-change="onDayChanged()"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{:: opt }}</md-option></md-select></md-input-container><div class="input-container-separator flex-fixed"></div><md-input-container class="input-container flex"><md-select class="pip-date-monthflex" ng-disabled="disableControls" ng-model="month" placeholder="{{monthLabel}}" ng-change="onMonthChanged()"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{:: opt.name }}</md-option></md-select></md-input-container><div class="input-container-separator flex-fixed"></div><md-input-container class="input-container flex"><md-select class="pip-date-year flex" ng-disabled="disableControls" ng-model="year" placeholder="{{yearLabel}}" ng-change="onYearChanged()"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{:: opt }}</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("pipDates.Templates")}catch(e){t=angular.module("pipDates.Templates",[])}t.run(["$templateCache",function(t){t.put("date_range_directive/date_range.html",'<div class="pip-date-range layout-row flex" tabindex="-1"><md-input-container ng-show="isDay()" class="input-container pip-day flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-day" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onDayClick()" ng-model="day" ng-change="onDayChanged()" placeholder="{{dayLabel}}" aria-label="DAY"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show="isWeek()" class="input-container flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-week" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" ng-model="week" ng-change="onWeekChange()" placeholder="{{weekLabel}}" aria-label="WEEK"><md-option ng-value="opt.id" ng-repeat="opt in weeks track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'space16\': $mdMedia(\'gt-xs\'), \'space8\': $mdMedia(\'xs\')}" ng-show="isDay() || isWeek()"></div><md-input-container ng-show="isMonth() && !monthFormatShort" class="input-container flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show="isMonth() && monthFormatShort" class="flex input-container" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in shortMonths track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'space16\': $mdMedia(\'gt-xs\'), \'space8\': $mdMedia(\'xs\')}" ng-show="isMonth()"></div><md-input-container class="input-container flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-year" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onYearClick()" ng-model="year" ng-change="onYearChanged()" placeholder="{{yearLabel}}" aria-label="YEAR"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{ opt }}</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("pipDates.Templates")}catch(e){t=angular.module("pipDates.Templates",[])}t.run(["$templateCache",function(t){t.put("time_range_edit_directive/time_range_edit.html",'<div class="event-edit layout-row layout-xs-column flex layout-align-start-start"><div flex="47" class="start-time-container"><p class="text-caption text-grey">{{startLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="pip-datepicker-container" flex="49"><md-datepicker ng-model="data.startDate" xmd-placeholder="{{startLabel}}" ng-change="onChangeStartDate()" ng-disabled="isDisabled()" aria-label="START-DATE"></md-datepicker></div><div flex=""><md-input-container class="input-container"><md-select aria-label="START-TIME" ng-model="data.startTime" ng-disabled="isDisabled()" ng-change="onChangeStartTime()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex="47" class="end-time-container"><p class="text-caption text-grey">{{endLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="pip-datepicker-container flex-49"><md-datepicker ng-model="data.endDate" xmd-placeholder="{{endLabel}}" ng-disabled="isDisabled()" ng-change="onChangeEndDate()" aria-label="END-DATE"></md-datepicker></div><div flex=""><md-input-container class="input-container"><md-select aria-label="END-TIME" ng-model="data.endTime" ng-change="onChangeEndTime()" ng-disabled="isDisabled()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>')}])}(),function(t){try{t=angular.module("pipDates.Templates")}catch(e){t=angular.module("pipDates.Templates",[])}t.run(["$templateCache",function(t){t.put("time_range_directive/time_range.html",'<p><span ng-if="data.start != null">{{data.start | formatShortDateTime}}</span> <span class="separator" ng-if="data.start && data.end">-</span> <span ng-if="data.end != null">{{data.end | formatShortDateTime}}</span></p>')}])}(),function(){"use strict";var t=angular.module("pipDates.Translate",[]);t.filter("translate",["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}])}(),function(){"use strict";angular.module("pipDates",["pipDate","pipTimeRange","pipDateTime","pipTimeRangeEdit","pipDateRange","pipDates.Translate"])}();var pip;!function(t){var e;!function(t){"use strict";angular.module("pipDateTime",["pipDateTime.Service","pipDateTime.Filter"])}(e=t.datetime||(t.datetime={}))}(pip||(pip={}));var pip;!function(t){var e;!function(t){"use strict";function e(t){"ngInject";return function(e,n){return t.formatTime(e,n)}}function n(t){"ngInject";return function(e,n){return t.formatDateOptional(e,n)}}function a(t){"ngInject";return function(e){return t.formatLongDate(e)}}function r(t){"ngInject";return function(e){return t.formatShortDate(e)}}function o(t){"ngInject";return function(e){return t.formatMonth(e)}}function i(t){"ngInject";return function(e){return t.formatLongMonth(e)}}function m(t){"ngInject";return function(e){return t.formatYear(e)}}function d(t){"ngInject";return function(e){return t.formatWeek(e)}}function p(t){"ngInject";return function(e){return t.formatShortWeek(e)}}function l(t){"ngInject";return function(e){return t.formatShortDateTime(e)}}function u(t){"ngInject";return function(e){return t.formatLongDateTime(e)}}function s(t){"ngInject";return function(e){return t.formatShortTime(e)}}function f(t){"ngInject";return function(e){return t.formatLongTime(e)}}function c(t){"ngInject";return function(e){return t.formatShortDayOfWeek(e)}}function g(t){"ngInject";return function(e){return t.formatLongDayOfWeek(e)}}function h(t){"ngInject";return function(e){return t.formatDateNumber(e)}}function D(t){"ngInject";return function(e){return t.formatLongDateNumber(e)}}function y(t){"ngInject";return function(e){return t.formatTimeNumber(e)}}function T(t){"ngInject";return function(e){return t.formatLongTimeNumber(e)}}function S(t){"ngInject";return function(e){return t.formatLongMonthDay(e)}}function v(t){"ngInject";return function(e){return t.formatShortMonthDay(e)}}function w(t){"ngInject";return function(e,n){return t.formatDateRange(e,n)}}function b(t){"ngInject";return function(e,n){return t.formatDateTimeRange(e,n)}}function _(t){"ngInject";return function(e){return t.formatISOWeek(e)}}function k(t){"ngInject";return function(e){return t.formatShortISOWeek(e)}}function L(t){"ngInject";return function(e){return t.formatISOWeekOrdinal(e)}}function M(t){"ngInject";return function(e){return t.formatDateY(e)}}function E(t){"ngInject";return function(e){return t.formatLongDateY(e)}}function C(t){"ngInject";return function(e){return t.formatMillisecondsToSeconds(e)}}function N(t){"ngInject";return function(e,n){return t.formatElapsedInterval(e,n)}}function O(t){"ngInject";return function(e){return t.getDateJSON(e)}}e.$inject=["pipDateTime"],n.$inject=["pipDateTime"],a.$inject=["pipDateTime"],r.$inject=["pipDateTime"],o.$inject=["pipDateTime"],i.$inject=["pipDateTime"],m.$inject=["pipDateTime"],d.$inject=["pipDateTime"],p.$inject=["pipDateTime"],l.$inject=["pipDateTime"],u.$inject=["pipDateTime"],s.$inject=["pipDateTime"],f.$inject=["pipDateTime"],c.$inject=["pipDateTime"],g.$inject=["pipDateTime"],h.$inject=["pipDateTime"],D.$inject=["pipDateTime"],y.$inject=["pipDateTime"],T.$inject=["pipDateTime"],S.$inject=["pipDateTime"],v.$inject=["pipDateTime"],w.$inject=["pipDateTime"],b.$inject=["pipDateTime"],_.$inject=["pipDateTime"],k.$inject=["pipDateTime"],L.$inject=["pipDateTime"],M.$inject=["pipDateTime"],E.$inject=["pipDateTime"],C.$inject=["pipDateTime"],N.$inject=["pipDateTime"],O.$inject=["pipDateTime"],angular.module("pipDateTime.Filter",[]).filter("formatTime",e).filter("formatDateOptional",n).filter("formatShortDate",r).filter("formatLongDate",a).filter("formatMonth",o).filter("formatLongMonth",i).filter("formatYear",m).filter("formatWeek",d).filter("formatShortWeek",p).filter("formatShortDateTime",l).filter("formatLongDateTime",u).filter("formatShortTime",s).filter("formatLongTime",f).filter("formatShortDayOfWeek",c).filter("formatLongDayOfWeek",g).filter("formatDateNumber",h).filter("formatLongDateNumber",D).filter("formatTimeNumber",y).filter("formatLongTimeNumber",T).filter("formatLongMonthDay",S).filter("formatShortMonthDay",v).filter("formatDateRange",w).filter("formatDateTimeRange",b).filter("formatISOWeek",_).filter("formatShortISOWeek",k).filter("formatISOWeekOrdinal",L).filter("formatDateY",M).filter("formatLongDateY",E).filter("formatMillisecondsToSeconds",C).filter("formatElapsedInterval",N)}(e=t.datetime||(t.datetime={}))}(pip||(pip={}));var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pip;!function(t){var e;!function(t){"use strict";var e=function(){function t(){this._momentRanged=new Array("year","month","week","isoweek","day"),this._defaultFormat="LL"}return t.prototype.isUndefinedOrNull=function(t){return angular.isUndefined(t)||null===t},t.prototype.getRange=function(t){if(this.isUndefinedOrNull(t))return"day";var e=this._momentRanged.indexOf(t);return e<0?"day":this._momentRanged[e]},t.prototype.getOperationRange=function(t){if(this.isUndefinedOrNull(t))return"day";var e="isoweek"==t?"week":t,n=this._momentRanged.indexOf(e);return n<0?"day":this._momentRanged[n]},t.prototype.formatDateTime=function(t,e){var n,a;return this.isUndefinedOrNull(t)?"":(n=moment(t),n.isValid()?(a=e?e:this._defaultFormat,n.format(a)):"")},t.prototype.formatDateTimeY=function(t,e){var n,a,r;return this.isUndefinedOrNull(t)?"":(n=moment(t),n.isValid()?(a=moment(),r=moment.localeData().longDateFormat(e?e:this._defaultFormat),a.year()==n.year()&&(r=r.replace(/Y/g,"").replace(/^\W|\W$|\W\W/,"")),n.format(r)):"")},t.prototype.formatDay=function(t,e){var n,a=moment.localeData().longDateFormat(e?e:this._defaultFormat),r=a.replace(/Y/g,"").replace(/^\W|\W$|\W\W/,"").replace(/M/g,"");return this.isUndefinedOrNull(t)?"":(n=moment(t),n.format(r))},t.prototype.formatMonthDay=function(t,e){var n,a=e?e:this._defaultFormat,r=moment.localeData().longDateFormat(a),o=r.replace(/Y/g,"").replace(/^\W|\W$|\W\W/,"");return this.isUndefinedOrNull(t)?"":(n=moment(t),n.format(o))},t.prototype.formatRange=function(t,e,n){var a,r;n?n:this._defaultFormat;if(a=this.isUndefinedOrNull(t)?null:moment(t),r=this.isUndefinedOrNull(e)?null:moment(e),null===a&&null===r)return"";if(null===a)return r.format(n);if(null===r||a.isSame(r))return a.format(n);if(a.isAfter(r))throw new Error("Date range error. Start date is more than end date.");return a.year()==r.year()?a.month()==r.month()?this.formatDay(a,n)+"-"+r.format(n):this.formatMonthDay(a,n)+"-"+r.format(n):a.format(n)+"-"+r.format(n)},t.prototype.toStartRange=function(t,e){var n;return this.isUndefinedOrNull(t)?"":(n=moment(t),n.isValid()?n.startOf(e).toDate():"")},t.prototype.toEndRange=function(t,e,n){var a,r,o;return this.isUndefinedOrNull(t)?"":(angular.isNumber(n)||(o=0),a=moment(t),a.isValid()?(r=o?a.startOf(e).add(o,"milliseconds"):a.startOf(e),a.startOf(e).toDate()):"")},t.prototype.formatTime=function(t,e){return this.formatDateTime(t,"LLL")},t.prototype.formatDateOptional=function(t,e){return this.formatDateTime(t,"L")},t.prototype.formatShortDate=function(t){return this.formatDateTime(t,"L")},t.prototype.formatLongDate=function(t){return this.formatDateTime(t,"LL")},t.prototype.formatMonth=function(t){return this.formatDateTime(t,"MM")},t.prototype.formatLongMonth=function(t){return this.formatDateTime(t,"MMMM")},t.prototype.formatYear=function(t){return this.formatDateTime(t,"YYYY")},t.prototype.formatWeek=function(t){return this.formatDateTime(t,"ww")},t.prototype.formatShortWeek=function(t){return this.formatDateTime(t,"w")},t.prototype.formatShortDateTime=function(t){return this.formatDateTime(t,"LLL")},t.prototype.formatLongDateTime=function(t){return this.formatDateTime(t,"LLLL")},t.prototype.formatShortTime=function(t){return this.formatDateTime(t,"LT")},t.prototype.formatLongTime=function(t){return this.formatDateTime(t,"LTS")},t.prototype.formatShortDayOfWeek=function(t){return this.formatDateTime(t,"dd")},t.prototype.formatLongDayOfWeek=function(t){return this.formatDateTime(t,"dddd")},t.prototype.formatDateNumber=function(t){return this.formatDateTime(t,"l")},t.prototype.formatLongDateNumber=function(t){return this.formatDateTime(t,"ll")},t.prototype.formatTimeNumber=function(t){return this.formatDateTime(t,"LLL")},t.prototype.formatLongTimeNumber=function(t){return this.formatDateTime(t,"LLLL")},t.prototype.formatLongMonthDay=function(t){return this.formatMonthDay(t,"LL")},t.prototype.formatShortMonthDay=function(t){return this.formatMonthDay(t,"L")},t.prototype.formatDateRange=function(t,e){return this.formatRange(t,e,"LL")},t.prototype.formatDateTimeRange=function(t,e){return this.formatRange(t,e,"LLL")},t.prototype.formatISOWeek=function(t){return this.formatDateTime(t,"WW")},t.prototype.formatShortISOWeek=function(t){return this.formatDateTime(t,"W")},t.prototype.formatISOWeekOrdinal=function(t){return this.formatDateTime(t,"Wo")},t.prototype.formatDateY=function(t){return this.formatDateTimeY(t,"L")},t.prototype.formatLongDateY=function(t){return this.formatDateTimeY(t,"LL")},t.prototype.formatMillisecondsToSeconds=function(t){return""},t.prototype.formatElapsedInterval=function(t,e){var n,a;return this.isUndefinedOrNull(t)?"":(a=this.isUndefinedOrNull(e)?moment():moment(e),n=moment(t),n.isValid()&&a.isValid()?moment(n).fromNow(a):"")},t.prototype.getDateJSON=function(t){return JSON.stringify(moment(t))},t.prototype.getNextStart=function(t,e){var n,a,r;return this.isUndefinedOrNull(t)?"":(n=moment(t),n.isValid()?(a=this.getRange(e),r=moment(n).startOf(a).add(this.getOperationRange(a)),r.toDate()):"")},t.prototype.getPrevStart=function(t,e){var n,a,r;return this.isUndefinedOrNull(t)?"":(n=moment(t),n.isValid()?(a=this.getRange(e),r=moment(n).startOf(a).add(-1,this.getOperationRange(a)),r.toDate()):"")},t.prototype.getNowStart=function(t){var e,n,a;return e=moment(),e.isValid()?(n=this.getRange(t),a=moment(e).startOf(n),a.toDate()):""},t.prototype.addHours=function(t,e){var n;return this.isUndefinedOrNull(t)||!angular.isNumber(e)?"":(n=moment(t),n.isValid()?n.add(e,"hours").toDate():"")},t.prototype.toStartDay=function(t){return this.toStartRange(t,"day")},t.prototype.toEndDay=function(t,e){return this.toEndRange(t,"day",e)},t.prototype.toStartWeek=function(t){return this.toStartRange(t,"week")},t.prototype.toEndWeek=function(t,e){return this.toEndRange(t,"week",e)},t.prototype.toStartMonth=function(t){return this.toStartRange(t,"month")},t.prototype.toEndMonth=function(t,e){return this.toEndRange(t,"month",e)},t.prototype.toStartYear=function(t){return this.toStartRange(t,"year")},t.prototype.toEndYear=function(t,e){return this.toEndRange(t,"year",e)},t}(),n=function(){function t(t){this._datetime=t}return t.prototype.formatTime=function(t,e){return this._datetime.formatTime(t,e)},t.prototype.formatDateOptional=function(t,e){return this._datetime.formatDateOptional(t,e)},t.prototype.formatShortDate=function(t){return this._datetime.formatShortDate(t)},t.prototype.formatLongDate=function(t){return this._datetime.formatLongDate(t)},t.prototype.formatMonth=function(t){return this._datetime.formatMonth(t)},t.prototype.formatLongMonth=function(t){return this._datetime.formatLongMonth(t)},t.prototype.formatYear=function(t){return this._datetime.formatYear(t)},t.prototype.formatWeek=function(t){return this._datetime.formatWeek(t)},t.prototype.formatShortWeek=function(t){return this._datetime.formatShortWeek(t)},t.prototype.formatShortDateTime=function(t){return this._datetime.formatShortDateTime(t)},t.prototype.formatLongDateTime=function(t){return this._datetime.formatLongDateTime(t)},t.prototype.formatShortTime=function(t){return this._datetime.formatShortTime(t)},t.prototype.formatLongTime=function(t){return this._datetime.formatLongTime(t)},t.prototype.formatShortDayOfWeek=function(t){return this._datetime.formatShortDayOfWeek(t)},t.prototype.formatLongDayOfWeek=function(t){return this._datetime.formatLongDayOfWeek(t)},t.prototype.formatDateNumber=function(t){return this._datetime.formatDateNumber(t)},t.prototype.formatLongDateNumber=function(t){return this._datetime.formatLongDateNumber(t)},t.prototype.formatTimeNumber=function(t){return this._datetime.formatTimeNumber(t)},t.prototype.formatLongTimeNumber=function(t){return this._datetime.formatLongTimeNumber(t)},t.prototype.formatLongMonthDay=function(t){return this._datetime.formatLongMonthDay(t)},t.prototype.formatShortMonthDay=function(t){return this._datetime.formatShortMonthDay(t)},t.prototype.formatDateRange=function(t,e){return this._datetime.formatDateRange(t,e)},t.prototype.formatDateTimeRange=function(t,e){return this._datetime.formatDateTimeRange(t,e)},t.prototype.formatISOWeek=function(t){return this._datetime.formatISOWeek(t)},t.prototype.formatShortISOWeek=function(t){return this._datetime.formatShortISOWeek(t)},t.prototype.formatISOWeekOrdinal=function(t){return this._datetime.formatISOWeekOrdinal(t)},t.prototype.formatDateY=function(t){return this._datetime.formatDateY(t)},t.prototype.formatLongDateY=function(t){return this._datetime.formatLongDateY(t)},t.prototype.formatMillisecondsToSeconds=function(t){return this._datetime.formatMillisecondsToSeconds(t)},t.prototype.formatElapsedInterval=function(t,e){return this._datetime.formatElapsedInterval(t,e)},t.prototype.getDateJSON=function(t){return this._datetime.getDateJSON(t)},t.prototype.getNextStart=function(t,e){return this._datetime.getNextStart(t,e)},t.prototype.getPrevStart=function(t,e){return this._datetime.getPrevStart(t,e)},t.prototype.getNowStart=function(t){return this._datetime.getNowStart(t)},t.prototype.addHours=function(t,e){return this._datetime.addHours(t,e)},t.prototype.toStartDay=function(t){return this._datetime.toStartDay(t)},t.prototype.toEndDay=function(t,e){return this._datetime.toEndDay(t,e)},t.prototype.toStartWeek=function(t){return this._datetime.toStartWeek(t)},t.prototype.toEndWeek=function(t,e){return this._datetime.toEndWeek(t,e)},t.prototype.toStartMonth=function(t){return this._datetime.toStartMonth(t)},t.prototype.toEndMonth=function(t,e){return this._datetime.toEndMonth(t,e)},t.prototype.toStartYear=function(t){return this._datetime.toStartYear(t)},t.prototype.toEndYear=function(t,e){return this._datetime.toEndYear(t,e)},t}(),a=function(t){function e(){t.call(this)}return __extends(e,t),e.prototype.$get=function(){"ngInject";return null==this._service&&(this._service=new n(this)),this._service},e}(e);angular.module("pipDateTime.Service",[]).provider("pipDateTime",a)}(e=t.datetime||(t.datetime={}))}(pip||(pip={})),function(t,e){"use strict";var n=t.module("pipDate",["pipDates.Templates"]);n.directive("pipDate",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",ngChange:"&"},templateUrl:"date_directive/date.html",controller:"pipDateController"}}),n.controller("pipDateController",["$scope","$element","$injector",function(n,a,r){function o(t,e){var n,a=31,r=[];for(4===t||6===t||9===t||11===t?a=30:2===t&&(a=e&&e%4===0?29:28),n=1;n<=a;n++)r.push(n);return r}function i(){var t,e=[];for(t=1;t<=12;t++)e.push({id:t,name:f[t-1]});return e}function m(){var t,e=(new Date).getFullYear(),a="future"===n.timeMode?e:e-100,r="past"===n.timeMode?e:e+100,o=[];if("past"===n.timeMode)for(t=r;t>=a;t--)o.push(t);else for(t=a;t<=r;t++)o.push(t);return o}function d(){var t=o(n.month,n.year);n.days.length!==t.length&&(n.day>t.length&&(n.day=t.length),n.days=t)}function p(t){var a=t?e.isDate(t)?t:new Date(t):null,r=a?a.getDate():null,i=a?a.getMonth()+1:null,m=a?a.getFullYear():null;n.month!==i&&n.year!==m&&(n.days=o(n.month,n.year)),n.day=r,n.month=i,n.year=m}function l(){var t;n.day&&n.month&&n.year&&(t=new Date(n.year,n.month-1,n.day,0,0,0,0),n.model=t,n.ngChange())}var u,s=moment.localeData(),f=t.isArray(s._months)?s._months:s._months.format,c=(t.isArray(s._weekdays)?s._weekdays:s._weekdays.format,s._weekdaysMin,s._week.dow,r.has("pipTranslate")?r.get("pipTranslate"):null);c?(c.setTranslations("en",{DAY:"Day",MONTH:"Month",YEAR:"Year"}),c.setTranslations("ru",{DAY:"День",MONTH:"Месяц",YEAR:"Год"}),n.dayLabel=c.translate("DAY"),n.monthLabel=c.translate("MONTH"),n.yearLabel=c.translate("YEAR")):(n.dayLabel="Day",n.monthLabel="Month",n.yearLabel="Year"),n.onDayChanged=function(){l()},n.onMonthChanged=function(){d(),l()},n.onYearChanged=function(){d(),l()},u=n.model?e.isDate(n.model)?n.model:new Date(n.model):null,n.day=u?u.getDate():null,n.month=u?u.getMonth()+1:null,n.year=u?u.getFullYear():null,n.days=o(n.month,n.year),n.months=i(),n.years=m(),n.disableControls=!!n.disabled&&n.disabled(),n.$watch("model",function(t){p(t)}),n.$watch(n.disabled,function(t){n.disableControls=t})}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipDateRange",["pipDates.Templates"]);n.directive("pipDateRange",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",pipChanged:"&",pipDateRangeType:"@",pipDateFormat:"@",pipNoLine:"@"},templateUrl:"date_range_directive/date_range.html",controller:"pipDateRangeController"}}),n.controller("pipDateRangeController",["$scope","$element","$mdMedia","$rootScope","$injector",function(n,a,r,o,i){function m(){M.day=n.day,M.month=n.month,M.year=n.year,M.week=n.week,M.dateRangeType=n.pipDateRangeType,M.model=n.model}function d(){n.days=s(n.month,n.year),n.weeks=g(n.month,n.year),n.months=h(),n.shortMonths=h(!0),n.years=D()}function p(){(!L.model||L.model&&L.model.getTime()>=n.model.getTime())&&n.weeks&&n.weeks[n.week]&&n.weeks[n.week].id<=0&&(n.month<12?n.month+=1:(n.month=1,n.year+=1),d())}function l(){var t;t=n.model?new Date(n.model):null,n.day=t?t.getUTCDate():null,n.month=t?t.getUTCMonth()+1:null,n.year=t?t.getUTCFullYear():null,n.week=t?f(n.day,n.month-1,n.year):null,d(),"weekly"===n.pipDateRangeType?(p(),T()):y(),v()}function u(t,e){var n=31;return 4===t||6===t||9===t||11===t?n=30:2===t&&(n=e&&e%4===0?29:28),n}function s(t,e){var a,r,o;for(a=u(t,e),n.nameDays=[],r=[],o=1;o<=a;o++)r.push(o),n.nameDays.push(N[moment([e,t-1,o]).weekday()]);return r}function f(t,e,n){var a,r,o;return a=new Date(Date.UTC(n,e,t)),r=a.getUTCDay()?a.getUTCDay():7,o=1===r?t:t+1-r}function c(t,e,n){var a,r;return a=t+6>e?e-t-6:t+6,r=t>0?t:n+t,r.toString()+" - "+Math.abs(a).toString()}function g(t,e){var n,a,r,o;for(n=[],a=u(t,e),o=f(1,t-1,e),r=t-1?u(t-1,e):u(12,e-1);o<a+1;)n.push({id:o,name:c(o,a,r)}),o+=7;return n}function h(){var t,e=[];for(t=1;t<=12;t++)e.push({id:t,name:C[t-1]});return e}function D(){var t,e,a,r=[];switch(n.timeMode){case"future":t=b,a=b+100;break;case"past":t=b-100,a=b;break;case"now":t=b-50,a=b+100;break;default:t=b-50,a=b+50}if("future"===n.timeMode)for(e=t;e<=a;e++)r.push(e);else for(e=a;e>=t;e--)r.push(e);return r}function y(){var t=s(n.month,n.year);switch(n.pipDateRangeType){case"monthly":n.day=1;break;case"yearly":n.month=1,n.day=1;break;default:n.days.length!==t.length&&n.day>t.length&&(n.day=t.length)}n.days=t}function T(){var t;t=g(n.month,n.year),n.week=f(n.week,n.month-1,n.year),n.weeks=t}function S(t){var e,a,r,o,i;e=t?new Date(t):null,a=e?e.getUTCDate():null,r=e?e.getUTCMonth()+1:null,o=e?e.getUTCFullYear():null,i=e?f(a,r-1,o):null,n.day===a&&n.month===r&&n.year===o&&n.week===i||(n.day=a,n.month=r,n.year=o,n.week=i,n.days=s(n.month,n.year),n.weeks=g(n.month,n.year))}function v(){var t;"weekly"===n.pipDateRangeType?(t=new Date(n.year,n.month-1,n.week,0,0,0,0),t=new Date(t.getTime()-6e4*t.getTimezoneOffset()),n.model=t):(t=new Date(n.year,n.month-1,n.day,0,0,0,0),t=new Date(t.getTime()-6e4*t.getTimezoneOffset()),n.model=t),L=e.cloneDeep(M),m(),n.onChange()}var w,b,_,k,L={},M={},E=moment.localeData(),C=t.isArray(E._months)?E._months:E._months.format,N=(t.isArray(E._weekdays)?E._weekdays:E._weekdays.format,E._weekdaysMin);E._week.dow;w=new Date,b=w.getUTCFullYear(),_=w.getUTCMonth()+1,k=w.getUTCDate(),n.onDayChanged=function(){v()},n.onMonthChanged=function(){if("weekly"===n.pipDateRangeType){var t,e;t=new Date(Date.UTC(n.year,n.month-1,1)),e=t.getUTCDay()?t.getUTCDay():7,n.week=f(e,n.month-1,n.year),p(),T()}else y();v()},n.onYearChanged=function(){var t,e;t=new Date(Date.UTC(n.year,n.month-1,1)),e=t.getUTCDay()?t.getUTCDay():7,"weekly"===n.pipDateRangeType?(n.week=f(e,n.month-1,n.year),T(),p()):y(),v()},n.onWeekChange=function(){"weekly"===n.pipDateRangeType?(T(),p()):y(),v()},n.isDay=function(){return"daily"===n.pipDateRangeType},n.isWeek=function(){return"weekly"===n.pipDateRangeType},n.isMonth=function(){return"daily"===n.pipDateRangeType||"weekly"===n.pipDateRangeType||"monthly"===n.pipDateRangeType},n.onChange=function(){n.pipChanged&&n.pipChanged()},n.$mdMedia=r,l(),n.disableControls=!!n.disabled&&n.disabled(),n.$watch("model",function(t,e){t!==e&&S(t)}),n.$watch(n.disabled,function(t){n.disableControls=t}),n.$watch("pipDateRangeType",function(t,e){t!==e&&e&&l()}),n.onYearClick=function(){n.year||(n.year=b)},n.onMonthClick=function(){n.month||(n.month=_)},n.onDayClick=function(){n.year||(n.day=k)}}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipTimeRangeEdit",[]);n.directive("pipTimeRangeEdit",function(){return{restrict:"EA",scope:{pipStartDate:"=",pipChanged:"&",pipEndDate:"=",pipStartLabel:"@",pipEndLabel:"@",disabled:"&ngDisabled",pipSize:"="},templateUrl:"time_range_edit_directive/time_range_edit.html",controller:"pipTimeRangeEditController"}}),n.controller("pipTimeRangeEditController",["$scope","$element","$attrs","$injector","pipDateTime",function(t,n,a,r,o){function i(t){return t?new Date(t):null}function m(){var e,n;return t.data.startDate&&t.data.endDate?(e=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),n=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n-e):null}function d(){var e,n,a;return t.data.startDate?(t.data.startTime||(t.data.endTime?t.data.startTime=0===t.data.endTime?0:t.data.endTime-30:(e=new Date,e=e.getTime()-o.toStartDay(e),t.data.startTime=30*Math.floor(e/18e5))),t.data.endDate?(n=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),void(t.data.duration?(a=new Date(n.getTime()+t.data.duration),t.data.endDate=o.toStartDay(a),a=a.getTime()-t.data.endDate.getTime(),t.data.endTime=30*Math.floor(a/18e5)):(a=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n>=a&&(t.data.endDate=o.toStartDay(new Date(n.getTime()+18e5)),t.data.endTime=(t.data.startTime+30)%1440)))):void(t.data.endTime=null)):void(t.data.startTime=null)}function p(){var e,n,a;return t.data.endDate?(t.data.endTime||(t.data.startTime?t.data.endTime=1410===t.data.startTime?1410:t.data.startTime+30:(e=new Date,e=e.getTime()-o.toStartDay(e),t.data.endTime=30*Math.floor(e/18e5))),t.data.startDate?(n=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),a=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n>=a&&(t.data.startDate=o.toStartDay(new Date(a.getTime()-18e5)),t.data.startTime=t.data.endTime%1440===0?1410:t.data.endTime-30),void(t.data.duration=m())):void(t.data.startTime=null)):void(t.data.endTime=null)}function l(){var e;t.data.bind=!1,t.data.startDate&&(e=t.data.startTime?60*t.data.startTime*1e3:0,t.pipStartDate=new Date(t.data.startDate.getTime()+e)),t.data.endDate&&(e=t.data.endTime?60*t.data.endTime*1e3:0,t.pipEndDate=new Date(t.data.endDate.getTime()+e)),t.data.bind=!0}function u(){var n,a;null!==t.pipStartDate&&void 0!==t.pipStartDate&&(n=e.isDate(t.pipStartDate)?t.pipStartDate:null,n||(n=i(t.pipStartDate)),t.data.startDate=o.toStartDay(n),t.data.startTime=(new Date(n)-t.data.startDate)/6e4),null!==t.pipEndDate&&void 0!==t.pipEndDate&&(a=e.isDate(t.pipEndDate)?t.pipEndDate:null,n||(a=i(t.pipEndDate)),t.data.endDate=o.toStartDay(a),t.data.endTime=(new Date(a)-t.data.endDate)/6e4),d(),t.data.duration=m(),l()}function s(){var t,n,a,r;for(t=[],n=0;n<24;n++)for(a=0;a<2;a++)r=30*a,t.push({id:60*n+r,time:e.pad(n.toString(),3,"0").substr(0,2)+":"+e.pad(r.toString(),2,"0")});return t}function f(){t.data.startDate=null,t.data.startTime=null,t.data.endDate=null,t.data.endTime=null,t.data.duration=null}var c=r.has("pipTranslate")?r.get("pipTranslate"):null;c?(c.setTranslations("en",{EVENT_NEW_START_TIME:"Start time",EVENT_NEW_END_TIME:"End time"}),c.setTranslations("ru",{EVENT_NEW_START_TIME:"Начало",EVENT_NEW_END_TIME:"Конец"}),t.startLabel=t.pipStartLabel?c.translate(t.pipStartLabel):c.translate("EVENT_NEW_START_TIME"),t.endLabel=t.pipEndLabel?c.translate(t.pipEndLabel):c.translate("EVENT_NEW_END_TIME")):(t.startLabel=t.pipStartLabel?t.pipStartLabel:"Start time",t.endLabel=t.pipEndLabel?t.pipEndLabel:"End time"),t.intervalTimeCollection=s(),t.data={},f(),u(),t.onChangeStartDate=function(){d(),t.data.duration=m(),l(),t.pipChanged()},t.onChangeEndDate=function(){p(),t.data.duration=m(),l(),t.pipChanged()},t.onChangeStartTime=function(){t.data.startDate||(t.data.startDate=o.toStartDay(new Date)),d(),t.data.duration=m(),l(),t.pipChanged()},t.onChangeEndTime=function(){t.data.endDate||(t.data.endDate=o.toStartDay(new Date)),p(),t.data.duration=m(),l(),t.pipChanged()},t.isDisabled=function(){return!!t.disabled&&t.disabled()},t.$watchGroup([t.pipStartDate,t.pipEndDate],function(){t.data.bind&&(f(),u())}),t.$watch(t.disabled,function(e){t.disableControls=e}),n.addClass("pip-time-range-edit")}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipTimeRange",[]);n.directive("pipTimeRange",function(){
return{restrict:"EA",scope:{pipStartDate:"=",pipEndDate:"="},templateUrl:"time_range_directive/time_range.html",link:function(t,n,a){function r(t){return t?new Date(t):null}function o(){null!==t.pipStartDate&&void 0!==t.pipStartDate&&(t.data.start=e.isDate(t.pipStartDate)?t.pipStartDate:r(t.pipStartDate))}function i(){null!==t.pipEndDate&&void 0!==t.pipEndDate&&(t.data.end=e.isDate(t.pipEndDate)?t.pipEndDate:r(t.pipEndDate))}function m(t){return null!=t&&(!!t&&(t=t.toString().toLowerCase(),"1"==t||"true"==t))}t.data={},t.data.start=null,t.data.end=null,o(),i(),m(a.pipRebind)&&(t.$watch("pipStartDate",function(){t.data.start=null,o()}),t.$watch("pipEndDate",function(){t.data.end=null,i()})),n.addClass("pip-time-range")}}})}(window.angular,window._);
!function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("confirmation/confirmation.html",'<md-dialog class="pip-dialog pip-confirmation-dialog layout-column" width="400" md-theme="{{::theme}}"><div class="pip-header"><h3>{{:: title}}</h3></div><div class="pip-footer"><div><md-button ng-click="onCancel()">{{:: cancel}}</md-button><md-button class="md-accent" ng-click="onOk()">{{:: ok}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("error_details/error_details.html",'<md-dialog class="pip-dialog pip-error-details-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-body"><div class="pip-header"><h3>{{::errorDetails | translate}}</h3></div><div class="layout-row layout-align-start-center error-section text-body2 color-secondary-text" ng-if="error.code || (error.data && error.data.code)">{{::errorCode | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.code || (error.data && error.data.code)">{{error.code || error.data.code}}</div><div class="layout-row layout-align-start-center error-section text-body2 color-secondary-text" ng-if="error.path || (error.data && error.data.path)">{{::errorPath | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.path || (error.data && error.data.path)">{{error.path || error.data.path}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{::errorText | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.error || (error.data && error.data.error)">{{error.error || error.data.error}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{::errorMethod | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.method || (error.data && error.data.method)">{{error.method || error.data.method}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{::errorMessage | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.message || (error.data && error.data.message)">{{error.message || error.data.message}}</div></div><div class="pip-footer"><div><md-button class="md-accent m0" ng-click="onOk()">{{::dismissButton | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options.html",'<md-dialog class="pip-dialog pip-options-dialog layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 tp0 rp0 bp24 pip-scroll"><div class="pip-header"><h3>{{::title | translate}}</h3><div ng-show="deletedTitle" class="header-option text-subhead1 divider-bottom"><md-checkbox ng-model="deleted" aria-label="CHECKBOX">{{::deletedTitle | translate}}</md-checkbox></div></div><div class="pip-content"><md-radio-group ng-model="selectedOptionName" class="pip-list md-primary" md-no-ink="true" ng-keypress="onKeyPress($event)" tabindex="0"><div ng-repeat="option in options" class="pip-list-item" md-ink-ripple="" ui-event="{ click: \'onOptionSelect($event, option)\' }" ng-class="{ selected: option.name == selectedOptionName }"><div class="pip-list-item item-padding"><md-icon class="pip-option-icon" md-svg-icon="icons:{{option.icon}}" ng-if="option.icon"></md-icon><div class="pip-option-title">{{::option.title | translate}}</div><md-radio-button ng-value="option.name" tabindex="-1" aria-label="{{::option.title | translate}}"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class="pip-footer"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options_big.html",'<md-dialog class="pip-dialog pip-options-dialog-big layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body pip-scroll" ng-class="{\'bp24\': !noActions}"><div class="pip-header" ng-class="{\'header-hint\': noTitle && hint}"><h3 class="m0" ng-if="!noTitle">{{::title | translate}}</h3><div ng-show="noTitle && hint" class="dialog-hint layout-row layout-align-start-center"><div class="hint-icon-container flex-fixed"><md-icon md-svg-icon="icons:info-circle-outline"></md-icon></div><div>{{::hint | translate}}</div></div></div><div class="content-divider" ng-if="!noTitle"></div><div class="pip-content"><div class="spacer8" ng-if="noTitle && hint"></div><md-list class="pip-menu pip-ref-list" pip-selected="optionIndex" index="{{optionIndex }}" pip-select="onSelected($event)"><md-list-item class="pip-ref-list-item pip-selectable layout-row layout-align-start-center" ng-class="{\'selected md-focused\' : option.name == selectedOptionName, \'divider-bottom\': $index != options.length - 1}" md-ink-ripple="" ng-keyup="onKeyUp($event, $index)" ng-repeat="option in options"><div class="pip-content content-stretch" ng-click="onOptionSelect($event, option)"><p class="pip-title spacer-right" ng-if="option.title" style="margin-bottom: 4px !important;">{{::option.title | translate}}</p><div class="pip-subtitle spacer-right" style="height: inherit" ng-if="option.subtitle">{{::option.subtitle | translate}}</div><div class="pip-subtitle spacer-right" style="height: inherit" ng-if="option.text" ng-bind-html="option.text | translate"></div></div></md-list-item></md-list></div><div class="spacer8" ng-if="noActions"></div></md-dialog-content><div class="pip-footer" ng-if="!noActions"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()" style="margin-right: -6px">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("information/information.html",'<md-dialog class="pip-dialog pip-information-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-header"><h3>{{ title | translate }}</h3></div><div class="pip-body"><div class="pip-content">{{ content }}</div></div><div class="pip-footer"><div><md-button class="md-accent" ng-click="onOk()">{{ ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(){"use strict";angular.module("pipDialogs",["pipInformationDialog","pipConfirmationDialog","pipOptionsDialog","pipOptionsBigDialog","pipErrorDetailsDialog"])}(),function(){"use strict";var t=angular.module("pipConfirmationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);t.factory("pipConfirmationDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"confirmation/confirmation.html",controller:"pipConfirmationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),t.controller("pipConfirmationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{CONFIRM_TITLE:"Confirm"}),a.translations("ru",{CONFIRM_TITLE:"Подтвердите"}),t.title=n.title||"CONFIRM_TITLE",t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL"):(t.title=n.title||"Confirm",t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel"),t.theme=e.$theme,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(),function(){"use strict";var t=angular.module("pipDialogs.Translate",[]);t.filter("translate",["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}])}(),function(){"use strict";var t=angular.module("pipErrorDetailsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);t.factory("pipErrorDetailsDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"error_details/error_details.html",controller:"pipErrorDetailsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),t.controller("pipErrorDetailsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{ERROR_DETAILS:"Error details",CODE:"Error code",PATH:"Path",ERROR:"Error",METHOD:"Method",MESSAGE:"Message",DISMISS:"Dismiss"}),a.translations("ru",{ERROR_DETAILS:"Детали ошибки",CODE:"Код ошибки",PATH:"Путь",ERROR:"Ошибка",METHOD:"Метод",MESSAGE:"Сообщение"}),t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL",t.errorDetails="ERROR_DETAILS",t.dismissButton="DISMISS",t.errorMessage="MESSAGE",t.errorCode="CODE",t.errorMethod="METHOD",t.errorPath="PATH",t.errorText="ERROR"):(t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel",t.errorDetails="Error details",t.dismissButton="Dismiss",t.errorMessage="Message",t.errorCode="Code",t.errorMethod="Method",t.errorPath="Path",t.error="Error"),t.theme=e.$theme,t.error=n.error,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(),function(){"use strict";var t=angular.module("pipOptionsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);t.factory("pipOptionsDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options.html",controller:"pipOptionsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),t.controller("pipOptionsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){function a(){var t;t=$(".pip-options-dialog .pip-list"),t.focus()}var r=i.has("pipTranslate")?i.get("pipTranslate"):null;r?(r.translations("en",{OPTIONS_TITLE:"Choose Option"}),r.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=n.title||"OPTIONS_TITLE",t.applyButtonTitle=n.appleButtonTitle||"SELECT"):(t.title=n.title||"Choose Option",t.applyButtonTitle=n.appleButtonTitle||"Select"),t.theme=e.$theme,t.options=n.options,t.selectedOption=_.find(n.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.deleted=n.deleted,t.deletedTitle=n.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name},t.onKeyPress=function(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.onSelect())},t.onCancel=function(){o.cancel()},t.onSelect=function(){var e;e=_.find(n.options,{name:t.selectedOptionName}),o.hide({option:e,deleted:t.deleted})},setTimeout(a,500)}])}(),function(){"use strict";var t=angular.module("pipOptionsBigDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);t.factory("pipOptionsBigDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options_big.html",controller:"pipOptionsDialogBigController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),t.controller("pipOptionsDialogBigController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){function a(){var t;t=$(".pip-options-dialog .pip-list"),t.focus()}var r=i.has("pipTranslate")?i.get("pipTranslate"):null;r?(r.translations("en",{OPTIONS_TITLE:"Choose Option"}),r.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=n.title||"OPTIONS_TITLE",t.applyButtonTitle=n.applyButtonTitle||"SELECT"):(t.title=n.title||"Choose Option",t.applyButtonTitle=n.applyButtonTitle||"Select"),t.theme=e.$theme,t.options=n.options,t.noActions=n.noActions||!1,t.noTitle=n.noTitle||!1,t.hint=n.hint||"",t.selectedOption=_.find(n.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.optionIndex=_.findIndex(n.options,t.selectedOption),t.deleted=n.deleted,t.deletedTitle=n.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name,t.noActions&&t.onSelect()},t.onSelected=function(){t.selectedOptionName=t.options[t.optionIndex].name,t.noActions},t.onKeyUp=function(e,o){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),void 0!==o&&o>-1&&o<t.options.length&&(t.selectedOptionName=t.options[o].name,t.onSelect()))},t.onCancel=function(){o.cancel()},t.onSelect=function(){var e;e=_.find(t.options,{name:t.selectedOptionName}),o.hide({option:e,deleted:t.deleted})},setTimeout(a,500)}])}(),function(){"use strict";var t=angular.module("pipInformationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);t.factory("pipInformationDialog",["$mdDialog",function(t){return{show:function(e,o){t.show({targetEvent:e.event,templateUrl:"information/information.html",controller:"pipInformationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()})}}}]),t.controller("pipInformationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a,r=n.message,l=i.has("pipTranslate")?i.get("pipTranslate"):null;l?(l.translations("en",{INFORMATION_TITLE:"Information"}),l.translations("ru",{INFORMATION_TITLE:"Информация"}),t.title=n.title||"INFORMATION_TITLE",t.ok=n.ok||"OK",r=l.translate(r)):(t.title=n.title||"Information",t.ok=n.ok||"OK");var s=i.has("pipFormat")?i.get("pipFormat"):null;t.theme=e.$theme,n.item&&s&&(a=_.truncate(n.item,25),r=s.sprintf(r,a),console.log("content2",r)),t.content=r,t.onOk=function(){o.hide()}}])}();
!function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/primary_actions.html",'<md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/secondary_actions.html",'<md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset && config.showAppBar" ng-class="config.ngClasses" class="{{ config.cssClass }}" ng-transclude=""></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("breadcrumb/breadcrumb.html",'<div><div class="hide-xs text-overflow"><span ng-if="vm.config.criteria" ng-click="vm.onSearchOpen()">{{vm.config.criteria}} -</span><span class="pip-breadcrumb-item" ng-if="vm.config.items && vm.config.items.length > 0" ng-repeat-start="item in vm.config.items" ng-click="vm.onBreadcrumbClick(item)" ng-init="stepWidth = 100/(vm.config.items.length + 1)" ng-class="{\'cursor-pointer\': !$last}" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right" ng-hide="$last"></md-icon><span class="pip-title" ng-if="vm.config.text">{{vm.config.text | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="vm.config.criteria" ng-click="vm.onSearchOpen()">{{vm.config.criteria}} -</span> <span ng-if="vm.config.text">{{vm.config.text | translate}}</span> <span ng-if="vm.config.items && vm.config.items.length > 0">{{vm.config.items[vm.config.items.length - 1].title | translate}}</span></span><md-icon class="pip-triangle-down" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in vm.config.items" ng-if="vm.config.items && vm.config.items.length > 0"><md-button ng-click="vm.onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item ng-if="vm.config.text"><md-button><span class="text-grey">{{vm.config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-toolbar class="md-subhead color-primary-bg {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("language_picker/language_picker.html",'<md-menu md-position-mode="target-right target"><span class="pip-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{vm.language | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="language in vm.languages"><md-button ng-click="vm.onLanguageClick(lang)">{{language | translate}}</md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_icon/nav_icon.html",'<md-button class="md-icon-button pip-nav-icon" ng-if="config.type != \'none\'" ng-class="config.class" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.type==\'menu\'" md-svg-icon="icons:menu"></md-icon><img ng-src="{{config.imageUrl}}" ng-if="config.type==\'image\'" height="24" width="24"><md-icon ng-if="config.type==\'back\'" md-svg-icon="icons:arrow-left"></md-icon><md-icon ng-if="config.type==\'icon\'" md-svg-icon="icons:{{config.iconName}}"></md-icon></md-button>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_header/nav_header.html",'<md-toolbar md-theme="{{ $theme }}" ng-hide="!title" class="layout-row layout-align-start-center"><md-button class="pip-nav-header-user md-icon-button" ng-click="onUserClick()" aria-label="current user"><img src="" class="pip-nav-header-user-image" ng-class="imageCss"></md-button><div class="pip-nav-header-user-text"><a class="pip-nav-header-user-pri" ng-click="onUserClick()">{{ title }}</a><div class="pip-nav-header-user-sec">{{ subtitle | translate }}</div></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_menu/nav_menu.html",'<md-list><div class="pip-section" ng-repeat="section in config" ng-hide="section.access && !section.access(section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("search_bar/search_bar.html",'<div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div><div class="md-toolbar-tools layout-row layout-align-end-center" ng-if="!searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchEnable()"><md-icon md-svg-icon="icons:search"></md-icon></md-button></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused="" ng-transclude=""></md-sidenav>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(t){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><div class="md-subhead pip-tabs-content color-primary-bg" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></div></md-toolbar>')}])}(),function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav","pipNavIcon","pipNavMenu","pipNavHeader","pipBreadcrumb","pipPrimaryActions","pipSecondaryActions"])}(),function(){"use strict";var n=angular.module("pipActions.Service",[]);n.provider("pipActions",function(){function n(n,t){i.primaryGlobalActions=n||[],i.secondaryGlobalActions=t||[]}function t(n){i.primaryGlobalActions=n||[]}function e(n){i.secondaryGlobalActions=n||[]}var i={primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.globalActions=n,this.globalPrimaryActions=t,this.globalSecondaryActions=e,this.$get=["$rootScope",function(n){function t(){return i}function e(){i.primaryLocalActions=[],i.secondaryLocalActions=[],c()}function a(n,t){i.primaryLocalActions=n||[],i.secondaryLocalActions=t||[],c()}function o(n,t){_.each(i.primaryGlobalActions,function(e){e.name===n&&(e.count=t)}),_.each(i.primaryLocalActions,function(e){e.name===n&&(e.count=t)}),c()}function c(){n.$broadcast("pipActionsChanged",i)}return{config:t,show:a,hide:e,count:o}}]})}(),function(){"use strict";var n=angular.module("pipPrimaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);n.directive("pipPrimaryActions",function(){return{restrict:"E",scope:{localActions:"=pipLocalActions",globalActions:"=pipGlobalActions"},replace:!1,templateUrl:function(n,t){return"actions/primary_actions.html"},controller:"pipPrimaryActionsController"}}),n.controller("pipPrimaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,t,e,i,a,o,c,r){function s(t,e){n.config=e}function l(n){return n.access&&!n.access(n)}function p(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function u(t,e){if(t&&!t.divider){if(t.close&&(n.originatorEv=null),t.menu)return void e(n.originatorEv);if(t.callback)return void t.callback();if(t.href)return void(a.location.href=t.href);if(t.url)return void o.url(t.url);if(t.state){if(c.has("$state")){var r=c.get("$state");r.go(t.state,t.stateParams)}}else t.event?i.$broadcast(t.event):i.$broadcast("pipActionClicked",t.name)}}t.addClass("pip-primary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.primaryLocalActions=n.localActions[0]),n.globalActions&&(r.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0]),i.$on("pipActionsChanged",s),n.actionHidden=l,n.actionCount=p,n.onActionClick=u}])}(),function(){"use strict";var n=angular.module("pipSecondaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);n.directive("pipSecondaryActions",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,t){return"actions/secondary_actions.html"},controller:"pipSecondaryActionsController"}}),n.controller("pipSecondaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,t,e,i,a,o,c,r){function s(t,e){n.originatorEv=e,t(e)}function l(t,e){n.config=e}function p(n){return n.access&&!n.access(n)}function u(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function d(n){var t=0;return _.each(n,function(n){p(n)||t++}),t}function m(){return d(n.config.secondaryGlobalActions)>0||d(n.config.secondaryLocalActions)>0}function g(){return d(n.config.secondaryGlobalActions)>0&&d(n.config.secondaryLocalActions)>0}function v(t,e){if(t&&!t.divider){if(t.close&&(n.originatorEv=null),t.menu)return void e(n.originatorEv);if(t.callback)return void t.callback();if(t.href)return void(a.location.href=t.href);if(t.url)return void o.url(t.url);if(t.state){if(c.has("$state")){var r=c.get("$state");r.go(t.state,t.stateParams)}}else t.event?i.$broadcast(t.event):i.$broadcast("pipActionClicked",t.name)}}t.addClass("pip-secondary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(r.showLocalActions(),n.config.secondaryGlobalActions=n.globalActions[0]),i.$on("pipActionsChanged",l),n.actionHidden=p,n.actionCount=u,n.secondaryActionsVisible=m,n.secondaryDividerVisible=g,n.onActionClick=v,n.openMenu=s}])}(),function(){"use strict";var n=angular.module("pipAppBar",["ngMaterial","pipNav.Templates","pipAppBar.Part","pipAppBar.Service"]);n.directive("pipAppbar",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"appbar/appbar.html",controller:"pipAppBarController"}}),n.controller("pipAppBarController",["$scope","$element","$rootScope","pipAppBar",function(n,t,e,i){function a(t,e){n.config=e}t.addClass("pip-appbar"),t.addClass("color-primary-bg"),n.$emit("pipResizeWindow"),n.config=i.config(),e.$on("pipAppBarChanged",a)}])}(),function(){"use strict";var n=angular.module("pipAppBar.Part",["pipAppBar.Service"]);n.directive("pipAppbarPart",["ngIfDirective",function(n){var t=n[0];return{transclude:t.transclude,priority:t.priority,terminal:t.terminal,restrict:t.restrict,scope:!0,link:function(n,e,i){i.ngIf=function(){return n.visible},t.link.apply(t,arguments)},controller:"pipAppBarPartController"}}]),n.controller("pipAppBarPartController",["$scope","$element","$attrs","$rootScope","pipAppBar",function(n,t,e,i,a){function o(t,e){var i=e.parts||{},a=i[c],o=!!(r?a==r:a);o!=n.visible&&(n.visible=o)}var c=""+e.pipAppbarPart,r=null,s=c.indexOf(":");s>0&&(r=c.substr(s+1),c=c.substr(0,s)),o(null,a.config()),i.$on("pipAppBarChanged",o)}])}(),function(){"use strict";var n=angular.module("pipAppBar.Service",[]);n.provider("pipAppBar",function(){function n(n){return e.theme=n||e.theme,e.theme}function t(n){return _.isObject(n)&&(e.parts=n),e.parts}var e={theme:"default",cssClass:"",ngClasses:{},parts:{},showAppBar:!0};this.theme=n,this.parts=t,this.$get=["$rootScope",function(n){function t(){return e}function i(n){return void 0!=n&&(e.cssClass=n,d()),e.cssClass}function a(){e.showAppBar=!0,d()}function o(){e.showAppBar=!1,d()}function c(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!0,e.ngClasses["pip-shadow-xs"]=!1,d()}function r(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!0,e.ngClasses["pip-shadow-xs"]=!0,d()}function s(){e.ngClasses["pip-shadow"]=!0,d()}function l(){e.ngClasses["pip-shadow"]=!1,e.ngClasses["pip-shadow-sm"]=!1,e.ngClasses["pip-shadow-xs"]=!1,d()}function p(n,t){if(!_.isString(n))throw new Error("Part name has to be a string");return void 0!=t&&e.parts[n]!=t&&(e.parts[n]=t,d()),e.parts[n]}function u(n){return _.isObject(n)&&(_.isEqual(e.parts,n)||(e.parts=n,d())),e.parts}function d(){n.$broadcast("pipAppBarChanged",e)}return{config:t,cssClass:i,part:p,parts:u,show:a,hide:o,showShadow:s,showShadowSm:c,showShadowSmXs:r,hideShadow:l}}]})}();var pip;!function(n){var t;!function(n){function t(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,t){return"breadcrumb/breadcrumb.html"},controller:e,controllerAs:"vm"}}var e=function(){function t(t,e,i,a,o,c,r){"ngInject";this._rootScope=a,this._window=o,e.addClass("pip-breadcrumb"),this.config=r.config,a.$on(n.BreadcrumbChangedEvent,this.onBreadcrumbChanged),a.$on(n.BreadcrumbBackEvent,this.onBreadcrumbBack)}return t.$inject=["$scope","$element","$attrs","$rootScope","$window","$state","pipBreadcrumb"],t.prototype.onBreadcrumbChanged=function(n,t){this.config=t},t.prototype.onBreadcrumbBack=function(){var n=this.config.items;if(_.isArray(n)&&n.length>0){var t=n[n.length-1].click;_.isFunction(t)?t():this._window.history.back()}else this._window.history.back()},t.prototype.onBreadcrumbClick=function(n){_.isFunction(n.click)&&n.click(n)},t.prototype.onSearchOpen=function(){this._rootScope.$broadcast("pipSearchOpen")},t}();angular.module("pipBreadcrumb",["ngMaterial","pipNav.Templates","pipNav.Translate","pipBreadcrumb.Service"]).directive("pipBreadcrumb",t)}(t=n.nav||(n.nav={}))}(pip||(pip={}));var pip;!function(n){var t;!function(t){t.BreadcrumbChangedEvent="pipBreadcrumbChanged",t.BreadcrumbBackEvent="pipBreadcrumbBack";var e=function(){function n(){}return n}();t.BreadcrumbItem=e;var i=function(){function n(){}return n}();t.BreadcrumbConfig=i;var a=function(){function t(n,t){this._config=n,this._rootScope=t}return Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._config.text},set:function(n){this._config.text=n,this._config.items=null,this.sendEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._config.items},set:function(n){this._config.text=null,this._config.items=n,this.sendEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"criteria",{get:function(){return this._config.criteria},set:function(n){this._config.criteria=n,this.sendEvent()},enumerable:!0,configurable:!0}),t.prototype.sendEvent=function(){this._rootScope.$broadcast(n.nav.BreadcrumbChangedEvent,this._config)},t}(),o=function(){function n(){this._config={text:null,items:null,criteria:null}}return Object.defineProperty(n.prototype,"text",{get:function(){return this._config.text},set:function(n){this._config.text=n},enumerable:!0,configurable:!0}),n.prototype.$get=["$rootScope",function(n){"ngInject";return null==this._service&&(this._service=new a(this._config,n)),this._service}],n}();angular.module("pipBreadcrumb.Service",[]).provider("pipBreadcrumb",o)}(t=n.nav||(n.nav={}))}(pip||(pip={})),function(){"use strict";var n=angular.module("pipNav.Translate",[]);n.filter("translate",["$injector",function(n){var t=n.has("pipTranslate")?n.get("pipTranslate"):null;return function(n){return t?t.translate(n)||n:n}}])}(),function(){"use strict";var n=angular.module("pipDropdown",["pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia",function(n){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(t,e,i,a){t.class=(i.class||"")+" md-"+a.get("theme")+"-theme",t.$mdMedia=n,t.actions=t.actions&&_.isArray(t.actions)?t.actions:[],t.activeIndex=t.activeIndex||0,t.disabled=function(){return!!t.ngDisabled()&&t.ngDisabled()},t.onSelect=function(n){t.activeIndex=n,t.select&&t.select(t.actions[n],t.activeIndex)},t.show=function(){return!t.showDropdown()||t.showDropdown()}}]}}])}();var pip;!function(n){var t;!function(n){"use strict";function t(){return{restrict:"E",scope:{languages:"=languages"},replace:!1,templateUrl:function(n,t){return"language_picker/language_picker.html"},controller:e,controllerAs:"vm"}}var e=function(){function n(n,t,e,i,a,o){"ngInject";this.languages=["en","ru"],this._timeout=a,this._translate=o.has("pipTranslate")?o.get("pipTranslate"):null,t.addClass("pip-language-picker"),this.languages=n.languages,i.$on("pipSetLanguages",this.setLanguages)}return n.$inject=["$scope","$element","$attrs","$rootScope","$timeout","$injector"],Object.defineProperty(n.prototype,"language",{get:function(){return this._translate?this._translate.language:null},enumerable:!0,configurable:!0}),n.prototype.setLanguages=function(n){this.languages=n.length>0?n:["en","ru"]},n.prototype.onLanguageClick=function(n){var t=this;null!=this._translate&&this._timeout(function(){t._translate.language=t.language},0)},n}();angular.module("pipLanguagePicker",["ngMaterial","pipNav.Translate","pipNav.Templates"]).directive("pipLanguagePicker",t)}(t=n.nav||(n.nav={}))}(pip||(pip={})),function(){"use strict";var n=angular.module("pipNavIcon",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavIcon.Service"]);n.directive("pipNavIcon",function(){return{restrict:"E",scope:{type:"=pipType",imageUrl:"=pipImageUrl"},replace:!1,templateUrl:function(n,t){return"nav_icon/nav_icon.html"},controller:"pipNavIconController"}}),n.controller("pipNavIconController",["$scope","$element","$attrs","$rootScope","$window","pipNavIcon",function(n,t,e,i,a,o){function c(t,e){n.config=e}function r(){_.isFunction(n.config.callback)?n.config.callback():n.config.event?i.$broadcast(n.config.event):"menu"==n.config.type?i.$broadcast("pipOpenSideNav"):"back"==n.config.type?a.history.back():i.$broadcast("pipNavIconClicked")}t.addClass("pip-nav-icon"),n.config=o.config(),i.$on("pipNavIconChanged",c),n.onNavIconClick=r}])}(),function(){"use strict";var n=angular.module("pipNavIcon.Service",[]);n.provider("pipNavIcon",function(){function n(){return c}function t(){c.type="none",c.callback=null,c.event=null}function e(n){c.type="menu",c.callback=null,c.event=null,_.isFunction(n)&&(c.callback=n),_.isString(n)&&(c.event=n)}function i(n,t){c.type="icon",c.iconName=n,c.callback=null,c.event=null,_.isFunction(t)&&(c.callback=t),_.isString(t)&&(c.event=t)}function a(n){c.type="back",c.callback=null,c.event=null,_.isFunction(n)&&(c.callback=n),_.isString(n)&&(c.event=n)}function o(n,t){c.type="image",c.imageUrl=n,c.callback=null,c.event=null,_.isFunction(t)&&(c.callback=t),_.isString(t)&&(c.event=t)}var c={type:"menu",imageUrl:null,iconName:"back",callback:null,event:null};this.config=n,this.clear=t,this.menu=e,this.back=a,this.icon=i,this.image=o,this.$get=["$rootScope",function(r){function s(){t(),m()}function l(n){e(n),m()}function p(n,t){i(n,t),m()}function u(n){a(n),m()}function d(n,t){o(n,t),m()}function m(){r.$broadcast("pipNavIconChanged",c)}return{config:n,hide:s,menu:l,back:u,icon:p,image:d}}]})}(),function(){"use strict";var n=angular.module("pipNavHeader",["ngMaterial","pipNav.Templates","pipNavHeader.Service"]);n.directive("pipNavHeader",function(){return{restrict:"EA",scope:{title:"=pipTitle",subtitle:"=pipSubTitle",imageUrl:"=pipImage",imageCss:"=pipImageCss"},replace:!1,templateUrl:"nav_header/nav_header.html",controller:"pipNavHeaderController"}}),n.controller("pipNavHeaderController",["$scope","$element","$rootScope","$timeout","pipNavHeader",function(n,t,e,i,a){function o(n,t){var e={},i=n.width?n.width():n.clientWidth,a=n.height?n.height():n.clientHeight,o=t[0].naturalWidth||t.width,c=t[0].naturalHeight||t.height,r=0;o/i>c/a?(r=-((o/c*a-i)/2),e["margin-left"]=""+r+"px",e.height=""+a+"px",e.width=""+o*a/c+"px",e["margin-top"]=""):(r=-((c/o*i-a)/2),e["margin-top"]=""+r+"px",e.height=""+c*i/o+"px",e.width=""+i+"px",e["margin-left"]=""),t.css(e)}function c(){var t,e=a.config();t=n.imageUrl?n.imageUrl:e.defaultImageUrl,t?(console.log("url",t),s.attr("src",t)):(console.log("display none"),p.css("display","none"))}function r(){e.$broadcast("pipNavUserClicked")}var s,l=null,p=t.find(".pip-nav-header-user");t.addClass("pip-nav-header"),e.$on("pipIdentityChanged",c),e.$on("pipNavHeaderImageChanged",c),n.onUserClick=r,i(function(){s=t.find(".pip-nav-header-user-image"),c(),s.load(function(n){l=$(n.target),o(p,l)})},10)}])}(),function(){"use strict";var n=angular.module("pipNavHeader.Service",[]);n.provider("pipNavHeader",function(){function n(){return i}function t(){i.defaultImageUrl=null}function e(n){i.defaultImageUrl=n}var i={defaultImageUrl:null};this.config=n,this.clear=t,this.image=e,this.$get=["$rootScope",function(t){function a(n){console.log("showImage",n),e(n),o()}function o(){t.$broadcast("pipNavHeaderImageChanged",i)}return{config:n,image:a}}]})}(),function(){"use strict";var n=angular.module("pipNavMenu",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavMenu.Service"]);n.directive("pipNavMenu",function(){return{restrict:"EA",scope:{config:"=pipLinks"},replace:!1,templateUrl:"nav_menu/nav_menu.html",controller:"pipNavMenuController"}}),n.controller("pipNavMenuController",["$scope","$element","$rootScope","$window","$location","$timeout","$injector","pipSideNav","pipNavMenu",function(n,t,e,i,a,o,c,r,s){function l(n){return n&&n.access&&!n.access(n)}function p(n){var t=!0;return _.each(n,function(n){l(n)||(t=!1)}),t}function u(t,e){n.config=e}function d(n,t){if(n.stopPropagation(),!t)return void r.close();if(t.href)return t.href.split("?")[0]===i.location.href.split("?")[0]?void r.close():(r.close(),void o(function(){i.location.href=t.href},300));if(t.url)return t.url.split(/[\s\/?]+/)[1]===a.url().split(/[\s\/?]+/)[1]?void r.close():(r.close(),void o(function(){a.url(t.url)},300));if(t.state){var s=c.has("$state")?c.get("$state"):null;return null!=s&&s.current.name===t.state?void r.close():(r.close(),void o(function(){if(c.has("$state")){var n=c.get("$state");n.go(t.state,t.stateParams)}},300))}t.event&&e.$broadcast(t.event,t),r.close()}t.addClass("pip-nav-menu"),n.config=n.config||s.get(),e.$on("pipNavMenuChanged",u),n.itemVisible=l,n.onLinkClick=d,n.isSectionEmpty=p}])}(),function(){"use strict";var n=angular.module("pipNavMenu.Service",[]);n.provider("pipNavMenu",function(){function n(n){return _.isArray(n)&&(t=n),t}var t=[];this.sections=n,this.$get=["$rootScope","$mdSidenav",function(e,i){function a(){return t}function o(i){return n(i),e.$broadcast("pipNavMenuChanged",t),t}return{get:a,set:o}}]})}(),function(){"use strict";var n=angular.module("pipSearchBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipSearch.Service"]);n.run(["$injector",function(n){var t=n.has("pipTranslate")?n.get("pipTranslate"):null;t&&t.setTranslations&&(t.setTranslations("en",{APPBAR_SEARCH:"Search"}),t.setTranslations("ru",{APPBAR_SEARCH:"Поиск"}))}]),n.directive("pipSearchBar",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,t){return"search_bar/search_bar.html"},controller:"pipSearchBarController"}}),n.controller("pipSearchBarController",["$scope","$element","$attrs","$rootScope","pipSearch",function(n,t,e,i,a){function o(t,e){n.config=e,n.searchEnabled=!1,n.search.text=""}function c(){var n;setTimeout(function(){n=$(".pip-search-text"),n.length>0&&n.focus()},0)}function r(){n.search.text=n.config.criteria,n.searchEnabled=!0,c()}function s(){var t=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.callback?n.config.callback(t):i.$broadcast("pipSearchBarSearchClicked",t)}function l(){n.search.text?(n.search.text="",c()):(n.searchEnabled=!1,s())}function p(t){return 13===t.keyCode?void n.onSearchClick():void(27===t.keyCode&&(n.searchEnabled=!1))}t.addClass("pip-search-bar"),n.config=a.config(),n.searchEnabled=!1,n.search={text:""},i.$on("pipSearchChanged",o),n.onSearchEnable=r,n.onSearchClick=s,n.onSearchClear=l,n.onSearchKeyDown=p}])}(),function(){"use strict";var n=angular.module("pipSearch.Service",[]);n.provider("pipSearch",function(){var n={visible:!1,criteria:"",history:[],callback:null};this.$get=["$rootScope",function(t){function e(){return n}function i(t,e,i){n.callback=t,n.criteria=e,n.history=i,l()}function a(){n.callback=null,n.criteria=null,l()}function o(t){n.visible=!0,l()}function c(t){n.visible=!1,l()}function r(t){n.criteria=t,l()}function s(t){n.history=t,l()}function l(){t.$broadcast("pipSearchChanged",n)}return t.$on("pipSearchOpen",o),t.$on("pipSearchClose",c),{config:e,set:i,clear:a,criteria:r,history:s}}]})}(),function(){"use strict";var n=angular.module("pipSideNav",["ngMaterial","pipNav.Templates","pipSideNav.Part","pipSideNav.Service"]);n.directive("pipSidenav",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),n.controller("pipSideNavController",["$scope","$element","$rootScope","pipSideNav",function(n,t,e,i){function a(n){i.open()}t.addClass("pip-sidenav"),e.$on("pipNavIconClicked",a)}])}(),function(){"use strict";var n=angular.module("pipSideNav.Part",["pipSideNav.Service"]);n.directive("pipSidenavPart",["ngIfDirective",function(n){var t=n[0];return{transclude:t.transclude,priority:t.priority,terminal:t.terminal,restrict:t.restrict,scope:!0,link:function(n,e,i){i.ngIf=function(){return n.visible},t.link.apply(t)},controller:"pipSideNavPartController"}}]),n.controller("pipSideNavPartController",["$scope","$element","$attrs","$rootScope","pipSideNav",function(n,t,e,i,a){function o(t,e){var i=(e.parts||{},e[c]);n.visible=r?i==r:i}var c=""+e.pipSidenavPart,r=null,s=c.indexOf(":");s>0&&(r=c.substr(s+1),c=c.substr(0,s)),o(null,a.config()),i.$on("pipSideNavChanged",o)}])}(),function(){"use strict";var n=angular.module("pipSideNav.Service",[]);
n.provider("pipSideNav",function(){function n(n){return e.theme=n||e.theme,e.theme}function t(n){return _.isObject(n)&&(e.parts=n),e.parts}var e={theme:"default",parts:[]};this.theme=n,this.parts=t,this.$get=["$rootScope","$mdSidenav",function(n,t){function i(){return e}function a(n,t){if(!_.isString(n))throw new Error("Part name has to be a string");return void 0!=t&&e.parts[n]!=t&&(e.parts[n]=t,c()),e.parts[n]}function o(n){return _.isObject(n)&&(_.isEqual(e.parts,n)||(e.parts=n,c())),e.parts}function c(){n.$broadcast("pipSideNavChanged",e)}function r(n){t("pip-sidenav").open()}function s(n){t("pip-sidenav").close()}function l(){t("pip-sidenav").toggle()}return n.$on("pipOpenSideNav",r),n.$on("pipCloseSideNav",s),{config:i,part:a,parts:o,open:r,close:s,toggle:l}}]})}(),function(){"use strict";var n=angular.module("pipTabs",["pipNav.Templates"]);n.directive("pipTabs",function(){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","$injector",function(n,t,e,i,a,o){n.class=(e.class||"")+" md-"+a.get("theme")+"-theme",n.$mdMedia=i,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[];var c=o.has("pipTranslate")?o.get("pipTranslate"):null;c&&(n.tabs.length>0&&n.tabs[0].title?c.translateObjects(n.tabs,"title","nameLocal"):c.translateObjects(n.tabs,"name","nameLocal")),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(t){return n.disabled()&&n.activeIndex!=t},n.onSelect=function(t){n.disabled()||(n.activeIndex=t,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}})}();
!function(){"use strict";function e(e,t){try{t.$theme=e.get("theme")||"blue"}catch(e){}}e.$inject=["localStorageService","$rootScope"];var t=angular.module("pipTheme",["LocalStorageModule","ngMaterial"]);t.run(e),t.provider("pipTheme",function(){function e(e){return null!=e&&(r=e),r}function t(e){return null!=e&&(n=e),n}function a(e){return null!=e&&(o=e),o}var r="blue",n=!0,o=!0;this.use=e,this.init=e,this.persist=t,this.setRoot=a,this.$get=["$rootScope","$timeout","localStorageService","$mdTheming",function(e,t,a,l){function i(a,r){a=void 0!==a&&!!a,r=void 0!==r&&!!r,e.$reset=a,e.$partialReset=r,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function u(t,u,c){if(null!=t&&t!=r){if(!(r in l.THEMES))throw new Error("Theme "+r+" is not registered. Please, register it first with $mdThemingProvider");r=t,n&&a.set("theme",r),o&&(e.$theme=r),i(u,c),e.$broadcast("pipThemeChanged",t)}return r}return n&&(r=a.get("theme")||r),o&&(e.$theme=r),{use:u,theme:u}}]})}(),function(){"use strict";angular.module("pipTheme.Bootbarn",["pipTheme.Bootbarn.Warm","pipTheme.Bootbarn.Cool","pipTheme.Bootbarn.Monochrome"])}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(69, 90, 100, 1)"});e.definePalette("bootbarn-cool-background",t);var a=e.extendPalette("grey",{300:"rgba(69, 90, 100, .54)",500:"rgba(69, 90, 100, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-cool-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-cool-accent",r),e.theme("bootbarn-cool").primaryPalette("bootbarn-cool-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-cool-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-cool-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Cool",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(38, 50, 56, 1)"});e.definePalette("bootbarn-monochrome-background",t);var a=e.extendPalette("grey",{300:"rgba(38, 50, 56, .54)",500:"rgba(38, 50, 56, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-monochrome-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-monochrome-accent",r),e.theme("bootbarn-monochrome").primaryPalette("bootbarn-monochrome-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-monochrome-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-monochrome-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Monochrome",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){e.alwaysWatchTheme(!0);var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(177, 55, 34, 1)"});e.definePalette("bootbarn-warm-background",t);var a=e.extendPalette("brown",{300:"rgba(177, 55, 34, .54)",500:"rgba(177, 55, 34, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-warm-primary",a);var r=e.extendPalette("amber",{A700:"rgba(127, 148, 92, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-warm-accent",r);var n=e.extendPalette("red",{A200:"rgba(255, 87, 34, 1)",contrastLightColors:["A200"]});e.definePalette("bootbarn-warm-error",n),e.theme("bootbarn-warm").primaryPalette("bootbarn-warm-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-warm-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("bootbarn-warm-error",{default:"A200"}).accentPalette("bootbarn-warm-accent",{default:"A700"})}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Warm",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Default",["pipTheme.Blue","pipTheme.Pink","pipTheme.Amber","pipTheme.Orange","pipTheme.Green","pipTheme.Navy","pipTheme.Grey"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)"});e.definePalette("orange-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 152, 0, 1)",900:"rgba(255, 152, 0, .54);"});e.definePalette("orange-primary",a),e.theme("amber").primaryPalette("orange-primary",{default:"800","hue-1":"900"}).backgroundPalette("orange-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("orange",{default:"900"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Amber",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)"});e.definePalette("dark-background",a);var r=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("dark-accent",r),e.theme(t).primaryPalette("dark-background",{default:"900","hue-1":"700"}).backgroundPalette("dark-background",{default:"800","hue-1":"900","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("dark-accent",{default:"600"})}function a(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)",500:"rgba(38, 50, 56, 1)"});e.definePalette("black-background",a);var r=e.extendPalette("blue-grey",{700:"rgba(255, 255, 255, 0.54)"});e.definePalette("black-accent",r),e.theme(t).primaryPalette("black-accent",{default:"900","hue-1":"700"}).backgroundPalette("black-background",{default:"800","hue-1":"500","hue-2":"800"}).warnPalette("red",{default:"A200"}).accentPalette("black-accent",{default:"600"})}t("dark"),a("black"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Black",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:void 0});e.definePalette("blue-primary",a);var r=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(33, 150, 243, 1)"});e.definePalette("blue-background",r);var n=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("blue-accent",n),e.theme(t).primaryPalette("blue-primary",{default:"500","hue-1":"300"}).backgroundPalette("blue-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("blue-accent",{default:"600"})}t("default"),t("blue"),e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Blue",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(76, 175, 80, 1)"});e.definePalette("green-background",t);var a=e.extendPalette("green",{300:"#9ed4a1",contrastLightColors:["500","300"]});e.definePalette("green-primary",a);var r=e.extendPalette("amber",{contrastLightColors:["A700"]});e.definePalette("green-accent",r),e.theme("green").primaryPalette("green-primary",{default:"500","hue-1":"300"}).backgroundPalette("green-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("green-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Green",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)",A400:"#a9b9c0",500:"#607D8B",A700:"#90A4AE",contrastDefaultColor:"dark",contrastLightColors:["300","400","500","600","700","800","900","A700"]});e.definePalette("third-party",t),e.theme("grey").primaryPalette("third-party",{default:"500","hue-1":"A400"}).backgroundPalette("third-party",{default:"50","hue-1":"500","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("third-party",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Grey",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{700:"rgba(86, 97, 125, 1)",800:"rgba(86, 97, 125, .54)",A100:"rgba(250, 250, 250, 1)"});e.definePalette("grey",t);var a=e.extendPalette("teal",{contrastLightColors:["500","600","700","800","900","A700"]});e.definePalette("teal",a),e.theme("navy").primaryPalette("grey",{default:"700","hue-1":"800"}).backgroundPalette("grey",{default:"50","hue-1":"700","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("teal",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Navy",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 112, 67, 1)",contrastLightColors:["600","700","800","900","A200"]});e.definePalette("red-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 112, 67, 1)",900:"rgba(255, 152, 67, .54)",A100:"rgba(255, 171, 64, 1)",contrastLightColors:["800","900","A100"]});e.definePalette("red-primary",a),e.theme("orange").primaryPalette("red-primary",{default:"800","hue-1":"900"}).backgroundPalette("red-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("red-primary",{default:"A100"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Orange",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(188, 86, 121, 1)",contrastDefaultColor:"dark",contrastLightColors:["A200","A700"]});e.definePalette("pink-background",t);var a=e.extendPalette("pink",{600:"rgba(255, 128, 171, 1)",700:"rgba(188, 86, 121, .54)",900:"rgba(188, 86, 121, 1)",contrastDefaultColor:"light"});e.definePalette("pink-primary",a),e.theme("pink").primaryPalette("pink-primary",{default:"900","hue-1":"700"}).backgroundPalette("pink-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("pink-primary",{default:"600"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Pink",["ngMaterial"]);t.config(e)}();
!function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("missing_route/missing_route.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/invalid_route.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_ROUTE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_ROUTE_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="CONTINUE" class="md-accent" ng-click="onContinue($event)">{{::\'ERROR_ROUTE_CONTINUE\' | translate}}</md-button></div><div class="h48" ng-if="url"><a ng-href="{{url}}">{{::\'ERROR_ROUTE_TRY_AGAIN\' | translate }}: {{url}}</a></div><div class="h48" ng-if="urlBack"><a ng-href="{{urlBack}}">{{::\'ERROR_ROUTE_GO_BACK\' | translate }}: {{urlBack}}</a></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("maintenance/maintenance.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/maintenance.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_AVAILABLE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_AVAILABLE_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="timeoutInterval">{{::\'ERROR_AVAILABLE_TRY_AGAIN\' | translate}} {{timeoutInterval}} sec.</div><div class="pip-error-actions h48 layout-column layout-align-center-center" ng-if="isCordova"><md-button class="md-accent" ng-click="onClose($event)" aria-label="CLOSE">{{::\'ERROR_AVAILABLE_CLOSE\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection/no_connection.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/no_response.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection_panel/no_connection_panel.html",'<div class="pip-empty pip-error layout-column layout-align-center-center flex"><img src="images/no_response.svg" class="pip-pic block"><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unknown/unknown.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/unknown_error.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_UNKNOWN_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNKNOWN_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="showError && error_details && error_details.status"><div ng-if="error_details.code">Code: {{error_details.code}}</div><div ng-if="error_details.description">Description: {{error_details.description}}</div><div ng-if="error_details.status">HTTP status: {{error_details.status}}</div><div ng-if="error_details.server_stacktrace">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if="error_details.client_stacktrace">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class="pip-error-actions layout-column layout-align-center-center"><div class="h48" ng-if="isCordova"><md-button aria-label="CLOSE" class="md-accent" ng-click="onClose($event)">{{::\'ERROR_UNKNOWN_CLOSE\' | translate}}</md-button></div><div class="h48"><md-button aria-label="DETAILS" class="md-accent" ng-click="onDetails($event)">{{::\'ERROR_UNKNOWN_DETAILS\' | translate}}</md-button></div></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unsupported/unsupported.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div class="pip-error-text">{{::\'ERROR_UNSUPPORTED_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNSUPPORTED_SUBTITLE\' | translate}}</div><div class="pip-error-details layout-row layout-align-center-center" ng-if="$mdMedia(\'gt-xs\')"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div><div class="pip-error-details" ng-if="$mdMedia(\'xs\')"><div class="layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div></div><div class="tm16 layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div></div></div>')}])}(),function(){"use strict";angular.module("pipErrors",["pipErrors.Pages","pipNoConnectionPanel","pipClearErrors","pipFormErrors"])}(),function(){"use strict";var r=angular.module("pipErrors.Strings",["pipTranslate"]);r.run(["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;null!=e&&(e.translations("en",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to the server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 36+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 48+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 45+"}),e.translations("ru",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 35+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 47+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 43+"}))}])}(),function(){"use strict";var r=angular.module("pipErrors.Translate",[]);r.filter("translate",["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;return function(r){return e?e.translate(r)||r:r}}])}(),function(){"use strict";var r=angular.module("pipErrors.Pages",["ngMaterial","pipErrors.Strings","pipErrors.NoConnection","pipErrors.MissingRoute","pipErrors.Unsupported","pipErrors.Unknown","pipErrors.Maintenance","pipErrors.Translate","pipErrors.Templates"]);r.config(["$stateProvider",function(r){r.state("errors_no_connection",{url:"/errors/no_connection",params:{error:null},controller:"pipErrorNoConnectionController",templateUrl:"no_connection/no_connection.html"}).state("errors_maintenance",{url:"/errors/maintenance",params:{error:null},controller:"pipErrorMaintenanceController",templateUrl:"maintenance/maintenance.html"}).state("errors_missing_route",{url:"/errors/missing_route",params:{unfoundState:null,fromState:null},controller:"pipErrorMissingRouteController",templateUrl:"missing_route/missing_route.html"}).state("errors_unsupported",{url:"/errors/unsupported",params:{error:null},controller:"pipErrorUnsupportedController",templateUrl:"unsupported/unsupported.html"}).state("errors_unknown",{url:"/errors/unknown",params:{error:null},controller:"pipErrorUnknownController",templateUrl:"unknown/unknown.html"})}])}(),function(){"use strict";var r=angular.module("pipClearErrors",[]);r.directive("pipClearErrors",function(){return{restrict:"A",require:["ngModel","^?form"],link:function(r,e,t,o){function n(){var r=i.$error;for(var e in r)r.hasOwnProperty(e)&&"ERROR_"==e.substring(0,6)&&i.$setValidity(e,!0)}function a(){s.$serverError={}}var i=o[0],s=o[1];r.$watch(t.ngModel,function(r){n(),a()})}}})}(),function(){"use strict";var r=angular.module("pipFormErrors",[]);r.factory("pipFormErrors",["$rootScope",function(r){function e(r){if(null!=r)return _.isEmpty(r.$error)?{hint:!0}:r.$error}function t(r,e){if(null!=r&&null!=e){if(r.$submitted&&(e.$touched||r.$dirty)||!r.$submitted&&(e.$touched||e.$dirty)){var t=_.isEmpty(e.$error)?{hint:!0}:e.$error;return t}return{hint:!0}}}function o(r,e){r.$setPristine(),r.$setUntouched(),e&&(r.$setDirty(),r.$setSubmitted()),r.$serverError={}}function n(r,e){if(r)if(e&&r[e]&&r[e].$error)r[e].$error={};else{for(var t in r)r[t]&&r[t].$error&&(r[t].$error={});r&&r.$error&&(r.$error={})}}function a(r,e,t){if(null!=e){r.$serverError=r.$serverError||{};var o=e.code||(e.data||{}).code||null;if(!o&&e.status&&(o=e.status),o){var n="ERROR_"+o,a=t?t[o]:null;if(a&&r[a]&&r[a].$setValidity)return void r[a].$setValidity(n,!1);if("form"==a)return void(r.$serverError[n]=!0)}if(e.data&&e.data.message)return r.$serverError.ERROR_UNKNOWN=e.data.message,void i(e);if(e.message)return r.$serverError.ERROR_UNKNOWN=e.message,void i(e);if(e.name)return r.$serverError.ERROR_UNKNOWN=e.name,void i(e);r.$serverError.ERROR_UNKNOWN=e,i(e)}}function i(e){r.$emit("pipUnhandledInternalError",{error:e})}return{errorsWithHint:e,touchedErrorsWithHint:t,resetFormErrors:o,setFormError:a,resetFieldsErrors:n}}])}(),function(){"use strict";var r=angular.module("pipErrors.MissingRoute",[]);r.controller("pipErrorMissingRouteController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_ROUTE_PAGE_TITLE",[]),o.showLocalActions(null,[])}function a(){}n(),t.$routing=!1,r.error=e&&e.params&&e.params.error?e.params.fromState:{},r.unfoundState=e&&e.params?e.params.unfoundState:{},r.url=r.unfoundState&&r.unfoundState.to?e.href(r.unfoundState.to,r.unfoundState.toParams,{absolute:!0}):"",r.urlBack=r.fromState&&r.fromState.to?e.href(r.fromState.to,r.fromState.fromParams,{absolute:!0}):"",r.onContinue=a}])}(),function(){"use strict";var r=angular.module("pipErrors.Maintenance",[]);r.controller("pipErrorMaintenanceController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_AVAILABLE_TITLE",[]),o.showLocalActions(null,[])}function a(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.timeoutInterval=r.error&&r.error.config&&r.error.config.params&&r.error.config.params.interval?r.error.config.params.interval:0,r.onClose=a}])}(),function(){"use strict";var r=angular.module("pipErrors.NoConnection",[]);r.controller("pipErrorNoConnectionController",["$scope","$state","$rootScope","$window","pipAppBar",function(r,e,t,o,n){function a(){o.history.back()}function i(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_RESPONDING_TITLE",[]),n.showLocalActions(null,[])}t.$routing=!1,i(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.onRetry=a}])}(),function(){"use strict";var r=angular.module("pipNoConnectionPanel",["pipErrors.Translate"]);r.directive("pipNoConnectionPanel",function(){return{restrict:"E",scope:{error:"=pipError",retry:"=pipRetry"},templateUrl:"no_connection_panel/no_connection_panel.html",controller:"pipNoConnectionPanelController"}}),r.controller("pipNoConnectionPanelController",["$scope","$element","$attrs","pipTranslate",function(r,e,t,o){function n(){r.retry&&angular.isFunction(r.retry)&&r.retry()}r.onRetry=n}])}(),function(){"use strict";var r=angular.module("pipErrors.Unknown",[]);r.controller("pipErrorUnknownController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_UNKNOWN_TITLE",[]),o.showLocalActions(null,[])}function a(){r.error_details={},r.error_details.code=r.error.code,r.error_details.description=r.error.message,r.error_details.status=r.error.status,r.error_details.server_stacktrace=function(){},r.error_details.client_stacktrace=function(){}}function i(){r.showError=!0}function s(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.error_details=null,r.onDetails=i,r.onClose=s,a()}])}(),function(){"use strict";var r=angular.module("pipErrors.Unsupported",[]);r.controller("pipErrorUnsupportedController",["$scope","$state","$rootScope","$mdMedia","pipAppBar",function(r,e,t,o,n){function a(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_UNSUPPORTED_TITLE",[]),n.showLocalActions(null,[])}r.$mdMedia=o,t.$routing=!1,a(),r.error=e&&e.params&&e.params.error?e.params.error:{}}])}();
!function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="barChart.legend" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("legend/interactive_legend.html",'<div><div class="chart-legend-item" ng-repeat="item in series"><md-checkbox class="lp16 m8" ng-model="item.disabled" ng-true-value="false" ng-false-value="true" ng-if="interactive" aria-label="{{ item.label }}"><p class="legend-item-value" ng-style="{\'background-color\': item.color}">{{ item.value }}</p><p class="legend-item-label">{{:: item.label || item.key }}</p></md-checkbox><div ng-if="!interactive"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label || item.key}}</span></div></div></div>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto" ng-class="{\'visible-x-axis\': lineChart.isVisibleX(), \'visible-y-axis\': lineChart.isVisibleY()}"></svg></div><pip-chart-legend pip-series="lineChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("pie/pie_chart.html",'<div class="pie-chart" flex="auto" layout="column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="pieChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(){"use strict";angular.module("pipCharts",["pipBarCharts","pipLineCharts","pipPieCharts","pipChartLegends"])}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var e=d3.selectAll(".nv-bar text")[0],t=d3.selectAll(".nv-bar")[0],n=d3.selectAll(".legend-title")[0],i=d3.select(".nvd3-svg")[0][0].getBBox().height;d3.select(".bar-chart").classed("visible",!0),t.forEach(function(t,a){var n=t.getBBox(),l=d3.select(t),r=d3.transform(l.attr("transform")).translate[1];l.attr("transform","translate("+Number(46*a+50)+", "+i+")").select("rect").attr("width",38),l.transition().duration(1e3).attr("transform","translate("+Number(46*a+50)+", "+r+")"),d3.select(e[a]).attr("dy",n.height/2).attr("x",19)}),n.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})}function r(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function o(){s.legend.forEach(function(e,t){e.color=e.color||r(d[t])})}var s=this,c=null,u=null,d=_.map(i,function(e,t){return t});s.data=s.series||[],(s.series||[]).length>d.length&&(s.data=s.series.slice(0,9)),s.legend=s.data[0].values,o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(r))},t.$watch("barChart.series",function(e){s.data=e||[],o(),c&&(u.datum(s.data).call(c),c.update())}),nv.addGraph(function(){return c=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(e){return e.label}).y(function(e){return e.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(e){return e.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),u=d3.select(e.get(0)).select(".bar-chart svg").datum(s.data).style("height",270).call(c),c},function(){c.dispatch.on("beforeUpdate",function(){a(l,0)}),a(l,0)})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",interactive:"=pipInteractive"},templateUrl:"legend/interactive_legend.html",controller:["$element","$scope","$timeout","$mdColorPalette",function(e,t,a,n){function i(){var a=$(e).find("md-checkbox .md-container");a.each(function(e,a){$(a).css("color",t.series[e].color||o[e]).find(".md-icon").css("background-color",t.series[e].color||o[e])})}function l(){var t=$(e).find(".chart-legend-item");t.each(function(e,t){a(function(){$(t).addClass("visible")},200*e)})}function r(){t.series.forEach(function(e,t){e.color=e.color||o[t],e.disabled=e.disabled||!1})}var o=_.map(n,function(e){return e[500].hex});t.$watch("series",function(){a(function(){l(),i()},0),r()},!0),t.$watch("interactive",function(e,t){1==e&&e!=t&&a(i,0)}),a(function(){l(),i()},0),r()}]}}angular.module("pipChartLegends",[]).directive("pipChartLegend",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",showYAxis:"=pipYAxis",showXAxis:"=pipXAxis"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(t){function a(e,t){return d&&(e[0]=parseInt(e[0]),e[1]=parseInt(e[1])),e[0]=Math.min(Math.max(e[0],t[0]),t[1]-t[1]/l),e[1]=Math.max(t[0]+t[1]/l,Math.min(e[1],t[1])),e}function n(){console.log("event",d3.event),"wheel"===d3.event.sourceEvent.type?1===d3.event.scale?i():(c(a(h.domain(),f)),s(a(p.domain(),m)),u()):console.log("mousemove")}function i(){s(m),c(f),u(),v.scale(1),v.translate([0,0])}var l=4,r=t.yAxis,o=t.xAxis,s=t.xDomain||o.scale().domain,c=t.yDomain||r.scale().domain,u=t.redraw,d=(t.svg,t.discrete),p=o.scale(),h=r.scale(),m=p.domain().slice(),f=h.domain().slice(),v=d3.behavior.zoom();p.nice(),h.nice(),v.x(p).y(h).scaleExtent([1,l]).on("zoom",n),d3.select(e.get(0)).call(v).on("dblclick.zoom",i)}function r(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function o(){s.data.forEach(function(e,t){e.color=e.color||r(d[t])})}var s=this,c=null,u=null,d=_.map(i,function(e,t){return t});s.data=s.series||[],s.isVisibleX=function(){return void 0==s.showXAxis||s.showXAxis},s.isVisibleY=function(){return void 0==s.showYAxis||s.showYAxis},s.series.length>d.length&&(s.data=s.series.slice(0,9)),o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(r))},t.$watch("lineChart.series",function(e){s.data=e,o(),c&&u.datum(s.data).call(c)},!0),nv.addGraph(function(){return c=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:30}).x(function(e){return e.x}).y(function(e){return e.value}).height(270).useInteractiveGuideline(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(e){return e.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),c.yAxis.tickFormat(function(e){return e/1e3+"k"}),c.xAxis.tickFormat(function(e){return e}),u=d3.select(e.get(0)).select(".line-chart svg"),u.datum(s.data).style("height",270).call(c),l({xAxis:c.xAxis,yAxis:c.yAxis,yDomain:c.yDomain,xDomain:c.xDomain,redraw:function(){c.update()},svg:u}),nv.utils.windowResize(c.update),c},function(){var e=d3.selectAll(".legend-title")[0];e.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"pieChart",templateUrl:"pie/pie_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var t=d3.selectAll(".legend-title")[0],n=d3.select(e.get(0)).select(".pie-chart svg")[0][0],i=c.data.reduce(function(e,t){return e+t.value},0);d3.select(n).select(".nv-pie:not(.nvd3)").append("text").classed("label-total",!0).attr("text-anchor","middle").style("dominant-baseline","central").text(i),d3.select(n).transition().duration(1e3).style("opacity",1),d=d3.select(e.find("text.label-total").get(0)),m(),t.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})}function r(){var t=e.find(".nv-pieLabels").get(0).getBBox();t.width&&t.height&&d.style("font-size",~~t.width/2)}function o(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function s(){c.data.forEach(function(e,t){e.color=e.color||o(h[t])})}var c=this,u=null,d=null,p=null,h=_.map(i,function(e,t){return t}),m=r;c.data=c.data||[],c.series.length>h.length&&(c.data=c.series.slice(0,9)),t.$watch("pieChart.series",function(e){c.data=e,s(),u&&(p.datum(c.data).call(u),a(m))},!0),s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(o))},nv.addGraph(function(){return u=nv.models.pieChart().margin({top:0,right:0,bottom:0,left:0}).x(function(e){return e.value}).y(function(e){return e.value}).height(250).width(250).showLabels(!0).labelThreshold(.001).growOnHover(!1).donut(!0).donutRatio(.5).color(function(e){return e.color||d3.scale.paletteColors().range()}),u.tooltip.enabled(!1),u.noData("No data for this moment..."),u.showLegend(!1),p=d3.select(e.get(0)).select(".pie-chart svg").attr("height",250).style("opacity",0).datum(c.data).call(u),nv.utils.windowResize(function(){u.update(),a(m)}),u},function(){a(l)})}]}}angular.module("pipPieCharts",[]).directive("pipPieChart",e)}();
!function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("settings_page/settings_page.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar><pip-document width="800" min-height="400" class="pip-settings"><div class="pip-menu-container" ng-hide="manager === false || !tabs || tabs.length < 1"><md-list class="pip-menu pip-simple-list hide-xs" pip-selected="selected.tabIndex" pip-selected-watch="selected.navId" pip-select="onNavigationSelect($event.id)"><md-list-item class="pip-simple-list-item pip-selectable flex" ng-repeat="tab in tabs track by tab.state" ng-if="$party.id == $user.id || tab.state == \'settings.basic_info\'|| tab.state ==\'settings.contact_info\' || tab.state ==\'settings.blacklist\'" md-ink-ripple="" pip-id="{{:: tab.state }}"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class="pip-content-container" ng-if="selected.tab"><pip-dropdown class="hide-gt-xs" pip-actions="tabs" pip-dropdown-select="onDropdownSelect" pip-active-index="selected.tabIndex"></pip-dropdown><div class="pip-body tp24-flex layout-column" ui-view=""></div></div></div><div class="layout-column layout-align-center-center flex" ng-show="manager === false || !tabs || tabs.length < 1">{{::\'ERROR_400\' | translate}}</div></pip-document>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_basic_info.html",'<form name="form" class="w-stretch" novalidate=""><md-progress-linear class="pip-progress-top" ng-show="transaction.busy()" md-mode="indeterminate"></md-progress-linear><div class="layout-row bm12"><div class="md-tile-left"><pip-avatar-edit pip-party-id="$party.id" pip-created="onPictureCreated($event)" pip-changed="onPictureChanged($control, $event)"></pip-avatar-edit></div><div class="md-tile-content tp0 layout-align-center"><h3 class="tm16 bm8 text-one-line">{{ nameCopy }}</h3><p class="text-primary text-overflow m0">{{::\'SETTINGS_BASIC_INFO_FROM\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class="md-block"><label>{{::\'SETTINGS_BASIC_INFO_FULL_NAME\' | translate}}</label> <input name="fullName" step="any" type="text" tabindex="0" required="" ng-model="$party.name" ng-disabled="transaction.busy()" ng-change="onChangeBasicInfo()"><div class="hint" ng-if="errorsWithHint(form, form.fullName).hint">{{::\'ERROR_FULLNAME_INVALID\' | translate}}</div></md-input-container><md-input-container class="md-block bm0"><label>{{::\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\' | translate}}</label> <input name="email" type="email" required="" ng-model="$party.email" ng-change="onChangeBasicInfo()" pip-email-unique="{{$party.email}}"><div class="hint" ng-if="errorsWithHint(form, form.email).hint && !$user.email_ver">{{::\'SETTINGS_BASIC_INFO_VERIFY_HINT\' | translate}}</div><div ng-messages="errorsWithHint(form.email)" ng-hide="$party.type ==\'team\'"><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div><div ng-message="emailUnique">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div></div></md-input-container><md-button class="md-raised bm16 tm8 rm8" ng-click="onVerifyEmail($event)" ng-hide="$user.email_ver || $party.type ==\'team\'">{{::\'SETTINGS_BASIC_INFO_VERIFY_CODE\' | translate}}</md-button><md-button ng-click="onChangePassword($event)" class="md-raised bm16 tm8" ng-hide="$party.type ==\'team\'">{{::\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\' | translate}}</md-button><md-input-container class="md-block flex"><label>{{::\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\' | translate }}</label> <textarea ng-model="$party.about" columns="1" ng-change="onChangeBasicInfo()"></textarea></md-input-container><md-input-container class="md-block" ng-hide="$party.type ==\'team\'"><label>{{::\'GENDER\' | translate}}</label><md-select ng-model="$party.gender" ng-change="onChangeBasicInfo()" placeholder="{{\'GENDER\' | translate}}"><md-option ng-value="gender.id" ng-repeat="gender in genders">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide="$party.type ==\'team\'"><p class="text-caption text-grey tm0 bm0">{{::\'SETTINGS_BASIC_INFO_BIRTHDAY\' | translate}}</p><pip-date ng-model="$party.birthday" ng-change="onChangeBasicInfo()" pip-time-mode="past time-mode=" past"=""></pip-date></div><md-input-container class="md-block" ng-hide="$party.type ==\'team\'"><label>{{::\'LANGUAGE\' | translate}}</label><md-select placeholder="{{\'LANGUAGE\' | translate}}" ng-model="$user.language" ng-change="onChangeUser()"><md-option ng-value="language.id" ng-repeat="language in languages">{{language.name}}</md-option></md-select></md-input-container><md-input-container class="md-block" ng-if="$party.type !=\'team\'"><label>{{::\'THEME\' | translate}}</label><md-select class="w-stretch theme-text-primary" ng-model="$user.theme" ng-change="onChangeUser()" ng-disabled="transaction.busy()"><md-option ng-value="theme" ng-repeat="theme in themes" ng-selected="$theme == theme ? true : false">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class="map-edit bm24-flex" ng-hide="$party.type ==\'team\'" pip-changed="onChangeBasicInfo()" pip-location-name="$party.loc_name" pip-location-pos="loc_pos"></pip-location-edit></form>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_change_password.html",'<md-dialog class="pip-dialog layout-column" width="440"><form name="form" ng-submit="onApply()"><div class="pip-header"><h3 class="m0">{{::\'SETTINGS_CHANGE_PASSWORD_TITLE\' | translate : module}}</h3></div><div class="pip-body"><div class="pip-content"><div class="text-error bm8" ng-messages="form.$serverError"><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class="md-block"><label>{{::\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\' | translate }}</label> <input name="oldPassword" type="password" ng-model="changePasData.old_password" ng-required="change_password.$submitted" pip-clear-errors=""><div ng-messages="errorsWithHint(form, form.oldPassword)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate }}</div><div ng-message="ERROR_1107">{{::\'ERROR_WRONG_PASSWORD\' | translate }}</div></div></md-input-container><md-input-container class="md-block"><label>{{\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\' | translate }}</label> <input name="newPassword" type="password" ng-model="changePasData.new_password" ng-change="onCheckRepeatPassword()" ng-required="change_password.$submitted" ng-minlength="6" pip-clear-errors=""><div class="hint" ng-if="errorsWithHint(form, form.newPassword).hint">{{ \'HINT_PASSWORD\' | translate }}</div><div ng-messages="errorsWithHint(form, form.newPassword)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate}}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate }}</div><div ng-message="ERROR_1105">{{::\'ERROR_IDENTICAL_PASSWORDS\' | translate }}</div></div></md-input-container><md-input-container class="md-block"><label>{{ \'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\' | translate }}</label> <input name="repeat" type="password" ng-model="repeat" ng-change="onCheckRepeatPassword()" ng-required="change_password.$submitted" ng-minlength="6"><div class="hint" ng-if="errorsRepeatWithHint(form.repeat).hint">{{::\'HINT_REPEAT_PASSWORD\' | translate }}</div><div ng-messages="errorsRepeatWithHint(form.repeat)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate }}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate }}</div><div ng-message="repeat">{{::\'REPEAT_PASSWORD_INVALID\' | translate }}</div></div></md-input-container></div></div><div class="pip-footer"><div><md-button aria-label="xxx" ng-click="onCancel()">{{::\'CANCEL\' | translate }}</md-button><md-button type="submit" class="md-accent" aria-label="xxx">{{::\'APPLY\' | translate : module}}</md-button></div></div></form></md-dialog>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_sessions.html",'<md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><div class="pip-details-title pip-sessions"><p class="pip-title bm16">{{::\'SETTINGS_ACTIVE_SESSIONS_TITLE\' | translate}}</p><p class="pip-subtitle">{{::\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\' | translate}}</p></div><md-list class="w-stretch"><div ng-repeat="session in sessions"><div class="layout-row" ng-init="showBlock = session.id != sessionId" ng-click="showBlock = !showBlock"><p class="m0 text-subhead2 text-overflow max-w50-stretch">{{::session.client}}</p><p class="m0 lp4 text-body1 color-secondary-text flex">{{::\'SETTINGS_ACTIVE_SESSION_ACTIVE\' | translate}}</p><p class="m0 text-body1 color-secondary-text">{{::country}}<md-icon ng-if="showBlock" md-svg-icon="icons:triangle-up"></md-icon><md-icon ng-if="!showBlock" md-svg-icon="icons:triangle-down"></md-icon></p></div><div class="layout-row bm8 bp8" ng-class="{\'divider-bottom\':!$last}"><div class="flex-50"><p class="m0 bm4 text-body1 text-overflow color-secondary-text">{{session.last_req | date : \'medium\'}}</p><p class="m0 bm4 text-body1 text-overflow color-secondary-text" ng-show="showBlock">{{::\'SETTINGS_ACTIVE_SESSION_OS\' | translate}}{{::session.platform}}</p><p class="m0 bm4 text-body1 text-overflow color-secondary-text" ng-show="showBlock">{{::\'SETTINGS_ACTIVE_SESSION_IP\' | translate}}{{::session.address}}</p><md-button class="md-raised" ng-show="showBlock && session.id != sessionId" ng-click="onRemove(session)">{{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\' | translate}}</md-button></div><pip-location-ip class="map-edit flex-50" ng-if="showBlock" pip-ipaddress="session.address" pip-extra-info="country = extraInfo.country"></pip-location-ip></div></div></md-list><div class="layout-row layout-align-end-center"><md-button class="md-raised" ng-show="sessions.length > 1" ng-click="onRemoveAll()">{{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\' | translate}}</md-button></div>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_verify_email.html",'<md-dialog class="pip-dialog layout-column" width="440"><div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2>{{::\'VERIFY_EMAIL_TITLE\' | translate}}</h2><p class="title-padding">{{::\'VERIFY_EMAIL_TEXT_1\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8"><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class="display bp4 md-block"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" required="" step="any" pip-clear-errors="" tabindex="1" ng-disabled="transaction.busy()" pip-test="input-email"><div class="hint" ng-if="errorsWithHint(form, form.email).hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="errorsWithHint(form, form.email)" xng-if="!form.email.$pristine"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="ERROR_1106">{{::\'ERROR_USER_NOT_FOUND\' | translate}}</div></div></md-input-container><md-input-container class="md-block"><label>{{::\'ENTRY_VERIFICATION_CODE\' | translate}}</label> <input name="code" ng-disabled="transaction.busy()" tabindex="0" ng-model="data.code" required="" pip-clear-errors=""><div ng-messages="errorsWithHint(form, form.code)"><div ng-message="required">{{::\'ERROR_CODE_INVALID\' | translate }}</div><div ng-message="ERROR_1103">{{::\'ERROR_CODE_WRONG\' | translate }}</div></div></md-input-container><p>{{::\'VERIFY_EMAIL_TEXT_21\' | translate}} <a ng-click="onRequestVerificationClick()" class="pointer" tabindex="0">{{::\'VERIFY_EMAIL_RESEND\' | translate}}</a> {{::\'VERIFY_EMAIL_TEXT_22\' | translate}}</p></form></div></div><div class="pip-footer"><md-button ng-click="onCancel()" ng-hide="transaction.busy()" aria-label="xxx">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent" ng-click="onVerify()" ng-hide="transaction.busy()" tabindex="0" aria-label="xxx" ng-disabled="data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)">{{::\'VERIFY\' | translate}}</md-button><md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" tabindex="0" aria-label="xxx">{{::\'CANCEL\' | translate}}</md-button></div></md-dialog>')}])}(),function(){"use strict";angular.module("pipSettings",["pipSettings.Service","pipSettings.Page"])}(),function(){"use strict";var e=angular.module("pipSettings.Service",[]);e.provider("pipSettings",["$stateProvider",function(e){function t(e){return"settings."+e}function n(){return _.cloneDeep(S)}function a(){var e;return e=_.find(S,function(t){return t.state===e}),_.cloneDeep(e)}function s(n){var a;if(r(n),a=_.find(S,function(e){return e.state===t(n.state)}))throw new Error('Tab with state name "'+n.state+'" is already registered');S.push({state:t(n.state),title:n.title,index:n.index||1e5,access:n.access,visible:n.visible!==!1,stateConfig:_.cloneDeep(n.stateConfig)}),e.state(t(n.state),n.stateConfig),"undefined"==typeof c&&1===S.length&&i(n.state)}function i(e){if(!_.find(S,function(n){return n.state===t(e)}))throw new Error('Tab with state name "'+e+'" is not registered');c=t(e)}function r(e){if(!e||!_.isObject(e))throw new Error("Invalid object");if(null===e.state||""===e.state)throw new Error("Tab should have valid Angular UI router state name");if(e.access&&!_.isFunction(e.access))throw new Error('"access" should be a function');if(!e.stateConfig||!_.isObject(e.stateConfig))throw new Error("Invalid state configuration object")}function o(e){return e&&(p=e,m=null),p}function l(e){return e&&(m=e,p=null),m}function d(e){return null!==e&&void 0!==e&&(T=!!e),T}var c,S=[],p="SETTINGS_TITLE",m=null,T=!0;return this.showTitleText=o,this.showTitleLogo=l,this.showNavIcon=d,{addTab:s,getTabs:n,setDefaultTab:i,getDefaultTab:a,showTitleText:o,showTitleLogo:l,showNavIcon:d,$get:function(){return{getTabs:n,addTab:s,getDefaultTab:a,setDefaultTab:i,showTitleText:o,showTitleLogo:l,showNavIcon:d}}}}])}(),function(){"use strict";var e=angular.module("pipSettings.Page",["pipSettings.Service","pipAppBar","pipSelected","pipTranslate","pipSettings.Templates","pipNavIcon","pipActions.Service"]);e.config(["$stateProvider",function(e){e.state("settings",{url:"/settings?party_id",auth:!0,controller:"pipSettingsPageController",templateUrl:"settings_page/settings_page.html"})}]),e.controller("pipSettingsPageController",["$scope","$state","$rootScope","$timeout","pipAppBar","pipSettings","pipActions","pipBreadcrumb","pipNavIcon",function(e,t,n,a,s,i,r,o,l){function d(){r.hide(),s.part("menu",!0),s.part("actions","primary"),s.part("icon",!0),s.part("title","breadcrumb"),s.hideShadow(),o.text="Settings",l.menu()}function c(e){S(e.state)}function S(n){p(n),e.selected.tab&&t.go(n)}function p(t){e.selected.tab=_.find(e.tabs,function(e){return e.state===t}),e.selected.tabIndex=_.indexOf(e.tabs,e.selected.tab),e.selected.tabId=t}e.tabs=_.filter(i.getTabs(),function(e){if(e.visible===!0&&(!e.access||e.access(n.$user,e)))return e}),e.tabs=_.sortBy(e.tabs,"index"),e.selected={},"settings"!==t.current.name?p(t.current.name):"settings"===t.current.name&&i.getDefaultTab()?p(i.getDefaultTab().state):a(function(){i.getDefaultTab()&&p(i.getDefaultTab().state),!i.getDefaultTab()&&e.tabs.length>0&&p(e.tabs[0].state)}),d(),e.onNavigationSelect=S,e.onDropdownSelect=c}])}(),function(){"use strict";angular.module("pipUserSettings",["ngMaterial","pipData","pipSettings.Service","pipSettings.Page","pipUserSettings.Strings","pipUserSettings.Sessions","pipUserSettings.BasicInfo","pipSettings.Templates"])}(),function(){"use strict";var e=angular.module("pipUserSettings.BasicInfo",["pipUserSettings.ChangePassword","pipUserSettings.VerifyEmail","pipSettings.Service","pipSettings.Page"]);e.config(["pipSettingsProvider",function(e){e.addTab({state:"basic_info",index:1,title:"SETTINGS_BASIC_INFO_TITLE",stateConfig:{url:"/basic_info",controller:"pipUserSettingsBasicInfoController",templateUrl:"user_settings/user_settings_basic_info.html",auth:!0}}),e.setDefaultTab("basic_info")}]),e.controller("pipUserSettingsBasicInfoController",["$scope","$rootScope","$mdDialog","$state","$window","$timeout","$mdTheming","pipTranslate","pipTransaction","pipTheme","pipToasts","pipDataUser","pipDataParty","pipFormErrors",function(e,t,n,a,s,i,r,o,l,d,c,S,p,m){function T(){e.picture.save(function(){t.$broadcast("pipPartyAvatarUpdated")},function(e){return new Error(e)})}function g(n){e.picture=n.sender,e.picture.save(function(){t.$broadcast("pipPartyAvatarUpdated")},function(e){return new Error(e)})}function I(){if(e.form&&e.form.$setSubmitted(),t.$party){if("person"===t.$party.type&&e.form.$invalid)return;t.$party.loc_pos=e.loc_pos;try{var n=angular.toJson(t.$party)}catch(e){throw e}if(n!==e.originalParty){var a=e.transaction.begin("UPDATING");p.updateParty(t.$party,function(t){e.transaction.aborted(a)||(e.transaction.end(),e.originalParty=n,e.nameCopy=t.name)},function(n){e.transaction.end(n),e.message=String()+"ERROR_"+n.status||n.data.status_code,t.$party=angular.fromJson(e.originalParty)})}}}function u(){var n=e.transaction.begin("RequestEmailVerification");t.$user.id===t.$party.id&&S.updateUser({item:t.$user},function(a){e.transaction.aborted(n)||(e.transaction.end(),o.use(a.language),t.$user.language=a.language,t.$user.theme=a.theme,t.$user.theme&&d.setCurrentTheme(t.$user.theme,!0))},function(t){var n;e.transaction.end(t),n=String()+"ERROR_"+t.status||t.data.status_code,c.showNotification(o.translate(n),null,null,null)})}function E(e){var a;n.show({templateUrl:"user_settings/user_settings_change_password.html",controller:"pipUserSettingsChangePasswordController",targetEvent:e,locals:{email:t.$party.email}}).then(function(e){e&&(a=String()+"RESET_PWD_SUCCESS_TEXT",c.showNotification(o.translate(a),null,null,null))})}function N(a){var s;n.show({templateUrl:"user_settings/user_settings_verify_email.html",controller:"pipUserSettingsVerifyEmailController",targetEvent:a,locals:{email:t.$party.email}}).then(function(t){e.user.email_ver=t,t&&(s=String()+"VERIFY_EMAIL_SUCCESS_TEXT",c.showNotification(o.translate(s),null,null,null))})}try{e.originalParty=angular.toJson(t.$party)}catch(e){throw e}e.nameCopy=t.$party.name,i(function(){e.loc_pos=t.$party.loc_pos}),e.genders=o.translateSet(["male","female","n/s"]),e.languages=o.translateSet(["ru","en"]),e.transaction=l("settings.basic_info",e),e.themes=_.keys(_.omit(r.THEMES,"default")),a.get("settings.basic_info").onExit=I,e.errorsWithHint=m.errorsWithHint,e.onChangePassword=E,e.onVerifyEmail=N,e.onPictureCreated=g,e.onPictureChanged=T,e.onChangeUser=_.debounce(u,2e3),e.onChangeBasicInfo=_.debounce(I,2e3)}])}(),function(){"use strict";var e=angular.module("pipUserSettings.ChangePassword",[]);e.controller("pipUserSettingsChangePasswordController",["$scope","$rootScope","$mdDialog","email","pipDataUser","pipTransaction","pipFormErrors",function(e,t,n,a,s,i,r){function o(){n.cancel()}function l(){e.changePasData&&(e.repeat!==e.changePasData.new_password&&""!==e.repeat&&e.repeat?(e.showRepeatHint=!0,e.form.repeat.$setValidity("repeat",!1)):(e.form.repeat.$setValidity("repeat",!0),e.repeat===e.changePasData.new_password?e.showRepeatHint=!1:e.showRepeatHint=!0))}function d(){e.onCheckRepeatPassword(),e.form.$invalid||e.transaction.begin("CHANGE_PASSWORD")&&(e.changePasData.email=a,s.changePassword(e.changePasData,function(){e.transaction.end(),n.hide(!0)},function(t){e.transaction.end(t),r.setFormError(e.form,t,{1107:"oldPassword",1105:"newPassword"})}))}e.transaction=i("settings.change_password",e),e.errorsRepeatWithHint=function(t,n){return e.showRepeatHint?r.errorsWithHint(t,n):{}},e.showRepeatHint=!0,e.changePasData={},e.errorsWithHint=r.errorsWithHint,e.onCancel=o,e.onCheckRepeatPassword=l,e.onApply=d}])}(),function(){"use strict";var e=angular.module("pipUserSettings.Sessions",["pipSettings.Service","pipSettings.Page"]);e.config(["pipSettingsProvider","pipDataSessionProvider",function(e,t){e.addTab({state:"sessions",index:3,title:"SETTINGS_ACTIVE_SESSIONS_TITLE",stateConfig:{url:"/sessions",controller:"pipUserSettingsSessionsController",templateUrl:"user_settings/user_settings_sessions.html",auth:!0,resolve:{sessions:t.readSessionsResolver,sessionId:t.readSessionIdResolver}}})}]),e.controller("pipUserSettingsSessionsController",["$scope","pipTransaction","pipDataSession","sessions","sessionId",function(e,t,n,a,s){function i(){var t=e.transaction.begin("REMOVING");async.eachSeries(e.sessions,function(t,a){t.id==e.sessionId?a():n.removeSession({session:t},function(){e.sessions=_.without(e.sessions,t),a()},function(e){})},function(n){n&&e.transaction.end(n),e.transaction.aborted(t)||e.transaction.end()})}function r(t,a){if(t.id!==e.sessionId){var s=e.transaction.begin("REMOVING");n.removeSession({session:t},function(){e.transaction.aborted(s)||(e.transaction.end(),e.sessions=_.without(e.sessions,t),a&&a())},function(t){e.transaction.end(t),e.message="ERROR_"+t.status||t.data.status_code})}}e.sessionId=s,e.transaction=t("settings.sessions",e),e.sessions=a,e.onRemoveAll=i,e.onRemove=r}])}(),function(){"use strict";var e=angular.module("pipUserSettings.Strings",["pipTranslate"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{SETTINGS_TITLE:"Settings",SETTINGS_BASIC_INFO_TITLE:"Basic info",SETTINGS_ACTIVE_SESSIONS_TITLE:"Active sessions",SETTINGS_BASIC_INFO_FULL_NAME:"Full name",SETTINGS_BASIC_INFO_VERIFY_HINT:"Please, verify your email address.",SETTINGS_BASIC_INFO_VERIFY_CODE:"Verify email address",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Your password was changed on ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Change your password",SETTINGS_BASIC_INFO_NAME_HINT:"Please, use your real name to let other people know who you are.",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Few words about yourself",SETTINGS_BASIC_INFO_GENDER:"Gender",SETTINGS_BASIC_INFO_BIRTHDAY:"Birthday",SETTINGS_BASIC_INFO_LOCATION:"Current location",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Primary email",SETTINGS_BASIC_INFO_FROM:"User since ",SETTINGS_BASIC_INFO_USER_ID:"User ID",SETTINGS_CHANGE_PASSWORD_TITLE:"Change password",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"New password",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Repeat password",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Current password",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:' If you notice any unfamiliar devices or locations, click"Close Session" to end the session.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Close session",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Close active sessions",SETTINGS_ACTIVE_SESSION_OS:"OS: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"active",SETTINGS_BLACKLIST_TITLE:"Blacklist",SETTINGS_BLACKLIST_SUBTITLE:"Parties from blacklist will not be able to send you invitations and private messages.",SETTINGS_BLACKLIST_UNBLOCK:"Unblock",SETTINGS_BLACKLIST_EMPTY:"You have no blocked parties",SETTINGS_CONTACT_INFO_TITLE:"Contact info",SETTINGS_CONTACT_INFO_EMAIL:"Email",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Add email",SETTINGS_CONTACT_INFO_ADD_PHONE:"Add phone",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Add address",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Add account",SETTINGS_CONTACT_INFO_ADD_URL:"Add URL",SETTINGS_CONTACT_INFO_ADDRESS:"Address",SETTINGS_CONTACT_INFO_PHONE:"Phone",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Account name",SETTINGS_CONTACT_INFO_URL:"URL",THEME:"Theme",HINT_PASSWORD:"Minimum 6 characters",HINT_REPEAT_PASSWORD:"Repeat password",ERROR_WRONG_PASSWORD:"Wrong password",ERROR_IDENTICAL_PASSWORDS:"Old and new passwords are identical",REPEAT_PASSWORD_INVALID:"Password does not match",ERROR_EMAIL_INVALID:"Please, enter a valid email"}),e.translations("ru",{SETTINGS_TITLE:"Настройки",SETTINGS_BASIC_INFO_TITLE:"Основные данные",SETTINGS_ACTIVE_SESSIONS_TITLE:"Активные сессии",SETTINGS_BASIC_INFO_FULL_NAME:"Полное имя",SETTINGS_BASIC_INFO_NAME_HINT:"Пожалуйста, используйте реальное имя, чтоб люди могли вас узнать",SETTINGS_BASIC_INFO_VERIFY_HINT:"Пожалуйста, подтвердите адрес своей электронной почты",SETTINGS_BASIC_INFO_VERIFY_CODE:"Подтвердите адрес эл.почты",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Ваш пароль был изменен ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Поменять пароль",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Несколько слов о себе",SETTINGS_BASIC_INFO_GENDER:"Пол",SETTINGS_BASIC_INFO_BIRTHDAY:"Дата рождения",SETTINGS_BASIC_INFO_LOCATION:"Текущее местонахождение",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Основной адрес эл. почты",SETTINGS_BASIC_INFO_FROM:"Начиная с",SETTINGS_BASIC_INFO_USER_ID:"Личный код",SETTINGS_CHANGE_PASSWORD_TITLE:"Изменить пароль",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"Новый пароль",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Повтор",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Текущий пароль",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:'Если вы заметили какие-либо незнакомые устройства или месторасположение, нажмите кнопку "Закончить сеанс", чтобы завершить сеанс.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Закрыть сессию",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Закрыть активные сессии",SETTINGS_ACTIVE_SESSION_OS:"ОС: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"Активно",SETTINGS_BLACKLIST_TITLE:"Блокировки",SETTINGS_BLACKLIST_SUBTITLE:"Участники из черного списка не смогут посылать вам приглашения и личные сообщения.",SETTINGS_BLACKLIST_UNBLOCK:"Разблокировать",SETTINGS_BLACKLIST_EMPTY:"У вас нет заблокированных участников",SETTINGS_CONTACT_INFO_TITLE:"Контакты",SETTINGS_CONTACT_INFO_EMAIL:"Адрес электронной почты",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Добавить адрес эл. почты",SETTINGS_CONTACT_INFO_ADD_PHONE:"Добавить телефон",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Добавить адрес",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Добавить аккаунт",SETTINGS_CONTACT_INFO_ADD_URL:"Добавить веб-сайт",SETTINGS_CONTACT_INFO_ADDRESS:"Адрес",SETTINGS_CONTACT_INFO_PHONE:"Телефон",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Учетка в мессенджере",SETTINGS_CONTACT_INFO_URL:"Веб сайт",THEME:"Тема",HINT_PASSWORD:"Минимум 6 знаков",HINT_REPEAT_PASSWORD:"Повторите пароль",ERROR_WRONG_PASSWORD:"Неправильный пароль",ERROR_IDENTICAL_PASSWORDS:"Старый и новый пароли идентичны",REPEAT_PASSWORD_INVALID:"Пароль не совпадает",ERROR_EMAIL_INVALID:"Пожалуйста, введите правильный почт.адрес"})}])}(),function(){"use strict";var e=angular.module("pipUserSettings.VerifyEmail",[]);e.controller("pipUserSettingsVerifyEmailController",["$scope","$rootScope","$mdDialog","pipTransaction","pipFormErrors","pipDataUser","email",function(e,t,n,a,s,i,r){function o(){e.transaction.abort()}function l(){n.cancel()}function d(){var t=e.transaction.begin("RequestEmailVerification");i.requestEmailVerification({},function(n){e.transaction.aborted(t)||e.transaction.end()},function(t){e.transaction.end(t)})}function c(){if(e.form.$setSubmitted(),!e.form.$invalid){var t=e.transaction.begin("Verifying");i.verifyEmail({email:e.data.email,code:e.data.code},function(a){e.transaction.aborted(t)||(e.transaction.end(),n.hide(!0))},function(t){e.transaction.end(t),s.setFormError(e.form,t,{1106:"email",1103:"code"})})}}e.emailVerified=!1,e.data={email:r,code:""},e.transaction=a("settings.verify_email",e),e.onAbort=o,e.onRequestVerificationClick=d,e.errorsWithHint=s.errorsWithHint,e.onVerify=c,e.onCancel=l}])}();
!function(e){try{e=angular.module("pipHelp.Templates")}catch(t){e=angular.module("pipHelp.Templates",[])}e.run(["$templateCache",function(e){e.put("help_page/help_page.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar><pip-document width="800" min-height="400"><div class="pip-menu-container pip-help" ng-if="manager !== false"><md-list class="pip-menu pip-simple-list hide-xs" pip-selected="selected.tabIndex" pip-selected-watch="selected.navId" pip-select="onNavigationSelect($event.id)"><md-list-item class="pip-simple-list-item pip-selectable" ng-repeat="tab in tabs track by tab.state" md-ink-ripple="" pip-id="{{::tab.state }}"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class="pip-content-container"><pip-dropdown class="hide-gt-xs" pip-actions="tabs" pip-dropdown-select="onDropdownSelect" pip-active-index="selected.tabIndex"></pip-dropdown><div class="pip-body layout-column flex" ui-view=""></div></div></div><div class="layout-column layout-align-center-center flex" ng-if="manager === false">{{::\'ERROR_400\' | translate}}</div></pip-document>')}])}(),function(){"use strict";angular.module("pipHelp",["pipHelp.Service","pipHelp.Page"])}(),function(){"use strict";function e(e){e.state("help",{url:"/help",auth:!1,controller:"pipHelpPageController",templateUrl:"help_page/help_page.html"})}function t(e,t,i,a,n){function p(e){l(e.state)}function s(){a.showMenuNavIcon(),a.showTitleText("Help"),a.showShadowSm(),a.showLocalActions(null,[])}function l(e){o(e),t.selected.tab&&i.go(e)}function o(e){t.selected.tab=_.find(t.tabs,function(t){return t.state===e}),t.selected.tabIndex=_.indexOf(t.tabs,t.selected.tab),t.selected.tabId=e}t.tabs=_.filter(n.getTabs(),function(t){if(t.visible&&(t.access===angular.noop||t.access(e.$user,t)))return t}),t.selected={},o("help"!==i.current.name?i.current.name:n.getDefaultTab().state),s(),t.onNavigationSelect=l,t.onDropdownSelect=p}e.$inject=["$stateProvider"],t.$inject=["$rootScope","$scope","$state","pipAppBar","pipHelp"],angular.module("pipHelp.Page",["ui.router","pipHelp.Service","pipAppBar","pipSelected","pipTranslate","pipHelp.Templates"]).config(e).controller("pipHelpPageController",t)}(),function(){"use strict";angular.module("pipHelp.Service",["ui.router"]).provider("pipHelp",["$stateProvider",function(e){function t(e){return"help."+e}function i(){return _.cloneDeep(o)}function a(){return _.cloneDeep(_.find(o,function(e){return e.state===l}))}function n(i){var a;if(s(i),a=_.find(o,function(e){return e.state===t(i.state)}))throw new Error('Tab with state name "'+i.state+'" is already registered');o.push({state:t(i.state),title:i.title,access:i.access||angular.noop,visible:i.visible||!0,stateConfig:_.cloneDeep(i.stateConfig)}),e.state(t(i.state),i.stateConfig),_.isUndefined(l)&&1===o.length&&p(i.state)}function p(i){var a,n;if(a=_.find(o,function(e){return e.state===t(i)}),!a)throw n=new Error('Tab with state name "'+i+'" is not registered');l=t(i),e.redirect("help",t(i))}function s(e){if(!e||!_.isObject(e))throw new Error("Invalid object");if(!e.state||""===e.state)throw new Error("Tab should have valid Angular UI router state name");if(e.access&&!_.isFunction(e.access))throw new Error('"access" should be a function');if(!e.stateConfig||!_.isObject(e.stateConfig))throw new Error("Invalid state configuration object")}var l,o=[];this.addTab=n,this.setDefaultTab=p,this.getTabs=i,this.getDefaultTab=a,this.$get=function(){return{getTabs:i,getDefaultTab:a,addTab:n,setDefaultTab:p}}}])}();