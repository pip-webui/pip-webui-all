!function(){"use strict";angular.module("pipServices",["pipUtils","pipAssert","pipDebug","pipScope","pipTranslate","pipState","pipTimer","pipSession","pipIdentity","pipSystemInfo","pipFormat","pipScroll","pipTags"])}(),function(){"use strict";var e=angular.module("pipAssert",["pipDebug"]);e.provider("pipAssert",["pipDebugProvider",function(e){function t(){}function r(e){return Object.prototype.toString.call(e)}function n(e,t){if(!Array.isArray(e))throw new Error(t||e+" should be array")}function i(e,t){if("boolean"!=typeof e)throw new Error(t||e+" should be boolean")}function a(e,t){if(null===e)throw new Error(t||e+" should be not null")}function o(e,t){if("number"!=typeof e)throw new Error(t||e+" should be number")}function s(e,t){if("string"!=typeof e)throw new Error(t||e+" should be string")}function u(e,t){if("object"!=typeof e)throw new Error(t||e+" should be an object")}function l(e,t){if("object"==typeof e&&"[object Date]"!==r(e))throw new Error(t||e+" should be a date")}function c(e,t){if("object"==typeof e&&("[object Error]"!==r(e)||e instanceof Error))throw new Error(t||e+" should be an error")}function p(e,t){if("function"!=typeof e)throw new Error(t||e+" should be a function")}function f(e,t){if("undefined"==typeof e)throw new Error(t||e+" should be defined")}function d(e,t){if(null===e||void 0===e||e===!1)throw new Error(t||e+" should be not null or undefined or false")}function g(e,t,r){if("object"!=typeof e)throw new Error(e+" should be an object");if(null===e[t]||void 0===e[t])throw new Error(r||t+" should be in object "+e)}function b(e,t,r){if(e!=t)throw new Error(r||e+" should be not equal "+t)}function h(e,t,r){if(e==t)throw new Error(r||e+" should be equal "+t)}function m(e,t,r){if(e!==t)throw new Error(r||e+" should not be strict equal "+t)}function v(e,t,r){if(e===t)throw new Error(r||e+" should not strict equal "+t)}function S(e,t){var r=new RegExp("^[0-9a-fA-F]{24}$");if(!r.test(e))throw new Error(t||e+" should be an object id")}return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?S:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?b:t,notEqual:e.enabled()?h:t,strictEqual:e.enabled()?m:t,notStrictEqual:e.enabled()?v:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?i:t,isNumber:e.enabled()?o:t,isString:e.enabled()?s:t,isObject:e.enabled()?u:t,isDate:e.enabled()?l:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?a:t,$get:["pipDebug",function(e){return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?S:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?b:t,notEqual:e.enabled()?h:t,strictEqual:e.enabled()?m:t,notStrictEqual:e.enabled()?v:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?i:t,isNumber:e.enabled()?o:t,isString:e.enabled()?s:t,isObject:e.enabled()?u:t,isDate:e.enabled()?l:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?a:t}}]}}])}(),function(){"use strict";var e=angular.module("pipDebug",[]);e.provider("pipDebug",["$logProvider",function(e){function t(){return this.enabled}function r(){this.enabled=!0,e.debugEnabled(!0)}function n(){this.enabled=!1,e.debugEnabled(!1)}return this.enabled=!0,{enable:r,disable:n,enabled:t,$get:["$log",function(e){return{enabled:t,log:e.log,info:e.info,warn:e.warn,error:e.error,debug:e.debug}}]}}])}(),function(){"use strict";var e=angular.module("pipState",["ui.router","pipTranslate","pipAssert"]);e.config(["$locationProvider","$httpProvider","pipTranslateProvider",function(e,t,r){r.translations("en",{ERROR_SWITCHING:"Error while switching route. Try again."}),r.translations("ru",{ERROR_SWITCHING:"Ошибка при переходе. Попробуйте ещё раз."})}]),e.run(["$rootScope","pipTranslate","$state",function(e,t,r){e.$on("$stateChangeSuccess",function(t,r,n,i,a){e.$routing=!1,e.$state={name:r.name,url:r.url,params:n},e.$prevState={name:i.name,url:i.url,params:a}}),e.$on("$stateChangeError",function(t,r,n,i,a,o){e.$routing=!1,console.error("Error while switching route to "+r.name),console.error(o)}),e.$on("$stateNotFound",function(t,n,i,a){t.preventDefault(),r.go("errors_missing_route",{unfoundState:n,fromState:{to:i?i.name:"",fromParams:a}}),e.$routing=!1})}]),e.provider("pipState",["$stateProvider","pipAssertProvider",function(e,t){function r(e,r){return t.isNotNull(e,"pipState.redirect: fromState cannot be null"),t.isNotNull(r,"pipState.redirect: toState cannot be null"),n[e]=r,this}var n={};this.redirect=r,this.state=e.state,this.$get=["$state","$timeout","pipAssert",function(e,t,r){function i(i,a,o,s){r.contains(a,"name","$state.redirect: state should contains name prop"),r.isObject(o,"$state.redirect: params should be an object");var u;if(s.$routing=!0,u=n[a.name],_.isFunction(u)&&(u=u(a.name,o,s),_.isNull(u)))throw s.$routing=!1,new Error("Redirected toState cannot be null");return!!u&&(t(function(){i.preventDefault(),e.transitionTo(u,o,{location:"replace"})}),!0)}function a(){$window.history.back()}function o(t,n,i,a){if(r.isObject(t,"pipUtils.goBack: first argument should be an object"),r.isString(a,"pipUtils.goBack: second argument should a string"),r.isString(n,"pipUtils.goBack: third argument should a string"),$rootScope.$prevState&&$rootScope.$prevState.name){var o=_.cloneDeep($rootScope.$prevState);o.params[a]=i,o.params[n]=t,e.go(o.name,o.params)}else $window.history.back()}return e.redirect=i,e.goBack=a,e.goBackAndSelect=o,e}]}])}(),function(){"use strict";angular.module("pipScope",["pipScope.Error","pipScope.Transaction"]),angular.module("pipTransactions",["pipScope"])}(),function(){"use strict";var e=angular.module("pipScope.Error",["pipAssert"]);e.factory("pipError",["$rootScope","pipAssert",function(e,t){function r(t){e.errors[t]={message:void 0,code:void 0,details:void 0}}function n(e){if(_.isNull(e))return null;if(e.message)return e.message;if(e.data){if(e.data.code)return"ERROR_"+e.data.code;if(e.data.message)return e.data.message}return e.statusText?e.statusText:e.status?"ERROR_"+e.status:e.data?e.data:e}function i(e){return _.isNull(e)?null:e.data&&e.data.code?e.data.code:e.status?e.status:null}function a(e){return e&&e.data?e.data:e}function o(o,s){o=o||"global";var u={reset:function(){r(o)},empty:function(){var t=e.errors[o];return _.isNull(t)||_.isNull(t.message)&&_.isNull(t.code)},get:function(){return e.errors[o]?e.errors[o]:""},message:function(){return e.errors[o]?e.errors[o].message:null},code:function(){return e.errors[o]?e.errors[o].code:null},details:function(){return e.errors[o]?e.errors[o].details:null},set:function(s){s?(t.isObject(s,"Setting error: error should be an object"),e.errors[o]={message:n(s),code:i(s),details:a(s)},console.error(e.errors[o])):r(o)}};return _.isObject(s)&&(s.error=u),u}return e.errors={},o}])}(),function(){"use strict";var e=angular.module("pipScope.Transaction",["pipTranslate","pipScope.Error"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{ENTERING:"Entering...",PROCESSING:"Processing...",LOADING:"Loading...",SAVING:"Saving..."}),e.translations("ru",{ENTERING:"Вход в систему...",PROCESSING:"Обрабатывается...",LOADING:"Загружается...",SAVING:"Сохраняется..."})}]),e.factory("pipTransaction",["$rootScope","pipError",function(e,t){function r(t){e.transactions[t]={id:void 0,operation:void 0}}function n(n,i){n=n||"global";var a=t(n),o={error:a,reset:function(){r(),a.reset()},busy:function(){var t=e.transactions[n];return null!=t&&t.id},failed:function(){return!a.empty()},aborted:function(t){var r=e.transactions[n];return _.isNull(r)||r.id!=t},get:function(){return _.isNull(e.transactions[n])&&r(n),e.transactions[n]},id:function(){var t=e.transactions[n];return t?t.id:null},operation:function(){var t=e.transactions[n];return t?t.operation:null},errorMessage:function(){return a.message()},begin:function(t){var r=e.transactions[n];return null!=r&&r.id?null:(r=e.transactions[n]={id:(new Date).getTime(),operation:t||"PROCESSING"},a.reset(),r.id)},abort:function(){var t=e.transactions[n];t&&(t.id=null),a.reset()},end:function(t){t?a.set(t):a.reset();var r=e.transactions[n];null!=r&&(r.id=null)}};return _.isObject(i)&&(i.error=a,i.transaction=o),o}return e.transactions={},n}])}(),function(){"use strict";var e=angular.module("pipIdentity",[]);e.provider("pipIdentity",["pipAssertProvider",function(e){function t(t){return null!=t&&(e.isBoolean(t||"","pipIdentityProvider.setRoot: argument should be a boolean"),n=t),n}function r(t){return null!=t&&(e.isObject(t||"","pipIdentityProvider.identity: argument should be an object"),i=t),i}var n=!0,i=null;this.setRoot=t,this.identity=r,this.$get=["$rootScope","$timeout","pipAssert",function(e,t,r){function a(){return i}function o(r,n){r=void 0===r||!!r,n=void 0===n||!!n,e.$reset=r,e.$partialReset=n,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function s(t,a,s){null!=t&&r.isObject(t||"","pipIdentity.set: argument should be an object"),i=t,n&&(e.$identity=i),o(a,s),e.$broadcast("pipIdentityChanged",i)}return n&&(e.$identity=i),{get:a,set:s}}]}])}(),function(e,t){"use strict";var r=e.module("pipSession",[]);r.provider("pipSession",["pipAssertProvider",function(e){function t(t){return null!=t&&(e.isBoolean(t||"","pipSessionProvider.setRoot: argument should be a boolean"),n=t),n}function r(t){return null!=t&&(e.isObject(t||"","pipSessionProvider.session: argument should be an object"),i=t),i}var n=!0,i=null;this.setRoot=t,this.session=r,this.$get=["$rootScope","$timeout","pipAssert",function(e,t,r){function a(r,n){r=void 0===r||!!r,n=void 0===n||!!n,e.$reset=r,e.$partialReset=n,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function o(t,o,s){r.isObject(t||"","pipSession.open: argument should be an object"),i=t,n&&(e.$session=i),a(o,s),e.$broadcast("pipSessionOpened",i)}function s(t,r){var o=i;i=null,n&&(e.$session=i),a(t,r),e.$broadcast("pipSessionClosed",o)}function u(){return i}return n&&(e.$session=i),{get:u,open:o,close:s}}]}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipTimer",[]);e.service("pipTimer",["$interval","$rootScope",function(e,t){function r(){return p}function n(){p||(a=e(function(){t.$broadcast("pipAutoPullChanges")},u),o=e(function(){t.$broadcast("pipAutoUpdatePage")},l),s=e(function(){t.$broadcast("pipAutoUpdateCollection")},c),p=!0)}function i(){a&&e.cancel(a),o&&e.cancel(o),s&&e.cancel(o),p=!1}var a,o,s,u=6e4,l=15e3,c=3e5,p=!1;return{isStarted:r,start:n,stop:i}}])}(),function(){"use strict";angular.module("pipTranslate",["pipTranslate.Service","pipTranslate.Directive","pipTranslate.Filter"])}(),function(){"use strict";var e=angular.module("pipTranslate.Directive",["pipTranslate.Service"]);e.directive("pipTranslate",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslate",key2:"@key"},link:function(t,r,n){var i=t.key1||t.key2,a=e.translate(i);r.text(a)}}}]),e.directive("pipTranslateHtml",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslateHtml",key2:"@key"},link:function(t,r,n){var i=t.key1||t.key2,a=e.translate(i);r.html(a)}}}])}(),function(){"use strict";var e=angular.module("pipTranslate.Filter",["pipTranslate.Service"]);e.filter("translate",["pipTranslate",function(e){return function(t){return e.translate(t)||t}}])}(),function(){"use strict";var e=angular.module("pipTranslate.Service",["LocalStorageModule","pipAssert"]);e.provider("pipTranslate",["pipAssertProvider",function(e){function t(t){return e.isString(t||"","pipTranslateProvider.use or pipTranslateProvider.language: argument should be a string"),null!=t&&(f=t),f}function r(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.persist: argument should be a boolean"),d=t),d}function n(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.setRoot: argument should be a boolean"),g=t),g}function i(t,r){e.isString(t,"pipTranslate.setTranslations or pipTranslateProvider.translations: first argument should be a string"),e.isObject(r,"pipTranslate.setTranslations or pipTranslateProvider.translations: second argument should be an object");var n=b[t]||{};b[t]=_.extend(n,r)}function a(e){if(_.isNull(e)||_.isUndefined(e))return"";var t=b[f]||{};return t[e]||e}function o(t){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateArray: argument should be an array");var r=[],n=b[f]||{};return _.each(t,function(e){var t=e||"";r.push(n[t]||t)}),r}function s(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateSet: third argument should be a string"),r=r||"id",n=n||"name";var i=[],a=b[f]||{};return _.each(t,function(e){var t={},o=e||"";t[r]=o,t[n]=a[o]||o,i.push(t)}),i}function u(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateObjects: first argument should be an array"),e.isString(r||"","pipTranslate.translateObjects: second argument should be a string"),e.isString(n||"","pipTranslate.translateObjects: third argument should be a string"),r=r||"name",n=n||"nameLocal";var i=b[f]||{};return _.each(t,function(e){var t=e,a=t[r]||"";t[n]=i[a]||a}),t}function l(t,r){if(e.isString(r||"","pipTranslate.translateById: second argument should be a string"),e.isString(t||"","pipTranslate.translateById: first argument should be a string"),t=t?t+"_":"",r=(t+r).replace(/ /g,"_").toUpperCase(),null==r)return"";var n=b[f]||{};return n[r]||r}function c(t,r,n,i){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSetById: first argument should be an array"),e.isString(r||"","pipTranslate.translateSetById: second argument should be a string"),e.isString(n||"","pipTranslate.translateSetById: third argument should be a string"),e.isString(i||"","pipTranslate.translateSetById: forth argument should be a string"),r=r?r.replace(/ /g,"_").toUpperCase():"",n=n||"id",i=i||"name";var a=[],o=b[f]||{};return _.each(t,function(e){var t={},s=e||"";t[n]=s,t[i]=o[r+"_"+s]||s,a.push(t)}),a}function p(t,r,n,i){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateStringsSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateStringsSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateStringsSet: third argument should be a string"),e.isString(i||"","pipTranslate.translateStringsSet: forth argument should be a string"),n=n||"id",i=i||"name",r=r?r.replace(/ /g,"_").toUpperCase()+"_":"";var a=[],o=b[f]||{};return _.each(t,function(e){var t={},s=e||"";t[n]=s,t[i]=o[r+s.replace(/ /g,"_").toUpperCase()]||r+s.replace(/ /g,"_").toUpperCase(),a.push(t)}),a}var f="en",d=!0,g=!0,b={en:{en:"English",ru:"Russian",es:"Spanish",pt:"Portuguese",de:"German",fr:"French"},ru:{en:"Английский",ru:"Русский",es:"Испанский",pt:"Португальский",de:"Немецкий",fr:"Французский"}};this.translations=i,this.language=t,this.use=t,this.persist=r,this.setRoot=n,this.$get=["$rootScope","$timeout","localStorageService","pipAssert",function(e,t,r,n){function b(r,n){r=void 0===r||!!r,n=void 0===n||!!n,e.$reset=r,e.$partialReset=n,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function h(t,i,a){return n.isString(t||"","pipTranslate.use: argument should be a string"),null!=t&&t!=f&&(f=t,d&&r.set("language",f),g&&(e.$language=f),b(i,a),e.$broadcast("pipLanguageChanged",t)),f}return d&&(f=r.get("language")||f),g&&(e.$language=f),{use:h,translations:i,translate:a,translateArray:o,translateSet:s,translateObjects:u,translateById:l,translateSetById:c,translateStringsSet:p}}]}])}(),function(){"use strict";var e=angular.module("pipCodes",[]);e.factory("pipCodes",function(){function e(e){if(null==e)return 0;for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}function t(){return Math.random().toString(36).substr(2,10).toUpperCase()}return{hash:e,verification:t}})}(),function(){"use strict";var e=angular.module("pipUtils.Collections",[]);e.factory("pipCollections",function(){var e={};return e.indexBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return n;return null},e.findBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return e[n];return null},e.remove=function(e,t){if(!e||!e.length)return null;for(var r=0;r<e.length;r++)e[r]==t&&(e.splice(r,1),r--)},e.removeBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)e[n][t]==r&&(e.splice(n,1),n--)},e.replaceBy=function(e,t,r,n){if(!e||!e.length)return null;for(var i=0;i<e.length;i++)if(e[i][t]==r)return void(e[i]=n)},e.difference=function(e,t,r){var n=[];return _.each(e,function(e){var i=_.find(t,function(t){return r(e,t)});null==i&&n.push(e)}),n},e})}(),function(){"use strict";var e=angular.module("pipFormat",[]);e.factory("pipFormat",function(){function e(e,t){if(!e||""==e)return"";var r=e.indexOf("\n");return r=r>=0?r:e.length,r=r<t?e.length:t,e.substring(0,r)}function t(e,t){if(t<1)return"";for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}var r=function e(){function r(e){return toString.call(e).slice(8,-1).toLowerCase()}var n=t,i=function(){return i.cache.hasOwnProperty(arguments[0])||(i.cache[arguments[0]]=i.parse(arguments[0])),i.format.call(null,i.cache[arguments[0]],arguments)};return i.format=function(t,i){var a,o,s,u,l,c,p,f=1,d=t.length,g="",b=[];for(o=0;o<d;o++)if(g=r(t[o]),"string"===g)b.push(t[o]);else if("array"===g){if(u=t[o],u[2])for(a=i[f],s=0;s<u[2].length;s++){if(!a.hasOwnProperty(u[2][s]))throw new Error(e('[_.sprintf] property "%s" does not exist',u[2][s]));a=a[u[2][s]]}else a=u[1]?i[u[1]]:i[f++];if(/[^s]/.test(u[8])&&"number"!=r(a))throw new Error(e("[_.sprintf] expecting number but found %s",r(a)));switch(u[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(u[8])&&u[3]&&a>=0?"+"+a:a,c=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",p=u[6]-String(a).length,l=u[6]?n(c,p):"",b.push(u[5]?a+l:l+a)}return b.join("")},i.cache={},i.parse=function(e){for(var t=e,r=[],n=[],i=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(r[2]){i|=1;var a=[],o=r[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(a.push(s[1]);""!==(o=o.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(o)))a.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");a.push(s[1])}r[2]=a}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");n.push(r)}t=t.substring(r[0].length)}return n},i}();return{sprintf:r,format:r,sample:e}})}(),function(){"use strict";var e=angular.module("pipUtils.General",["pipState","pipAssert"]);e.factory("pipUtils",["$rootScope","$window","$state","pipAssert",function(e,t,r,n){function i(e,t,r,n){if(!e||!e.length)return null;for(var i=0;i<e.length;i++)if(e[i][t]==r)return void(e[i]=n)}function a(e){return null==e?"":""+e}function o(e){var t=new RegExp("^[0-9a-fA-F]{24}$");return t.test(e)}function s(e,t){return null==e&&null==t||null!=e&&null!=t&&e.toString()==t.toString()}function u(e,t){return(null!=e||null!=t)&&(null==e||null==t||e.toString()!=t.toString())}function l(e,t){return _.some(e,function(e){return s(e,t)})}function c(e,t,r,n){return _.isObject(t)&&"undefined"==typeof n&&(n=r,r=t,t=n),!!(r[n]||"number"==typeof r[n]&&r[n]%1==0)&&(e[t]=r[n],!0)}function p(e,t,r){var n=e[t],i=e[r];n?e[r]=n:delete e[r],i?e[t]=i:delete e[t]}function f(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function d(e){return _.map(e,function(e){return e?e.toString():0})}Object.prototype.toString;return{copyProperty:c,copy:c,swapProperties:p,swap:p,convertToBoolean:f,toBoolean:f,toBool:f,convertObjectIdsToString:d,OidToString:d,equalObjectIds:s,eqOid:s,notEqualObjectIds:u,neqOid:u,containsObjectId:l,hasOid:l,isObjectId:o,makeString:a,replaceBy:i}}])}(),function(){"use strict";var e=angular.module("pipScroll",[]);e.factory("pipScroll",function(){function e(e,t,r){e&&t&&(void 0==r&&(r=300),setTimeout(function(){if($(t).position()){var n=Math.abs($(e).scrollTop()-$(t).position().top);if(!(n<20)){var i=$(e).scrollTop()+($(t).position().top-20);r>0&&$(e).animate({scrollTop:i+"px"},r)}}},100))}return{scrollTo:e}})}(),function(){"use strict";var e=angular.module("pipSystemInfo",[]);e.factory("pipSystemInfo",["$rootScope","$window",function(e,t){function r(){var e=t.navigator.userAgent;return e.search(/Edge/)>-1?"edge":e.search(/MSIE/)>-1?"ie":e.search(/Trident/)>-1?"ie":e.search(/Firefox/)>-1?"firefox":e.search(/Opera/)>-1?"opera":e.search(/OPR/)>-1?"opera":e.search(/YaBrowser/)>-1?"yabrowser":e.search(/Chrome/)>-1?"chrome":e.search(/Safari/)>-1?"safari":e.search(/Maxthon/)>-1?"maxthon":"unknown"}function n(){var e,n,i=t.navigator.userAgent;switch(e=r()){case"edge":n=i.split("Edge")[1].split("/")[1];break;case"ie":n=i.split("MSIE ")[1].split(";")[0];break;case"ie11":e="ie",n=i.split("; rv:")[1].split(")")[0];break;case"firefox":n=i.split("Firefox/")[1];break;case"opera":n=i.split("Version/")[1];break;case"operaWebkit":n=i.split("OPR/")[1];break;case"yabrowser":n=i.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":n=i.split("Chrome/")[1].split(" ")[0];break;case"safari":n=i.split("Version/")[1].split(" ")[0];break;case"maxthon":n=i.split("Maxthon/")[1]}return n}function i(){var e=t.navigator.userAgent;return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(e.toLowerCase())?"mobile":"desktop"}function a(){return"desktop"==i()}function o(){return"mobile"==i()}function s(){return null}function l(){var e=t.navigator.userAgent;try{var r=(/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(e.toLowerCase())||[u])[0].replace("sunos","solaris"),n=/(android)/.exec(e.toLowerCase())||"";return!n||"android"!=n&&"android"!=n[0]?r:"android"}catch(e){return"unknown"}}function c(e){e||(e={edge:11,ie:11,firefox:43,opera:35,chrome:47});var t=r(),i=n();return i=i.split(".")[0],t&&e[t]&&i>=e[t],!0}return{getBrowserName:r,getBrowserVersion:n,getPlatform:i,isDesktop:a,isMobile:o,isCordova:s,getOS:l,isSupported:c}}])}(),function(){"use strict";var e=angular.module("pipTags",[]);e.factory("pipTags",function(){function e(e){return e?_.trim(e.replace(/(_|#)+/g," ")):null}function t(e){return e?e.replace(/( |_|#)/g,"").toLowerCase():null}function r(e,r){return null==e&&null==r||null!=e&&null!=r&&t(e)==t(r)}function n(t){return _.isString(t)&&(t=t.split(/( |,|;)+/)),t=_.map(t,function(t){return e(t)})}function i(e){return _.isString(e)&&(e=e.split(/( |,|;)+/)),e=_.map(e,function(e){return t(e)})}function a(e,t){var r=n(e.tags);return _.each(t,function(t){var i=e[t]||"";if(""!=i){var a=i.match(/#\w+/g);r=r.concat(n(a))}}),_.uniq(r)}return{equal:r,normalizeOne:e,normalizeAll:n,normalize:n,compressOne:t,compressAll:i,compress:i,extract:a}})}(),function(){"use strict";angular.module("pipUtils",["pipUtils.General","pipUtils.Collections"])}();
!function(t){"use strict";t.module("pipButtons",["pipToggleButtons","pipRefreshButton","pipFabTooltipVisibility"])}(window.angular),function(t){try{t=angular.module("pipButtons.Templates")}catch(n){t=angular.module("pipButtons.Templates",[])}t.run(["$templateCache",function(t){t.put("toggle_buttons/toggle_buttons.html",'<div class="pip-toggle-buttons layout-row {{class}}" pip-selected="bufButtonIndex" pip-enter-space-press="enterSpacePress($event)" ng-if="$mdMedia(\'gt-xs\')"><md-button tabindex="-1" ng-repeat="button in buttons" ng-class="{\'md-accent md-raised selected color-accent-bg\' : currentButtonIndex == $index}" ng-attr-style="{{ \'background-color:\' + (currentButtonIndex == $index ? button.backgroundColor : \'\') + \'!important\' }}" class="pip-selectable pip-chip-button flex" ng-click="buttonSelected($index, $event)" ng-disabled="button.disabled || disabled()">{{button.name || button.title | translate}} <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span></md-button></div><md-input-container class="md-block" ng-if="$mdMedia(\'xs\')"><md-select ng-model="currentButtonIndex" ng-disabled="disabled()" aria-label="DROPDOWN" md-on-close="buttonSelected(currentButtonIndex)"><md-option ng-repeat="action in buttons" value="{{ ::$index }}">{{ (action.title || action.name) | translate }} <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span></md-option></md-select></md-input-container>')}])}(),function(){"use strict";var t=angular.module("pipButtons.Translate",[]);t.filter("translate",["$injector",function(t){var n=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return n?n.translate(t)||t:t}}])}(),function(){"use strict";var t=angular.module("pipFabTooltipVisibility",[]);t.directive("pipFabTooltipVisibility",["$parse","$timeout",function(t,n){return{restrict:"A",scope:!1,controller:["$scope","$attrs",function(e,i){var o=t(i.pipFabTooltipVisibility),u=t(i.pipFabShowTooltip),s=u.assign;e.$watch(o,function(t){t?n(function(){s(e,t)},600):s(e,t)})}]}}])}(),function(t){"use strict";var n=t.module("pipRefreshButton",["ngMaterial"]);n.directive("pipRefreshButton",["$parse",function(t){return{restrict:"EA",scope:!1,template:String()+'<md-button class="pip-refresh-button" tabindex="-1" ng-click="onClick($event)" aria-label="REFRESH"><md-icon md-svg-icon="icons:refresh"></md-icon><span class="pip-refresh-text"></span></md-button>',replace:!1,link:function(n,e,i){function o(){p.hide()}var u,s,c,a=t(i.pipText),r=t(i.pipVisible),l=t(i.pipRefresh),p=e.children(".md-button"),d=p.children(".pip-refresh-text");c=function(){s=a(n),d.text(s),p.show(),u=p.width(),p.css("margin-left","-"+u/2+"px")},n.onClick=function(){l(n)},n.$watch(r,function(t){t?c():o()}),n.$watch(a,function(t){d.text(t)})}}}])}(window.angular),function(t,n){"use strict";var e=t.module("pipToggleButtons",["pipButtons.Templates"]);e.directive("pipToggleButtons",function(){return{restrict:"EA",scope:{ngDisabled:"&",buttons:"=pipButtons",currentButtonValue:"=ngModel",currentButton:"=?pipButtonObject",change:"&ngChange"},templateUrl:"toggle_buttons/toggle_buttons.html",controller:["$scope","$element","$attrs","$mdMedia","$timeout",function(t,e,i,o,u){var s;t.$mdMedia=o,t.class=i.class||"",(!t.buttons||n.isArray(t.buttons)&&0===t.buttons.length)&&(t.buttons=[]),s=n.indexOf(t.buttons,n.find(t.buttons,{id:t.currentButtonValue})),t.currentButtonIndex=s<0?0:s,t.currentButton=t.buttons.length>0?t.buttons[t.currentButtonIndex]:t.currentButton,t.buttonSelected=function(n){t.disabled()||(t.currentButtonIndex=n,t.currentButton=t.buttons[t.currentButtonIndex],t.currentButtonValue=t.currentButton.id||n,u(function(){t.change&&t.change()}))},t.enterSpacePress=function(n){t.buttonSelected(n.index)},t.disabled=function(){if(t.ngDisabled)return t.ngDisabled()}}],link:function(t,n){n.on("focusin",function(){n.addClass("focused-container")}).on("focusout",function(){n.removeClass("focused-container")})}}})}(window.angular,window._);
!function(n){"use strict";n.module("pipLanding",[])}(window.angular);
!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,t,n){function e(){var e,l,r=$(".pip-main-body"),s=$(".pip-card-container"),p=o.width(),a=r.width(),u=r.height(),c=n.minWidth?Math.floor(n.minWidth):null,d=n.minHeight?Math.floor(n.minHeight):null,h=n.width?Math.floor(n.width):null,m=n.height?Math.floor(n.height):null;if(p<=768)c=null,d=null,h=null,m=null,a=null,u=null;else{var f=p>1200?24:16;a-=2*f,u-=2*f,c=c?Math.min(c,a):null,d=d?Math.min(d,u):null,h=h?Math.min(h,a):null,m=m?Math.min(m,u):null}if(t.css("max-width",a?a+"px":""),t.css("min-width",c?c+"px":""),t.css("width",h?h+"px":""),t.css("height",m?m+"px":""),s.hasClass("pip-outer-scroll"))s.addClass("pip-scroll"),p<=768?(e=0,l=0):(e=s.width()/2-t.width()/2-16,l=Math.max(s.height()/2-t.height()/2-16,0)),t.css("left",e),t.css("top",l),setTimeout(function(){t.css("display","flex")},100);else{t.css("max-height",u?u+"px":""),t.css("min-height",d?d+"px":"");var g=t.find(".pip-header:visible"),w=t.find(".pip-footer:visible"),v=t.find(".pip-body"),y=u||r.height();g.length>0&&(y-=g.outerHeight(!0)),w.length>0&&(y-=w.outerHeight(!0)),v.css("max-height",y+"px")}i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-card"),i.$on("pipWindowResized",e),e(),setTimeout(e,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EA",controller:"pipDialogController"}}),i.controller("pipDialogController",["$scope","$element","$attrs",function(i,t,n){function e(){var e=o.width(),l=o.height(),r=n.minWidth?Math.floor(n.minWidth):null,s=n.minHeight?Math.floor(n.minHeight):null,p=n.width?Math.floor(n.width):null,a=n.height?Math.floor(n.height):null,u=e>1200?24:16;e-=2*u,l-=2*u,r=r&&r<e?r:null,s=s&&s<l?s:null,p=p?Math.min(p,e):null,a=a?Math.min(a,l):null,t.css("max-width",e?e+"px":""),t.css("max-height",l?l+"px":""),t.css("min-width",r?r+"px":""),t.css("min-height",s?s+"px":""),t.css("width",p?p+"px":""),t.css("height",a?a+"px":""),i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-dialog"),i.$on("pipWindowResized",e),i.$on("pipResizeLayout",e),e(),o.trigger("resize")}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,t,n){t.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,t){t.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope",function(i,t,n){function e(){n.$broadcast("pipWindowResized")}var o=$(window);t.addClass("pip-main"),o.bind("resize",e),i.$on("$destroy",function(){n.$size=void 0,o.unbind("resize",e)}),n.$on("pipResizeWindow",function(i){setTimeout(e,0)}),setTimeout(e,0)}])}(),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,t,n){t.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,t,n){function e(t){var n,e=o.width();if(e>767){e-=48;var u=Math.floor(e/l);n=(l+16)*u-16,n>e&&(u--,n=(l+16)*u-16),u<1?(n=e,a.css("width",n+"px")):a.css("width",l+"px"),r.css("width",n+1+"px")}else e-=32,n=e,a.css("width",n+"px"),r.css("width",n+1+"px");(s!=n||t)&&(s=n,p.layout(),i.$broadcast("pipLayoutResized"))}var o=$(window),l=n.columnWidth?Math.floor(n.columnWidth):440,r=t.children(".pip-tiles-container"),s=null,p=Masonry.data(r[0]);t.addClass("pip-tiles");var a=$('<div class="pip-tile-sizer"></div>');a.appendTo(r),i.$on("pipWindowResized",function(){e(!1)}),i.$on("pipResizeLayout",function(){e(!0)}),e()}function t(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var n=angular.module("pipLayout.Tiles",["wu.masonry"]);n.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,n){return t(n.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}();
!function(){"use strict";var n=angular.module("pipSplit",[]);n.run(["$rootScope","pipSplit",function(n,i){n.$on("$stateChangeStart",function(n,r,t,a,e){var o=$(".pip-split");o.length>0&&(o.removeClass("pip-transition-forward"),o.removeClass("pip-transition-back"),r.name!=a.name&&(i.forwardTransition(r,a)?o.addClass("pip-transition-forward"):o.addClass("pip-transition-back")))})}]),n.provider("pipSplit",function(){function n(n){if(!_.isArray(n)||0==n.length)throw new Error("Transition sequence must be an array of state names");r.push(n)}function i(n,i){var t,a,e;for(t=0;t<r.length;t++)if(a=r[t].indexOf(n.name),e=r[t].indexOf(i.name),a>-1)return a>e;return!1}var r=[];this.addTransitionSequence=n,this.$get=function(){return{forwardTransition:i}}})}();
!function(e){"use strict";e.module("pipControls",["pipMarkdown","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipUnsavedChanges","pipControls.Translate","pipDraggable"])}(window.angular),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("color_picker/color_picker.html",'<ul class="pip-color-picker {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("popover/popover.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="showProgress()"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(t){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var m0 pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed m0 lm8" ng-if="toast.type==\'error\' && toast.error && showDetails" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed m0 lm8" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(e,t){"use strict";var n=e.module("pipColorPicker",["pipControls.Templates"]);n.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),n.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(e,n,o,i){var a=["purple","lightgreen","green","darkred","pink","yellow","cyan"];e.class=o.class||"",(!e.colors||t.isArray(e.colors)&&0===e.colors.length)&&(e.colors=a),e.currentColor=e.currentColor||e.colors[0],e.currentColorIndex=e.colors.indexOf(e.currentColor),e.disabled=function(){return!e.ngDisabled||e.ngDisabled()},e.selectColor=function(t){e.disabled()||(e.currentColorIndex=t,e.currentColor=e.colors[e.currentColorIndex],i(function(){e.$apply()}),e.colorChange&&e.colorChange())},e.enterSpacePress=function(t){e.selectColor(t.index)}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipControls.Translate",[]);e.filter("translate",["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return t?t.translate(e)||e:e}}])}(),function(){"use strict";var e=angular.module("pipDraggable",["pipUtils"]);e.service("pipDraggable",function(){var e=this;e.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}),e.directive("pipDrag",["$rootScope","$parse","$document","$window","pipDraggable","pipUtils",function(e,t,n,o,i,a){return{restrict:"A",link:function(r,l,s){function p(){P.left=l.css("css"),P.top=l.css("top"),P.position=l.css("position"),P.width=l.css("width")}r.value=s.ngDrag;var c,u,d,g,f,m,v,h,C=50,w=!1,$="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,b="touchstart mousedown",k="touchmove mousemove",y="touchend mouseup",x=r.$id,D=null,T=null,S=!1,A=null,P={},E=t(s.pipDragStart)||null,I=t(s.pipDragStop)||null,L=t(s.pipDragSuccess)||null,M=!!angular.isDefined(s.allowTransform)&&r.$eval(s.allowTransform),_=t(s.pipDragData),B=a.toBoolean(s.pipVerticalScroll)||!0,U=a.toBoolean(s.pipHorizontalScroll)||!0,R=parseFloat(s.pipActivationDistance)||75,z=parseFloat(s.pipScrollDistance)||50,j=!1,O=angular.element(window),H=t(s.pipScrollContainer),N=angular.noop,X=function(){if(l.attr("pip-draggable","false"),l[0].querySelectorAll)var e=angular.element(l[0].querySelectorAll("[pip-drag-handle]"));else var e=l.find("[pip-drag-handle]");e.length&&(h=e),Y(!0),O=j?angular.element($element.parent()):s.pipScrollContainer?angular.element(H(r)):angular.element(window)},Y=function(e){e&&(r.$on("$destroy",Q),r.$watch(s.pipDrag,W),r.$watch(s.pipCenterAnchor,F),h?h.on(b,q):l.on(b,q),$||"img"!=l[0].nodeName.toLowerCase()||l.on("mousedown",function(){return!1}))},Q=function(e){Y(!1)},W=function(e,t){S=e},F=function(e,t){angular.isDefined(e)&&(w=e||"true")},K=function(e){return angular.isDefined(angular.element(e.target).attr("pip-cancel-drag"))},q=function(e){S&&(K(e)||"mousedown"==e.type&&0!=e.button||(p(),$?(V(),A=setTimeout(function(){V(),G(e)},C),n.on(k,V),n.on(y,V)):G(e)))},V=function(){clearTimeout(A),n.off(k,V),n.off(y,V)},G=function(t){S&&(t.preventDefault(),c=l[0].getBoundingClientRect(),T=M?c:{left:document.body.scrollLeft,top:document.body.scrollTop},l.centerX=l[0].offsetWidth/2,l.centerY=l[0].offsetHeight/2,u=i.inputEvent(t).pageX,d=i.inputEvent(t).pageY,m=u-c.left,v=d-c.top,w?(g=u-l.centerX-o.pageXOffset,f=d-l.centerY-o.pageYOffset):(g=u-m-o.pageXOffset,f=d-v-o.pageYOffset),n.on(k,J),n.on(y,Z),N=e.$on("draggable:_triggerHandlerMove",function(e,t){J(t)}))},J=function(t){S&&(t.preventDefault(),l.hasClass("pip-dragging")||(D=_(r),l.addClass("pip-dragging"),e.$broadcast("draggable:start",{x:u,y:d,tx:g,ty:f,event:t,element:l,data:D}),E&&r.$apply(function(){E(r,{$data:D,$event:t})})),u=i.inputEvent(t).pageX,d=i.inputEvent(t).pageY,(U||B)&&oe(),w?(g=u-l.centerX-T.left,f=d-l.centerY-T.top):(g=u-m-T.left,f=d-v-T.top),ne(g,f),e.$broadcast("draggable:move",{x:u,y:d,tx:g,ty:f,event:t,element:l,data:D,uid:x,dragOffset:T}))},Z=function(t){S&&(t.preventDefault(),e.$broadcast("draggable:end",{x:u,y:d,tx:g,ty:f,event:t,element:l,data:D,callback:ee,uid:x}),l.removeClass("pip-dragging"),l.parent().find(".pip-drag-enter").removeClass("pip-drag-enter"),te(),n.off(k,J),n.off(y,Z),I&&r.$apply(function(){I(r,{$data:D,$event:t})}),N())},ee=function(e){L&&r.$apply(function(){L(r,{$data:D,$event:e})})},te=function(){M?l.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):l.css({position:P.position,top:P.top,left:P.left,"z-index":"",width:P.width})},ne=function(e,t){var n=l.css("width");M?l.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+t+")"}):l.css({left:e+"px",top:t+"px",position:"fixed","z-index":100,width:n})},oe=function(){var e=0,t=0,n=function(e){return e.offset()||{left:0,top:0}};if(U){var o=n(O).left,i=O.innerWidth(),a=o+i;u-o<R?e=-z:a-u<R&&(e=z)}if(B){var r=n(O).top,l=O.innerHeight(),s=r+l;d-r<R?t=-z+30:s-d<R&&(t=z-30)}if(0!==e||0!==t){var p=O.scrollLeft(),c=O.scrollTop();O.scrollLeft(p+e),O.scrollTop(c+t)}};X()}}}]),e.directive("pipDrop",["$parse","$timeout","$window","$document","pipDraggable",function(e,t,n,o,i){return{restrict:"A",link:function(n,i,a){n.value=a.pipDrop,n.isTouching=!1;var r=null,l=n.$id,s=!1,p=e(a.pipDropSuccess),c=e(a.pipDragStart),u=e(a.pipDragStop),d=e(a.pipDragMove),g=function(){f(!0)},f=function(e){e&&(n.$watch(a.pipDrop,v),n.$on("$destroy",m),n.$on("draggable:start",h),n.$on("draggable:move",C),n.$on("draggable:end",w))},m=function(e){f(!1)},v=function(e,t){s=e},h=function(e,o){s&&($(o.x,o.y,o.element),a.pipDragStart&&t(function(){c(n,{$data:o.data,$event:o})}))},C=function(e,o){s&&($(o.x,o.y,o.element),a.pipDragMove&&t(function(){d(n,{$data:o.data,$event:o})}))},w=function(e,o){return s&&l!==o.uid?($(o.x,o.y,o.element)&&(o.callback&&o.callback(o),a.pipDropSuccess&&t(function(){p(n,{$data:o.data,$event:o,$target:n.$eval(n.value)})})),a.pipDragStop&&t(function(){u(n,{$data:o.data,$event:o})}),void b(!1,o.element)):void b(!1,o.element)},$=function(e,t,o){var a=k(e,t);return n.isTouching=a,a&&(r=i),b(a,o),a},b=function(e,t){e?(i.addClass("pip-drag-enter"),t.addClass("pip-drag-over")):r==i&&(r=null,i.removeClass("pip-drag-enter"),t.removeClass("pip-drag-over"))},k=function(e,t){var n=i[0].getBoundingClientRect();return e-=o[0].body.scrollLeft+o[0].documentElement.scrollLeft,t-=o[0].body.scrollTop+o[0].documentElement.scrollTop,e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top};g()}}}]),e.directive("pipPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var o=function(){t.attr("pip-draggable","false"),i(!0)},i=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",a)},a=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};o()}}}]),e.directive("pipCancelDrag",function(){return{restrict:"A",link:function(e,t,n){t.find("*").attr("pip-cancel-drag","pip-cancel-drag")}}})}(),function(e,t,n){"use strict";var o=e.module("pipImageSlider",["pipSliderButton","pipSliderIndicator","pipImageSlider.Service"]);o.directive("pipImageSlider",function(){return{scope:!1,controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(e,o,i,a,r,l,s){function p(){C&&C(e,w)}function c(){v=l(function(){f=w+1===g.length?0:w+1,m="next",h()},k||b)}function u(){l.cancel(v)}function d(){u(),c()}var g,f,m,v,h,C=a(i.pipImageSliderIndex).assign,w=0,$=a(i.pipAnimationType)(e),b=4500,k=a(i.pipAnimationInterval)(e);o.addClass("pip-image-slider"),o.addClass("pip-animation-"+$),e.swipeStart=0,p(),r(function(){g=o.find(".pip-animation-block"),g.length>0&&n(g[0]).addClass("pip-show")}),c(),h=t.throttle(function(){s.toBlock($,g,w,f,m),w=f,p()},600),e.nextBlock=function(){d(),f=w+1===g.length?0:w+1,m="next",h()},e.prevBlock=function(){d(),f=w-1<0?g.length-1:w-1,m="prev",h()},e.slideTo=function(e){e===w||e>g.length-1||(d(),f=e,m=e>w?"next":"prev",h())},o.on("$destroy",function(){u()})}]}})}(window.angular,window._,window.jQuery),function(e,t,n){"use strict";var o=e.module("pipImageSlider.Service",[]);o.service("$pipImageSlider",["$timeout",function(e){function t(t,n){t.removeClass("animated").addClass("pip-next"),e(function(){t.addClass("animated").addClass("pip-show").removeClass("pip-next"),n.addClass("animated").removeClass("pip-show")},100)}function o(t,n){t.removeClass("animated"),e(function(){t.addClass("animated").addClass("pip-show"),n.addClass("animated").addClass("pip-next").removeClass("pip-show"),e(function(){n.removeClass("pip-next").removeClass("animated")},a-100)},100)}function i(e,i,a,r,l){var s=n(i[a]),p=r,c=n(i[p]);"carousel"===e?(n(i).removeClass("pip-next").removeClass("pip-prev"),l&&"prev"===l&&o(c,s),l&&"next"===l&&t(c,s),(!l||"next"!==l&&"prev"!==l)&&r&&r<a?o(c,s):t(c,s)):(s.addClass("animated").removeClass("pip-show"),c.addClass("animated").addClass("pip-show"))}var a=550;return{nextCarousel:t,prevCarousel:o,toBlock:i}}])}(window.angular,window._,window.jQuery),function(e,t,n){"use strict";var o=e.module("pipSliderButton",[]);o.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs",function(t,n,o,i){var a=o(i.pipButtonType)(t),r=o(i.pipSliderId)(t);n.on("click",function(){r&&a&&e.element(document.getElementById(r)).scope()[a+"Block"]()})}]}})}(window.angular,window._,window.jQuery),function(e,t,n){"use strict";var o=e.module("pipSliderIndicator",[]);o.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs",function(t,n,o,i){var a=o(i.pipSliderId)(t),r=o(i.pipSlideTo)(t);n.css("cursor","pointer"),n.on("click",function(){!a||r&&r<0||e.element(document.getElementById(a)).scope().slideTo(r)})}]}})}(window.angular,window._,window.jQuery),function(e,t,n){"use strict";var o=e.module("pipMarkdown",["ngSanitize"]);o.run(["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;t&&(t.translations("en",{MARKDOWN_ATTACHMENTS:"Attachments:",checklist:"Checklist",documents:"Documents",pictures:"Pictures",location:"Location",time:"Time"}),t.translations("ru",{MARKDOWN_ATTACHMENTS:"Вложения:",checklist:"Список",documents:"Документы",pictures:"Изображения",location:"Местонахождение",time:"Время"}))}]),o.directive("pipMarkdown",["$parse","$injector",function(e,o){var i=o.has("pipTranslate")?o.get("pipTranslate"):null;return{restrict:"EA",scope:!1,link:function(o,a,r){function l(e){var t="",o=[];return n.each(e,function(e){e.type&&"text"!==e.type&&(0===t.length&&i&&(t=i.translate("MARKDOWN_ATTACHMENTS")),o.indexOf(e.type)<0&&(o.push(e.type),t+=o.length>1?", ":" ",i&&(t+=i.translate(e.type))))}),t}function s(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function p(e){var o,i,s,p,c;n.isArray(e)?(c=n.find(e,function(e){return"text"===e.type&&e.text}),o=c?c.text:l(e)):o=e,i=r.pipLineCount&&n.isNumber(d()),i=i&&o&&o.length>0,p={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},o=t(o||"",p),i&&(s=1.5*d()),a.html("<div"+(i?u()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+s+'em">':' class="pip-markdown-content" style="max-height: '+s+'em">':u()?' class="pip-markdown-list">':">")+o+"</div>"),a.find("a").attr("target","blank"),!u()&&i&&a.append('<div class="pip-gradient-block"></div>')}var c=e(r.pipText),u=e(r.pipList),d=e(r.pipLineCount);p(c(o)),s(r.pipRebind)&&o.$watch(c,function(e){p(e)}),o.$on("pipWindowResized",function(){p(c(o))}),a.addClass("pip-markdown")}}}])}(window.angular,window.marked,window._),function(e,t,n){"use strict";var o=e.module("pipPopover",["pipPopover.Service"]);o.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(e,o,i,a,r){function l(){f.addClass("opened"),t(".pip-popover-backdrop").focus(),e.params.timeout&&a(function(){p()},e.params.timeout)}function s(){e.params.cancelCallback&&e.params.cancelCallback(),p()}function p(){f.removeClass("opened"),a(function(){f.remove()},100)}function c(e){e.stopPropagation()}function u(){if(e.params.element){var n=t(e.params.element),o=n.offset(),i=n.width(),a=n.height(),r=t(document).width(),l=t(document).height(),s=f.find(".pip-popover");o&&s.css("max-width",r-(r-o.left)).css("max-height",l-(o.top+a)-32,0).css("left",o.left-s.width()+i/2).css("top",o.top+a+16)}}function d(){if(e.params.calcHeight!==!1){var t=f.find(".pip-popover"),n=t.find(".pip-title"),o=t.find(".pip-footer"),i=t.find(".pip-content"),a=t.height()-n.outerHeight(!0)-o.outerHeight(!0);i.css("max-height",Math.max(a,0)+"px").css("box-sizing","border-box")}}function g(){f.find(".pip-popover").find(".pip-content").css("max-height","100%"),u(),d()}var f,m;f=t(".pip-popover-backdrop"),f.on("click keydown scroll",s),f.addClass(e.params.responsive!==!1?"pip-responsive":""),a(function(){u(),e.params.template&&(m=r(e.params.template)(e),i.find(".pip-popover").append(m)),l()}),a(function(){d()},200),e.onPopoverClick=c,e=n.defaults(e,e.$parent),o.$on("pipPopoverResize",g),t(window).resize(g)}]}})}(window.angular,window.jQuery,window._),function(e,t,n){"use strict";var o=e.module("pipPopover.Service",[]);o.service("pipPopoverService",["$compile","$rootScope","$timeout",function(e,o,i){function a(i){var a,l,p,c;a=t("body"),a.find("md-backdrop").length>0||(r(),l=o.$new(),p=i&&n.isObject(i)?i:{},l.params=p,l.locals=p.locals,c=e(s)(l),a.append(c))}function r(){var e=t(".pip-popover-backdrop");e.removeClass("opened"),i(function(){e.remove()},100)}function l(){o.$broadcast("pipPopoverResize")}var s;return s="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:a,hide:r,resize:l}}])}(window.angular,window.jQuery,window._),function(e){"use strict";var t=e.module("pipRoutingProgress",["ngMaterial"]);t.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,scope:{showProgress:"&",logoUrl:"@"},templateUrl:"progress/routing_progress.html",controller:"pipRoutingProgressController"}}),t.controller("pipRoutingProgressController",["$scope","$element","$attrs",function(e,t,n){function o(){e.logoUrl&&i.attr("src",e.logoUrl)}var i=t.children("img");o()}])}(window.angular),function(e,t){"use strict";var n=e.module("pipToasts",["ngMaterial","pipControls.Translate"]);n.controller("pipToastController",["$scope","$mdToast","toast","$injector",function(t,n,o,i){var a=i.has("pipErrorDetailsDialog")?i.get("pipErrorDetailsDialog"):null;t.message=o.message,t.actions=o.actions,t.toast=o,0===o.actions.length?t.actionLenght=0:1===o.actions.length?t.actionLenght=o.actions[0].toString().length:t.actionLenght=null,t.showDetails=null!=a,t.onDetails=function(){n.hide(),a&&a.show({error:t.toast.error,ok:"Ok"},e.noop,e.noop)},t.onAction=function(e){n.hide({action:e,id:o.id,message:o.message})}}]),n.service("pipToasts",["$rootScope","$mdToast",function(e,n){function o(){var e;w.length>0&&(e=w[0],w.splice(0,1),i(e))}function i(e){v=e,n.show({templateUrl:"toast/toast.html",hideDelay:e.duration||h,position:"bottom left",controller:"pipToastController",locals:{toast:v,sounds:$}}).then(function(e){v.successCallback&&v.successCallback(e),v=null,o()},function(e){v.cancelCallback&&v.cancelCallback(e),v=null,o()})}function a(e){v&&"error"!==e.type?w.push(e):i(e)}function r(e){var n=[];t.each(w,function(t){t.type&&t.type===e||n.push(t)}),w=t.cloneDeep(n)}function l(e){t.remove(w,{id:e})}function s(e){return t.find(w,{id:e})}function p(){w=t.reject(w,function(e){return"error"===e.type}),v&&"error"===v.type&&(n.cancel(),o())}function c(){m()}function u(e,t,n,o,i){a({id:i||null,type:"notification",message:e,actions:t||["ok"],successCallback:n,cancelCallback:o,duration:C})}function d(e,t,n,o){a({id:o||null,type:"message",message:e,actions:["ok"],successCallback:t,cancelCallback:n})}function g(e,t,n,o,i){a({id:o||null,error:i,type:"error",message:e,actions:["ok"],successCallback:t,cancelCallback:n})}function f(){n.cancel(),w=[]}function m(e){e?r(e):(n.cancel(),w=[])}var v,h=2e4,C=2e4,w=[],$={};return e.$on("$stateChangeSuccess",p),e.$on("pipSessionClosed",c),e.$on("pipIdentityChanged",c),{showNotification:u,showMessage:d,showError:g,hideAllToasts:f,clearToasts:m,removeToastsById:l,getToastById:s}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipUnsavedChanges",[]);e.directive("pipUnsavedChanges",["$window","$rootScope",function(e,t){return{restrict:"AE",scope:{unsavedChangesAvailable:"&pipUnsavedChangesAvailable",unsavedChangesMessage:"@pipUnsavedChangesMessage",afterLeave:"&pipUnsavedChangesAfterLeave"},link:function(n){e.onbeforeunload=function(){if(n.unsavedChangesAvailable())return t.$routing=!1,n.unsavedChangesMessage};var o=n.$on("$stateChangeStart",function(o){n.unsavedChangesAvailable()&&!e.confirm(n.unsavedChangesMessage)?(t.$routing=!1,o.preventDefault()):_.isFunction(n.afterLeave)&&n.afterLeave()});n.$on("$destroy",function(){e.onbeforeunload=null,o()})}}}])}();
!function(){"use strict";angular.module("pipLists",["pipFocused","pipSelected","pipInfiniteScroll","pipTagList"])}(),function(e){try{e=angular.module("pipLists.Templates")}catch(t){e=angular.module("pipLists.Templates",[])}e.run(["$templateCache",function(e){e.put("tag_list/tag_list.html",'<div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && !pipTypeLocal"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && pipTypeLocal"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4" ng-repeat="tag in pipTags"><span>{{::tag}}</span></div>')}])}(),function(){"use strict";var e=angular.module("pipList.Translate",[]);e.filter("translate",["$injector",function(e){var t=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return t?t.translate(e)||e:e}}])}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(n,i,p){function l(){var e=c?".pip-focusable":".pip-focusable:visible";r=i.find(e),a=r.length,r.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function o(e){var n=e.which||e.keyCode;if(n==t.KEY_CODE.LEFT_ARROW||n==t.KEY_CODE.UP_ARROW||n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW?1:-1,p=r.index(r.filter(".md-focused"))+i;p>=0&&p<a&&r[p].focus()}}var r,a,c=p.pipWithHidden;e(l),i.on("keydown",o),n.$watch(p.ngModel,function(){e(l)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,n,i){var p=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,l,o){function r(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function a(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+c(e)}function c(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function s(e){return E=parseFloat(e)||0}function u(e){if(S=!e,S&&v)return v=!1,D()}function d(e){return T=e}function f(e){if(null!=g&&g.unbind("scroll",D),g=e,null!=e)return g.bind("scroll",D)}function m(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=l.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var g,v=null,h=!0,E=null,S=null,C=null,T=!1,$=angular.element(t),D=function(){var t,n,p,o,s;return g===$?(t=r(g)+c(g[0].document.documentElement),p=a(l)+r(l)):(t=r(g),n=0,void 0!==a(g)&&(n=a(g)),p=a(l)-n+r(l)),T&&(p=r((l[0].ownerDocument||l[0].document).documentElement)),o=p-t,s=o<=r(g)*E+1,s?(v=!0,S?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):v=!1};return null!=p&&(D=_.throttle(D,p)),i.$on("$destroy",function(){if(g.unbind("scroll",D),null!=C)return C(),C=null}),i.$watch("pipScrollDistance",s),s(i.pipScrollDistance),i.$watch("pipScrollDisabled",u),u(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f($),i.pipScrollListenForEvent&&(C=e.$on(i.pipScrollListenForEvent,D)),i.$watch("pipScrollContainer",function(e){e!==g&&m(e)}),m(i.pipScrollContainer||[]),null!=o.pipScrollParent&&f(angular.element(l.parent())),null!=o.pipScrolImmediateCheck&&(h=i.$eval(o.pipScrolImmediateCheck)),n(function(){if(h)return D()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",[]);e.directive("pipSelected",["$parse","$mdConstant","$timeout",function(e,t,n){return{restrict:"A",scope:!1,link:function(n,i,p){function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function o(e){var t=e.itemIndex,n=e.itemId,p=e.items||i.find(h+v),l=p.length,o=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=p.index(p.filter("[pip-id="+n+"]"))),t>=0&&t<l?p[t]:void 0)}(),c=e.raiseEvent;o&&(i.find(h).removeClass("selected md-focused"),o=angular.element(o).addClass("selected md-focused").focus(),g||a(o),c&&r(p))}function r(e){function t(){var t=angular.element(e[E]),l=t.attr("pip-id");s&&s(n,E),d&&d(n,l),f&&f(n,{$event:{target:i,item:t,index:E,id:l,newIndex:E,oldIndex:p}})}var p=E;E=-1;for(var l=0;l<e.length;l++)if($(e[l]).hasClass("selected")){E=l;break}p!=E&&E!==-1&&n.$apply(t)}function a(e){if(!g){var t=i.offset().top,n=i.height(),p=t+n,l=e.offset().top,o=e.outerHeight(!0),r=l+o,a=i.scrollTop();t>l?i.scrollTop(a+l-t):p<r&&i.scrollTop(a+r-p)}}var c=p.pipSelected?e(p.pipSelected):null,s=c?c.assign:null,u=p.pipSelectedId?e(p.pipSelectedId):null,d=u?u.assign:null,f=p.pipSelect?e(p.pipSelect):null,m=p.pipEnterSpacePress?e(p.pipEnterSpacePress):null,g=l(p.pipNoScroll),v=l(p.pipSkipHidden)?":visible":"",h=l(p.pipTreeList)?".pip-selectable-tree":".pip-selectable",E=c(n),S=i.attr("tabindex"),C=p.pipSelectedWatch;i.attr("tabindex",S||0),l(p.pipTreeList)?n.$watch(u,function(e){setTimeout(function(){o({itemId:e,raiseEvent:!0})},0)}):n.$watch(c,function(e){o({itemIndex:e})}),C&&n.$watch(C,function(){setTimeout(function(){E=c(n),o({itemIndex:E})},100)}),o({itemIndex:E,items:i.find(h)}),i.on("click touchstart",h,function(e){o({item:e.currentTarget,raiseEvent:!0})}),i.on("keydown",function(e){var p=e.which||e.keyCode;if(p==t.KEY_CODE.ENTER||p==t.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),m&&m(n,{$event:{target:i,index:E,item:i.find(".selected")}});else if(p==t.KEY_CODE.LEFT_ARROW||p==t.KEY_CODE.RIGHT_ARROW||p==t.KEY_CODE.UP_ARROW||p==t.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var l=i.find(h+v),r=p==t.KEY_CODE.RIGHT_ARROW||p==t.KEY_CODE.DOWN_ARROW?1:-1,a=E+r;o({itemIndex:a,items:l,raiseEvent:!0})}}),i.on("focusin",function(e){var t,p=i.find(h+".selected");p.addClass("md-focused"),0===p.length&&(E=c(n),t=i.find(h+v),o({itemIndex:E||0,items:t,raiseEvent:!0}))}),i.on("focusout",function(e){i.find(h+".md-focused"+v).removeClass("md-focused")})}}}])}(),function(e){"use strict";var t=e.module("pipTagList",["pipList.Translate"]);t.directive("pipTagList",["$parse",function(e){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tag_list/tag_list.html",controller:["$scope","$element","$attrs",function(t,n,i){function p(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}var l;l=e(i.pipTags),n.css("display","block"),t.tags=l(t),p(i.pipRebind)&&t.$watch(l,function(){t.tags=l(t)}),n.addClass("pip-tag-list")}]}}])}(window.angular);
!function(e){"use strict";e.module("pipDateTimes",["pipDate","pipDateRange","pipTimeRangeEdit","pipTimeRange","pipDatesUtils","pipDateFormat","pipDateTimeFilters"]),e.module("pipDateTimesControls",["pipDateTimes"])}(window.angular),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("date/date.html",'<div class="pip-date layout-row flex" tabindex="-1"><md-input-container class="tm0 flex"><md-select class="pip-date-day tm0 flex" ng-disabled="disableControls" ng-model="day" placeholder="{{dayLabel}}" ng-change="onDayChanged()"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{:: opt }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-month tm0 flex" ng-disabled="disableControls" ng-model="month" placeholder="{{monthLabel}}" ng-change="onMonthChanged()"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{:: opt.name }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-year tm0 flex" ng-disabled="disableControls" ng-model="year" placeholder="{{yearLabel}}" ng-change="onYearChanged()"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{:: opt }}</md-option></md-select></md-input-container></div>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("date_range/date_range.html",'<div class="pip-date-range layout-row flex" tabindex="-1"><md-input-container ng-show="isDay()" class="tm0 pip-day flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-day w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onDayClick()" ng-model="day" ng-change="onDayChanged()" placeholder="{{dayLabel}}" aria-label="DAY"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show="isWeek()" class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-week w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" ng-model="week" ng-change="onWeekChange()" placeholder="{{weekLabel}}" aria-label="WEEK"><md-option ng-value="opt.id" ng-repeat="opt in weeks track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isDay() || isWeek()"></div><md-input-container ng-show="isMonth() && !monthFormatShort" class="tm0 flex min-w72" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show="isMonth() && monthFormatShort" class="flex tm0" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in shortMonths track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isMonth()"></div><md-input-container class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-year w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onYearClick()" ng-model="year" ng-change="onYearChanged()" placeholder="{{yearLabel}}" aria-label="YEAR"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{ opt }}</md-option></md-select></md-input-container></div>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("time_range/time_range.html",'<p><span ng-if="data.start != null">{{data.start | formatShortDateTime}}</span> <span class="rm4 lm4" ng-if="data.start && data.end">-</span> <span ng-if="data.end != null">{{data.end | formatShortDateTime}}</span></p>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("time_range_edit/time_range_edit.html",'<div class="event-edit layout-row layout-xs-column flex layout-align-start-start"><div flex="47" class="w-stretch rm24-flex0"><p class="text-caption text-grey tm0">{{startLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container" flex="49"><md-datepicker ng-model="data.startDate" xmd-placeholder="{{startLabel}}" ng-change="onChangeStartDate()" ng-disabled="isDisabled()" aria-label="START-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="START-TIME" class="tm0 bm0" ng-model="data.startTime" ng-disabled="isDisabled()" ng-change="onChangeStartTime()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex="47" class="w-stretch"><p class="text-caption text-grey tm0">{{endLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container flex-49"><md-datepicker ng-model="data.endDate" xmd-placeholder="{{endLabel}}" ng-disabled="isDisabled()" ng-change="onChangeEndDate()" aria-label="END-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="END-TIME" class="tm0 bm0" ng-model="data.endTime" ng-change="onChangeEndTime()" ng-disabled="isDisabled()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>')}])}(),function(e,t){"use strict";var a=e.module("pipDate",["pipDates.Templates"]);a.directive("pipDate",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",ngChange:"&"},templateUrl:"date/date.html",controller:"pipDateController"}}),a.controller("pipDateController",["$scope","$element","pipTranslate",function(e,a,n){function r(e,t){var a,n=31,r=[];for(4===e||6===e||9===e||11===e?n=30:2===e&&(n=t&&t%4===0?29:28),a=1;a<=n;a++)r.push(a);return r}function i(){var e,t=[];for(e=1;e<=12;e++)t.push({id:e,name:n.translate("MONTH_"+e)});return t}function o(){var t,a=(new Date).getFullYear(),n="future"===e.timeMode?a:a-100,r="past"===e.timeMode?a:a+100,i=[];if("past"===e.timeMode)for(t=r;t>=n;t--)i.push(t);else for(t=n;t<=r;t++)i.push(t);return i}function l(){var t=r(e.month,e.year);e.days.length!==t.length&&(e.day>t.length&&(e.day=t.length),e.days=t)}function d(a){var n=a?t.isDate(a)?a:new Date(a):null,i=n?n.getDate():null,o=n?n.getMonth()+1:null,l=n?n.getFullYear():null;e.month!==o&&e.year!==l&&(e.days=r(e.month,e.year)),e.day=i,e.month=o,e.year=l}function u(){var t;e.day&&e.month&&e.year&&(t=new Date(e.year,e.month-1,e.day,0,0,0,0),e.model=t,e.ngChange())}var p;e.onDayChanged=function(){u()},e.onMonthChanged=function(){l(),u()},e.onYearChanged=function(){l(),u()},p=e.model?t.isDate(e.model)?e.model:new Date(e.model):null,e.day=p?p.getDate():null,e.month=p?p.getMonth()+1:null,e.year=p?p.getFullYear():null,e.dayLabel=n.translate("DAY"),e.monthLabel=n.translate("MONTH"),e.yearLabel=n.translate("YEAR"),e.days=r(e.month,e.year),e.months=i(),e.years=o(),e.disableControls=!!e.disabled&&e.disabled(),e.$watch("model",function(e){d(e)}),e.$watch(e.disabled,function(t){e.disableControls=t})}])}(window.angular,window._),function(e,t){"use strict";var a=e.module("pipDateRange",["pipDates.Templates"]);a.directive("pipDateRange",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",pipChanged:"&",pipDateRangeType:"@",pipDateFormat:"@",pipNoLine:"@"},templateUrl:"date_range/date_range.html",controller:"pipDateRangeController"}}),a.controller("pipDateRangeController",["$scope","$element","pipTranslate","$mdMedia","$rootScope",function(e,a,n,r,i){function o(){N.day=e.day,N.month=e.month,N.year=e.year,N.week=e.week,N.dateRangeType=e.pipDateRangeType,N.model=e.model}function l(){e.days=s(e.month,e.year),e.weeks=c(e.month,e.year),e.months=g(),e.shortMonths=g(!0),e.years=T()}function d(){(!w.model||w.model&&w.model.getTime()>=e.model.getTime())&&e.weeks&&e.weeks[e.week]&&e.weeks[e.week].id<=0&&(e.month<12?e.month+=1:(e.month=1,e.year+=1),l())}function u(){var t;t=e.model?new Date(e.model):null,e.day=t?t.getUTCDate():null,e.month=t?t.getUTCMonth()+1:null,e.year=t?t.getUTCFullYear():null,e.week=t?m(e.day,e.month-1,e.year):null,l(),"weekly"===e.pipDateRangeType?(d(),f()):M(),y()}function p(e,t){var a=31;return 4===e||6===e||9===e||11===e?a=30:2===e&&(a=t&&t%4===0?29:28),a}function s(t,a){var n,r,o,l;for(l=i.$language||"en",n=p(t,a),e.nameDays=[],r=[],o=1;o<=n;o++)r.push(o),e.nameDays.push(e.daysWeek[l][new Date(a,t-1,o).getDay()]);return r}function m(e,t,a){var n,r,i;return n=new Date(Date.UTC(a,t,e)),r=n.getUTCDay()?n.getUTCDay():7,i=1===r?e:e+1-r}function D(e,t,a){var n,r;return n=e+6>t?t-e-6:e+6,r=e>0?e:a+e,r.toString()+" - "+Math.abs(n).toString()}function c(e,t){var a,n,r,i;for(a=[],n=p(e,t),i=m(1,e-1,t),r=e-1?p(e-1,t):p(12,t-1);i<n+1;)a.push({id:i,name:D(i,n,r)}),i+=7;return a}function g(){var e,t;for(e=[],t=1;t<=12;t++)e.push({id:t,name:n.translate("MONTH_"+t)});return e}function T(){var t,a,n,r=[];switch(e.timeMode){case"future":t=E,n=E+100;break;case"past":t=E-100,n=E;break;case"now":t=E-50,n=E+100;break;default:t=E-50,n=E+50}if("future"===e.timeMode)for(a=t;a<=n;a++)r.push(a);else for(a=n;a>=t;a--)r.push(a);return r}function M(){var t=s(e.month,e.year);switch(e.pipDateRangeType){case"monthly":e.day=1;break;case"yearly":e.month=1,e.day=1;break;default:e.days.length!==t.length&&e.day>t.length&&(e.day=t.length)}e.days=t}function f(){var t;t=c(e.month,e.year),e.week=m(e.week,e.month-1,e.year),e.weeks=t}function h(t){var a,n,r,i,o;a=t?new Date(t):null,n=a?a.getUTCDate():null,r=a?a.getUTCMonth()+1:null,i=a?a.getUTCFullYear():null,o=a?m(n,r-1,i):null,e.day===n&&e.month===r&&e.year===i&&e.week===o||(e.day=n,e.month=r,e.year=i,e.week=o,e.days=s(e.month,e.year),e.weeks=c(e.month,e.year))}function y(){var a;"weekly"===e.pipDateRangeType?(a=new Date(e.year,e.month-1,e.week,0,0,0,0),a=new Date(a.getTime()-6e4*a.getTimezoneOffset()),e.model=a):(a=new Date(e.year,e.month-1,e.day,0,0,0,0),a=new Date(a.getTime()-6e4*a.getTimezoneOffset()),e.model=a),w=t.cloneDeep(N),o(),e.onChange()}var _,E,S,O,w={},N={};_=new Date,E=_.getUTCFullYear(),S=_.getUTCMonth()+1,O=_.getUTCDate(),e.daysWeek={en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},e.onDayChanged=function(){y()},e.onMonthChanged=function(){if("weekly"===e.pipDateRangeType){var t,a;t=new Date(Date.UTC(e.year,e.month-1,1)),a=t.getUTCDay()?t.getUTCDay():7,e.week=m(a,e.month-1,e.year),d(),f()}else M();y()},e.onYearChanged=function(){var t,a;t=new Date(Date.UTC(e.year,e.month-1,1)),a=t.getUTCDay()?t.getUTCDay():7,"weekly"===e.pipDateRangeType?(e.week=m(a,e.month-1,e.year),f(),d()):M(),y()},e.onWeekChange=function(){"weekly"===e.pipDateRangeType?(f(),d()):M(),y()},e.isDay=function(){return"daily"===e.pipDateRangeType},e.isWeek=function(){return"weekly"===e.pipDateRangeType},e.isMonth=function(){return"daily"===e.pipDateRangeType||"weekly"===e.pipDateRangeType||"monthly"===e.pipDateRangeType},e.onChange=function(){e.pipChanged&&e.pipChanged()},e.$mdMedia=r,u(),e.disableControls=!!e.disabled&&e.disabled(),e.$watch("model",function(e,t){e!==t&&h(e)}),e.$watch(e.disabled,function(t){e.disableControls=t}),e.$watch("pipDateRangeType",function(e,t){e!==t&&t&&u()}),e.onYearClick=function(){e.year||(e.year=E)},e.onMonthClick=function(){e.month||(e.month=S)},e.onDayClick=function(){e.year||(e.day=O)}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipDateTimeFilters",["pipDateFormat"]);e.filter("formatDate",["pipDateFormat",function(e){return function(t,a){return e.formatDate(t,a)}}]),e.filter("formatLongDate",["pipDateFormat",function(e){return function(t){return e.formatLongDate(t)}}]),e.filter("formatLongDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatLongDateWithYear(t)}}]),e.filter("formatMonth",["pipDateFormat",function(e){return function(t,a){return e.formatMonth(t,a)}}]),e.filter("formatShortDate",["pipDateFormat",function(e){return function(t){return e.formatShortDate(t)}}]),e.filter("formatShortDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatShortDateWithYear(t)}}]),e.filter("formatLongMonth",["pipDateFormat",function(e){return function(t){return e.formatLongMonth(t)}}]),e.filter("formatYear",["pipDateFormat",function(e){return function(t){return e.formatYear(t)}}]),e.filter("formatShortWeek",["pipDateFormat",function(e){return function(t){return e.formatShortWeek(t)}}]),e.filter("formatTime",["pipDateFormat",function(e){return function(t,a){return e.formatTime(t,a)}}]),e.filter("formatLongTime",["pipDateFormat",function(e){return function(t){return e.formatLongTime(t)}}]),e.filter("formatShortTime",["pipDateFormat",function(e){return function(t){return e.formatShortTime(t)}}]),e.filter("formatLongDateTime",["pipDateFormat",function(e){return function(t){return e.formatLongDateTime(t)}}]),e.filter("formatShortDateTime",["pipDateFormat",function(e){return function(t){return e.formatShortDateTime(t)}}]),e.filter("formatElapsedInterval",["pipDateFormat",function(e){return function(t){return e.formatElapsedInterval(t)}}]),e.filter("formatElapsedTime",["pipDateFormat",function(e){return function(t){return e.formatElapsedTime(t)}}]),e.filter("formatMillisecondsToSeconds",["pipDateFormat",function(e){return function(t){return e.formatMillisecondsToSeconds(t)}}]),e.filter("formatDateRange",["pipDateFormat",function(e){return function(t,a){return e.formatDateRange(t,a)}}]),e.filter("formatDateTimeRange",["pipDateFormat",function(e){return function(t,a){return e.formatDateTimeRange(t,a)}}])}(),function(){"use strict";var e=angular.module("pipDateFormat",["pipUtils","pipTranslate"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{MONTH_1:"January",MONTH_2:"February",MONTH_3:"March",MONTH_4:"April",MONTH_5:"May",MONTH_6:"June",MONTH_7:"July",MONTH_8:"August",MONTH_9:"September",MONTH_10:"October",MONTH_11:"November",MONTH_12:"December",MONTH_LONG_1:"January",MONTH_LONG_2:"February",MONTH_LONG_3:"March",MONTH_LONG_4:"April",MONTH_LONG_5:"May",MONTH_LONG_6:"June",MONTH_LONG_7:"July",MONTH_LONG_8:"August",MONTH_LONG_9:"September",MONTH_LONG_10:"October",MONTH_LONG_11:"November",MONTH_LONG_12:"December",MONTH_SHORT_1:"Jan",MONTH_SHORT_2:"Feb",MONTH_SHORT_3:"Mar",MONTH_SHORT_4:"Apr",MONTH_SHORT_5:"May",MONTH_SHORT_6:"Jun",MONTH_SHORT_7:"Jul",MONTH_SHORT_8:"Aug",MONTH_SHORT_9:"Sep",MONTH_SHORT_10:"Oct",MONTH_SHORT_11:"Nov",MONTH_SHORT_12:"Dec",DAY_1:"Monday",DAY_2:"Tuesday",DAY_3:"Wednesday",DAY_4:"Thursday",DAY_5:"Friday",DAY_6:"Saturday",DAY_7:"Sunday",ELAPSED_TODAY:"Today",ELAPSED_YESTERDAY:"Yesterday",ELAPSED_YEARS:"y",ELAPSED_MONTHS:"mth",ELAPSED_WEEKS:"w",ELAPSED_DAYS:"d",ELAPSED_HOURS:"h",ELAPSED_MINUTES:"m",ELAPSED_SECONDS:"s",ELAPSED_AT:"at",ELAPSED_AGO:"ago",ELAPSED_JUST_NOW:"Just now",ELAPSED_FEW_MIN_AGO:"Few min ago",ELAPSED_MIN_AGO:"min ago",ELAPSED_HOUR_AGO:"hour ago",ELAPSED_HOURS_AGO:"hours ago",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"hours ago"}),e.translations("ru",{MONTH_1:"январь",MONTH_2:"февраль",MONTH_3:"март",MONTH_4:"апрель",MONTH_5:"май",MONTH_6:"июнь",MONTH_7:"июль",MONTH_8:"август",MONTH_9:"сентябрь",MONTH_10:"октябрь",MONTH_11:"ноябрь",MONTH_12:"декабрь",MONTH_LONG_1:"января",MONTH_LONG_2:"февраля",MONTH_LONG_3:"марта",MONTH_LONG_4:"апреля",MONTH_LONG_5:"мая",MONTH_LONG_6:"июня",MONTH_LONG_7:"июля",MONTH_LONG_8:"августа",MONTH_LONG_9:"сентября",MONTH_LONG_10:"октября",MONTH_LONG_11:"ноября",MONTH_LONG_12:"декабря",MONTH_SHORT_1:"янв",MONTH_SHORT_2:"фев",MONTH_SHORT_3:"мар",MONTH_SHORT_4:"апр",MONTH_SHORT_5:"май",MONTH_SHORT_6:"июн",MONTH_SHORT_7:"июл",MONTH_SHORT_8:"авг",MONTH_SHORT_9:"сен",MONTH_SHORT_10:"окт",MONTH_SHORT_11:"ноя",MONTH_SHORT_12:"дек",DAY_1:"понедельник",DAY_2:"вторник",DAY_3:"среда",DAY_4:"четверг",DAY_5:"пятница",DAY_6:"суббота",DAY_7:"воскресенье",ELAPSED_TODAY:"Сегодня",ELAPSED_YESTERDAY:"Вчера",ELAPSED_YEARS:"г",ELAPSED_MONTHS:"мц",ELAPSED_WEEKS:"н",ELAPSED_DAYS:"д",ELAPSED_HOURS:"ч",ELAPSED_MINUTES:"м",ELAPSED_SECONDS:"с",ELAPSED_AT:"в",ELAPSED_AGO:"тн",ELAPSED_JUST_NOW:"Только что",ELAPSED_FEW_MIN_AGO:"Несколько мин тн",ELAPSED_MIN_AGO:"мин тн",ELAPSED_HOUR_AGO:"час тн",ELAPSED_HOURS_AGO:"часа тн",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"часов тн"})}]),e.factory("pipDateFormat",["pipDates","pipTranslate","$rootScope",function(e,t,a){function n(e){return e<10?"0"+e:e}function r(n,r,i){if(null==n)return"";var o=i||!1,n=_.isDate(n)?n:new Date(n),l=(new Date).getUTCFullYear(),d=n.getUTCFullYear(),u=n.getUTCMonth(),p=t.translate("MONTH_LONG_"+(u+1)),s=t.translate("MONTH_SHORT_"+(u+1)),m=t.translate("MONTH_"+(u+1)),D=n.getUTCDate(),c=e.toStartWeek(n),g=e.toEndWeek(n,-1);return 0==o&&"d MMMM yyyy"==r&&l===d&&(r="MMMM d"),0==o&&"d MMM yyyy"==r&&l===d&&(r="MMM d"),"MMM d"==r&&"ru"==a.$language&&(r="d MMM"),"MMMM d"==r&&"ru"==a.$language&&(r="d MMMM"),"d MMMM yyyy"==r?""+D+" "+p+" "+d:"MMMM d, yyyy"==r?""+m+" "+D+", "+d:"d MMM yyyy"==r?""+D+" "+s+" "+d:"MMM d, yyyy"==r?""+s+" "+D+", "+d:"d MMMM"==r?""+D+" "+p:"d MMM"==r?""+D+" "+s:"MMM d"==r?""+s+" "+D:"MMMM d"==r?""+p+" "+D:"yyyy/M/d"==r?""+d+"/"+u+"/"+D:"yyy-M-d"==r?""+d+"-"+u+"-"+D:"MMMM"==r?""+p+" "+d:"yyyy"==r?""+d:"ww"==r?""+c.getUTCDate()+" - "+g.getUTCDate()+" "+m+" "+d:""+D+" "+m+" "+d}function i(e){return r(e,"d MMMM yyyy")}function o(e){return r(e,"d MMM yyyy",!0)}function l(e){return r(e,"d MMMM yyyy",!0)}function d(e){return r(e,"d MMM yyyy")}function u(e){return r(e,"MMMM")}function p(e){return r(e,"yyyy")}function s(e){return r(e,"ww")}function m(e){return r(e,"d MMM")}function D(e){return"ru"==a.$language?r(e,"d MMMM"):r(e,"MMMM d")}function c(e,t){return e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e?"ru"==a.$language?r(t,"d MMM yyyy",!0):r(t,"MMM d, yyyy",!0):null==t||e==t?"ru"==a.$language?r(e,"d MMM yyyy",!0):r(e,"MMM d, yyyy",!0):e.getUTCFullYear()!==t.getUTCFullYear()?"ru"==a.$language?r(e,"d MMM yyyy",!0)+"-"+r(t,"d MMM yyyy",!0):r(e,"MMM d, yyyy",!0)+"-"+r(t,"MMM d, yyyy",!0):r(e,"d MMM")+" - "+r(t,"d MMM")+((new Date).getUTCFullYear()!==e.getUTCFullYear()?" "+r(e,"yyyy"):"")}function g(e,t){if(e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e&&null==t)return"";if(null==e)return E(t);if(null==t||e==t)return E(e);var a,n,i,o,l,d;return a=e.getUTCDate(),n=e.getUTCMonth(),i=e.getUTCFullYear(),o=t.getUTCDate(),l=t.getUTCMonth(),d=t.getUTCFullYear(),i!==d?r(e,"d MMM")+", "+i+" "+T(e,"hh:mm")+" - "+r(t,"d MMM")+", "+d+" "+T(t,"hh:mm"):n!=l&&!a!=o?r(e,"d MMM")+", "+T(e,"hh:mm")+" - "+r(t,"d MMM")+", "+T(t,"hh:mm"):T(e,"hh:mm")+" - "+T(t,"hh:mm")}function T(e,a){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var r=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),l="";return"en"==t.use()&&(l=r>=12?" PM":" AM",r%=12,0==r&&(r=12)),"hh:mm:ss"==a?""+n(r)+":"+n(i)+":"+n(o)+l:"hh:mm"==a?""+n(r)+":"+n(i)+l:""+n(r)+":"+n(i)+":"+n(o)+l}function M(e,a){return null==e?"":a?t.translate("MONTH_SHORT_"+e):t.translate("MONTH_"+e)}function f(e){return T(e,"hh:mm:ss")}function h(e){return T(e,"hh:mm")}function y(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),i(e)+" "+f(e))}function E(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),d(e)+" "+h(e))}function S(e,a){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var n=new Date,i=Math.floor((n.getTime()+n.getTimezoneOffset()-(e.getTime()+e.getTimezoneOffset()))/1e3);if(i<1)return t.translate("ELAPSED_JUST_NOW");var o,l,d,u,p,s,m;if(m=i%60,i=Math.floor(i/60),s=i%60,i=Math.floor(i/60),p=i%24,i/=24,o=Math.floor(i/365),i-=365*o,l=Math.floor(i/30),u=Math.floor(i-30*l),u%7==0?(d=Math.floor(u/7),u=0):d=0,"interval"==a){var D="";return o&&(D+=" "+o+t.translate("ELAPSED_YEARS"),d=u=p=s=m=null),l&&(D+=" "+l+t.translate("ELAPSED_MONTHS"),u=p=s=m=null),d&&(D+=" "+d+t.translate("ELAPSED_WEEKS"),p=s=m=null),u&&(D+=" "+u+t.translate("ELAPSED_DAYS"),s=m=null),p&&(D+=" "+p+t.translate("ELAPSED_HOURS"),m=null),s&&(D+=" "+s+t.translate("ELAPSED_MINUTES")),m&&(D+=" "+m+t.translate("ELAPSED_SECONDS")),""!=D?D+" "+t.translate("ELAPSED_AGO"):t.translate("ELAPSED_JUST_NOW")}return o>0?r(e,"d MMM yyyy"):l>0||d>0||u>1?r(e,"MMM d")+", "+T(e,"hh:mm"):1==u?t.translate("ELAPSED_YESTERDAY")+", "+T(e,"hh:mm"):p>10?t.translate("ELAPSED_TODAY")+", "+T(e,"hh:mm"):p>0?""+p+" "+(p<2?t.translate("ELAPSED_HOUR_AGO"):p<5?t.translate("ELAPSED_HOURS_AGO"):t.translate("ELAPSED_HOURS_AGO_MORE_THAN_FIVE")):s>10?""+s+" "+t.translate("ELAPSED_MIN_AGO"):s>0?t.translate("ELAPSED_FEW_MIN_AGO"):t.translate("ELAPSED_JUST_NOW")}function O(e){return S(e,"interval")}function w(e){return Math.floor(e/1e3)}return{formatDate:r,formatLongDate:i,formatShortDate:d,formatShortDateWithYear:o,formatLongDateWithYear:l,formatLongMonth:u,formatMonth:M,formatYear:p,formatShortWeek:s,formatShortDayAndMonth:m,formatLongDayAndMonth:D,formatDateRange:c,formatDateTimeRange:g,formatTime:T,formatLongTime:f,formatShortTime:h,formatLongDateTime:y,formatShortDateTime:E,formatElapsedTime:S,formatElapsedInterval:O,formatMillisecondsToSeconds:w}}])}(),function(e,t){"use strict";var a=e.module("pipTimeRange",[]);a.directive("pipTimeRange",["pipUtils",function(e){return{restrict:"EA",scope:{pipStartDate:"=",pipEndDate:"="},templateUrl:"time_range/time_range.html",link:function(e,a,n){function r(e){return e?new Date(e):null}function i(){null!==e.pipStartDate&&void 0!==e.pipStartDate&&(e.data.start=t.isDate(e.pipStartDate)?e.pipStartDate:r(e.pipStartDate))}function o(){null!==e.pipEndDate&&void 0!==e.pipEndDate&&(e.data.end=t.isDate(e.pipEndDate)?e.pipEndDate:r(e.pipEndDate))}function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}e.data={},e.data.start=null,e.data.end=null,i(),o(),l(n.pipRebind)&&(e.$watch("pipStartDate",function(){e.data.start=null,i()}),e.$watch("pipEndDate",function(){e.data.end=null,o()})),a.addClass("pip-time-range")}}}])}(window.angular,window._),function(e,t){"use strict";var a=e.module("pipTimeRangeEdit",["pipDateUtils","pipTranslate"]);a.directive("pipTimeRangeEdit",function(){return{restrict:"EA",scope:{pipStartDate:"=",pipChanged:"&",pipEndDate:"=",pipStartLabel:"@",pipEndLabel:"@",disabled:"&ngDisabled",pipSize:"="},templateUrl:"time_range_edit/time_range_edit.html",controller:"pipTimeRangeEditController"}}),a.controller("pipTimeRangeEditController",["$scope","$element","$attrs","pipDates","pipTranslate",function(e,a,n,r,i){function o(e){return e?new Date(e):null}function l(){var t,a;return e.data.startDate&&e.data.endDate?(t=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),a=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a-t):null}function d(){var t,a,n;return e.data.startDate?(e.data.startTime||(e.data.endTime?e.data.startTime=0===e.data.endTime?0:e.data.endTime-30:(t=new Date,t=t.getTime()-r.toStartDay(t),e.data.startTime=30*Math.floor(t/18e5))),e.data.endDate?(a=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),void(e.data.duration?(n=new Date(a.getTime()+e.data.duration),e.data.endDate=r.toStartDay(n),n=n.getTime()-e.data.endDate.getTime(),e.data.endTime=30*Math.floor(n/18e5)):(n=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a>=n&&(e.data.endDate=r.toStartDay(new Date(a.getTime()+18e5)),e.data.endTime=(e.data.startTime+30)%1440)))):void(e.data.endTime=null)):void(e.data.startTime=null)}function u(){var t,a,n;return e.data.endDate?(e.data.endTime||(e.data.startTime?e.data.endTime=1410===e.data.startTime?1410:e.data.startTime+30:(t=new Date,t=t.getTime()-r.toStartDay(t),e.data.endTime=30*Math.floor(t/18e5))),e.data.startDate?(a=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),n=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a>=n&&(e.data.startDate=r.toStartDay(new Date(n.getTime()-18e5)),e.data.startTime=e.data.endTime%1440===0?1410:e.data.endTime-30),void(e.data.duration=l())):void(e.data.startTime=null)):void(e.data.endTime=null)}function p(){var t;e.data.bind=!1,e.data.startDate&&(t=e.data.startTime?60*e.data.startTime*1e3:0,e.pipStartDate=new Date(e.data.startDate.getTime()+t)),e.data.endDate&&(t=e.data.endTime?60*e.data.endTime*1e3:0,e.pipEndDate=new Date(e.data.endDate.getTime()+t)),e.data.bind=!0}function s(){var a,n;null!==e.pipStartDate&&void 0!==e.pipStartDate&&(a=t.isDate(e.pipStartDate)?e.pipStartDate:null,a||(a=o(e.pipStartDate)),e.data.startDate=r.toStartDay(a),e.data.startTime=(new Date(a)-e.data.startDate)/6e4),null!==e.pipEndDate&&void 0!==e.pipEndDate&&(n=t.isDate(e.pipEndDate)?e.pipEndDate:null,a||(n=o(e.pipEndDate)),e.data.endDate=r.toStartDay(n),e.data.endTime=(new Date(n)-e.data.endDate)/6e4),d(),e.data.duration=l(),p()}function m(){var e,a,n,r;for(e=[],a=0;a<24;a++)for(n=0;n<2;n++)r=30*n,e.push({id:60*a+r,time:t.pad(a.toString(),3,"0").substr(0,2)+":"+t.pad(r.toString(),2,"0")});return e}function D(){e.data.startDate=null,e.data.startTime=null,e.data.endDate=null,e.data.endTime=null,e.data.duration=null}e.intervalTimeCollection=m(),e.data={},e.startLabel=e.pipStartLabel?i.translate(e.pipStartLabel):i.translate("EVENT_NEW_START_TIME"),e.endLabel=e.pipEndLabel?i.translate(e.pipEndLabel):i.translate("EVENT_NEW_END_TIME"),D(),s(),e.onChangeStartDate=function(){d(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeEndDate=function(){u(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeStartTime=function(){e.data.startDate||(e.data.startDate=r.toStartDay(new Date)),d(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeEndTime=function(){e.data.endDate||(e.data.endDate=r.toStartDay(new Date)),u(),e.data.duration=l(),p(),e.pipChanged()},e.isDisabled=function(){return!!e.disabled&&e.disabled()},e.$watchGroup([e.pipStartDate,e.pipEndDate],function(){e.data.bind&&(D(),s())}),e.$watch(e.disabled,function(t){e.disableControls=t}),a.addClass("pip-time-range-edit")}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipDatesUtils",[]);e.factory("pipDates",function(){var e={};return e.addHours=function(e,t){e=_.isDate(e)?e:new Date(e);var a=e.getTime()+36e5*t;return new Date(a)},e.toStartDay=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.toEndDay=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return new Date(a.getTime()+864e5+t)},e.toStartWeek=function(e){e=_.isDate(e)?e:new Date(e);var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()-24*(t-1)*36e5)},e.toEndWeek=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var a=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()+24*(8-a)*36e5+t)},e.toStartMonth=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),1)},e.toEndMonth=function(e,t){e=_.isDate(e)?e:new Date(e);var a=e.getMonth()+1,n=e.getFullYear();return a>11&&(n++,a=0),e=new Date(n,a,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toStartYear=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),0,1)},e.toEndYear=function(e,t){return e=_.isDate(e)?e:new Date(e),e=new Date(e.getFullYear()+1,0,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toUTCDate=function(e,t,a){return new Date(Date.UTC(e,t,a))},e.toUTCDate=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.fromUTCDate=function(e){return null==e&&(e=new Date),new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},e.toUTCStartWeek=function(e){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())));var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=1!=t?new Date(e.getTime()-24*(t-1)*36e5):e,new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.toUTCEndWeek=function(e,t){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))),t=null!=t?t:0;var a=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=new Date(e.getTime()+24*(8-a)*36e5+t),new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e})}();
!function(t){"use strict";t.module("pipDialogs",["pipInformationDialog","pipConfirmationDialog","pipOptionsDialog","pipOptionsBigDialog","pipErrorDetailsDialog"])}(window.angular),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("confirmation/confirmation.html",'<md-dialog class="pip-dialog pip-confirmation-dialog layout-column" width="400" md-theme="{{::theme}}"><div class="pip-header"><h3>{{:: title}}</h3></div><div class="pip-footer"><div><md-button ng-click="onCancel()">{{:: cancel}}</md-button><md-button class="md-accent" ng-click="onOk()">{{:: ok}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("error_details/error_details.html",'<md-dialog class="pip-dialog pip-error-details-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-body"><div class="pip-header"><h3>{{::errorDetails | translate}}</h3></div><div class="layout-row layout-align-start-center error-section text-body2 color-secondary-text" ng-if="error.code || (error.data && error.data.code)">{{::errorCode | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.code || (error.data && error.data.code)">{{error.code || error.data.code}}</div><div class="layout-row layout-align-start-center error-section text-body2 color-secondary-text" ng-if="error.path || (error.data && error.data.path)">{{::errorPath | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.path || (error.data && error.data.path)">{{error.path || error.data.path}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{::errorText | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.error || (error.data && error.data.error)">{{error.error || error.data.error}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{::errorMethod | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.method || (error.data && error.data.method)">{{error.method || error.data.method}}</div><div class="error-section text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{::errorMessage | translate}}</div><div class="layout-row layout-align-start-center text-subhead1" ng-if="error.message || (error.data && error.data.message)">{{error.message || error.data.message}}</div></div><div class="pip-footer"><div><md-button class="md-accent m0" ng-click="onOk()">{{::dismissButton | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("information/information.html",'<md-dialog class="pip-dialog pip-information-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-header"><h3>{{ title | translate }}</h3></div><div class="pip-body"><div class="pip-content">{{ content }}</div></div><div class="pip-footer"><div><md-button class="md-accent" ng-click="onOk()">{{ ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options.html",'<md-dialog class="pip-dialog pip-options-dialog layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 tp0 rp0 bp24 pip-scroll"><div class="pip-header"><h3>{{::title | translate}}</h3><div ng-show="deletedTitle" class="header-option text-subhead1 divider-bottom"><md-checkbox ng-model="deleted" aria-label="CHECKBOX">{{::deletedTitle | translate}}</md-checkbox></div></div><div class="pip-content"><md-radio-group ng-model="selectedOptionName" class="pip-list md-primary" md-no-ink="true" ng-keypress="onKeyPress($event)" tabindex="0"><div ng-repeat="option in options" class="pip-list-item" md-ink-ripple="" ui-event="{ click: \'onOptionSelect($event, option)\' }" ng-class="{ selected: option.name == selectedOptionName }"><div class="pip-list-item item-padding"><md-icon class="pip-option-icon" md-svg-icon="icons:{{option.icon}}" ng-if="option.icon"></md-icon><div class="pip-option-title">{{::option.title | translate}}</div><md-radio-button ng-value="option.name" tabindex="-1" aria-label="{{::option.title | translate}}"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class="pip-footer"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options_big.html",'<md-dialog class="pip-dialog pip-options-dialog-big layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body pip-scroll" ng-class="{\'bp24\': !noActions}"><div class="pip-header" ng-class="{\'header-hint\': noTitle && hint}"><h3 class="m0" ng-if="!noTitle">{{::title | translate}}</h3><div ng-show="noTitle && hint" class="dialog-hint layout-row layout-align-start-center"><div class="hint-icon-container flex-fixed"><md-icon md-svg-icon="icons:info-circle-outline"></md-icon></div><div>{{::hint | translate}}</div></div></div><div class="content-divider" ng-if="!noTitle"></div><div class="pip-content"><div class="spacer8" ng-if="noTitle && hint"></div><md-list class="pip-menu pip-ref-list" pip-selected="optionIndex" index="{{optionIndex }}" pip-select="onSelected($event)"><md-list-item class="pip-ref-list-item pip-selectable layout-row layout-align-start-center" ng-class="{\'selected md-focused\' : option.name == selectedOptionName, \'divider-bottom\': $index != options.length - 1}" md-ink-ripple="" ng-keyup="onKeyUp($event, $index)" ng-repeat="option in options"><div class="pip-content content-stretch" ng-click="onOptionSelect($event, option)"><p class="pip-title spacer-right" ng-if="option.title" style="margin-bottom: 4px !important;">{{::option.title | translate}}</p><div class="pip-subtitle spacer-right" style="height: inherit" ng-if="option.subtitle">{{::option.subtitle | translate}}</div><div class="pip-subtitle spacer-right" style="height: inherit" ng-if="option.text" ng-bind-html="option.text | translate"></div></div></md-list-item></md-list></div><div class="spacer8" ng-if="noActions"></div></md-dialog-content><div class="pip-footer" ng-if="!noActions"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()" style="margin-right: -6px">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){"use strict";var e=t.module("pipConfirmationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);e.factory("pipConfirmationDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"confirmation/confirmation.html",controller:"pipConfirmationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),e.controller("pipConfirmationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{CONFIRM_TITLE:"Confirm"}),a.translations("ru",{CONFIRM_TITLE:"Подтвердите"}),t.title=n.title||"CONFIRM_TITLE",t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL"):(t.title=n.title||"Confirm",t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel"),t.theme=e.$theme,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(){"use strict";var t=angular.module("pipDialogs.Translate",[]);t.filter("translate",["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}])}(),function(t){"use strict";var e=t.module("pipErrorDetailsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);e.factory("pipErrorDetailsDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"error_details/error_details.html",controller:"pipErrorDetailsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),e.controller("pipErrorDetailsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{ERROR_DETAILS:"Error details",CODE:"Error code",PATH:"Path",ERROR:"Error",METHOD:"Method",MESSAGE:"Message",DISMISS:"Dismiss"}),a.translations("ru",{ERROR_DETAILS:"Детали ошибки",CODE:"Код ошибки",PATH:"Путь",ERROR:"Ошибка",METHOD:"Метод",MESSAGE:"Сообщение"}),t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL",t.errorDetails="ERROR_DETAILS",t.dismissButton="DISMISS",t.errorMessage="MESSAGE",t.errorCode="CODE",t.errorMethod="METHOD",t.errorPath="PATH",t.errorText="ERROR"):(t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel",t.errorDetails="Error details",t.dismissButton="Dismiss",t.errorMessage="Message",t.errorCode="Code",t.errorMethod="Method",t.errorPath="Path",t.error="Error"),t.theme=e.$theme,t.error=n.error,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(t,e){"use strict";var o=t.module("pipInformationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);o.factory("pipInformationDialog",["$mdDialog",function(t){return{show:function(e,o){t.show({targetEvent:e.event,templateUrl:"information/information.html",controller:"pipInformationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()})}}}]),o.controller("pipInformationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,o,i,n,a){var r,l=a.message,s=n.has("pipTranslate")?n.get("pipTranslate"):null;s?(s.translations("en",{INFORMATION_TITLE:"Information"}),s.translations("ru",{INFORMATION_TITLE:"Информация"}),t.title=a.title||"INFORMATION_TITLE",t.ok=a.ok||"OK",l=s.translate(l)):(t.title=a.title||"Information",t.ok=a.ok||"OK");var p=n.has("pipFormat")?n.get("pipFormat"):null;t.theme=o.$theme,a.item&&p&&(r=e.truncate(a.item,25),l=p.sprintf(l,r),console.log("content2",l)),t.content=l,t.onOk=function(){i.hide()}}])}(window.angular,window._),function(t,e,o){"use strict";var i=t.module("pipOptionsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);i.factory("pipOptionsDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options.html",controller:"pipOptionsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),i.controller("pipOptionsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,i,n,a,r){function l(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}var s=a.has("pipTranslate")?a.get("pipTranslate"):null;s?(s.translations("en",{OPTIONS_TITLE:"Choose Option"}),s.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=r.title||"OPTIONS_TITLE",t.applyButtonTitle=r.appleButtonTitle||"SELECT"):(t.title=r.title||"Choose Option",t.applyButtonTitle=r.appleButtonTitle||"Select"),t.theme=i.$theme,t.options=r.options,t.selectedOption=o.find(r.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.deleted=r.deleted,t.deletedTitle=r.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name},t.onKeyPress=function(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.onSelect())},t.onCancel=function(){n.cancel()},t.onSelect=function(){var e;e=o.find(r.options,{name:t.selectedOptionName}),n.hide({option:e,deleted:t.deleted})},setTimeout(l,500)}])}(window.angular,window.jQuery,window._),function(t,e,o){"use strict";var i=t.module("pipOptionsBigDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);i.factory("pipOptionsBigDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options_big.html",controller:"pipOptionsDialogBigController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),i.controller("pipOptionsDialogBigController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,i,n,a,r){function l(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}var s=a.has("pipTranslate")?a.get("pipTranslate"):null;s?(s.translations("en",{OPTIONS_TITLE:"Choose Option"}),s.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=r.title||"OPTIONS_TITLE",t.applyButtonTitle=r.applyButtonTitle||"SELECT"):(t.title=r.title||"Choose Option",t.applyButtonTitle=r.applyButtonTitle||"Select"),t.theme=i.$theme,t.options=r.options,t.noActions=r.noActions||!1,t.noTitle=r.noTitle||!1,t.hint=r.hint||"",t.selectedOption=o.find(r.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.optionIndex=o.findIndex(r.options,t.selectedOption),t.deleted=r.deleted,t.deletedTitle=r.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name,t.noActions&&t.onSelect()},t.onSelected=function(){t.selectedOptionName=t.options[t.optionIndex].name,t.noActions},t.onKeyUp=function(e,o){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),void 0!==o&&o>-1&&o<t.options.length&&(t.selectedOptionName=t.options[o].name,t.onSelect()))},t.onCancel=function(){n.cancel()},t.onSelect=function(){var e;e=o.find(t.options,{name:t.selectedOptionName}),n.hide({option:e,deleted:t.deleted})},setTimeout(l,500)}])}(window.angular,window.jQuery,window._);
!function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav"])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/primary_actions.html",'<md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" class="pip-primary-actions" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-primary-actions-action md-icon-button" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/secondary_actions.html",'<md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset" ng-class="config.ngClasses" class="{{ config.cssClass }}" ng-transclude=""></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("breadcrumb/breadcrumb.html",'<div><div class="hide-xs text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span><span class="pip-breadcrumb-item" ng-repeat-start="item in config.items" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.items.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.text | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span> {{config.text | translate}}</span><md-icon class="pip-triangle-down" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.items"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("language_picker/language_picker.html",'<md-menu md-position-mode="target-right target"><span class="pip-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-toolbar class="md-subhead color-primary-bg {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_header/nav_header.html",'<md-toolbar md-theme="{{ $theme }}" ng-hide="!user"><md-button class="pip-nav-header-user md-icon-button" ng-click="onUserClick()" aria-label="current user"></md-button><div class="pip-nav-header-user-text"><a class="pip-nav-header-user-pri cursor-pointer" ng-click="onUserClick()">{{ getUser(\'fullName\') }}</a><div class="pip-nav-header-user-sec">{{ getUser(\'details\') | translate }}</div></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_icon/nav_icon.html",'<md-button class="md-icon-button pip-nav-icon" ng-if="config.type != \'none\'" ng-class="config.class" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.type==\'menu\'" md-svg-icon="icons:menu"></md-icon><img ng-src="{{config.imageUrl}}" ng-if="config.type==\'image\'" height="24" width="24"><md-icon ng-if="config.type==\'back\'" md-svg-icon="icons:arrow-left"></md-icon><md-icon ng-if="config.type==\'icon\'" md-svg-icon="icons:{{config.iconName}}"></md-icon></md-button>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_menu/nav_menu.html",'<md-list><div class="pip-section" ng-repeat="section in config" ng-hide="section.access && !section.access(section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("search_bar/search_bar.html",'<div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div><div class="md-toolbar-tools layout-row layout-align-end-center" ng-if="!searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchEnable()"><md-icon md-svg-icon="icons:search"></md-icon></md-button></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused="" ng-transclude=""></md-sidenav>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><md-content class="md-subhead color-primary-bg md-hue-1" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></md-content></md-toolbar>')}])}(),function(n,e){"use strict";var t=n.module("pipActions.Service",[]);t.provider("pipActions",function(){function n(n,e){a.primaryGlobalActions=n||[],a.secondaryGlobalActions=e||[]}function t(n){a.primaryGlobalActions=n||[]}function i(n){a.secondaryGlobalActions=n||[]}var a={primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.globalActions=n,this.globalPrimaryActions=t,this.globalSecondaryActions=i,this.$get=["$rootScope",function(n){function t(){return a}function i(){a.primaryLocalActions=[],a.secondaryLocalActions=[],r()}function o(n,e){a.primaryLocalActions=n||[],a.secondaryLocalActions=e||[],r()}function c(n,t){e.each(a.primaryGlobalActions,function(e){e.name===n&&(e.count=t)}),e.each(a.primaryLocalActions,function(e){e.name===n&&(e.count=t)}),r()}function r(){n.$broadcast("pipActionsChanged",a)}return{config:t,showLocalActions:o,hideLocalActions:i,updateActionCount:c}}]})}(window.angular,window._),function(n,e,t){"use strict";var i=n.module("pipPrimaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);i.directive("pipPrimaryActions",function(){return{restrict:"E",scope:{localActions:"=pipLocalActions",globalActions:"=pipGlobalActions"},replace:!1,templateUrl:function(n,e){return"actions/primary_actions.html"},controller:"pipPrimaryActionsController"}}),i.controller("pipPrimaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,e,t,i,a,o,c,r){function l(e,t){n.config=t}function s(n){return n.access&&!n.access(n)}function p(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function d(e,t){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void t(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(a.location.href=e.href);if(e.url)return void o.url(e.url);if(e.state){if(c.has("pipState")){c.get("pipState");r.go(e.state,e.stateParams)}else if(c.has("$state")){var r=c.get("$state");r.go(e.state,e.stateParams)}}else e.event?i.$broadcast(e.event):i.$broadcast("pipActionClicked",e.name)}}e.addClass("pip-primary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.primaryLocalActions=n.localActions[0]),n.globalActions&&(r.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0]),i.$on("pipActionsChanged",l),n.actionHidden=s,n.actionCount=p,n.onActionClick=d}])}(window.angular,window._,window.jQuery),function(n,e,t){"use strict";var i=n.module("pipSecondaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);i.directive("pipSecondaryActions",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"actions/secondary_actions.html"},controller:"pipSecondaryActionsController"}}),i.controller("pipSecondaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,t,i,a,o,c,r,l){function s(e,t){n.originatorEv=t,e(t)}function p(e,t){n.config=t}function d(n){return n.access&&!n.access(n)}function u(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function m(n){var t=0;return e.each(n,function(n){d(n)||t++}),t}function g(){return m(n.config.secondaryGlobalActions)>0||m(n.config.secondaryLocalActions)>0}function v(){return m(n.config.secondaryGlobalActions)>0&&m(n.config.secondaryLocalActions)>0}function f(e,t){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void t(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(o.location.href=e.href);if(e.url)return void c.url(e.url);if(e.state){if(r.has("pipState")){r.get("pipState");i.go(e.state,e.stateParams)}else if(r.has("$state")){var i=r.get("$state");i.go(e.state,e.stateParams)}}else e.event?a.$broadcast(e.event):a.$broadcast("pipActionClicked",e.name)}}t.addClass("pip-secondary-actions"),n.config=l.config(),n.localActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryGlobalActions=n.globalActions[0]),a.$on("pipActionsChanged",p),n.actionHidden=d,n.actionCount=u,n.secondaryActionsVisible=g,n.secondaryDividerVisible=v,n.onActionClick=f,n.openMenu=s}])}(window.angular,window._,window.jQuery),function(n,e,t){"use strict";var i=n.module("pipAppBar",["ngMaterial","pipNav.Templates","pipAppBar.Service"]);i.directive("pipAppbar",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"appbar/appbar.html",controller:"pipAppBarController"}}),i.controller("pipAppBarController",["$scope","$element","$rootScope","pipAppBar",function(n,e,t,i){function a(e,t){n.config=t}e.addClass("pip-appbar"),e.addClass("color-primary-bg"),n.$emit("pipResizeWindow"),n.config=i.config(),t.$on("pipAppBarChanged",a)}])}(window.angular,window._,window.jQuery),function(n,e,t){"use strict";var i=n.module("pipAppBar.Part",["pipAppBar.Service"]);i.directive("pipAppbarPart",["ngIfDirective",function(n){var e=n[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(t,i,a){console.log("a",n[0]),a.ngIf=function(){return t.visible},console.log(arguments),e.link.apply(e,arguments)},controller:"pipAppBarPartController"}}]),i.controller("pipAppBarPartController",["$scope","$element","$attrs","$rootScope","pipAppBar",function(n,e,t,i,a){function o(e,t){var i=t.parts||{},a=i[c];n.visible=r?a==r:a}var c=""+t.pipAppbarPart,r=null,l=c.indexOf(":");l>0&&(r=c.substr(l+1),c=c.substr(0,l)),o(null,a.config()),i.$on("pipAppBarChanged",o)}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var t=n.module("pipAppBar.Service",[]);t.provider("pipAppBar",function(){function n(n){return i.theme=n||i.theme,i.theme}function t(n){return e.isObject(n)&&(i.parts=n),i.parts}var i={theme:"blue",cssClass:"",ngClasses:{},parts:{}};this.theme=n,this.parts=t,this.$get=["$rootScope",function(n){function t(){return i}function a(n){return void 0!=n&&(i.cssClass=n,c()),i.cssClass}function o(n){return e.isObject(n)&&(i.parts=n,c()),i.parts}function c(){n.$broadcast("pipAppBarChanged",i)}return{config:t,cssClass:a,part:o,parts:o}}]})}(window.angular,window._),function(n,e,t){"use strict";var i=n.module("pipBreadcrumb",["ngMaterial","pipNav.Translate","pipNav.Templates","pipBreadcrumb.Service"]);i.directive("pipBreadcrumb",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"breadcrumb/breadcrumb.html"},controller:"pipBreadcrumbController"}}),i.controller("pipBreadcrumbController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","pipBreadcrumb",function(n,t,i,a,o,c,r,l){function s(e,t){n.config=t}function p(){var t,i;t=n.config.items,e.isArray(t)&&t.length>0?(i=t[t.length-1].click,e.isFunction(i)?i():o.history.back()):o.history.back()}function d(n){e.isFunction(n.click)&&n.click(n)}t.addClass("pip-breadcrumb"),n.config=l.config(),a.$on("pipBreadcrumbChanged",s),a.$on("pipBreadcrumbBack",p),n.onBreadcrumbClick=d}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var t=n.module("pipBreadcrumb.Service",[]);t.provider("pipBreadcrumb",function(){var n={text:null,items:null,criteria:""};this.$get=["$rootScope",function(t){function i(){return n}function a(e){n.text=e,n.items=null,r()}function o(t,i){e.isArray(t)&&(i=t,t=i[i.length-1].title,i.splice(i.length-1,1)),n.text=t,n.items=i,r()}function c(e){n.criteria=e,r()}function r(){t.$broadcast("pipBreadcrumbChanged",n)}return{config:i,text:a,path:o,items:o,criteria:c}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNav.Translate",[]);n.filter("translate",["$injector",function(n){var e=n.has("pipTranslate")?n.get("pipTranslate"):null;return function(n){return e?e.translate(n)||n:n}}])}(),function(){"use strict";var n=angular.module("pipDropdown",["pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia",function(n){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(e,t,i,a){e.class=(i.class||"")+" md-"+a.get("theme")+"-theme",e.$mdMedia=n,e.actions=e.actions&&_.isArray(e.actions)?e.actions:[],e.activeIndex=e.activeIndex||0,e.disabled=function(){return!!e.ngDisabled()&&e.ngDisabled()},e.onSelect=function(n){e.activeIndex=n,e.select&&e.select(e.actions[n],e.activeIndex)},e.show=function(){return!e.showDropdown()||e.showDropdown()}}]}}])}(),function(n,e,t){"use strict";var i=n.module("pipLanguagePicker",["ngMaterial","pipNav.Translate","pipNav.Templates"]);i.directive("pipLanguagePicker",function(){return{restrict:"E",scope:{languages:"=languages"},replace:!1,templateUrl:function(n,e){return"language_picker/language_picker.html"},controller:"pipLanguagePickerController"}}),i.controller("pipLanguagePickerController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector",function(n,e,t,i,a,o,c,r){function l(e){n.languages=e.length>0?e:["en","ru"]}function s(){return d?d.use():null}function p(n){d&&setTimeout(function(){d.use(n),i.$apply()},0)}var d=r.has("pipTranslate")?r.get("pipTranslate"):null;n.title&&pipLanguagePicker.showTitleText(n.title),n.showMenu&&pipLanguagePicker.showMenuNavIcon(),e.addClass("pip-language-picker"),n.language=s,n.onLanguageClick=p,i.$on("pipSetLanguages",l)}])}(window.angular,window._,window.jQuery),function(){"use strict";var n=angular.module("pipNavHeader",["ngMaterial","pipNav.Templates"]);n.directive("pipNavHeader",function(){return{restrict:"EA",scope:{user:"=pipUser"},replace:!1,templateUrl:"nav_header/nav_header.html",controller:"pipNavHeaderController"}}),n.controller("pipNavHeaderController",["$scope","$element","$rootScope",function(n,e,t){function i(e){var t=n.user||n.identity||{};return e?t[e]:t}function a(e,t){n.identity=t}function o(){t.$broadcast("pipNavUserClicked")}e.addClass("pip-nav-header"),t.$on("pipIdentityChanged",a),n.getUser=i,n.onUserClick=o}])}(),function(n,e,t){"use strict";var i=n.module("pipNavIcon",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavIcon.Service"]);i.directive("pipNavIcon",function(){return{restrict:"E",scope:{type:"=pipType",imageUrl:"=pipImageUrl"},replace:!1,templateUrl:function(n,e){return"nav_icon/nav_icon.html"},controller:"pipNavIconController"}}),i.controller("pipNavIconController",["$scope","$element","$attrs","$rootScope","$window","pipNavIcon",function(n,t,i,a,o,c){function r(e,t){n.config=t}function l(){e.isFunction(n.config.callback)?n.config.callback():n.config.event?a.$broadcast(n.config.event):"back"==n.config.type?o.history.back():a.$broadcast("pipNavIconClicked")}t.addClass("pip-nav-icon"),n.config=c.getConfig(),a.$on("pipNavIconChanged",r),n.onNavIconClick=l}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var t=n.module("pipNavIcon.Service",[]);t.provider("pipNavIcon",function(){var n={type:"none",imageUrl:null,iconName:"back",callback:null,event:null};this.$get=["$rootScope",function(t){function i(){return n}function a(){n.type="none",n.callback=null,n.event=null,s()}function o(t){n.type="menu",n.callback=null,n.event=null,e.isFunction(t)&&(n.callback=t),e.isString(t)&&(n.event=t),s()}function c(t,i){n.type="icon",n.iconName=t,n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),s()}function r(t){n.type="back",n.callback=null,n.event=null,e.isFunction(t)&&(n.callback=t),e.isString(t)&&(n.event=t),s()}function l(t,i){n.type="image",n.imageUrl=t,n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),s()}function s(){t.$broadcast("pipNavIconChanged",n)}return{getConfig:i,hide:a,showMenu:o,showBack:r,showIcon:c,showImage:l}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNavMenu",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavMenu.Service"]);n.directive("pipNavMenu",function(){return{restrict:"EA",scope:{config:"=pipLinks"},replace:!1,templateUrl:"nav_menu/nav_menu.html",controller:"pipNavMenuController"}}),n.controller("pipNavMenuController",["$scope","$element","$rootScope","$window","$location","$timeout","$injector","pipSideNav","pipNavMenu",function(n,e,t,i,a,o,c,r,l){function s(n){return!n||!n.access||n&&n.access}function p(n){var e=!0;return _.each(n,function(n){s(n)||(e=!1)}),e}function d(e,t){n.config=t}function u(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===i.location.href.split("?")[0]?void r.close():(r.close(),void o(function(){i.location.href=e.href},300)):e.url?e.url.split(/[\s\/?]+/)[1]===a.url().split(/[\s\/?]+/)[1]?void r.close():(r.close(),void o(function(){a.url(e.url)},300)):e.state?$state.current.name===e.state?void r.close():(r.close(),void o(function(){if(c.has("pipState")){c.get("pipState");n.go(e.state,e.stateParams)}else if(c.has("$state")){var n=c.get("$state");n.go(e.state,e.stateParams)}},300)):(e.event&&t.$broadcast(e.event,e),void r.close()):void r.close()}e.addClass("pip-nav-menu"),n.config=n.config||l.get(),t.$on("pipNavMenuChanged",d),n.itemVisible=s,n.onLinkClick=u,n.isSectionEmpty=p}])}(),function(){"use strict";var n=angular.module("pipNavMenu.Service",[]);n.provider("pipNavMenu",function(){function n(n){return _.isArray(n)&&(e=n),e}var e=[];this.sections=n,this.$get=["$rootScope","$mdSidenav",function(t,i){function a(){return e}function o(i){return n(i),t.$broadcast("pipNavMenuChanged",e),e}return{get:a,set:o}}]})}(),function(n,e,t){"use strict";var i=n.module("pipSearchBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipSearch.Service"]);i.run(["$injector",function(n){var e=n.has("pipTranslate")?n.get("pipTranslate"):null;e&&(e.translations("en",{APPBAR_SEARCH:"Search"}),e.translations("ru",{APPBAR_SEARCH:"Поиск"}))}]),i.directive("pipSearchBar",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"search_bar/search_bar.html"},controller:"pipSearchBarController"}}),i.controller("pipSearchBarController",["$scope","$element","$attrs","$rootScope","pipSearch",function(n,e,i,a,o){function c(e,t){n.config=t,n.searchEnabled=!1,n.search.text=""}function r(){var n;setTimeout(function(){n=t(".pip-search-text"),n.length>0&&n.focus()},0)}function l(){n.search.text=n.config.criteria,n.searchEnabled=!0,r()}function s(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.callback?n.config.callback(e):a.$broadcast("pipSearchBarSearchClicked",e)}function p(){n.search.text?(n.search.text="",r()):(n.searchEnabled=!1,s())}function d(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}e.addClass("pip-search-bar"),n.config=o.config(),n.searchEnabled=!1,n.search={text:""},a.$on("pipSearchChanged",c),n.onSearchEnable=l,n.onSearchClick=s,n.onSearchClear=p,n.onSearchKeyDown=d}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var t=n.module("pipSearch.Service",[]);t.provider("pipSearch",function(){var n={visible:!1,criteria:"",history:[],callback:null};this.$get=["$rootScope",function(e){function t(){return n}function i(e,t,i){n.callback=e,n.criteria=t,n.history=i,s()}function a(){n.callback=null,n.criteria=null,s()}function o(e){n.visible=!0,s()}function c(e){n.visible=!1,s()}function r(e){n.criteria=e,s()}function l(e){n.history=e,s()}function s(){e.$broadcast("pipSearchChanged",n)}return e.$on("pipSearchOpen",o),e.$on("pipSearchClose",c),{config:t,set:i,clear:a,criteria:r,history:l}}]})}(window.angular,window._),function(n,e){"use strict";var t=n.module("pipSideNav",["ngMaterial","pipNav.Templates","pipSideNav.Service"]);t.directive("pipSidenav",function(){return{restrict:"E",transclude:!0,scope:!0,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),t.controller("pipSideNavController",["$scope","$element","$rootScope","pipSideNav",function(n,e,t,i){function a(n){i.open()}e.addClass("pip-sidenav"),t.$on("pipNavIconClicked",a)}])}(window.angular,window.moment),function(n,e,t){"use strict";var i=n.module("pipSideNav.Part",["pipSideNav.Service"]);i.directive("pipSidenavPart",["ngIfDirective",function(n){var e=n[0];return{transclude:e.transclude,priority:e.priority,terminal:e.terminal,restrict:e.restrict,link:function(n,t,i){i.ngIf=function(){n.visible},e.link.apply(e)},controller:"pipSideNavPartController"}}]),i.controller("pipSideNavPartController",["$scope","$element","$attrs","$rootScope","pipSideNav",function(n,e,t,i,a){function o(e,t){var i=(t.parts||{},t[c]);n.visible=r?i==r:r}var c=""+t.pipSidenavPart,r=null,l=part.indexOf(":");l>0&&(r=c.substr(l+1),c=c.substr(0,l-1)),o(null,a.config()),i.$on("pipSideNavChanged",o)}])}(window.angular,window._,window.jQuery),function(){"use strict";var n=angular.module("pipSideNav.Service",[]);n.provider("pipSideNav",function(){function n(n){return t.theme=n||t.theme,t.theme}function e(n){return _.isObject(n)&&(t.parts=n),t.parts}var t={theme:"blue",parts:[]};this.theme=n,this.parts=e,this.$get=["$rootScope","$mdSidenav",function(n,e){function i(){return t}function a(n,e){if(!_.isString(n))throw new Exception("Part name has to be a string");return null!=e&&(t.parts[n]=e,c()),t.parts[n]}function o(n){return _.isObject(n)&&(t.parts=n,c()),t.parts}function c(){n.$broadcast("pipSideNavChanged",t)}function r(n){e("pip-sidenav").open()}function l(n){e("pip-sidenav").close()}function s(){e("pip-sidenav").toggle()}return n.$on("pipSideNavOpen",r),n.$on("pipSideNavClose",l),{config:i,part:a,parts:o,open:r,close:l,toggle:s}}]})}(),function(){"use strict";var n=angular.module("pipTabs",["pipNav.Templates"]);n.directive("pipTabs",["$mdMedia","pipAssert",function(n,e){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","$injector",function(n,t,i,a,o,c){n.class=(i.class||"")+" md-"+o.get("theme")+"-theme",e.isArray(n.tabs,"pipTabs: pipTabs attribute should take an array"),n.$mdMedia=a,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[];var r=c.has("pipTranslate")?c.get("pipTranslate"):null;r&&(n.tabs.length>0&&n.tabs[0].title?r.translateObjects(n.tabs,"title","nameLocal"):r.translateObjects(n.tabs,"name","nameLocal")),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(e){return n.disabled()&&n.activeIndex!=e},n.onSelect=function(e){n.disabled()||(n.activeIndex=e,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}}])}();
!function(){"use strict";function e(e,t){try{t.$theme=e.get("theme")||"blue"}catch(e){}}e.$inject=["localStorageService","$rootScope"];var t=angular.module("pipTheme",["LocalStorageModule","ngMaterial"]);t.run(e),t.provider("pipTheme",function(){function e(e){return null!=e&&(r=e),r}function t(e){return null!=e&&(n=e),n}function a(e){return null!=e&&(o=e),o}var r="blue",n=!0,o=!0;this.use=e,this.init=e,this.persist=t,this.setRoot=a,this.$get=["$rootScope","$timeout","localStorageService","$mdTheming",function(e,t,a,l){function i(a,r){a=void 0!==a&&!!a,r=void 0!==r&&!!r,e.$reset=a,e.$partialReset=r,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function u(t,u,c){if(null!=t&&t!=r){if(!(r in l.THEMES))throw new Error("Theme "+r+" is not registered. Please, register it first with $mdThemingProvider");r=t,n&&a.set("theme",r),o&&(e.$theme=r),i(u,c),e.$broadcast("pipThemeChanged",t)}return r}return n&&(r=a.get("theme")||r),o&&(e.$theme=r),{use:u,theme:u}}]})}(),function(){"use strict";function e(e){e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Default",["pipTheme.Blue","pipTheme.Pink","pipTheme.Amber","pipTheme.Orange","pipTheme.Green","pipTheme.Navy","pipTheme.Grey"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)"});e.definePalette("orange-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 152, 0, 1)",900:"rgba(255, 152, 0, .54);"});e.definePalette("orange-primary",a),e.theme("amber").primaryPalette("orange-primary",{default:"800","hue-1":"900"}).backgroundPalette("orange-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("orange",{default:"900"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Amber",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)"});e.definePalette("dark-background",a);var r=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("dark-accent",r),e.theme(t).primaryPalette("dark-background",{default:"900","hue-1":"700"}).backgroundPalette("dark-background",{default:"800","hue-1":"900","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("dark-accent",{default:"600"})}function a(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)",500:"rgba(38, 50, 56, 1)"});e.definePalette("black-background",a);var r=e.extendPalette("blue-grey",{700:"rgba(255, 255, 255, 0.54)"});e.definePalette("black-accent",r),e.theme(t).primaryPalette("black-accent",{default:"900","hue-1":"700"}).backgroundPalette("black-background",{default:"800","hue-1":"500","hue-2":"800"}).warnPalette("red",{default:"A200"}).accentPalette("black-accent",{default:"600"})}t("dark"),a("black"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Black",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:void 0});e.definePalette("blue-primary",a);var r=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(33, 150, 243, 1)"});e.definePalette("blue-background",r);var n=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("blue-accent",n),e.theme(t).primaryPalette("blue-primary",{default:"500","hue-1":"300"}).backgroundPalette("blue-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("blue-accent",{default:"600"})}t("default"),t("blue"),e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Blue",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(76, 175, 80, 1)"});e.definePalette("green-background",t);var a=e.extendPalette("green",{300:"#9ed4a1",contrastLightColors:["500","300"]});e.definePalette("green-primary",a);var r=e.extendPalette("amber",{contrastLightColors:["A700"]});e.definePalette("green-accent",r),e.theme("green").primaryPalette("green-primary",{default:"500","hue-1":"300"}).backgroundPalette("green-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("green-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Green",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)",A400:"#a9b9c0",500:"#607D8B",A700:"#90A4AE",contrastDefaultColor:"dark",contrastLightColors:["300","400","500","600","700","800","900","A700"]});e.definePalette("third-party",t),e.theme("grey").primaryPalette("third-party",{default:"500","hue-1":"A400"}).backgroundPalette("third-party",{default:"50","hue-1":"500","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("third-party",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Grey",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{700:"rgba(86, 97, 125, 1)",800:"rgba(86, 97, 125, .54)",A100:"rgba(250, 250, 250, 1)"});e.definePalette("grey",t);var a=e.extendPalette("teal",{contrastLightColors:["500","600","700","800","900","A700"]});e.definePalette("teal",a),e.theme("navy").primaryPalette("grey",{default:"700","hue-1":"800"}).backgroundPalette("grey",{default:"50","hue-1":"700","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("teal",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Navy",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 112, 67, 1)",contrastLightColors:["600","700","800","900","A200"]});e.definePalette("red-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 112, 67, 1)",900:"rgba(255, 152, 67, .54)",A100:"rgba(255, 171, 64, 1)",contrastLightColors:["800","900","A100"]});e.definePalette("red-primary",a),e.theme("orange").primaryPalette("red-primary",{default:"800","hue-1":"900"}).backgroundPalette("red-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("red-primary",{default:"A100"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Orange",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(188, 86, 121, 1)",contrastDefaultColor:"dark",contrastLightColors:["A200","A700"]});e.definePalette("pink-background",t);var a=e.extendPalette("pink",{600:"rgba(255, 128, 171, 1)",700:"rgba(188, 86, 121, .54)",900:"rgba(188, 86, 121, 1)",contrastDefaultColor:"light"});e.definePalette("pink-primary",a),e.theme("pink").primaryPalette("pink-primary",{default:"900","hue-1":"700"}).backgroundPalette("pink-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("pink-primary",{default:"600"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Pink",["ngMaterial"]);t.config(e)}(),function(){"use strict";angular.module("pipTheme.Bootbarn",["pipTheme.Bootbarn.Warm","pipTheme.Bootbarn.Cool","pipTheme.Bootbarn.Monochrome"])}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(69, 90, 100, 1)"});e.definePalette("bootbarn-cool-background",t);var a=e.extendPalette("grey",{300:"rgba(69, 90, 100, .54)",500:"rgba(69, 90, 100, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-cool-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-cool-accent",r),e.theme("bootbarn-cool").primaryPalette("bootbarn-cool-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-cool-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-cool-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Cool",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(38, 50, 56, 1)"});e.definePalette("bootbarn-monochrome-background",t);var a=e.extendPalette("grey",{300:"rgba(38, 50, 56, .54)",500:"rgba(38, 50, 56, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-monochrome-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-monochrome-accent",r),e.theme("bootbarn-monochrome").primaryPalette("bootbarn-monochrome-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-monochrome-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-monochrome-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Monochrome",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){e.alwaysWatchTheme(!0);var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(177, 55, 34, 1)"});e.definePalette("bootbarn-warm-background",t);var a=e.extendPalette("brown",{300:"rgba(177, 55, 34, .54)",500:"rgba(177, 55, 34, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-warm-primary",a);var r=e.extendPalette("amber",{A700:"rgba(127, 148, 92, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-warm-accent",r);var n=e.extendPalette("red",{A200:"rgba(255, 87, 34, 1)",contrastLightColors:["A200"]});e.definePalette("bootbarn-warm-error",n),e.theme("bootbarn-warm").primaryPalette("bootbarn-warm-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-warm-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("bootbarn-warm-error",{default:"A200"}).accentPalette("bootbarn-warm-accent",{default:"A700"})}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Warm",["ngMaterial"]);t.config(e)}();
!function(){"use strict";angular.module("pipErrors",["pipErrors.Pages","pipNoConnectionPanel","pipClearErrors","pipFormErrors"])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("maintenance/maintenance.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/maintenance.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_AVAILABLE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_AVAILABLE_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="timeoutInterval">{{::\'ERROR_AVAILABLE_TRY_AGAIN\' | translate}} {{timeoutInterval}} sec.</div><div class="pip-error-actions h48 layout-column layout-align-center-center" ng-if="isCordova"><md-button class="md-accent" ng-click="onClose($event)" aria-label="CLOSE">{{::\'ERROR_AVAILABLE_CLOSE\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("missing_route/missing_route.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/invalid_route.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_ROUTE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_ROUTE_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="CONTINUE" class="md-accent" ng-click="onContinue($event)">{{::\'ERROR_ROUTE_CONTINUE\' | translate}}</md-button></div><div class="h48" ng-if="url"><a ng-href="{{url}}">{{::\'ERROR_ROUTE_TRY_AGAIN\' | translate }}: {{url}}</a></div><div class="h48" ng-if="urlBack"><a ng-href="{{urlBack}}">{{::\'ERROR_ROUTE_GO_BACK\' | translate }}: {{urlBack}}</a></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection/no_connection.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/no_response.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection_panel/no_connection_panel.html",'<div class="pip-empty pip-error layout-column layout-align-center-center flex"><img src="images/no_response.svg" class="pip-pic block"><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unknown/unknown.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/unknown_error.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_UNKNOWN_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNKNOWN_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="showError && error_details && error_details.status"><div ng-if="error_details.code">Code: {{error_details.code}}</div><div ng-if="error_details.description">Description: {{error_details.description}}</div><div ng-if="error_details.status">HTTP status: {{error_details.status}}</div><div ng-if="error_details.server_stacktrace">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if="error_details.client_stacktrace">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class="pip-error-actions layout-column layout-align-center-center"><div class="h48" ng-if="isCordova"><md-button aria-label="CLOSE" class="md-accent" ng-click="onClose($event)">{{::\'ERROR_UNKNOWN_CLOSE\' | translate}}</md-button></div><div class="h48"><md-button aria-label="DETAILS" class="md-accent" ng-click="onDetails($event)">{{::\'ERROR_UNKNOWN_DETAILS\' | translate}}</md-button></div></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unsupported/unsupported.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div class="pip-error-text">{{::\'ERROR_UNSUPPORTED_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNSUPPORTED_SUBTITLE\' | translate}}</div><div class="pip-error-details layout-row layout-align-center-center" ng-if="$mdMedia(\'gt-xs\')"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div><div class="pip-error-details" ng-if="$mdMedia(\'xs\')"><div class="layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div></div><div class="tm16 layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div></div></div>')}])}(),function(){"use strict";var r=angular.module("pipErrors.Strings",["pipTranslate"]);r.run(["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;null!=e&&(e.translations("en",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to the server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 36+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 48+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 45+"}),e.translations("ru",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 35+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 47+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 43+"}))}])}(),function(){"use strict";var r=angular.module("pipErrors.Translate",[]);r.filter("translate",["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;return function(r){return e?e.translate(r)||r:r}}])}(),function(){"use strict";var r=angular.module("pipErrors.Pages",["ngMaterial","pipErrors.Strings","pipErrors.NoConnection","pipErrors.MissingRoute","pipErrors.Unsupported","pipErrors.Unknown","pipErrors.Maintenance","pipErrors.Translate","pipErrors.Templates"]);r.config(["$stateProvider",function(r){r.state("errors_no_connection",{url:"/errors/no_connection",params:{error:null},controller:"pipErrorNoConnectionController",templateUrl:"no_connection/no_connection.html"}).state("errors_maintenance",{url:"/errors/maintenance",params:{error:null},controller:"pipErrorMaintenanceController",templateUrl:"maintenance/maintenance.html"}).state("errors_missing_route",{url:"/errors/missing_route",params:{unfoundState:null,fromState:null},controller:"pipErrorMissingRouteController",templateUrl:"missing_route/missing_route.html"}).state("errors_unsupported",{url:"/errors/unsupported",params:{error:null},controller:"pipErrorUnsupportedController",templateUrl:"unsupported/unsupported.html"}).state("errors_unknown",{url:"/errors/unknown",params:{error:null},controller:"pipErrorUnknownController",templateUrl:"unknown/unknown.html"})}])}(),function(){"use strict";var r=angular.module("pipClearErrors",[]);r.directive("pipClearErrors",function(){return{restrict:"A",require:["ngModel","^?form"],link:function(r,e,t,o){function n(){var r=i.$error;for(var e in r)r.hasOwnProperty(e)&&"ERROR_"==e.substring(0,6)&&i.$setValidity(e,!0)}function a(){s.$serverError={}}var i=o[0],s=o[1];r.$watch(t.ngModel,function(r){n(),a()})}}})}(),function(){"use strict";var r=angular.module("pipFormErrors",[]);r.factory("pipFormErrors",["$rootScope",function(r){function e(r){if(null!=r)return _.isEmpty(r.$error)?{hint:!0}:r.$error}function t(r,e){if(null!=r&&null!=e){if(r.$submitted&&(e.$touched||r.$dirty)||!r.$submitted&&(e.$touched||e.$dirty)){var t=_.isEmpty(e.$error)?{hint:!0}:e.$error;return t}return{hint:!0}}}function o(r,e){r.$setPristine(),r.$setUntouched(),e&&(r.$setDirty(),r.$setSubmitted()),r.$serverError={}}function n(r,e){if(r)if(e&&r[e]&&r[e].$error)r[e].$error={};else{for(var t in r)r[t]&&r[t].$error&&(r[t].$error={});r&&r.$error&&(r.$error={})}}function a(r,e,t){if(null!=e){r.$serverError=r.$serverError||{};var o=e.code||(e.data||{}).code||null;if(!o&&e.status&&(o=e.status),o){var n="ERROR_"+o,a=t?t[o]:null;if(a&&r[a]&&r[a].$setValidity)return void r[a].$setValidity(n,!1);if("form"==a)return void(r.$serverError[n]=!0)}if(e.data&&e.data.message)return r.$serverError.ERROR_UNKNOWN=e.data.message,void i(e);if(e.message)return r.$serverError.ERROR_UNKNOWN=e.message,void i(e);if(e.name)return r.$serverError.ERROR_UNKNOWN=e.name,void i(e);r.$serverError.ERROR_UNKNOWN=e,i(e)}}function i(e){r.$emit("pipUnhandledInternalError",{error:e})}return{errorsWithHint:e,touchedErrorsWithHint:t,resetFormErrors:o,setFormError:a,resetFieldsErrors:n}}])}(),function(){"use strict";var r=angular.module("pipErrors.Maintenance",[]);r.controller("pipErrorMaintenanceController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_AVAILABLE_TITLE",[]),o.showLocalActions(null,[])}function a(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.timeoutInterval=r.error&&r.error.config&&r.error.config.params&&r.error.config.params.interval?r.error.config.params.interval:0,r.onClose=a}])}(),function(){"use strict";var r=angular.module("pipErrors.MissingRoute",[]);r.controller("pipErrorMissingRouteController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_ROUTE_PAGE_TITLE",[]),o.showLocalActions(null,[])}function a(){}n(),t.$routing=!1,r.error=e&&e.params&&e.params.error?e.params.fromState:{},r.unfoundState=e&&e.params?e.params.unfoundState:{},r.url=r.unfoundState&&r.unfoundState.to?e.href(r.unfoundState.to,r.unfoundState.toParams,{absolute:!0}):"",r.urlBack=r.fromState&&r.fromState.to?e.href(r.fromState.to,r.fromState.fromParams,{absolute:!0}):"",r.onContinue=a}])}(),function(){"use strict";var r=angular.module("pipErrors.NoConnection",[]);r.controller("pipErrorNoConnectionController",["$scope","$state","$rootScope","$window","pipAppBar",function(r,e,t,o,n){function a(){o.history.back()}function i(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_RESPONDING_TITLE",[]),n.showLocalActions(null,[])}t.$routing=!1,i(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.onRetry=a}])}(),function(){"use strict";var r=angular.module("pipNoConnectionPanel",["pipErrors.Translate"]);r.directive("pipNoConnectionPanel",function(){return{restrict:"E",scope:{error:"=pipError",retry:"=pipRetry"},templateUrl:"no_connection_panel/no_connection_panel.html",controller:"pipNoConnectionPanelController"}}),r.controller("pipNoConnectionPanelController",["$scope","$element","$attrs","pipTranslate",function(r,e,t,o){function n(){r.retry&&angular.isFunction(r.retry)&&r.retry()}r.onRetry=n}])}(),function(){"use strict";var r=angular.module("pipErrors.Unknown",[]);r.controller("pipErrorUnknownController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_UNKNOWN_TITLE",[]),o.showLocalActions(null,[])}function a(){r.error_details={},r.error_details.code=r.error.code,r.error_details.description=r.error.message,r.error_details.status=r.error.status,r.error_details.server_stacktrace=function(){},r.error_details.client_stacktrace=function(){}}function i(){r.showError=!0}function s(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.error_details=null,r.onDetails=i,r.onClose=s,a()}])}(),function(){"use strict";var r=angular.module("pipErrors.Unsupported",[]);r.controller("pipErrorUnsupportedController",["$scope","$state","$rootScope","$mdMedia","pipAppBar",function(r,e,t,o,n){function a(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_UNSUPPORTED_TITLE",[]),n.showLocalActions(null,[])}r.$mdMedia=o,t.$routing=!1,a(),r.error=e&&e.params&&e.params.error?e.params.error:{}}])}();
!function(e){"use strict";e.module("pipCharts",["pipBarCharts","pipLineCharts","pipPieCharts","pipChartLegends"])}(window.angular),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="barChart.legend" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("legend/interactive_legend.html",'<div><div class="chart-legend-item" ng-repeat="item in series"><md-checkbox class="lp16 m8" ng-model="item.disabled" ng-true-value="false" ng-false-value="true" ng-if="interactive" aria-label="{{ item.label }}"><p class="legend-item-value" ng-style="{\'background-color\': item.color}">{{ item.value }}</p><p class="legend-item-label">{{:: item.label || item.key }}</p></md-checkbox><div ng-if="!interactive"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label || item.key}}</span></div></div></div>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto" ng-class="{\'visible-x-axis\': lineChart.isVisibleX(), \'visible-y-axis\': lineChart.isVisibleY()}"></svg></div><pip-chart-legend pip-series="lineChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("pie/pie_chart.html",'<div class="pie-chart" flex="auto" layout="column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="pieChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var e=d3.selectAll(".nv-bar text")[0],t=d3.selectAll(".nv-bar")[0],n=d3.selectAll(".legend-title")[0],i=d3.select(".nvd3-svg")[0][0].getBBox().height;d3.select(".bar-chart").classed("visible",!0),t.forEach(function(t,a){var n=t.getBBox(),l=d3.select(t),r=d3.transform(l.attr("transform")).translate[1];l.attr("transform","translate("+Number(46*a+50)+", "+i+")").select("rect").attr("width",38),l.transition().duration(1e3).attr("transform","translate("+Number(46*a+50)+", "+r+")"),d3.select(e[a]).attr("dy",n.height/2).attr("x",19)}),n.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})}function r(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function o(){s.legend.forEach(function(e,t){e.color=e.color||r(d[t])})}var s=this,c=null,u=null,d=_.map(i,function(e,t){return t});s.data=s.series||[],(s.series||[]).length>d.length&&(s.data=s.series.slice(0,9)),s.legend=s.data[0].values,o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(r))},t.$watch("barChart.series",function(e){s.data=e||[],o(),c&&(u.datum(s.data).call(c),c.update(),intervalUpdate(c.update,10))}),nv.addGraph(function(){return c=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(e){return e.label}).y(function(e){return e.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(e){return e.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),u=d3.select(e.get(0)).select(".bar-chart svg").datum(s.data).style("height",270).call(c),c},function(){c.dispatch.on("beforeUpdate",function(){a(l,0)}),a(l,0)})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",interactive:"=pipInteractive"},templateUrl:"legend/interactive_legend.html",controller:["$element","$scope","$timeout","$mdColorPalette",function(e,t,a,n){function i(){var a=$(e).find("md-checkbox .md-container");a.each(function(e,a){$(a).css("color",t.series[e].color||o[e]).find(".md-icon").css("background-color",t.series[e].color||o[e])})}function l(){var t=$(e).find(".chart-legend-item");t.each(function(e,t){a(function(){$(t).addClass("visible")},200*e)})}function r(){t.series.forEach(function(e,t){e.color=e.color||o[t],e.disabled=e.disabled||!1})}var o=_.map(n,function(e){return e[500].hex});t.$watch("series",function(){a(function(){l(),i()},0),r()},!0),t.$watch("interactive",function(e,t){1==e&&e!=t&&a(i,0)}),a(function(){l(),i()},0),r()}]}}angular.module("pipChartLegends",[]).directive("pipChartLegend",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",showYAxis:"=pipYAxis",showXAxis:"=pipXAxis"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function r(){o.data.forEach(function(e,t){e.color=e.color||l(u[t])})}var o=this,s=null,c=null,u=_.map(i,function(e,t){return t});o.data=o.series||[],o.isVisibleX=function(){return void 0==o.showXAxis||o.showXAxis},o.isVisibleY=function(){return void 0==o.showYAxis||o.showYAxis},o.series.length>u.length&&(o.data=o.series.slice(0,9)),r(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(u.map(l))},t.$watch("lineChart.series",function(e){o.data=e,r(),s&&c.datum(o.data).call(s)},!0),nv.addGraph(function(){return s=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:30}).x(function(e){return e.x}).y(function(e){return e.value}).height(270).useInteractiveGuideline(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(e){return e.color||d3.scale.paletteColors().range()}),s.tooltip.enabled(!1),s.noData("No data for this moment..."),s.yAxis.tickFormat(function(e){return e/1e3+"k"}),s.xAxis.tickFormat(function(e){return e}),c=d3.select(e.get(0)).select(".line-chart svg"),c.datum(o.data).style("height",270).call(s),nv.utils.windowResize(s.update),s},function(){var e=d3.selectAll(".legend-title")[0];e.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"pieChart",templateUrl:"pie/pie_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var t=d3.selectAll(".legend-title")[0],n=d3.select(e.get(0)).select(".pie-chart svg")[0][0],i=c.data.reduce(function(e,t){return e+t.value},0);d3.select(n).select(".nv-pie:not(.nvd3)").append("text").classed("label-total",!0).attr("text-anchor","middle").style("dominant-baseline","central").text(i),d3.select(n).transition().duration(1e3).style("opacity",1),d=d3.select(e.find("text.label-total").get(0)),f(),t.forEach(function(e,t){a(function(){$(e).addClass("visible")},200*t)})}function r(){var t=e.find(".nv-pieLabels").get(0).getBBox();t.width&&t.height&&d.style("font-size",~~t.width/2)}function o(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function s(){c.data.forEach(function(e,t){e.color=e.color||o(h[t])})}var c=this,u=null,d=null,p=null,h=_.map(i,function(e,t){return t}),f=r;c.data=c.data||[],c.series.length>h.length&&(c.data=c.series.slice(0,9)),t.$watch("pieChart.series",function(e){c.data=e,s(),u&&(p.datum(c.data).call(u),a(f))},!0),s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(o))},nv.addGraph(function(){return u=nv.models.pieChart().margin({top:0,right:0,bottom:0,left:0}).x(function(e){return e.value}).y(function(e){return e.value}).height(250).width(250).showLabels(!0).labelThreshold(.001).growOnHover(!1).donut(!0).donutRatio(.5).color(function(e){return e.color||d3.scale.paletteColors().range()}),u.tooltip.enabled(!1),u.noData("No data for this moment..."),u.showLegend(!1),p=d3.select(e.get(0)).select(".pie-chart svg").attr("height",250).style("opacity",0).datum(c.data).call(u),nv.utils.windowResize(function(){u.update(),a(f)}),u},function(){a(l)})}]}}angular.module("pipPieCharts",[]).directive("pipPieChart",e)}();