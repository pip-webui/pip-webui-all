!function(){"use strict";angular.module("pipServices",["pipUtils","pipAssert","pipDebug","pipScope","pipTranslate","pipState","pipTimer","pipSession","pipIdentity","pipSystemInfo","pipFormat","pipScroll","pipTags"])}(),function(){"use strict";var e=angular.module("pipAssert",["pipDebug"]);e.provider("pipAssert",["pipDebugProvider",function(e){function t(){}function r(e){return Object.prototype.toString.call(e)}function n(e,t){if(!Array.isArray(e))throw new Error(t||e+" should be array")}function i(e,t){if("boolean"!=typeof e)throw new Error(t||e+" should be boolean")}function a(e,t){if(null===e)throw new Error(t||e+" should be not null")}function o(e,t){if("number"!=typeof e)throw new Error(t||e+" should be number")}function s(e,t){if("string"!=typeof e)throw new Error(t||e+" should be string")}function u(e,t){if("object"!=typeof e)throw new Error(t||e+" should be an object")}function l(e,t){if("object"==typeof e&&"[object Date]"!==r(e))throw new Error(t||e+" should be a date")}function c(e,t){if("object"==typeof e&&("[object Error]"!==r(e)||e instanceof Error))throw new Error(t||e+" should be an error")}function p(e,t){if("function"!=typeof e)throw new Error(t||e+" should be a function")}function f(e,t){if("undefined"==typeof e)throw new Error(t||e+" should be defined")}function d(e,t){if(null===e||void 0===e||e===!1)throw new Error(t||e+" should be not null or undefined or false")}function g(e,t,r){if("object"!=typeof e)throw new Error(e+" should be an object");if(null===e[t]||void 0===e[t])throw new Error(r||t+" should be in object "+e)}function h(e,t,r){if(e!=t)throw new Error(r||e+" should be not equal "+t)}function b(e,t,r){if(e==t)throw new Error(r||e+" should be equal "+t)}function m(e,t,r){if(e!==t)throw new Error(r||e+" should not be strict equal "+t)}function v(e,t,r){if(e===t)throw new Error(r||e+" should not strict equal "+t)}function S(e,t){var r=new RegExp("^[0-9a-fA-F]{24}$");if(!r.test(e))throw new Error(t||e+" should be an object id")}return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?S:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?h:t,notEqual:e.enabled()?b:t,strictEqual:e.enabled()?m:t,notStrictEqual:e.enabled()?v:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?i:t,isNumber:e.enabled()?o:t,isString:e.enabled()?s:t,isObject:e.enabled()?u:t,isDate:e.enabled()?l:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?a:t,$get:["pipDebug",function(e){return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?S:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?h:t,notEqual:e.enabled()?b:t,strictEqual:e.enabled()?m:t,notStrictEqual:e.enabled()?v:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?i:t,isNumber:e.enabled()?o:t,isString:e.enabled()?s:t,isObject:e.enabled()?u:t,isDate:e.enabled()?l:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?a:t}}]}}])}(),function(){"use strict";var e=angular.module("pipDebug",[]);e.provider("pipDebug",["$logProvider",function(e){function t(){return this.enabled}function r(){this.enabled=!0,e.debugEnabled(!0)}function n(){this.enabled=!1,e.debugEnabled(!1)}return this.enabled=!0,{enable:r,disable:n,enabled:t,$get:["$log",function(e){return{enabled:t,log:e.log,info:e.info,warn:e.warn,error:e.error,debug:e.debug}}]}}])}(),function(){"use strict";var e=angular.module("pipState",["ui.router","pipTranslate","pipAssert"]);e.config(["$locationProvider","$httpProvider","pipTranslateProvider",function(e,t,r){r.translations("en",{ERROR_SWITCHING:"Error while switching route. Try again."}),r.translations("ru",{ERROR_SWITCHING:"Ошибка при переходе. Попробуйте ещё раз."})}]),e.run(["$rootScope","pipTranslate","$state",function(e,t,r){e.$on("$stateChangeSuccess",function(t,r,n,i,a){e.$routing=!1,e.$state={name:r.name,url:r.url,params:n},e.$prevState={name:i.name,url:i.url,params:a}}),e.$on("$stateChangeError",function(t,r,n,i,a,o){e.$routing=!1,console.error("Error while switching route to "+r.name),console.error(o)}),e.$on("$stateNotFound",function(t,n,i,a){t.preventDefault(),r.go("errors_missing_route",{unfoundState:n,fromState:{to:i?i.name:"",fromParams:a}}),e.$routing=!1})}]),e.provider("pipState",["$stateProvider","pipAssertProvider",function(e,t){function r(e,r){return t.isNotNull(e,"pipState.redirect: fromState cannot be null"),t.isNotNull(r,"pipState.redirect: toState cannot be null"),n[e]=r,this}var n={};this.redirect=r,this.state=e.state,this.$get=["$state","$timeout","pipAssert",function(e,t,r){function i(i,a,o,s){r.contains(a,"name","$state.redirect: state should contains name prop"),r.isObject(o,"$state.redirect: params should be an object");var u;if(s.$routing=!0,u=n[a.name],_.isFunction(u)&&(u=u(a.name,o,s),_.isNull(u)))throw s.$routing=!1,new Error("Redirected toState cannot be null");return!!u&&(t(function(){i.preventDefault(),e.transitionTo(u,o,{location:"replace"})}),!0)}function a(){$window.history.back()}function o(t,n,i,a){if(r.isObject(t,"pipUtils.goBack: first argument should be an object"),r.isString(a,"pipUtils.goBack: second argument should a string"),r.isString(n,"pipUtils.goBack: third argument should a string"),$rootScope.$prevState&&$rootScope.$prevState.name){var o=_.cloneDeep($rootScope.$prevState);o.params[a]=i,o.params[n]=t,e.go(o.name,o.params)}else $window.history.back()}return e.redirect=i,e.goBack=a,e.goBackAndSelect=o,e}]}])}(),function(){"use strict";angular.module("pipScope",["pipScope.Error","pipScope.Transaction"]),angular.module("pipTransactions",["pipScope"])}(),function(){"use strict";var e=angular.module("pipScope.Error",["pipAssert"]);e.factory("pipError",["$rootScope","pipAssert",function(e,t){function r(t){e.errors[t]={message:void 0,code:void 0,details:void 0}}function n(e){if(_.isNull(e))return null;if(e.message)return e.message;if(e.data){if(e.data.code)return"ERROR_"+e.data.code;if(e.data.message)return e.data.message}return e.statusText?e.statusText:e.status?"ERROR_"+e.status:e.data?e.data:e}function i(e){return _.isNull(e)?null:e.data&&e.data.code?e.data.code:e.status?e.status:null}function a(e){return e&&e.data?e.data:e}function o(o,s){o=o||"global";var u={reset:function(){r(o)},empty:function(){var t=e.errors[o];return _.isNull(t)||_.isNull(t.message)&&_.isNull(t.code)},get:function(){return e.errors[o]?e.errors[o]:""},message:function(){return e.errors[o]?e.errors[o].message:null},code:function(){return e.errors[o]?e.errors[o].code:null},details:function(){return e.errors[o]?e.errors[o].details:null},set:function(s){s?(t.isObject(s,"Setting error: error should be an object"),e.errors[o]={message:n(s),code:i(s),details:a(s)},console.error(e.errors[o])):r(o)}};return _.isObject(s)&&(s.error=u),u}return e.errors={},o}])}(),function(){"use strict";var e=angular.module("pipScope.Transaction",["pipTranslate","pipScope.Error"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{ENTERING:"Entering...",PROCESSING:"Processing...",LOADING:"Loading...",SAVING:"Saving..."}),e.translations("ru",{ENTERING:"Вход в систему...",PROCESSING:"Обрабатывается...",LOADING:"Загружается...",SAVING:"Сохраняется..."})}]),e.factory("pipTransaction",["$rootScope","pipError",function(e,t){function r(t){e.transactions[t]={id:void 0,operation:void 0}}function n(n,i){n=n||"global";var a=t(n),o={error:a,reset:function(){r(),a.reset()},busy:function(){var t=e.transactions[n];return null!=t&&t.id},failed:function(){return!a.empty()},aborted:function(t){var r=e.transactions[n];return _.isNull(r)||r.id!=t},get:function(){return _.isNull(e.transactions[n])&&r(n),e.transactions[n]},id:function(){var t=e.transactions[n];return t?t.id:null},operation:function(){var t=e.transactions[n];return t?t.operation:null},errorMessage:function(){return a.message()},begin:function(t){var r=e.transactions[n];return null!=r&&r.id?null:(r=e.transactions[n]={id:(new Date).getTime(),operation:t||"PROCESSING"},a.reset(),r.id)},abort:function(){var t=e.transactions[n];t&&(t.id=null),a.reset()},end:function(t){t?a.set(t):a.reset();var r=e.transactions[n];null!=r&&(r.id=null)}};return _.isObject(i)&&(i.error=a,i.transaction=o),o}return e.transactions={},n}])}(),function(){"use strict";var e=angular.module("pipIdentity",[]);e.provider("pipIdentity",["$timeout","pipAssertProvider",function(e,t){function r(e){return null!=e&&(t.isBoolean(e||"","pipIdentityProvider.setRoot: argument should be a boolean"),i=e),i}function n(e){return null!=e&&(t.isObject(e||"","pipIdentityProvider.identity: argument should be an object"),a=e),a}var i=!0,a=null;this.setRoot=r,this.identity=n,this.$get=["$rootScope","pipAssert",function(t,r){function n(){return a}function o(r,n){r=void 0===r||!!r,n=void 0===n||!!n,t.$reset=r,t.$partialReset=n,e(function(){t.$reset=!1,t.$partialReset=!1},0)}function s(e,n,s){null!=e&&r.isObject(e||"","pipIdentity.set: argument should be an object"),a=e,i&&(t.$identity=a),o(n,s),t.$broadcast("pipIdentityChanged",a)}return i&&(t.$identity=a),{get:n,set:s}}]}])}(),function(){"use strict";var e=angular.module("pipSession",[]);e.provider("pipSession",["$timeout","pipAssertProvider",function(e,t){function r(e){return null!=e&&(t.isBoolean(e||"","pipSessionProvider.setRoot: argument should be a boolean"),i=e),i}function n(e){return null!=e&&(t.isObject(e||"","pipSessionProvider.session: argument should be an object"),a=e),a}var i=!0,a=null;this.setRoot=r,this.session=n,this.$get=["$rootScope","pipAssert",function(t,r){function n(r,n){r=void 0===r||!!r,n=void 0===n||!!n,t.$reset=r,t.$partialReset=n,e(function(){t.$reset=!1,t.$partialReset=!1},0)}function o(e,o,s){r.isObject(e||"","pipSession.open: argument should be an object"),a=e,i&&(t.$session=a),n(o,s),t.$broadcast("pipSessionOpened",a)}function s(e,r){var o=a;a=null,i&&(t.$session=a),n(e,r),t.$broadcast("pipSessionClosed",o)}function u(){return a}return i&&(t.$session=a),{get:u,open:o,close:s}}]}])}(),function(){"use strict";var e=angular.module("pipTimer",[]);e.service("pipTimer",["$interval","$rootScope",function(e,t){function r(){return p}function n(){p||(a=e(function(){t.$broadcast("pipAutoPullChanges")},u),o=e(function(){t.$broadcast("pipAutoUpdatePage")},l),s=e(function(){t.$broadcast("pipAutoUpdateCollection")},c),p=!0)}function i(){a&&e.cancel(a),o&&e.cancel(o),s&&e.cancel(o),p=!1}var a,o,s,u=6e4,l=15e3,c=3e5,p=!1;return{isStarted:r,start:n,stop:i}}])}(),function(){"use strict";angular.module("pipTranslate",["pipTranslate.Service","pipTranslate.Directive","pipTranslate.Filter"])}(),function(){"use strict";var e=angular.module("pipTranslate.Directive",["pipTranslate.Service"]);e.directive("pipTranslate",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslate",key2:"@key"},link:function(t,r,n){var i=t.key1||t.key2,a=e.translate(i);r.text(a)}}}]),e.directive("pipTranslateHtml",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslateHtml",key2:"@key"},link:function(t,r,n){var i=t.key1||t.key2,a=e.translate(i);r.html(a)}}}])}(),function(){"use strict";var e=angular.module("pipTranslate.Filter",["pipTranslate.Service"]);e.filter("translate",["pipTranslate",function(e){return function(t){return e.translate(t)||t}}])}(),function(){"use strict";var e=angular.module("pipTranslate.Service",["LocalStorageModule","pipAssert"]);e.provider("pipTranslate",["pipAssertProvider",function(e){function t(t){return e.isString(t||"","pipTranslateProvider.use or pipTranslateProvider.language: argument should be a string"),null!=t&&(f=t),f}function r(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.persist: argument should be a boolean"),d=t),d}function n(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.setRoot: argument should be a boolean"),g=t),g}function i(t,r){e.isString(t,"pipTranslate.setTranslations or pipTranslateProvider.translations: first argument should be a string"),e.isObject(r,"pipTranslate.setTranslations or pipTranslateProvider.translations: second argument should be an object");var n=h[t]||{};h[t]=_.extend(n,r)}function a(e){if(_.isNull(e)||_.isUndefined(e))return"";var t=h[f]||{};return t[e]||e}function o(t){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateArray: argument should be an array");var r=[],n=h[f]||{};return _.each(t,function(e){var t=e||"";r.push(n[t]||t)}),r}function s(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateSet: third argument should be a string"),r=r||"id",n=n||"name";var i=[],a=h[f]||{};return _.each(t,function(e){var t={},o=e||"";t[r]=o,t[n]=a[o]||o,i.push(t)}),i}function u(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateObjects: first argument should be an array"),e.isString(r||"","pipTranslate.translateObjects: second argument should be a string"),e.isString(n||"","pipTranslate.translateObjects: third argument should be a string"),r=r||"name",n=n||"nameLocal";var i=h[f]||{};return _.each(t,function(e){var t=e,a=t[r]||"";t[n]=i[a]||a}),t}function l(t,r){if(e.isString(r||"","pipTranslate.translateById: second argument should be a string"),e.isString(t||"","pipTranslate.translateById: first argument should be a string"),t=t?t+"_":"",r=(t+r).replace(/ /g,"_").toUpperCase(),null==r)return"";var n=h[f]||{};return n[r]||r}function c(t,r,n,i){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSetById: first argument should be an array"),e.isString(r||"","pipTranslate.translateSetById: second argument should be a string"),e.isString(n||"","pipTranslate.translateSetById: third argument should be a string"),e.isString(i||"","pipTranslate.translateSetById: forth argument should be a string"),r=r?r.replace(/ /g,"_").toUpperCase():"",n=n||"id",i=i||"name";var a=[],o=h[f]||{};return _.each(t,function(e){var t={},s=e||"";t[n]=s,t[i]=o[r+"_"+s]||s,a.push(t)}),a}function p(t,r,n,i){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateStringsSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateStringsSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateStringsSet: third argument should be a string"),e.isString(i||"","pipTranslate.translateStringsSet: forth argument should be a string"),n=n||"id",i=i||"name",r=r?r.replace(/ /g,"_").toUpperCase()+"_":"";var a=[],o=h[f]||{};return _.each(t,function(e){var t={},s=e||"";t[n]=s,t[i]=o[r+s.replace(/ /g,"_").toUpperCase()]||r+s.replace(/ /g,"_").toUpperCase(),a.push(t)}),a}var f="en",d=!0,g=!0,h={en:{en:"English",ru:"Russian",es:"Spanish",pt:"Portuguese",de:"German",fr:"French"},ru:{en:"Английский",ru:"Русский",es:"Испанский",pt:"Португальский",de:"Немецкий",fr:"Французский"}};this.translations=i,this.language=t,this.use=t,this.persist=r,this.setRoot=n,this.$get=["$rootScope","$timeout","localStorageService","pipAssert",function(e,t,r,n){function h(r,n){r=void 0===r||!!r,n=void 0===n||!!n,e.$reset=r,e.$partialReset=n,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function b(t,i,a){return n.isString(t||"","pipTranslate.use: argument should be a string"),null!=t&&t!=f&&(f=t,d&&r.set("language",f),g&&(e.$language=f),h(i,a),e.$broadcast("pipLanguageChanged",t)),f}return d&&(f=r.get("language")||f),g&&(e.$language=f),{use:b,translations:i,translate:a,translateArray:o,translateSet:s,translateObjects:u,translateById:l,translateSetById:c,translateStringsSet:p}}]}])}(),function(){"use strict";var e=angular.module("pipCodes",[]);e.factory("pipCodes",function(){function e(e){if(null==e)return 0;for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}function t(){return Math.random().toString(36).substr(2,10).toUpperCase()}return{hash:e,verification:t}})}(),function(){"use strict";var e=angular.module("pipUtils.Collections",[]);e.factory("pipCollections",function(){var e={};return e.indexBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return n;return null},e.findBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return e[n];return null},e.remove=function(e,t){if(!e||!e.length)return null;for(var r=0;r<e.length;r++)e[r]==t&&(e.splice(r,1),r--)},e.removeBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)e[n][t]==r&&(e.splice(n,1),n--)},e.replaceBy=function(e,t,r,n){if(!e||!e.length)return null;for(var i=0;i<e.length;i++)if(e[i][t]==r)return void(e[i]=n)},e.difference=function(e,t,r){var n=[];return _.each(e,function(e){var i=_.find(t,function(t){return r(e,t)});null==i&&n.push(e)}),n},e})}(),function(){"use strict";var e=angular.module("pipFormat",[]);e.factory("pipFormat",function(){function e(e,t){if(!e||""==e)return"";var r=e.indexOf("\n");return r=r>=0?r:e.length,r=r<t?e.length:t,e.substring(0,r)}function t(){function e(e){return toString.call(e).slice(8,-1).toLowerCase()}var r=strRepeat,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var a,o,s,u,l,c,p,f=1,d=n.length,g="",h=[];for(o=0;o<d;o++)if(g=e(n[o]),"string"===g)h.push(n[o]);else if("array"===g){if(u=n[o],u[2])for(a=i[f],s=0;s<u[2].length;s++){if(!a.hasOwnProperty(u[2][s]))throw new Error(t('[_.sprintf] property "%s" does not exist',u[2][s]));a=a[u[2][s]]}else a=u[1]?i[u[1]]:i[f++];if(/[^s]/.test(u[8])&&"number"!=e(a))throw new Error(t("[_.sprintf] expecting number but found %s",e(a)));switch(u[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(u[8])&&u[3]&&a>=0?"+"+a:a,c=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",p=u[6]-String(a).length,l=u[6]?r(c,p):"",h.push(u[5]?a+l:l+a)}return h.join("")},n.cache={},n.parse=function(e){for(var t=e,r=[],n=[],i=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(r[2]){i|=1;var a=[],o=r[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(a.push(s[1]);""!==(o=o.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(o)))a.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");a.push(s[1])}r[2]=a}else i|=2;if(3===i)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");n.push(r)}t=t.substring(r[0].length)}return n},n}return result=t,result.sample=e,result.format=t,result.sprintf=t,result})}(),function(){"use strict";var e=angular.module("pipUtils.General",["pipState","pipAssert"]);e.factory("pipUtils",["$rootScope","$window","$state","pipAssert",function(e,t,r,n){function i(e,t,r,n){if(!e||!e.length)return null;for(var i=0;i<e.length;i++)if(e[i][t]==r)return void(e[i]=n)}function a(e){return null==e?"":""+e}function o(e){var t=new RegExp("^[0-9a-fA-F]{24}$");return t.test(e)}function s(e,t){return null==e&&null==t||null!=e&&null!=t&&e.toString()==t.toString()}function u(e,t){return(null!=e||null!=t)&&(null==e||null==t||e.toString()!=t.toString())}function l(e,t){return _.some(e,function(e){return s(e,t)})}function c(e,t,r,n){return _.isObject(t)&&"undefined"==typeof n&&(n=r,r=t,t=n),!!(r[n]||"number"==typeof r[n]&&r[n]%1==0)&&(e[t]=r[n],!0)}function p(e,t,r){var n=e[t],i=e[r];n?e[r]=n:delete e[r],i?e[t]=i:delete e[t]}function f(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function d(e){return _.map(e,function(e){return e?e.toString():0})}Object.prototype.toString;return{copyProperty:c,copy:c,swapProperties:p,swap:p,convertToBoolean:f,toBoolean:f,toBool:f,convertObjectIdsToString:d,OidToString:d,generateVerificationCode:generateVerificationCode,vercode:generateVerificationCode,equalObjectIds:s,eqOid:s,notEqualObjectIds:u,neqOid:u,containsObjectId:l,hasOid:l,isObjectId:o,hashCode:hashCode,makeString:a,replaceBy:i}}])}(),function(){"use strict";var e=angular.module("pipScroll",[]);e.factory("pipScroll",function(){function e(e,t,r){e&&t&&(void 0==r&&(r=300),setTimeout(function(){if($(t).position()){var n=Math.abs($(e).scrollTop()-$(t).position().top);if(!(n<20)){var i=$(e).scrollTop()+($(t).position().top-20);r>0&&$(e).animate({scrollTop:i+"px"},r)}}},100))}return{scrollTo:e}})}(),function(){"use strict";var e=angular.module("pipSystemInfo",[]);e.factory("pipSystemInfo",["$rootScope","$window",function(e,t){function r(){var e=t.navigator.userAgent;return e.search(/Edge/)>-1?"edge":e.search(/MSIE/)>-1?"ie":e.search(/Trident/)>-1?"ie":e.search(/Firefox/)>-1?"firefox":e.search(/Opera/)>-1?"opera":e.search(/OPR/)>-1?"opera":e.search(/YaBrowser/)>-1?"yabrowser":e.search(/Chrome/)>-1?"chrome":e.search(/Safari/)>-1?"safari":e.search(/Maxthon/)>-1?"maxthon":"unknown"}function n(){var e,r,n=t.navigator.userAgent;switch(n.search(/Edge/)>-1&&(e="edge"),n.search(/MSIE/)>-1&&(e="ie"),n.search(/Trident/)>-1&&(e="ie11"),n.search(/Firefox/)>-1&&(e="firefox"),n.search(/Opera/)>-1&&(e="opera"),n.search(/OPR/)>-1&&(e="operaWebkit"),n.search(/YaBrowser/)>-1&&(e="yabrowser"),n.search(/Chrome/)>-1&&(e="chrome"),n.search(/Safari/)>-1&&(e="safari"),n.search(/Maxthon/)>-1&&(e="maxthon"),e){case"edge":r=n.split("Edge")[1].split("/")[1];break;case"ie":r=n.split("MSIE ")[1].split(";")[0];break;case"ie11":e="ie",r=n.split("; rv:")[1].split(")")[0];break;case"firefox":r=n.split("Firefox/")[1];break;case"opera":r=n.split("Version/")[1];break;case"operaWebkit":r=n.split("OPR/")[1];break;case"yabrowser":r=n.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":r=n.split("Chrome/")[1].split(" ")[0];break;case"safari":r=n.split("Version/")[1].split(" ")[0];break;case"maxthon":r=n.split("Maxthon/")[1]}return r}function i(){var e=t.navigator.userAgent;return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(e.toLowerCase())?"mobile":"desktop"}function a(){return"desktop"==i()}function o(){return"mobile"==i()}function s(){return null}function l(){var e=t.navigator.userAgent;try{var r=(/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(e.toLowerCase())||[u])[0].replace("sunos","solaris"),n=/(android)/.exec(e.toLowerCase())||"";return!n||"android"!=n&&"android"!=n[0]?r:"android"}catch(e){return"unknown"}}function c(e){e||(e={edge:11,ie:11,firefox:43,opera:35,chrome:47});var t=r(),i=n();return i=i.split(".")[0],t&&e[t]&&i>=e[t],!0}return{getBrowserName:r,getBrowserVersion:n,getPlatform:i,isDesktop:a,isMobile:o,isCordova:s,getOS:l,isSupported:c}}])}(),function(){"use strict";var e=angular.module("pipTags",[]);e.factory("pipTags",function(){function e(e){return e?_.trim(e.replace(/(_|#)+/g," ")):null}function t(e){return e?e.replace(/( |_|#)/g,"").toLowerCase():null}function r(e,r){return null==e&&null==r||null!=e&&null!=r&&t(e)==t(r)}function n(t){return _.isString(t)&&(t=t.split(/( |,|;)+/)),t=_.map(t,function(t){return e(t)})}function i(e){return _.isString(e)&&(e=e.split(/( |,|;)+/)),e=_.map(e,function(e){return t(e)})}function a(e,t){var r=n(e.tags);return _.each(t,function(t){var i=e[t]||"";if(""!=i){var a=i.match(/#\w+/g);r=r.concat(n(a))}}),_.uniq(r)}return{equal:r,normalizeOne:e,normalizeAll:n,normalize:n,compressOne:t,compressAll:i,compress:i,extract:a}})}(),function(){"use strict";angular.module("pipUtils",["pipUtils.General","pipUtils.Strings","pipUtils.Collections"])}();
!function(t){"use strict";t.module("pipButtons",["pipToggleButtons","pipRefreshButton","pipFabTooltipVisibility"])}(window.angular),function(t){try{t=angular.module("pipButtons.Templates")}catch(n){t=angular.module("pipButtons.Templates",[])}t.run(["$templateCache",function(t){t.put("toggle_buttons/toggle_buttons.html",'<div class="pip-toggle-buttons flex layout-row {{class}}" pip-selected="bufButtonIndex" pip-enter-space-press="enterSpacePress($event)" ng-if="$mdMedia(\'gt-xs\')"><md-button tabindex="-1" ng-repeat="button in buttons" ng-class="{\'md-accent md-raised selected color-accent-bg\' : currentButtonIndex == $index}" ng-attr-style="{{ \'background-color:\' + (currentButtonIndex == $index ? button.backgroundColor : \'\') + \'!important\' }}" class="pip-selectable pip-chip-button flex" ng-click="buttonSelected($index, $event)" ng-disabled="button.disabled || disabled()">{{button.name || button.title | translate}} <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span></md-button></div><md-input-container class="md-block" ng-if="$mdMedia(\'xs\')"><md-select ng-model="currentButtonIndex" ng-disabled="disabled()" aria-label="DROPDOWN" md-on-close="buttonSelected(currentButtonIndex)"><md-option ng-repeat="action in buttons" value="{{ ::$index }}">{{ (action.title || action.name) | translate }} <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span></md-option></md-select></md-input-container>')}])}(),function(){"use strict";var t=angular.module("pipButtons.Translate",[]);t.filter("translate",["$injector",function(t){var n=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return n?n.translate(t)||t:t}}])}(),function(){"use strict";var t=angular.module("pipFabTooltipVisibility",[]);t.directive("pipFabTooltipVisibility",["$parse","$timeout",function(t,n){return{restrict:"A",scope:!1,controller:["$scope","$attrs",function(e,i){var o=t(i.pipFabTooltipVisibility),u=t(i.pipFabShowTooltip),s=u.assign;e.$watch(o,function(t){t?n(function(){s(e,t)},600):s(e,t)})}]}}])}(),function(t){"use strict";var n=t.module("pipRefreshButton",["ngMaterial"]);n.directive("pipRefreshButton",["$parse",function(t){return{restrict:"EA",scope:!1,template:String()+'<md-button class="pip-refresh-button" tabindex="-1" ng-click="onClick($event)" aria-label="REFRESH"><md-icon md-svg-icon="icons:refresh"></md-icon><span class="pip-refresh-text"></span></md-button>',replace:!1,link:function(n,e,i){function o(){p.hide()}var u,s,c,a=t(i.pipText),r=t(i.pipVisible),l=t(i.pipRefresh),p=e.children(".md-button"),d=p.children(".pip-refresh-text");c=function(){s=a(n),d.text(s),p.show(),u=p.width(),p.css("margin-left","-"+u/2+"px")},n.onClick=function(){l(n)},n.$watch(r,function(t){t?c():o()}),n.$watch(a,function(t){d.text(t)})}}}])}(window.angular),function(t,n){"use strict";var e=t.module("pipToggleButtons",["pipButtons.Templates"]);e.directive("pipToggleButtons",function(){return{restrict:"EA",scope:{ngDisabled:"&",buttons:"=pipButtons",currentButtonValue:"=ngModel",currentButton:"=?pipButtonObject",change:"&ngChange"},templateUrl:"toggle_buttons/toggle_buttons.html",controller:["$scope","$element","$attrs","$mdMedia","$timeout",function(t,e,i,o,u){var s;t.$mdMedia=o,t.class=i.class||"",(!t.buttons||n.isArray(t.buttons)&&0===t.buttons.length)&&(t.buttons=[]),s=n.indexOf(t.buttons,n.find(t.buttons,{id:t.currentButtonValue})),t.currentButtonIndex=s<0?0:s,t.currentButton=t.buttons.length>0?t.buttons[t.currentButtonIndex]:t.currentButton,t.buttonSelected=function(n){t.disabled()||(t.currentButtonIndex=n,t.currentButton=t.buttons[t.currentButtonIndex],t.currentButtonValue=t.currentButton.id||n,u(function(){t.change&&t.change()}))},t.enterSpacePress=function(n){t.buttonSelected(n.index)},t.disabled=function(){if(t.ngDisabled)return t.ngDisabled()}}],link:function(t,n){n.on("focusin",function(){n.addClass("focused-container")}).on("focusout",function(){n.removeClass("focused-container")})}}})}(window.angular,window._);
!function(n){"use strict";n.module("pipLanding",[])}(window.angular);
!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,t,n){function e(){var e,l,r=$(".pip-main-body"),s=$(".pip-card-container"),p=o.width(),a=r.width(),u=r.height(),c=n.minWidth?Math.floor(n.minWidth):null,d=n.minHeight?Math.floor(n.minHeight):null,h=n.width?Math.floor(n.width):null,m=n.height?Math.floor(n.height):null;if(p<=768)c=null,d=null,h=null,m=null,a=null,u=null;else{var f=p>1200?24:16;a-=2*f,u-=2*f,c=c?Math.min(c,a):null,d=d?Math.min(d,u):null,h=h?Math.min(h,a):null,m=m?Math.min(m,u):null}if(t.css("max-width",a?a+"px":""),t.css("min-width",c?c+"px":""),t.css("width",h?h+"px":""),t.css("height",m?m+"px":""),s.hasClass("pip-outer-scroll"))s.addClass("pip-scroll"),p<=768?(e=0,l=0):(e=s.width()/2-t.width()/2-16,l=Math.max(s.height()/2-t.height()/2-16,0)),t.css("left",e),t.css("top",l),setTimeout(function(){t.css("display","flex")},100);else{t.css("max-height",u?u+"px":""),t.css("min-height",d?d+"px":"");var g=t.find(".pip-header:visible"),w=t.find(".pip-footer:visible"),v=t.find(".pip-body"),y=u||r.height();g.length>0&&(y-=g.outerHeight(!0)),w.length>0&&(y-=w.outerHeight(!0)),v.css("max-height",y+"px")}i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-card"),i.$on("pipWindowResized",e),e(),setTimeout(e,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EA",controller:"pipDialogController"}}),i.controller("pipDialogController",["$scope","$element","$attrs",function(i,t,n){function e(){var e=o.width(),l=o.height(),r=n.minWidth?Math.floor(n.minWidth):null,s=n.minHeight?Math.floor(n.minHeight):null,p=n.width?Math.floor(n.width):null,a=n.height?Math.floor(n.height):null,u=e>1200?24:16;e-=2*u,l-=2*u,r=r&&r<e?r:null,s=s&&s<l?s:null,p=p?Math.min(p,e):null,a=a?Math.min(a,l):null,t.css("max-width",e?e+"px":""),t.css("max-height",l?l+"px":""),t.css("min-width",r?r+"px":""),t.css("min-height",s?s+"px":""),t.css("width",p?p+"px":""),t.css("height",a?a+"px":""),i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-dialog"),i.$on("pipWindowResized",e),i.$on("pipResizeLayout",e),e(),o.trigger("resize")}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,t,n){t.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,t){t.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope",function(i,t,n){function e(){n.$broadcast("pipWindowResized")}var o=$(window);t.addClass("pip-main"),o.bind("resize",e),i.$on("$destroy",function(){n.$size=void 0,o.unbind("resize",e)}),n.$on("pipResizeWindow",function(i){setTimeout(e,0)}),setTimeout(e,0)}])}(),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,t,n){t.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,t,n){function e(t){var n,e=o.width();if(e>767){e-=48;var u=Math.floor(e/l);n=(l+16)*u-16,n>e&&(u--,n=(l+16)*u-16),u<1?(n=e,a.css("width",n+"px")):a.css("width",l+"px"),r.css("width",n+1+"px")}else e-=32,n=e,a.css("width",n+"px"),r.css("width",n+1+"px");(s!=n||t)&&(s=n,p.layout(),i.$broadcast("pipLayoutResized"))}var o=$(window),l=n.columnWidth?Math.floor(n.columnWidth):440,r=t.children(".pip-tiles-container"),s=null,p=Masonry.data(r[0]);t.addClass("pip-tiles");var a=$('<div class="pip-tile-sizer"></div>');a.appendTo(r),i.$on("pipWindowResized",function(){e(!1)}),i.$on("pipResizeLayout",function(){e(!0)}),e()}function t(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var n=angular.module("pipLayout.Tiles",["wu.masonry"]);n.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,n){return t(n.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}();
!function(){"use strict";var n=angular.module("pipSplit",[]);n.run(["$rootScope","pipSplit",function(n,i){n.$on("$stateChangeStart",function(n,r,t,a,e){var o=$(".pip-split");o.length>0&&(o.removeClass("pip-transition-forward"),o.removeClass("pip-transition-back"),r.name!=a.name&&(i.forwardTransition(r,a)?o.addClass("pip-transition-forward"):o.addClass("pip-transition-back")))})}]),n.provider("pipSplit",function(){function n(n){if(!_.isArray(n)||0==n.length)throw new Error("Transition sequence must be an array of state names");r.push(n)}function i(n,i){var t,a,e;for(t=0;t<r.length;t++)if(a=r[t].indexOf(n.name),e=r[t].indexOf(i.name),a>-1)return a>e;return!1}var r=[];this.addTransitionSequence=n,this.$get=function(){return{forwardTransition:i}}})}();
!function(e){"use strict";e.module("pipControls",["pipMarkdown","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipUnsavedChanges"])}(window.angular),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("color_picker/color_picker.html",'<ul class="pip-color-picker lp0 {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("popover/popover.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="showProgress()"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(e){try{e=angular.module("pipControls.Templates")}catch(o){e=angular.module("pipControls.Templates",[])}e.run(["$templateCache",function(e){e.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var m0 pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed m0 lm8" ng-if="toast.type==\'error\' && toast.error && showDetails" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed m0 lm8" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(e,o){"use strict";var n=e.module("pipColorPicker",["pipFocused","pipControls.Templates"]);n.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),n.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(e,n,t,i){var r=["purple","lightgreen","green","darkred","pink","yellow","cyan"];e.class=t.class||"",(!e.colors||o.isArray(e.colors)&&0===e.colors.length)&&(e.colors=r),e.currentColor=e.currentColor||e.colors[0],e.currentColorIndex=e.colors.indexOf(e.currentColor),e.disabled=function(){return!e.ngDisabled||e.ngDisabled()},e.selectColor=function(o){e.disabled()||(e.currentColorIndex=o,e.currentColor=e.colors[e.currentColorIndex],i(function(){e.$apply()}),e.colorChange&&e.colorChange())},e.enterSpacePress=function(o){e.selectColor(o.index)}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipControls.Translate",[]);e.filter("translate",["$injector",function(e){var o=e.has("pipTranslate")?e.get("pipTranslate"):null;return function(e){return o?o.translate(e)||e:e}}])}(),function(e,o,n){"use strict";var t=e.module("pipImageSlider",["pipSliderButton","pipSliderIndicator","pipImageSlider.Service"]);t.directive("pipImageSlider",function(){return{scope:!1,controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(e,t,i,r,a,s,l){function p(){C&&C(e,w)}function c(){v=s(function(){g=w+1===m.length?0:w+1,f="next",h()},b||$)}function u(){s.cancel(v)}function d(){u(),c()}var m,g,f,v,h,C=r(i.pipImageSliderIndex).assign,w=0,k=r(i.pipAnimationType)(e),$=4500,b=r(i.pipAnimationInterval)(e);t.addClass("pip-image-slider"),t.addClass("pip-animation-"+k),e.swipeStart=0,p(),a(function(){m=t.find(".pip-animation-block"),m.length>0&&n(m[0]).addClass("pip-show")}),c(),h=o.throttle(function(){l.toBlock(k,m,w,g,f),w=g,p()},600),e.nextBlock=function(){d(),g=w+1===m.length?0:w+1,f="next",h()},e.prevBlock=function(){d(),g=w-1<0?m.length-1:w-1,f="prev",h()},e.slideTo=function(e){e===w||e>m.length-1||(d(),g=e,f=e>w?"next":"prev",h())},t.on("$destroy",function(){u()})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipImageSlider.Service",[]);t.service("$pipImageSlider",["$timeout",function(e){function o(o,n){o.removeClass("animated").addClass("pip-next"),e(function(){o.addClass("animated").addClass("pip-show").removeClass("pip-next"),n.addClass("animated").removeClass("pip-show")},100)}function t(o,n){o.removeClass("animated"),e(function(){o.addClass("animated").addClass("pip-show"),n.addClass("animated").addClass("pip-next").removeClass("pip-show"),e(function(){n.removeClass("pip-next").removeClass("animated")},r-100)},100)}function i(e,i,r,a,s){var l=n(i[r]),p=a,c=n(i[p]);"carousel"===e?(n(i).removeClass("pip-next").removeClass("pip-prev"),s&&"prev"===s&&t(c,l),s&&"next"===s&&o(c,l),(!s||"next"!==s&&"prev"!==s)&&a&&a<r?t(c,l):o(c,l)):(l.addClass("animated").removeClass("pip-show"),c.addClass("animated").addClass("pip-show"))}var r=550;return{nextCarousel:o,prevCarousel:t,toBlock:i}}])}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipSliderButton",[]);t.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs",function(o,n,t,i){var r=t(i.pipButtonType)(o),a=t(i.pipSliderId)(o);n.on("click",function(){a&&r&&e.element(document.getElementById(a)).scope()[r+"Block"]()})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipSliderIndicator",[]);t.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs",function(o,n,t,i){var r=t(i.pipSliderId)(o),a=t(i.pipSlideTo)(o);n.css("cursor","pointer"),n.on("click",function(){!r||a&&a<0||e.element(document.getElementById(r)).scope().slideTo(a)})}]}})}(window.angular,window._,window.jQuery),function(e,o,n){"use strict";var t=e.module("pipMarkdown",["ngSanitize"]);t.directive("pipMarkdown",["$parse","$injector",function(e,t){var i=t.has("pipTranslate")?t.get("pipTranslate"):null;return{restrict:"EA",scope:!1,link:function(t,r,a){function s(e){var o="",t=[];return n.each(e,function(e){e.type&&"text"!==e.type&&(0===o.length&&i&&(o=i.translate("MARKDOWN_ATTACHMENTS")),t.indexOf(e.type)<0&&(t.push(e.type),o+=t.length>1?", ":" ",i&&(o+=i.translate(e.type))))}),o}function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function p(e){var t,i,l,p,c;n.isArray(e)?(c=n.find(e,function(e){return"text"===e.type&&e.text}),t=c?c.text:s(e)):t=e,i=a.pipLineCount&&n.isNumber(d()),i=i&&t&&t.length>0,p={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},t=o(t||"",p),i&&(l=1.5*d()),r.html("<div"+(i?u()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+l+'em">':' class="pip-markdown-content" style="max-height: '+l+'em">':u()?' class="pip-markdown-list">':">")+t+"</div>"),r.find("a").attr("target","blank"),!u()&&i&&r.append('<div class="pip-gradient-block"></div>')}var c=e(a.pipText),u=e(a.pipList),d=e(a.pipLineCount);p(c(t)),l(a.pipRebind)&&t.$watch(c,function(e){p(e)}),t.$on("pipWindowResized",function(){p(c(t))}),r.addClass("pip-markdown")}}}])}(window.angular,window.marked,window._),function(e,o,n){"use strict";var t=e.module("pipPopover",["pipPopover.Service"]);t.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(e,t,i,r,a){function s(){g.addClass("opened"),o(".pip-popover-backdrop").focus(),e.params.timeout&&r(function(){p()},e.params.timeout)}function l(){e.params.cancelCallback&&e.params.cancelCallback(),p()}function p(){g.removeClass("opened"),r(function(){g.remove()},100)}function c(e){e.stopPropagation()}function u(){if(e.params.element){var n=o(e.params.element),t=n.offset(),i=n.width(),r=n.height(),a=o(document).width(),s=o(document).height(),l=g.find(".pip-popover");t&&l.css("max-width",a-(a-t.left)).css("max-height",s-(t.top+r)-32,0).css("left",t.left-l.width()+i/2).css("top",t.top+r+16)}}function d(){if(e.params.calcHeight!==!1){var o=g.find(".pip-popover"),n=o.find(".pip-title"),t=o.find(".pip-footer"),i=o.find(".pip-content"),r=o.height()-n.outerHeight(!0)-t.outerHeight(!0);i.css("max-height",Math.max(r,0)+"px").css("box-sizing","border-box")}}function m(){g.find(".pip-popover").find(".pip-content").css("max-height","100%"),u(),d()}var g,f;g=o(".pip-popover-backdrop"),g.on("click keydown scroll",l),g.addClass(e.params.responsive!==!1?"pip-responsive":""),r(function(){u(),e.params.template&&(f=a(e.params.template)(e),i.find(".pip-popover").append(f)),s()}),r(function(){d()},200),e.onPopoverClick=c,e=n.defaults(e,e.$parent),t.$on("pipPopoverResize",m),o(window).resize(m)}]}})}(window.angular,window.jQuery,window._),function(e,o,n){"use strict";var t=e.module("pipPopover.Service",[]);t.service("pipPopover",["$compile","$rootScope","$timeout",function(e,t,i){function r(i){var r,s,p,c;r=o("body"),r.find("md-backdrop").length>0||(a(),s=t.$new(),p=i&&n.isObject(i)?i:{},s.params=p,s.locals=p.locals,c=e(l)(s),r.append(c))}function a(){var e=o(".pip-popover-backdrop");e.removeClass("opened"),i(function(){e.remove()},100)}function s(){t.$broadcast("pipPopoverResize")}var l;return l="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:r,hide:a,resize:s}}])}(window.angular,window.jQuery,window._),function(e){"use strict";var o=e.module("pipRoutingProgress",["ngMaterial"]);o.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,scope:{showProgress:"&",logoUrl:"@"},templateUrl:"progress/routing_progress.html",controller:"pipRoutingProgressController"}}),o.controller("pipRoutingProgressController",["$scope","$element","$attrs",function(e,o,n){function t(){e.logoUrl&&i.attr("src",e.logoUrl)}var i=o.children("img");t()}])}(window.angular),function(e,o){"use strict";var n=e.module("pipToasts",["ngMaterial","pipControls.Translate"]);n.controller("pipToastController",["$scope","$mdToast","toast","$injector",function(o,n,t,i){var r=i.has("pipErrorDetailsDialog")?i.get("pipErrorDetailsDialog"):null;o.message=t.message,o.actions=t.actions,o.toast=t,0===t.actions.length?o.actionLenght=0:1===t.actions.length?o.actionLenght=t.actions[0].toString().length:o.actionLenght=null,o.showDetails=null!=r,o.onDetails=function(){n.hide(),r&&r.show({error:o.toast.error,ok:"Ok"},e.noop,e.noop)},o.onAction=function(e){n.hide({action:e,id:t.id,message:t.message})}}]),n.service("pipToasts",["$rootScope","$mdToast",function(e,n){function t(){var e;w.length>0&&(e=w[0],w.splice(0,1),i(e))}function i(e){v=e,n.show({templateUrl:"toast/toast.html",hideDelay:e.duration||h,position:"bottom left",controller:"pipToastController",locals:{toast:v,sounds:k}}).then(function(e){v.successCallback&&v.successCallback(e),v=null,t()},function(e){v.cancelCallback&&v.cancelCallback(e),v=null,t()})}function r(e){v&&"error"!==e.type?w.push(e):i(e)}function a(e){var n=[];o.each(w,function(o){o.type&&o.type===e||n.push(o)}),w=o.cloneDeep(n)}function s(e){o.remove(w,{id:e})}function l(e){return o.find(w,{id:e})}function p(){w=o.reject(w,function(e){return"error"===e.type}),v&&"error"===v.type&&(n.cancel(),t())}function c(){f()}function u(e,o,n,t,i){r({id:i||null,type:"notification",message:e,actions:o||["ok"],successCallback:n,cancelCallback:t,duration:C})}function d(e,o,n,t){r({id:t||null,type:"message",message:e,actions:["ok"],successCallback:o,cancelCallback:n})}function m(e,o,n,t,i){r({id:t||null,error:i,type:"error",message:e,actions:["ok"],successCallback:o,cancelCallback:n})}function g(){n.cancel(),w=[]}function f(e){e?a(e):(n.cancel(),w=[])}var v,h=2e4,C=2e4,w=[],k={};return e.$on("$stateChangeSuccess",p),e.$on("pipSessionClosed",c),e.$on("pipIdentityChanged",c),{showNotification:u,showMessage:d,showError:m,hideAllToasts:g,clearToasts:f,removeToastsById:s,getToastById:l}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipUnsavedChanges",[]);e.directive("pipUnsavedChanges",["$window","$rootScope",function(e,o){return{restrict:"AE",scope:{unsavedChangesAvailable:"&pipUnsavedChangesAvailable",unsavedChangesMessage:"@pipUnsavedChangesMessage",afterLeave:"&pipUnsavedChangesAfterLeave"},link:function(n){e.onbeforeunload=function(){if(n.unsavedChangesAvailable())return o.$routing=!1,n.unsavedChangesMessage};var t=n.$on("$stateChangeStart",function(t){n.unsavedChangesAvailable()&&!e.confirm(n.unsavedChangesMessage)?(o.$routing=!1,t.preventDefault()):_.isFunction(n.afterLeave)&&n.afterLeave()});n.$on("$destroy",function(){e.onbeforeunload=null,t()})}}}])}();
!function(){"use strict";angular.module("pipLists",["pipFocused","pipSelected","pipInfiniteScroll","pipDraggable","pipTagList"])}(),function(){"use strict";var e=angular.module("pipDraggable",["pipUtils"]);e.service("pipDraggable",function(){var e=this;e.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}),e.directive("pipDrag",["$rootScope","$parse","$document","$window","pipDraggable","pipUtils",function(e,t,n,i,o,r){return{restrict:"A",link:function(a,l,p){function c(){x.left=l.css("css"),x.top=l.css("top"),x.position=l.css("position"),x.width=l.css("width")}a.value=p.ngDrag;var u,s,d,f,g,m,v,$,h=50,D=!1,E="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,S="touchstart mousedown",w="touchmove mousemove",C="touchend mouseup",b=a.$id,y=null,O=null,T=!1,R=null,x={},_=t(p.pipDragStart)||null,A=t(p.pipDragStop)||null,I=t(p.pipDragSuccess)||null,Y=!!angular.isDefined(p.allowTransform)&&a.$eval(p.allowTransform),k=t(p.pipDragData),L=r.toBoolean(p.pipVerticalScroll)||!0,W=r.toBoolean(p.pipHorizontalScroll)||!0,H=parseFloat(p.pipActivationDistance)||75,B=parseFloat(p.pipScrollDistance)||50,K=!1,F=angular.element(window),N=t(p.pipScrollContainer),P=angular.noop,U=function(){if(l.attr("pip-draggable","false"),l[0].querySelectorAll)var e=angular.element(l[0].querySelectorAll("[pip-drag-handle]"));else var e=l.find("[pip-drag-handle]");e.length&&($=e),X(!0),F=K?angular.element($element.parent()):p.pipScrollContainer?angular.element(N(a)):angular.element(window)},X=function(e){e&&(a.$on("$destroy",M),a.$watch(p.pipDrag,z),a.$watch(p.pipCenterAnchor,G),$?$.on(S,V):l.on(S,V),E||"img"!=l[0].nodeName.toLowerCase()||l.on("mousedown",function(){return!1}))},M=function(e){X(!1)},z=function(e,t){T=e},G=function(e,t){angular.isDefined(e)&&(D=e||"true")},q=function(e){return angular.isDefined(angular.element(e.target).attr("pip-cancel-drag"))},V=function(e){T&&(q(e)||"mousedown"==e.type&&0!=e.button||(c(),E?(j(),R=setTimeout(function(){j(),J(e)},h),n.on(w,j),n.on(C,j)):J(e)))},j=function(){clearTimeout(R),n.off(w,j),n.off(C,j)},J=function(t){T&&(t.preventDefault(),u=l[0].getBoundingClientRect(),O=Y?u:{left:document.body.scrollLeft,top:document.body.scrollTop},l.centerX=l[0].offsetWidth/2,l.centerY=l[0].offsetHeight/2,s=o.inputEvent(t).pageX,d=o.inputEvent(t).pageY,m=s-u.left,v=d-u.top,D?(f=s-l.centerX-i.pageXOffset,g=d-l.centerY-i.pageYOffset):(f=s-m-i.pageXOffset,g=d-v-i.pageYOffset),n.on(w,Q),n.on(C,Z),P=e.$on("draggable:_triggerHandlerMove",function(e,t){Q(t)}))},Q=function(t){T&&(t.preventDefault(),l.hasClass("pip-dragging")||(y=k(a),l.addClass("pip-dragging"),e.$broadcast("draggable:start",{x:s,y:d,tx:f,ty:g,event:t,element:l,data:y}),_&&a.$apply(function(){_(a,{$data:y,$event:t})})),s=o.inputEvent(t).pageX,d=o.inputEvent(t).pageY,(W||L)&&ie(),D?(f=s-l.centerX-O.left,g=d-l.centerY-O.top):(f=s-m-O.left,g=d-v-O.top),ne(f,g),e.$broadcast("draggable:move",{x:s,y:d,tx:f,ty:g,event:t,element:l,data:y,uid:b,dragOffset:O}))},Z=function(t){T&&(t.preventDefault(),e.$broadcast("draggable:end",{x:s,y:d,tx:f,ty:g,event:t,element:l,data:y,callback:ee,uid:b}),l.removeClass("pip-dragging"),l.parent().find(".pip-drag-enter").removeClass("pip-drag-enter"),te(),n.off(w,Q),n.off(C,Z),A&&a.$apply(function(){A(a,{$data:y,$event:t})}),P())},ee=function(e){I&&a.$apply(function(){I(a,{$data:y,$event:e})})},te=function(){Y?l.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):l.css({position:x.position,top:x.top,left:x.left,"z-index":"",width:x.width})},ne=function(e,t){var n=l.css("width");Y?l.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+t+")"}):l.css({left:e+"px",top:t+"px",position:"fixed","z-index":100,width:n})},ie=function(){var e=0,t=0,n=function(e){return e.offset()||{left:0,top:0}};if(W){var i=n(F).left,o=F.innerWidth(),r=i+o;s-i<H?e=-B:r-s<H&&(e=B)}if(L){var a=n(F).top,l=F.innerHeight(),p=a+l;d-a<H?t=-B+30:p-d<H&&(t=B-30)}if(0!==e||0!==t){var c=F.scrollLeft(),u=F.scrollTop();F.scrollLeft(c+e),F.scrollTop(u+t)}};U()}}}]),e.directive("pipDrop",["$parse","$timeout","$window","$document","pipDraggable",function(e,t,n,i,o){return{restrict:"A",link:function(n,o,r){n.value=r.pipDrop,n.isTouching=!1;var a=null,l=n.$id,p=!1,c=e(r.pipDropSuccess),u=e(r.pipDragStart),s=e(r.pipDragStop),d=e(r.pipDragMove),f=function(){g(!0)},g=function(e){e&&(n.$watch(r.pipDrop,v),n.$on("$destroy",m),n.$on("draggable:start",$),n.$on("draggable:move",h),n.$on("draggable:end",D))},m=function(e){g(!1)},v=function(e,t){p=e},$=function(e,i){p&&(E(i.x,i.y,i.element),r.pipDragStart&&t(function(){u(n,{$data:i.data,$event:i})}))},h=function(e,i){p&&(E(i.x,i.y,i.element),r.pipDragMove&&t(function(){d(n,{$data:i.data,$event:i})}))},D=function(e,i){return p&&l!==i.uid?(E(i.x,i.y,i.element)&&(i.callback&&i.callback(i),r.pipDropSuccess&&t(function(){c(n,{$data:i.data,$event:i,$target:n.$eval(n.value)})})),r.pipDragStop&&t(function(){s(n,{$data:i.data,$event:i})}),void S(!1,i.element)):void S(!1,i.element)},E=function(e,t,i){var r=w(e,t);return n.isTouching=r,r&&(a=o),S(r,i),r},S=function(e,t){e?(o.addClass("pip-drag-enter"),t.addClass("pip-drag-over")):a==o&&(a=null,o.removeClass("pip-drag-enter"),t.removeClass("pip-drag-over"))},w=function(e,t){var n=o[0].getBoundingClientRect();return e-=i[0].body.scrollLeft+i[0].documentElement.scrollLeft,t-=i[0].body.scrollTop+i[0].documentElement.scrollTop,e>=n.left&&e<=n.right&&t<=n.bottom&&t>=n.top};f()}}}]),e.directive("pipPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,n){var i=function(){t.attr("pip-draggable","false"),o(!0)},o=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",r)},r=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};i()}}}]),e.directive("pipCancelDrag",function(){return{restrict:"A",link:function(e,t,n){t.find("*").attr("pip-cancel-drag","pip-cancel-drag")}}})}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(n,i,o){function r(){var e=c?".pip-focusable":".pip-focusable:visible";l=i.find(e),p=l.length,l.on("focus",function(){i.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){i.removeClass("pip-focused-container")})}function a(e){var n=e.which||e.keyCode;if(n==t.KEY_CODE.LEFT_ARROW||n==t.KEY_CODE.UP_ARROW||n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var i=n==t.KEY_CODE.RIGHT_ARROW||n==t.KEY_CODE.DOWN_ARROW?1:-1,o=l.index(l.filter(".md-focused"))+i;o>=0&&o<p&&l[o].focus()}}var l,p,c=o.pipWithHidden;e(r),i.on("keydown",a),n.$watch(o.ngModel,function(){e(r)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,n,i){var o=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(i,r,a){function l(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function p(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+c(e)}function c(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function u(e){return h=parseFloat(e)||0}function s(e){if(D=!e,D&&v)return v=!1,C()}function d(e){return S=e}function f(e){if(null!=m&&m.unbind("scroll",C),m=e,null!=e)return m.bind("scroll",C)}function g(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=r.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return f(e);throw new Error("Invalid pip-scroll-container attribute.")}}var m,v=null,$=!0,h=null,D=null,E=null,S=!1,w=angular.element(t),C=function(){var t,n,o,a,u;return m===w?(t=l(m)+c(m[0].document.documentElement),o=p(r)+l(r)):(t=l(m),n=0,void 0!==p(m)&&(n=p(m)),o=p(r)-n+l(r)),S&&(o=l((r[0].ownerDocument||r[0].document).documentElement)),a=o-t,u=a<=l(m)*h+1,u?(v=!0,D?i.$$phase||e.$$phase?i.pipInfiniteScroll():i.$apply(i.pipInfiniteScroll):void 0):v=!1};return null!=o&&(C=_.throttle(C,o)),i.$on("$destroy",function(){if(m.unbind("scroll",C),null!=E)return E(),E=null}),i.$watch("pipScrollDistance",u),u(i.pipScrollDistance),i.$watch("pipScrollDisabled",s),s(i.pipScrollDisabled),i.$watch("pipScrollUseDocumentBottom",d),d(i.pipScrollUseDocumentBottom),f(w),i.pipScrollListenForEvent&&(E=e.$on(i.pipScrollListenForEvent,C)),i.$watch("pipScrollContainer",function(e){e!==m&&g(e)}),g(i.pipScrollContainer||[]),null!=a.pipScrollParent&&f(angular.element(r.parent())),null!=a.pipScrolImmediateCheck&&($=i.$eval(a.pipScrolImmediateCheck)),n(function(){if($)return C()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",["pipUtils"]);e.directive("pipSelected",["$parse","pipUtils","$mdConstant","$timeout",function(e,t,n,i){return{restrict:"A",scope:!1,link:function(i,o,r){function a(e){var t=e.itemIndex,n=e.itemId,i=e.items||o.find(h+v),r=i.length,a=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=i.index(i.filter("[pip-id="+n+"]"))),t>=0&&t<r?i[t]:void 0)}(),c=e.raiseEvent;a&&(o.find(h).removeClass("selected md-focused"),a=angular.element(a).addClass("selected md-focused").focus(),m||p(a),c&&l(i))}function l(e){function t(){var t=angular.element(e[D]),r=t.attr("pip-id");u&&u(i,D),d&&d(i,r),f&&f(i,{$event:{target:o,item:t,index:D,id:r,newIndex:D,oldIndex:n}})}var n=D;D=-1;for(var r=0;r<e.length;r++)if($(e[r]).hasClass("selected")){D=r;break}n!=D&&D!==-1&&i.$apply(t)}function p(e){if(!m){var t=o.offset().top,n=o.height(),i=t+n,r=e.offset().top,a=e.outerHeight(!0),l=r+a,p=o.scrollTop();t>r?o.scrollTop(p+r-t):i<l&&o.scrollTop(p+l-i)}}var c=r.pipSelected?e(r.pipSelected):null,u=c?c.assign:null,s=r.pipSelectedId?e(r.pipSelectedId):null,d=s?s.assign:null,f=r.pipSelect?e(r.pipSelect):null,g=r.pipEnterSpacePress?e(r.pipEnterSpacePress):null,m=t.toBoolean(r.pipNoScroll),v=t.toBoolean(r.pipSkipHidden)?":visible":"",h=t.toBoolean(r.pipTreeList)?".pip-selectable-tree":".pip-selectable",D=c(i),E=o.attr("tabindex"),S=r.pipSelectedWatch;o.attr("tabindex",E||0),t.toBoolean(r.pipTreeList)?i.$watch(s,function(e){setTimeout(function(){a({itemId:e,raiseEvent:!0})},0)}):i.$watch(c,function(e){a({itemIndex:e})}),S&&i.$watch(S,function(){setTimeout(function(){D=c(i),a({itemIndex:D})},100)}),a({itemIndex:D,items:o.find(h)}),o.on("click touchstart",h,function(e){a({item:e.currentTarget,raiseEvent:!0})}),o.on("keydown",function(e){var t=e.which||e.keyCode;if(t==n.KEY_CODE.ENTER||t==n.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),g&&g(i,{$event:{target:o,index:D,item:o.find(".selected")}});else if(t==n.KEY_CODE.LEFT_ARROW||t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.UP_ARROW||t==n.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var r=o.find(h+v),l=t==n.KEY_CODE.RIGHT_ARROW||t==n.KEY_CODE.DOWN_ARROW?1:-1,p=D+l;a({itemIndex:p,items:r,raiseEvent:!0})}}),o.on("focusin",function(e){var t,n=o.find(h+".selected");n.addClass("md-focused"),0===n.length&&(D=c(i),t=o.find(h+v),a({itemIndex:D||0,items:t,raiseEvent:!0}))}),o.on("focusout",function(e){o.find(h+".md-focused"+v).removeClass("md-focused")})}}}])}(),function(e){"use strict";var t=e.module("pipTagList",[]);t.directive("pipTagList",["$parse",function(e){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tags/tag_list.html",controller:["$scope","$element","$attrs",function(t,n,i){function o(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}var r;r=e(i.pipTags),n.css("display","block"),t.tags=r(t),o(i.pipRebind)&&t.$watch(r,function(){t.tags=r(t)}),n.addClass("pip-tag-list")}]}}])}(window.angular);
!function(e){"use strict";e.module("pipDateTimes",["pipDate","pipDateRange","pipTimeRangeEdit","pipTimeRange","pipDatesUtils","pipDateFormat","pipDateTimeFilters"]),e.module("pipDateTimesControls",["pipDateTimes"])}(window.angular),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("date/date.html",'<div class="pip-date layout-row flex" tabindex="-1"><md-input-container class="tm0 flex"><md-select class="pip-date-day tm0 flex" ng-disabled="disableControls" ng-model="day" placeholder="{{dayLabel}}" ng-change="onDayChanged()"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{:: opt }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-month tm0 flex" ng-disabled="disableControls" ng-model="month" placeholder="{{monthLabel}}" ng-change="onMonthChanged()"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{:: opt.name }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-year tm0 flex" ng-disabled="disableControls" ng-model="year" placeholder="{{yearLabel}}" ng-change="onYearChanged()"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{:: opt }}</md-option></md-select></md-input-container></div>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("date_range/date_range.html",'<div class="pip-date-range layout-row flex" tabindex="-1"><md-input-container ng-show="isDay()" class="tm0 pip-day flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-day w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onDayClick()" ng-model="day" ng-change="onDayChanged()" placeholder="{{dayLabel}}" aria-label="DAY"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show="isWeek()" class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-week w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" ng-model="week" ng-change="onWeekChange()" placeholder="{{weekLabel}}" aria-label="WEEK"><md-option ng-value="opt.id" ng-repeat="opt in weeks track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isDay() || isWeek()"></div><md-input-container ng-show="isMonth() && !monthFormatShort" class="tm0 flex min-w72" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show="isMonth() && monthFormatShort" class="flex tm0" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in shortMonths track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isMonth()"></div><md-input-container class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-year w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onYearClick()" ng-model="year" ng-change="onYearChanged()" placeholder="{{yearLabel}}" aria-label="YEAR"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{ opt }}</md-option></md-select></md-input-container></div>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("time_range/time_range.html",'<p><span ng-if="data.start != null">{{data.start | formatShortDateTime}}</span> <span class="rm4 lm4" ng-if="data.start && data.end">-</span> <span ng-if="data.end != null">{{data.end | formatShortDateTime}}</span></p>')}])}(),function(e){try{e=angular.module("pipDates.Templates")}catch(t){e=angular.module("pipDates.Templates",[])}e.run(["$templateCache",function(e){e.put("time_range_edit/time_range_edit.html",'<div class="event-edit layout-row layout-xs-column flex layout-align-start-start"><div flex="47" class="w-stretch rm24-flex0"><p class="text-caption text-grey tm0">{{startLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container" flex="49"><md-datepicker ng-model="data.startDate" xmd-placeholder="{{startLabel}}" ng-change="onChangeStartDate()" ng-disabled="isDisabled()" aria-label="START-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="START-TIME" class="tm0 bm0" ng-model="data.startTime" ng-disabled="isDisabled()" ng-change="onChangeStartTime()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex="47" class="w-stretch"><p class="text-caption text-grey tm0">{{endLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container flex-49"><md-datepicker ng-model="data.endDate" xmd-placeholder="{{endLabel}}" ng-disabled="isDisabled()" ng-change="onChangeEndDate()" aria-label="END-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="END-TIME" class="tm0 bm0" ng-model="data.endTime" ng-change="onChangeEndTime()" ng-disabled="isDisabled()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>')}])}(),function(e,t){"use strict";var a=e.module("pipDate",["pipDates.Templates"]);a.directive("pipDate",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",ngChange:"&"},templateUrl:"date/date.html",controller:"pipDateController"}}),a.controller("pipDateController",["$scope","$element","pipTranslate",function(e,a,n){function r(e,t){var a,n=31,r=[];for(4===e||6===e||9===e||11===e?n=30:2===e&&(n=t&&t%4===0?29:28),a=1;a<=n;a++)r.push(a);return r}function i(){var e,t=[];for(e=1;e<=12;e++)t.push({id:e,name:n.translate("MONTH_"+e)});return t}function o(){var t,a=(new Date).getFullYear(),n="future"===e.timeMode?a:a-100,r="past"===e.timeMode?a:a+100,i=[];if("past"===e.timeMode)for(t=r;t>=n;t--)i.push(t);else for(t=n;t<=r;t++)i.push(t);return i}function l(){var t=r(e.month,e.year);e.days.length!==t.length&&(e.day>t.length&&(e.day=t.length),e.days=t)}function d(a){var n=a?t.isDate(a)?a:new Date(a):null,i=n?n.getDate():null,o=n?n.getMonth()+1:null,l=n?n.getFullYear():null;e.month!==o&&e.year!==l&&(e.days=r(e.month,e.year)),e.day=i,e.month=o,e.year=l}function u(){var t;e.day&&e.month&&e.year&&(t=new Date(e.year,e.month-1,e.day,0,0,0,0),e.model=t,e.ngChange())}var p;e.onDayChanged=function(){u()},e.onMonthChanged=function(){l(),u()},e.onYearChanged=function(){l(),u()},p=e.model?t.isDate(e.model)?e.model:new Date(e.model):null,e.day=p?p.getDate():null,e.month=p?p.getMonth()+1:null,e.year=p?p.getFullYear():null,e.dayLabel=n.translate("DAY"),e.monthLabel=n.translate("MONTH"),e.yearLabel=n.translate("YEAR"),e.days=r(e.month,e.year),e.months=i(),e.years=o(),e.disableControls=!!e.disabled&&e.disabled(),e.$watch("model",function(e){d(e)}),e.$watch(e.disabled,function(t){e.disableControls=t})}])}(window.angular,window._),function(e,t){"use strict";var a=e.module("pipDateRange",["pipDates.Templates"]);a.directive("pipDateRange",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",pipChanged:"&",pipDateRangeType:"@",pipDateFormat:"@",pipNoLine:"@"},templateUrl:"date_range/date_range.html",controller:"pipDateRangeController"}}),a.controller("pipDateRangeController",["$scope","$element","pipTranslate","$mdMedia","$rootScope",function(e,a,n,r,i){function o(){N.day=e.day,N.month=e.month,N.year=e.year,N.week=e.week,N.dateRangeType=e.pipDateRangeType,N.model=e.model}function l(){e.days=s(e.month,e.year),e.weeks=c(e.month,e.year),e.months=g(),e.shortMonths=g(!0),e.years=T()}function d(){(!w.model||w.model&&w.model.getTime()>=e.model.getTime())&&e.weeks&&e.weeks[e.week]&&e.weeks[e.week].id<=0&&(e.month<12?e.month+=1:(e.month=1,e.year+=1),l())}function u(){var t;t=e.model?new Date(e.model):null,e.day=t?t.getUTCDate():null,e.month=t?t.getUTCMonth()+1:null,e.year=t?t.getUTCFullYear():null,e.week=t?m(e.day,e.month-1,e.year):null,l(),"weekly"===e.pipDateRangeType?(d(),f()):M(),y()}function p(e,t){var a=31;return 4===e||6===e||9===e||11===e?a=30:2===e&&(a=t&&t%4===0?29:28),a}function s(t,a){var n,r,o,l;for(l=i.$language||"en",n=p(t,a),e.nameDays=[],r=[],o=1;o<=n;o++)r.push(o),e.nameDays.push(e.daysWeek[l][new Date(a,t-1,o).getDay()]);return r}function m(e,t,a){var n,r,i;return n=new Date(Date.UTC(a,t,e)),r=n.getUTCDay()?n.getUTCDay():7,i=1===r?e:e+1-r}function D(e,t,a){var n,r;return n=e+6>t?t-e-6:e+6,r=e>0?e:a+e,r.toString()+" - "+Math.abs(n).toString()}function c(e,t){var a,n,r,i;for(a=[],n=p(e,t),i=m(1,e-1,t),r=e-1?p(e-1,t):p(12,t-1);i<n+1;)a.push({id:i,name:D(i,n,r)}),i+=7;return a}function g(){var e,t;for(e=[],t=1;t<=12;t++)e.push({id:t,name:n.translate("MONTH_"+t)});return e}function T(){var t,a,n,r=[];switch(e.timeMode){case"future":t=E,n=E+100;break;case"past":t=E-100,n=E;break;case"now":t=E-50,n=E+100;break;default:t=E-50,n=E+50}if("future"===e.timeMode)for(a=t;a<=n;a++)r.push(a);else for(a=n;a>=t;a--)r.push(a);return r}function M(){var t=s(e.month,e.year);switch(e.pipDateRangeType){case"monthly":e.day=1;break;case"yearly":e.month=1,e.day=1;break;default:e.days.length!==t.length&&e.day>t.length&&(e.day=t.length)}e.days=t}function f(){var t;t=c(e.month,e.year),e.week=m(e.week,e.month-1,e.year),e.weeks=t}function h(t){var a,n,r,i,o;a=t?new Date(t):null,n=a?a.getUTCDate():null,r=a?a.getUTCMonth()+1:null,i=a?a.getUTCFullYear():null,o=a?m(n,r-1,i):null,e.day===n&&e.month===r&&e.year===i&&e.week===o||(e.day=n,e.month=r,e.year=i,e.week=o,e.days=s(e.month,e.year),e.weeks=c(e.month,e.year))}function y(){var a;"weekly"===e.pipDateRangeType?(a=new Date(e.year,e.month-1,e.week,0,0,0,0),a=new Date(a.getTime()-6e4*a.getTimezoneOffset()),e.model=a):(a=new Date(e.year,e.month-1,e.day,0,0,0,0),a=new Date(a.getTime()-6e4*a.getTimezoneOffset()),e.model=a),w=t.cloneDeep(N),o(),e.onChange()}var _,E,S,O,w={},N={};_=new Date,E=_.getUTCFullYear(),S=_.getUTCMonth()+1,O=_.getUTCDate(),e.daysWeek={en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},e.onDayChanged=function(){y()},e.onMonthChanged=function(){if("weekly"===e.pipDateRangeType){var t,a;t=new Date(Date.UTC(e.year,e.month-1,1)),a=t.getUTCDay()?t.getUTCDay():7,e.week=m(a,e.month-1,e.year),d(),f()}else M();y()},e.onYearChanged=function(){var t,a;t=new Date(Date.UTC(e.year,e.month-1,1)),a=t.getUTCDay()?t.getUTCDay():7,"weekly"===e.pipDateRangeType?(e.week=m(a,e.month-1,e.year),f(),d()):M(),y()},e.onWeekChange=function(){"weekly"===e.pipDateRangeType?(f(),d()):M(),y()},e.isDay=function(){return"daily"===e.pipDateRangeType},e.isWeek=function(){return"weekly"===e.pipDateRangeType},e.isMonth=function(){return"daily"===e.pipDateRangeType||"weekly"===e.pipDateRangeType||"monthly"===e.pipDateRangeType},e.onChange=function(){e.pipChanged&&e.pipChanged()},e.$mdMedia=r,u(),e.disableControls=!!e.disabled&&e.disabled(),e.$watch("model",function(e,t){e!==t&&h(e)}),e.$watch(e.disabled,function(t){e.disableControls=t}),e.$watch("pipDateRangeType",function(e,t){e!==t&&t&&u()}),e.onYearClick=function(){e.year||(e.year=E)},e.onMonthClick=function(){e.month||(e.month=S)},e.onDayClick=function(){e.year||(e.day=O)}}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipDateTimeFilters",["pipDateFormat"]);e.filter("formatDate",["pipDateFormat",function(e){return function(t,a){return e.formatDate(t,a)}}]),e.filter("formatLongDate",["pipDateFormat",function(e){return function(t){return e.formatLongDate(t)}}]),e.filter("formatLongDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatLongDateWithYear(t)}}]),e.filter("formatMonth",["pipDateFormat",function(e){return function(t,a){return e.formatMonth(t,a)}}]),e.filter("formatShortDate",["pipDateFormat",function(e){return function(t){return e.formatShortDate(t)}}]),e.filter("formatShortDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatShortDateWithYear(t)}}]),e.filter("formatLongMonth",["pipDateFormat",function(e){return function(t){return e.formatLongMonth(t)}}]),e.filter("formatYear",["pipDateFormat",function(e){return function(t){return e.formatYear(t)}}]),e.filter("formatShortWeek",["pipDateFormat",function(e){return function(t){return e.formatShortWeek(t)}}]),e.filter("formatTime",["pipDateFormat",function(e){return function(t,a){return e.formatTime(t,a)}}]),e.filter("formatLongTime",["pipDateFormat",function(e){return function(t){return e.formatLongTime(t)}}]),e.filter("formatShortTime",["pipDateFormat",function(e){return function(t){return e.formatShortTime(t)}}]),e.filter("formatLongDateTime",["pipDateFormat",function(e){return function(t){return e.formatLongDateTime(t)}}]),e.filter("formatShortDateTime",["pipDateFormat",function(e){return function(t){return e.formatShortDateTime(t)}}]),e.filter("formatElapsedInterval",["pipDateFormat",function(e){return function(t){return e.formatElapsedInterval(t)}}]),e.filter("formatElapsedTime",["pipDateFormat",function(e){return function(t){return e.formatElapsedTime(t)}}]),e.filter("formatMillisecondsToSeconds",["pipDateFormat",function(e){return function(t){return e.formatMillisecondsToSeconds(t)}}]),e.filter("formatDateRange",["pipDateFormat",function(e){return function(t,a){return e.formatDateRange(t,a)}}]),e.filter("formatDateTimeRange",["pipDateFormat",function(e){return function(t,a){return e.formatDateTimeRange(t,a)}}])}(),function(){"use strict";var e=angular.module("pipDateFormat",["pipUtils","pipTranslate"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{MONTH_1:"January",MONTH_2:"February",MONTH_3:"March",MONTH_4:"April",MONTH_5:"May",MONTH_6:"June",MONTH_7:"July",MONTH_8:"August",MONTH_9:"September",MONTH_10:"October",MONTH_11:"November",MONTH_12:"December",MONTH_LONG_1:"January",MONTH_LONG_2:"February",MONTH_LONG_3:"March",MONTH_LONG_4:"April",MONTH_LONG_5:"May",MONTH_LONG_6:"June",MONTH_LONG_7:"July",MONTH_LONG_8:"August",MONTH_LONG_9:"September",MONTH_LONG_10:"October",MONTH_LONG_11:"November",MONTH_LONG_12:"December",MONTH_SHORT_1:"Jan",MONTH_SHORT_2:"Feb",MONTH_SHORT_3:"Mar",MONTH_SHORT_4:"Apr",MONTH_SHORT_5:"May",MONTH_SHORT_6:"Jun",MONTH_SHORT_7:"Jul",MONTH_SHORT_8:"Aug",MONTH_SHORT_9:"Sep",MONTH_SHORT_10:"Oct",MONTH_SHORT_11:"Nov",MONTH_SHORT_12:"Dec",DAY_1:"Monday",DAY_2:"Tuesday",DAY_3:"Wednesday",DAY_4:"Thursday",DAY_5:"Friday",DAY_6:"Saturday",DAY_7:"Sunday",ELAPSED_TODAY:"Today",ELAPSED_YESTERDAY:"Yesterday",ELAPSED_YEARS:"y",ELAPSED_MONTHS:"mth",ELAPSED_WEEKS:"w",ELAPSED_DAYS:"d",ELAPSED_HOURS:"h",ELAPSED_MINUTES:"m",ELAPSED_SECONDS:"s",ELAPSED_AT:"at",ELAPSED_AGO:"ago",ELAPSED_JUST_NOW:"Just now",ELAPSED_FEW_MIN_AGO:"Few min ago",ELAPSED_MIN_AGO:"min ago",ELAPSED_HOUR_AGO:"hour ago",ELAPSED_HOURS_AGO:"hours ago",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"hours ago"}),e.translations("ru",{MONTH_1:"январь",MONTH_2:"февраль",MONTH_3:"март",MONTH_4:"апрель",MONTH_5:"май",MONTH_6:"июнь",MONTH_7:"июль",MONTH_8:"август",MONTH_9:"сентябрь",MONTH_10:"октябрь",MONTH_11:"ноябрь",MONTH_12:"декабрь",MONTH_LONG_1:"января",MONTH_LONG_2:"февраля",MONTH_LONG_3:"марта",MONTH_LONG_4:"апреля",MONTH_LONG_5:"мая",MONTH_LONG_6:"июня",MONTH_LONG_7:"июля",MONTH_LONG_8:"августа",MONTH_LONG_9:"сентября",MONTH_LONG_10:"октября",MONTH_LONG_11:"ноября",MONTH_LONG_12:"декабря",MONTH_SHORT_1:"янв",MONTH_SHORT_2:"фев",MONTH_SHORT_3:"мар",MONTH_SHORT_4:"апр",MONTH_SHORT_5:"май",MONTH_SHORT_6:"июн",MONTH_SHORT_7:"июл",MONTH_SHORT_8:"авг",MONTH_SHORT_9:"сен",MONTH_SHORT_10:"окт",MONTH_SHORT_11:"ноя",MONTH_SHORT_12:"дек",DAY_1:"понедельник",DAY_2:"вторник",DAY_3:"среда",DAY_4:"четверг",DAY_5:"пятница",DAY_6:"суббота",DAY_7:"воскресенье",ELAPSED_TODAY:"Сегодня",ELAPSED_YESTERDAY:"Вчера",ELAPSED_YEARS:"г",ELAPSED_MONTHS:"мц",ELAPSED_WEEKS:"н",ELAPSED_DAYS:"д",ELAPSED_HOURS:"ч",ELAPSED_MINUTES:"м",ELAPSED_SECONDS:"с",ELAPSED_AT:"в",ELAPSED_AGO:"тн",ELAPSED_JUST_NOW:"Только что",ELAPSED_FEW_MIN_AGO:"Несколько мин тн",ELAPSED_MIN_AGO:"мин тн",ELAPSED_HOUR_AGO:"час тн",ELAPSED_HOURS_AGO:"часа тн",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"часов тн"})}]),e.factory("pipDateFormat",["pipDates","pipTranslate","$rootScope",function(e,t,a){function n(e){return e<10?"0"+e:e}function r(n,r,i){if(null==n)return"";var o=i||!1,n=_.isDate(n)?n:new Date(n),l=(new Date).getUTCFullYear(),d=n.getUTCFullYear(),u=n.getUTCMonth(),p=t.translate("MONTH_LONG_"+(u+1)),s=t.translate("MONTH_SHORT_"+(u+1)),m=t.translate("MONTH_"+(u+1)),D=n.getUTCDate(),c=e.toStartWeek(n),g=e.toEndWeek(n,-1);return 0==o&&"d MMMM yyyy"==r&&l===d&&(r="MMMM d"),0==o&&"d MMM yyyy"==r&&l===d&&(r="MMM d"),"MMM d"==r&&"ru"==a.$language&&(r="d MMM"),"MMMM d"==r&&"ru"==a.$language&&(r="d MMMM"),"d MMMM yyyy"==r?""+D+" "+p+" "+d:"MMMM d, yyyy"==r?""+m+" "+D+", "+d:"d MMM yyyy"==r?""+D+" "+s+" "+d:"MMM d, yyyy"==r?""+s+" "+D+", "+d:"d MMMM"==r?""+D+" "+p:"d MMM"==r?""+D+" "+s:"MMM d"==r?""+s+" "+D:"MMMM d"==r?""+p+" "+D:"yyyy/M/d"==r?""+d+"/"+u+"/"+D:"yyy-M-d"==r?""+d+"-"+u+"-"+D:"MMMM"==r?""+p+" "+d:"yyyy"==r?""+d:"ww"==r?""+c.getUTCDate()+" - "+g.getUTCDate()+" "+m+" "+d:""+D+" "+m+" "+d}function i(e){return r(e,"d MMMM yyyy")}function o(e){return r(e,"d MMM yyyy",!0)}function l(e){return r(e,"d MMMM yyyy",!0)}function d(e){return r(e,"d MMM yyyy")}function u(e){return r(e,"MMMM")}function p(e){return r(e,"yyyy")}function s(e){return r(e,"ww")}function m(e){return r(e,"d MMM")}function D(e){return"ru"==a.$language?r(e,"d MMMM"):r(e,"MMMM d")}function c(e,t){return e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e?"ru"==a.$language?r(t,"d MMM yyyy",!0):r(t,"MMM d, yyyy",!0):null==t||e==t?"ru"==a.$language?r(e,"d MMM yyyy",!0):r(e,"MMM d, yyyy",!0):e.getUTCFullYear()!==t.getUTCFullYear()?"ru"==a.$language?r(e,"d MMM yyyy",!0)+"-"+r(t,"d MMM yyyy",!0):r(e,"MMM d, yyyy",!0)+"-"+r(t,"MMM d, yyyy",!0):r(e,"d MMM")+" - "+r(t,"d MMM")+((new Date).getUTCFullYear()!==e.getUTCFullYear()?" "+r(e,"yyyy"):"")}function g(e,t){if(e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e&&null==t)return"";if(null==e)return E(t);if(null==t||e==t)return E(e);var a,n,i,o,l,d;return a=e.getUTCDate(),n=e.getUTCMonth(),i=e.getUTCFullYear(),o=t.getUTCDate(),l=t.getUTCMonth(),d=t.getUTCFullYear(),i!==d?r(e,"d MMM")+", "+i+" "+T(e,"hh:mm")+" - "+r(t,"d MMM")+", "+d+" "+T(t,"hh:mm"):n!=l&&!a!=o?r(e,"d MMM")+", "+T(e,"hh:mm")+" - "+r(t,"d MMM")+", "+T(t,"hh:mm"):T(e,"hh:mm")+" - "+T(t,"hh:mm")}function T(e,a){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var r=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),l="";return"en"==t.use()&&(l=r>=12?" PM":" AM",r%=12,0==r&&(r=12)),"hh:mm:ss"==a?""+n(r)+":"+n(i)+":"+n(o)+l:"hh:mm"==a?""+n(r)+":"+n(i)+l:""+n(r)+":"+n(i)+":"+n(o)+l}function M(e,a){return null==e?"":a?t.translate("MONTH_SHORT_"+e):t.translate("MONTH_"+e)}function f(e){return T(e,"hh:mm:ss")}function h(e){return T(e,"hh:mm")}function y(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),i(e)+" "+f(e))}function E(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),d(e)+" "+h(e))}function S(e,a){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var n=new Date,i=Math.floor((n.getTime()+n.getTimezoneOffset()-(e.getTime()+e.getTimezoneOffset()))/1e3);if(i<1)return t.translate("ELAPSED_JUST_NOW");var o,l,d,u,p,s,m;if(m=i%60,i=Math.floor(i/60),s=i%60,i=Math.floor(i/60),p=i%24,i/=24,o=Math.floor(i/365),i-=365*o,l=Math.floor(i/30),u=Math.floor(i-30*l),u%7==0?(d=Math.floor(u/7),u=0):d=0,"interval"==a){var D="";return o&&(D+=" "+o+t.translate("ELAPSED_YEARS"),d=u=p=s=m=null),l&&(D+=" "+l+t.translate("ELAPSED_MONTHS"),u=p=s=m=null),d&&(D+=" "+d+t.translate("ELAPSED_WEEKS"),p=s=m=null),u&&(D+=" "+u+t.translate("ELAPSED_DAYS"),s=m=null),p&&(D+=" "+p+t.translate("ELAPSED_HOURS"),m=null),s&&(D+=" "+s+t.translate("ELAPSED_MINUTES")),m&&(D+=" "+m+t.translate("ELAPSED_SECONDS")),""!=D?D+" "+t.translate("ELAPSED_AGO"):t.translate("ELAPSED_JUST_NOW")}return o>0?r(e,"d MMM yyyy"):l>0||d>0||u>1?r(e,"MMM d")+", "+T(e,"hh:mm"):1==u?t.translate("ELAPSED_YESTERDAY")+", "+T(e,"hh:mm"):p>10?t.translate("ELAPSED_TODAY")+", "+T(e,"hh:mm"):p>0?""+p+" "+(p<2?t.translate("ELAPSED_HOUR_AGO"):p<5?t.translate("ELAPSED_HOURS_AGO"):t.translate("ELAPSED_HOURS_AGO_MORE_THAN_FIVE")):s>10?""+s+" "+t.translate("ELAPSED_MIN_AGO"):s>0?t.translate("ELAPSED_FEW_MIN_AGO"):t.translate("ELAPSED_JUST_NOW")}function O(e){return S(e,"interval")}function w(e){return Math.floor(e/1e3)}return{formatDate:r,formatLongDate:i,formatShortDate:d,formatShortDateWithYear:o,formatLongDateWithYear:l,formatLongMonth:u,formatMonth:M,formatYear:p,formatShortWeek:s,formatShortDayAndMonth:m,formatLongDayAndMonth:D,formatDateRange:c,formatDateTimeRange:g,formatTime:T,formatLongTime:f,formatShortTime:h,formatLongDateTime:y,formatShortDateTime:E,formatElapsedTime:S,formatElapsedInterval:O,formatMillisecondsToSeconds:w}}])}(),function(e,t){"use strict";var a=e.module("pipTimeRange",[]);a.directive("pipTimeRange",["pipUtils",function(e){return{restrict:"EA",scope:{pipStartDate:"=",pipEndDate:"="},templateUrl:"time_range/time_range.html",link:function(e,a,n){function r(e){return e?new Date(e):null}function i(){null!==e.pipStartDate&&void 0!==e.pipStartDate&&(e.data.start=t.isDate(e.pipStartDate)?e.pipStartDate:r(e.pipStartDate))}function o(){null!==e.pipEndDate&&void 0!==e.pipEndDate&&(e.data.end=t.isDate(e.pipEndDate)?e.pipEndDate:r(e.pipEndDate))}function l(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}e.data={},e.data.start=null,e.data.end=null,i(),o(),l(n.pipRebind)&&(e.$watch("pipStartDate",function(){e.data.start=null,i()}),e.$watch("pipEndDate",function(){e.data.end=null,o()})),a.addClass("pip-time-range")}}}])}(window.angular,window._),function(e,t){"use strict";var a=e.module("pipTimeRangeEdit",["pipDateUtils","pipTranslate"]);a.directive("pipTimeRangeEdit",function(){return{restrict:"EA",scope:{pipStartDate:"=",pipChanged:"&",pipEndDate:"=",pipStartLabel:"@",pipEndLabel:"@",disabled:"&ngDisabled",pipSize:"="},templateUrl:"time_range_edit/time_range_edit.html",controller:"pipTimeRangeEditController"}}),a.controller("pipTimeRangeEditController",["$scope","$element","$attrs","pipDates","pipTranslate",function(e,a,n,r,i){function o(e){return e?new Date(e):null}function l(){var t,a;return e.data.startDate&&e.data.endDate?(t=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),a=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a-t):null}function d(){var t,a,n;return e.data.startDate?(e.data.startTime||(e.data.endTime?e.data.startTime=0===e.data.endTime?0:e.data.endTime-30:(t=new Date,t=t.getTime()-r.toStartDay(t),e.data.startTime=30*Math.floor(t/18e5))),e.data.endDate?(a=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),void(e.data.duration?(n=new Date(a.getTime()+e.data.duration),e.data.endDate=r.toStartDay(n),n=n.getTime()-e.data.endDate.getTime(),e.data.endTime=30*Math.floor(n/18e5)):(n=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a>=n&&(e.data.endDate=r.toStartDay(new Date(a.getTime()+18e5)),e.data.endTime=(e.data.startTime+30)%1440)))):void(e.data.endTime=null)):void(e.data.startTime=null)}function u(){var t,a,n;return e.data.endDate?(e.data.endTime||(e.data.startTime?e.data.endTime=1410===e.data.startTime?1410:e.data.startTime+30:(t=new Date,t=t.getTime()-r.toStartDay(t),e.data.endTime=30*Math.floor(t/18e5))),e.data.startDate?(a=new Date(e.data.startDate.getTime()+60*e.data.startTime*1e3),n=new Date(e.data.endDate.getTime()+60*e.data.endTime*1e3),a>=n&&(e.data.startDate=r.toStartDay(new Date(n.getTime()-18e5)),e.data.startTime=e.data.endTime%1440===0?1410:e.data.endTime-30),void(e.data.duration=l())):void(e.data.startTime=null)):void(e.data.endTime=null)}function p(){var t;e.data.bind=!1,e.data.startDate&&(t=e.data.startTime?60*e.data.startTime*1e3:0,e.pipStartDate=new Date(e.data.startDate.getTime()+t)),e.data.endDate&&(t=e.data.endTime?60*e.data.endTime*1e3:0,e.pipEndDate=new Date(e.data.endDate.getTime()+t)),e.data.bind=!0}function s(){var a,n;null!==e.pipStartDate&&void 0!==e.pipStartDate&&(a=t.isDate(e.pipStartDate)?e.pipStartDate:null,a||(a=o(e.pipStartDate)),e.data.startDate=r.toStartDay(a),e.data.startTime=(new Date(a)-e.data.startDate)/6e4),null!==e.pipEndDate&&void 0!==e.pipEndDate&&(n=t.isDate(e.pipEndDate)?e.pipEndDate:null,a||(n=o(e.pipEndDate)),e.data.endDate=r.toStartDay(n),e.data.endTime=(new Date(n)-e.data.endDate)/6e4),d(),e.data.duration=l(),p()}function m(){var e,a,n,r;for(e=[],a=0;a<24;a++)for(n=0;n<2;n++)r=30*n,e.push({id:60*a+r,time:t.pad(a.toString(),3,"0").substr(0,2)+":"+t.pad(r.toString(),2,"0")});return e}function D(){e.data.startDate=null,e.data.startTime=null,e.data.endDate=null,e.data.endTime=null,e.data.duration=null}e.intervalTimeCollection=m(),e.data={},e.startLabel=e.pipStartLabel?i.translate(e.pipStartLabel):i.translate("EVENT_NEW_START_TIME"),e.endLabel=e.pipEndLabel?i.translate(e.pipEndLabel):i.translate("EVENT_NEW_END_TIME"),D(),s(),e.onChangeStartDate=function(){d(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeEndDate=function(){u(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeStartTime=function(){e.data.startDate||(e.data.startDate=r.toStartDay(new Date)),d(),e.data.duration=l(),p(),e.pipChanged()},e.onChangeEndTime=function(){e.data.endDate||(e.data.endDate=r.toStartDay(new Date)),u(),e.data.duration=l(),p(),e.pipChanged()},e.isDisabled=function(){return!!e.disabled&&e.disabled()},e.$watchGroup([e.pipStartDate,e.pipEndDate],function(){e.data.bind&&(D(),s())}),e.$watch(e.disabled,function(t){e.disableControls=t}),a.addClass("pip-time-range-edit")}])}(window.angular,window._),function(){"use strict";var e=angular.module("pipDatesUtils",[]);e.factory("pipDates",function(){var e={};return e.addHours=function(e,t){e=_.isDate(e)?e:new Date(e);var a=e.getTime()+36e5*t;return new Date(a)},e.toStartDay=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.toEndDay=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var a=new Date(e.getFullYear(),e.getMonth(),e.getDate());return new Date(a.getTime()+864e5+t)},e.toStartWeek=function(e){e=_.isDate(e)?e:new Date(e);var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()-24*(t-1)*36e5)},e.toEndWeek=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var a=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()+24*(8-a)*36e5+t)},e.toStartMonth=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),1)},e.toEndMonth=function(e,t){e=_.isDate(e)?e:new Date(e);var a=e.getMonth()+1,n=e.getFullYear();return a>11&&(n++,a=0),e=new Date(n,a,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toStartYear=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),0,1)},e.toEndYear=function(e,t){return e=_.isDate(e)?e:new Date(e),e=new Date(e.getFullYear()+1,0,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toUTCDate=function(e,t,a){return new Date(Date.UTC(e,t,a))},e.toUTCDate=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.fromUTCDate=function(e){return null==e&&(e=new Date),new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},e.toUTCStartWeek=function(e){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())));var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=1!=t?new Date(e.getTime()-24*(t-1)*36e5):e,new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.toUTCEndWeek=function(e,t){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))),t=null!=t?t:0;var a=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=new Date(e.getTime()+24*(8-a)*36e5+t),new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e})}();
!function(t){"use strict";t.module("pipDialogs",["pipInformationDialog","pipConfirmationDialog","pipOptionsDialog","pipOptionsBigDialog","pipErrorDetailsDialog"])}(window.angular),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("confirmation/confirmation.html",'<md-dialog class="pip-dialog pip-confirmation-dialog layout-column" width="400" md-theme="{{::theme}}"><div class="pip-header text-subhead1"><h3 class="m0">{{:: title | translate }}</h3></div><div class="pip-footer"><div><md-button ng-click="onCancel()">{{:: cancel | translate }}</md-button><md-button class="md-accent" ng-click="onOk()">{{:: ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("error_details/error_details.html",'<md-dialog class="pip-dialog pip-details-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-body"><div class="pip-header p0 bp8 text-subhead1">{{::\'ERROR_DETAILS\' | translate}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.code || (error.data && error.data.code)">{{::\'CODE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.code || (error.data && error.data.code)">{{error.code || error.data.code}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.path || (error.data && error.data.path)">{{::\'PATH\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.path || (error.data && error.data.path)">{{error.path || error.data.path}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{::\'ERROR\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{error.error || error.data.error}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{::\'METHOD\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{error.method || error.data.method}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{::\'MESSAGE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{error.message || error.data.message}}</div></div><div class="pip-footer rp16"><div><md-button class="md-accent m0" ng-click="onOk()">{{::\'DISMISS\' | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("information/information.html",'<md-dialog class="pip-dialog pip-information-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-header"><h3 class="m0">{{ title | translate }}</h3></div><div class="pip-body"><div class="pip-content">{{ content }}</div></div><div class="pip-footer"><div><md-button class="md-accent" ng-click="onOk()">{{ ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options.html",'<md-dialog class="pip-dialog pip-options-dialog layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 tp0 rp0 bp24 pip-scroll"><div class="pip-header"><h3 class="m0 bm16 text-title">{{::title | translate}}</h3><div ng-show="deletedTitle" class="bp16 tp8 text-subhead1 divider-bottom"><md-checkbox ng-model="deleted" aria-label="CHECKBOX" class="m0">{{::deletedTitle | translate}}</md-checkbox></div></div><div class="pip-content"><md-radio-group ng-model="selectedOptionName" class="pip-list md-primary" md-no-ink="true" ng-keypress="onKeyPress($event)" tabindex="0"><div ng-repeat="option in options" class="pip-list-item p0" md-ink-ripple="" ui-event="{ click: \'onOptionSelect($event, option)\' }" ng-class="{ selected: option.name == selectedOptionName }"><div class="pip-list-item"><md-icon class="pip-option-icon rm12" md-svg-icon="icons:{{option.icon}}" ng-if="option.icon"></md-icon><div class="pip-option-title">{{::option.title | translate}}</div><md-radio-button ng-value="option.name" tabindex="-1" aria-label="{{::option.title | translate}}"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class="pip-footer"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipDialogs.Templates")}catch(e){t=angular.module("pipDialogs.Templates",[])}t.run(["$templateCache",function(t){t.put("options/options_big.html",'<md-dialog class="pip-dialog pip-options-dialog-big layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body p0 pip-scroll" ng-class="{\'bp24\': !noActions}"><div class="pip-header" ng-class="{\'header-hint\': noTitle && hint}"><h3 class="m0 text-title" ng-if="!noTitle">{{::title | translate}}</h3><div ng-show="noTitle && hint" class="dialog-hint layout-row layout-align-start-center"><div class="w40" flex-fixed=""><md-icon md-svg-icon="icons:info-circle-outline"></md-icon></div><div>{{::hint | translate}}</div></div></div><div class="pip-divider" ng-if="!noTitle"></div><div class="pip-content"><div class="h8" ng-if="noTitle && hint"></div><md-list class="pip-menu pip-ref-list w-stretch" pip-selected="optionIndex" index="{{optionIndex }}" pip-select="onSelected($event)"><md-list-item class="pip-ref-list-item pip-selectable layout-row layout-align-start-center" ng-class="{\'selected\' : option.name == selectedOptionName, \'divider-bottom\': $index != options.length - 1}" md-ink-ripple="" xxxxng-keypress="onKeyPress($event)" ng-keyup="onKeyUp($event, $index)" ng-repeat="option in options"><div class="pip-content line-height-string max-w100-stretch" ng-click="onOptionSelect($event, option)"><p class="pip-title rp24-flex" ng-if="option.title" style="margin-bottom: 4px !important;">{{::option.title | translate}}</p><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.subtitle">{{::option.subtitle | translate}}</div><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.text" pip-translate-html="{{::option.text | translate}}"></div></div></md-list-item></md-list></div><div class="h8" ng-if="noActions"></div></md-dialog-content><div class="pip-footer" ng-if="!noActions"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()" style="margin-right: -6px">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){"use strict";var e=t.module("pipConfirmationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);e.factory("pipConfirmationDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"confirmation/confirmation.html",controller:"pipConfirmationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),e.controller("pipConfirmationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{CONFIRM_TITLE:"Confirm"}),a.translations("ru",{CONFIRM_TITLE:"Подтвердите"}),t.title=n.title||"CONFIRM_TITLE",t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL"):(t.title=n.title||"Confirm",t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel"),t.theme=e.$theme,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(){"use strict";var t=angular.module("pipDialogs.Translate",[]);t.filter("translate",["$injector",function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}])}(),function(t){"use strict";var e=t.module("pipErrorDetailsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);e.factory("pipErrorDetailsDialog",["$mdDialog",function(t){return{show:function(e,o,i){t.show({targetEvent:e.event,templateUrl:"error_details/error_details.html",controller:"pipErrorDetailsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()},function(){i&&i()})}}}]),e.controller("pipErrorDetailsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,e,o,i,n){var a=i.has("pipTranslate")?i.get("pipTranslate"):null;a?(a.translations("en",{ERROR_DETAILS:"Error details",CODE:"Code",PATH:"Path",ERROR:"Error code",METHOD:"Method",MESSAGE:"Message"}),a.translations("ru",{ERROR_DETAILS:"Детали ошибки",CODE:"Код",PATH:"Путь",ERROR:"Код ошибки",METHOD:"Метод",MESSAGE:"Сообщение"}),t.ok=n.ok||"OK",t.cancel=n.cancel||"CANCEL"):(t.ok=n.ok||"OK",t.cancel=n.cancel||"Cancel"),t.theme=e.$theme,t.error=n.error,t.onCancel=function(){o.cancel()},t.onOk=function(){o.hide()}}])}(window.angular),function(t,e){"use strict";var o=t.module("pipInformationDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);o.factory("pipInformationDialog",["$mdDialog",function(t){return{show:function(e,o){t.show({targetEvent:e.event,templateUrl:"information/information.html",controller:"pipInformationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){o&&o()})}}}]),o.controller("pipInformationDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,o,i,n,a){var l,r=a.message,s=n.has("pipTranslate")?n.get("pipTranslate"):null;s?(s.translations("en",{INFORMATION_TITLE:"Information"}),s.translations("ru",{INFORMATION_TITLE:"Информация"}),t.title=a.title||"INFORMATION_TITLE",t.ok=a.ok||"OK",r=s.translate(r)):(t.title=a.title||"Information",t.ok=a.ok||"OK");var p=n.has("pipFormat")?n.get("pipFormat"):null;t.theme=o.$theme,a.item&&p&&(l=e.truncate(a.item,25),r=p(r,l)),t.content=r,t.onOk=function(){i.hide()}}])}(window.angular,window._),function(t,e,o){"use strict";var i=t.module("pipOptionsDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);i.factory("pipOptionsDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options.html",controller:"pipOptionsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),i.controller("pipOptionsDialogController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,i,n,a,l){function r(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}var s=a.has("pipTranslate")?a.get("pipTranslate"):null;s?(s.translations("en",{OPTIONS_TITLE:"Choose Option"}),s.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=l.title||"OPTIONS_TITLE",t.applyButtonTitle=l.appleButtonTitle||"SELECT"):(t.title=l.title||"Choose Option",t.applyButtonTitle=l.appleButtonTitle||"Select"),t.theme=i.$theme,t.options=l.options,t.selectedOption=o.find(l.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.deleted=l.deleted,t.deletedTitle=l.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name},t.onKeyPress=function(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.onSelect())},t.onCancel=function(){n.cancel()},t.onSelect=function(){var e;e=o.find(l.options,{name:t.selectedOptionName}),n.hide({option:e,deleted:t.deleted})},setTimeout(r,500)}])}(window.angular,window.jQuery,window._),function(t,e,o){"use strict";var i=t.module("pipOptionsBigDialog",["ngMaterial","pipDialogs.Translate","pipDialogs.Templates"]);i.factory("pipOptionsBigDialog",["$mdDialog",function(t){return{show:function(e,o,i){function n(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options/options_big.html",controller:"pipOptionsDialogBigController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){n(),o&&o(t)},function(){n(),i&&i()})}}}]),i.controller("pipOptionsDialogBigController",["$scope","$rootScope","$mdDialog","$injector","params",function(t,i,n,a,l){function r(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}var s=a.has("pipTranslate")?a.get("pipTranslate"):null;s?(s.translations("en",{OPTIONS_TITLE:"Choose Option"}),s.translations("ru",{OPTIONS_TITLE:"Выберите опцию"}),t.title=l.title||"OPTIONS_TITLE",t.applyButtonTitle=l.applyButtonTitle||"SELECT"):(t.title=l.title||"Choose Option",t.applyButtonTitle=l.applyButtonTitle||"Select"),t.theme=i.$theme,t.options=l.options,t.noActions=l.noActions||!1,t.noTitle=l.noTitle||!1,t.hint=l.hint||"",t.selectedOption=o.find(l.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.optionIndex=o.findIndex(l.options,t.selectedOption),t.deleted=l.deleted,t.deletedTitle=l.deletedTitle,t.onOptionSelect=function(e,o){e.stopPropagation(),t.selectedOptionName=o.name,t.noActions&&t.onSelect()},t.onSelected=function(){t.selectedOptionName=t.options[t.optionIndex].name,t.noActions},t.onKeyUp=function(e,o){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),void 0!==o&&o>-1&&o<t.options.length&&(t.selectedOptionName=t.options[o].name,t.onSelect()))},t.onCancel=function(){n.cancel()},t.onSelect=function(){var e;e=o.find(t.options,{name:t.selectedOptionName}),n.hide({option:e,deleted:t.deleted})},setTimeout(r,500)}])}(window.angular,window.jQuery,window._);
!function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav"])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/primary_actions.html",'<md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-primary-actions-action md-icon-button m0" ng-class="{ \'pip-primary-actions-hide-sm\': action.hideSmall, \'pip-primary-actions-show-sm\': action.showSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-primary-actions-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("actions/secondary_actions.html",'<md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button m0" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset" ng-class="config.ngClasses" class="{{ config.cssClass }} color-primary-bg"><div class="md-toolbar-tools rp24-flex lp24-flex" ng-if="!searchEnabled"><md-button class="md-icon-button flex-fixed p0" ng-if="config.navIconType != \'none\'" ng-class="{ \'pip-third-party\': getParty() && !getUser(\'owner\') }" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.navIconType==\'menu\' && (!getParty() || getUser(\'owner\'))" md-svg-icon="icons:menu"></md-icon><md-icon ng-if="config.navIconType==\'back\'" md-svg-icon="icons:arrow-left"></md-icon></md-button><div class="flex-var text-overflow"><img class="pip-appbar-logo" ng-click="onLogoState(config.logoState)" ng-if="config.titleType == \'logo\'" ng-src="{{config.titleLogo}}"><div ng-if="config.titleType == \'text\'" class="text-overflow pip-appbar-text"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="text-overflow">{{config.titleText | translate}}</span></div><div ng-if="config.titleType==\'breadcrumb\'"><div class="hide-xs text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="pip-appbar-breadcrumb" ng-repeat-start="item in config.titleBreadcrumb" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.titleBreadcrumb.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.titleText | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-appbar-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span> {{config.titleText | translate}}</span><md-icon class="m0 flex-none" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.titleBreadcrumb"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.titleText | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="flex-fixed pip-appbar-actions layout-row" ng-class="{ \'pip-language-action\': config.actionsType==\'language\' }"><md-menu ng-if="config.actionsType==\'language\'" md-position-mode="target-right target"><span class="pip-appbar-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in config.languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button m0" ng-if="config.searchVisible" ng-click="onSearchEnable()" aria-label="open search"><md-icon md-svg-icon="icons:search"></md-icon></md-button><div ng-if="config.actionsType==\'list\'"><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge color-badge-bg" ng-if="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3" ng-show="action.menu"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall, \'pip-appbar-show-sm\': action.showSmall,}" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button m0" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu></div></div></div><div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("breadcrumb/breadcrumb.html",'<div><div class="hide-xs text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span><span class="pip-breadcrumb-item" ng-repeat-start="item in config.titleBreadcrumb" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.titleBreadcrumb.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.text | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.criteria" ng-click="onSearchEnable()">{{config.criteria}} -</span> {{config.text | translate}}</span><md-icon class="m0 flex-none" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.items"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.text | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-content class="md-subhead color-primary-bg {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider position-top m0"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-content>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("language_picker/language_picker.html",'<md-menu md-position-mode="target-right target"><span class="pip-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in config.languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_header/nav_header.html",'<md-toolbar md-theme="{{ $theme }}" ng-hide="user"><md-button class="pip-nav-header-user md-icon-button" ng-click="onUserClick()" aria-label="current user"></md-button><div class="pip-nav-header-user-text"><a class="pip-nav-header-user-pri cursor-pointer" ng-click="onUserClick()">{{ getUser(\'fullName\') }}</a><div class="pip-nav-header-user-sec">{{ getUser(\'details\') | translate }}</div></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_icon/nav_icon.html",'<md-button class="md-icon-button flex-fixed p0" ng-if="config.type != \'none\'" ng-class="config.class" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.type==\'menu\'" md-svg-icon="icons:menu"></md-icon><md-icon ng-if="config.type==\'back\'" md-svg-icon="icons:arrow-left"></md-icon></md-button>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("nav_menu/nav_menu.html",'<md-list><div class="pip-section" ng-repeat="section in config" ng-hide="section.access && !section.access(section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("search_bar/search_bar.html",'<div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused=""><md-toolbar class="pip-sidenav-header" ng-class="{\'pip-sidenav-owner\': getUser(\'owner\')}" md-theme="{{ $theme|| getUser(\'theme\') || config.theme }}" ng-hide="!getParty() && !primaryPartyAvatar && !secondaryPartyAvatar"><md-button class="pip-sidenav-party md-icon-button" ng-click="onPartyClick()" aria-label="current party"></md-button><md-button class="pip-sidenav-user md-icon-button" ng-click="onUserClick()" ng-hide="getUser(\'owner\')" aria-label="current user"></md-button><div class="pip-sidenav-party-text"><a class="pip-sidenav-party-pri cursor-pointer" ng-click="onPartyClick()">{{ partyName || getParty(\'name\')}}</a><div class="pip-sidenav-party-sec" ng-show="getConnection() && !getUser(\'owner\')">{{getConnection(\'relation\') | translate}} <span ng-show="getConnection(\'relation_since\')">{{::\'SIDENAV_SINCE\' | translate}} {{getConnection(\'relation_since\') | formatLongDate}}</span></div></div></md-toolbar><md-list><div class="pip-section" ng-repeat="section in config.sections" ng-hide="section.access && !section.access(getParty(), getUser(), section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(getParty(), getUser(), link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list></md-sidenav>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><md-content class="md-subhead color-primary-bg md-hue-1" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></md-content></md-toolbar>')}])}(),function(n,e){"use strict";var i=n.module("pipActions.Service",[]);i.provider("pipActions",function(){function n(n,e){a.primaryGlobalActions=n||[],a.secondaryGlobalActions=e||[]}function i(n){a.primaryGlobalActions=n||[]}function t(n){a.secondaryGlobalActions=n||[]}var a={primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.globalActions=n,this.globalPrimaryActions=i,this.globalSecondaryActions=t,this.$get=["$rootScope",function(n){function i(){return a}function t(){a.primaryLocalActions=[],a.secondaryLocalActions=[],r()}function o(n,e){a.primaryLocalActions=n||[],a.secondaryLocalActions=e||[],r()}function c(n,i){e.each(a.primaryGlobalActions,function(e){e.name===n&&(e.count=i)}),e.each(a.primaryLocalActions,function(e){e.name===n&&(e.count=i)}),r()}function r(){n.$broadcast("pipActionsChanged",a)}return{config:i,showLocalActions:o,hideLocalActions:t,updateActionCount:c}}]})}(window.angular,window._),function(n,e,i){"use strict";var t=n.module("pipPrimaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);t.directive("pipPrimaryActions",function(){return{restrict:"E",scope:{localActions:"=pipLocalActions",globalActions:"=pipGlobalActions"},replace:!1,templateUrl:function(n,e){return"actions/primary_actions.html"},controller:"pipPrimaryActionsController"}}),t.controller("pipPrimaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,e,i,t,a,o,c,r){function s(e,i){n.config=i}function l(n){return n.access&&!n.access(n)}function d(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function p(e,i){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void i(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(a.location.href=e.href);if(e.url)return void o.url(e.url);if(e.state){if(c.has("pipState")){c.get("pipState");r.go(e.state,e.stateParams)}else if(c.has("$state")){var r=c.get("$state");r.go(e.state,e.stateParams)}}else e.event?t.$broadcast(e.event):t.$broadcast("pipActionClicked",e.name)}}e.addClass("pip-primary-actions"),n.config=r.config(),n.localActions&&(r.showLocalActions(),n.config.primaryLocalActions=n.localActions[0]),n.globalActions&&(r.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0]),t.$on("pipActionsChanged",s),n.actionHidden=l,n.actionCount=d,n.onActionClick=p}])}(window.angular,window._,window.jQuery),function(n,e,i){"use strict";var t=n.module("pipSecondaryActions",["ngMaterial","pipNav.Translate","pipNav.Templates","pipActions.Service"]);t.directive("pipSecondaryActions",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"actions/secondary_actions.html"},controller:"pipSecondaryActionsController"}}),t.controller("pipSecondaryActionsController",["$scope","$element","$attrs","$rootScope","$window","$location","$injector","pipActions",function(n,i,t,a,o,c,r,s){function l(e,i){n.originatorEv=i,e(i)}function d(e,i){n.config=i}function p(n){return n.access&&!n.access(n)}function u(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function m(n){var i=0;return e.each(n,function(n){p(n)||i++}),i}function g(){return m(n.config.secondaryGlobalActions)>0||m(n.config.secondaryLocalActions)>0}function f(){return m(n.config.secondaryGlobalActions)>0&&m(n.config.secondaryLocalActions)>0}function v(e,i){if(e&&!e.divider){if(e.close&&(n.originatorEv=null),e.menu)return void i(n.originatorEv);if(e.callback)return void e.callback();if(e.href)return void(o.location.href=e.href);if(e.url)return void c.url(e.url);if(e.state){if(r.has("pipState")){r.get("pipState");t.go(e.state,e.stateParams)}else if(r.has("$state")){var t=r.get("$state");t.go(e.state,e.stateParams)}}else e.event?a.$broadcast(e.event):a.$broadcast("pipActionClicked",e.name)}}i.addClass("pip-secondary-actions"),n.config=s.config(),n.localActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(pipSecondaryActions.showLocalActions(),n.config.secondaryGlobalActions=n.globalActions[0]),a.$on("pipActionsChanged",d),n.actionHidden=p,n.actionCount=u,n.secondaryActionsVisible=g,n.secondaryDividerVisible=f,n.onActionClick=v,n.openMenu=l}])}(window.angular,window._,window.jQuery),function(n,e,i){"use strict";var t=n.module("pipAppBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipAppBar.Service"]);t.config(["pipTranslateProvider",function(n){n.translations("en",{APPBAR_SEARCH:"Search"}),n.translations("ru",{APPBAR_SEARCH:"Поиск"})}]),t.directive("pipAppbar",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"appbar/appbar.html"},controller:"pipAppBarController"}}),t.controller("pipAppBarController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector","pipAppBar",function(n,t,a,o,c,r,s,l,d){function p(n){n&&r.go(n)}function u(e,i){n.originatorEv=i,e(i)}function m(n){if(o.$party)return n?o.$party[n]:o.$party}function g(n){if(o.$user)return n?o.$user[n]:o.$user}function f(e,i){n.config=i,n.searchEnabled=!1,n.search.text=""}function v(){return E?E.use():null}function b(n){return n.access&&!n.access(o.$party,o.$user,n)}function h(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function y(n){var i=0;return e.each(n,function(n){b(n)||i++}),i}function w(){return y(n.config.secondaryGlobalActions)>0||y(n.config.secondaryLocalActions)>0}function A(){return y(n.config.secondaryGlobalActions)>0&&y(n.config.secondaryLocalActions)>0}function $(){var i,t;return e.isFunction(n.config.navIconCallback)?void n.config.navIconCallback():"back"!==n.config.navIconType?void o.$broadcast("pipAppBarNavIconClicked"):void("breadcrumb"===n.config.titleType?(i=n.config.titleBreadcrumb,e.isArray(i)&&i.length>0?(t=i[i.length-1].click,e.isFunction(t)?t():c.history.back()):c.history.back()):c.history.back())}function k(n){e.isFunction(n.click)&&n.click(n)}function C(n){setTimeout(function(){E.use(n),o.$apply()},0)}function S(n){var e,i={};if(null===n)return null;for(e in n)n.hasOwnProperty(e)&&(":party_id"===n[e]?i[e]=o.$party?o.$party.id:null:":user_id"===n[e]?i[e]=o.$user?o.$user.id:null:i[e]=n[e]);return i}function T(n){var e;return null===n?null:(e=n.replace(":party_id",o.$party?o.$party.id:""),e=e.replace(":user_id",o.user?o.$user.id:""))}function N(){var n;setTimeout(function(){n=i(".pip-search-text"),n.length>0&&n.focus()},0)}function x(e,i){if(e&&!e.divider)return e.close&&(n.originatorEv=null),e.menu?void i(n.originatorEv):e.callback?void e.callback():e.href?void(c.location.href=T(e.href)):e.url?void s.url(T(e.url)):e.state?void r.go(e.state,S(e.stateParams)):void(e.event?o.$broadcast(e.event):o.$broadcast("pipAppBarActionClicked",e.name))}function L(){n.search.text=n.config.searchCriteria,n.searchEnabled=!0,N()}function I(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.searchCallback?n.config.searchCallback(e):o.$broadcast("pipAppBarSearchClicked",e)}function _(){n.search.text?(n.search.text="",N()):(n.searchEnabled=!1,I())}function P(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}var E=l.has("pipTranslate")?l.get("pipTranslate"):null;n.title&&d.showTitleText(n.title),n.showMenu&&d.showMenuNavIcon(),t.addClass("pip-appbar"),n.$emit("pipResizeWindow"),n.config=d.config(),n.localActions&&(d.showLocalActions(),n.config.primaryLocalActions=n.localActions[0],n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(d.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0],n.config.secondaryGlobalActions=n.globalActions[0]),n.searchEnabled=!1,n.search={text:""},o.$on("pipAppBarChanged",f),n.language=v,n.actionHidden=b,n.actionCount=h,n.secondaryActionsVisible=w,n.secondaryDividerVisible=A,n.onNavIconClick=$,n.onBreadcrumbClick=k,n.onLanguageClick=C,n.onActionClick=x,n.onSearchEnable=L,n.onSearchClick=I,n.onSearchClear=_,n.onSearchKeyDown=P,n.onLogoState=p,n.getParty=m,n.getUser=g,n.openMenu=u}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipAppBar.Service",[]);i.provider("pipAppBar",function(){function n(n){return n&&(r.appTitleText=n),r.appTitleText}function i(n){return n&&(r.appTitleLogo=n),r.appTitleLogo}function t(n){return r.theme=n||r.theme,r.theme}function a(n,e){r.primaryGlobalActions=n||[],r.secondaryGlobalActions=e||[]}function o(n){r.primaryGlobalActions=n||[]}function c(n){r.secondaryGlobalActions=n||[]}var r={appTitleText:null,appTitleLogo:"images/piplife_logo.svg",theme:"blue",cssClass:"",ngClasses:{},logoState:null,navIconType:"none",navIconCallback:!1,titleType:"none",titleLogo:null,titleText:null,titleBreadcrumb:null,actionsType:"none",languages:["en","ru"],searchVisible:!1,searchCriteria:"",searchHistory:[],searchCallback:null,primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.appTitleText=n,this.appTitleLogo=i,this.theme=t,this.globalActions=a,this.globalPrimaryActions=o,this.globalSecondaryActions=c,this.$get=["$rootScope",function(n){function i(n){return r.logoState=n,r.logoState}function t(){return r.logoState}function a(){return r}function o(n){return void 0!=n&&(r.cssClass=n,x()),r.cssClass}function c(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!0,r.ngClasses["pip-shadow-xs"]=!1,x()}function s(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!0,r.ngClasses["pip-shadow-xs"]=!0,x()}function l(){r.ngClasses["pip-shadow"]=!0,x()}function d(){r.ngClasses["pip-shadow"]=!1,r.ngClasses["pip-shadow-sm"]=!1,r.ngClasses["pip-shadow-xs"]=!1,x()}function p(){r.navIconType="none",r.navIconCallback=null,x()}function u(n){r.navIconType="menu",r.navIconCallback=n,x()}function m(n){r.navIconType="back",r.navIconCallback=n,x()}function g(){r.titleType="none",r.titleLogo=null,r.titleText=null,r.titleBreadcrumb=null,x()}function f(n){r.titleType="logo",r.titleLogo=n,r.titleText=null,r.titleBreadcrumb=null,x()}function v(n){r.titleType="text",r.titleLogo=null,r.titleText=n,r.titleBreadcrumb=null,x()}function b(n,i){e.isArray(n)&&(i=n,n=i[i.length-1].title,i.splice(i.length-1,1)),r.titleType="breadcrumb",r.titleLogo=null,r.titleText=n,r.titleBreadcrumb=i,i.length>0?(r.navIconType="none"===r.navIconType?"none":r.navIconType,r.navIconCallback=i[i.length-1]):(r.navIconType="menu",r.navIconCallback=null),x()}function h(){f(r.appTitleLogo)}function y(){v(r.appTitleText)}function w(){r.actionsType="none",r.primaryLocalActions=[],r.secondaryLocalActions=[],x()}function A(n){r.actionsType="language",r.languages=n||r.languages,x()}function $(n,e){r.actionsType="list",r.primaryLocalActions=n||[],r.secondaryLocalActions=e||[],x()}function k(n,i){e.each(r.primaryGlobalActions,function(e){e.name===n&&(e.count=i)}),e.each(r.primaryLocalActions,function(e){e.name===n&&(e.count=i)}),x()}function C(n,e,i){r.searchVisible=!0,r.searchCallback=n,r.searchCriteria=e,r.searchHistory=i,x()}function S(){r.searchVisible=!1,r.searchCallback=null,r.searchCriteria=null,x()}function T(n){r.searchCriteria=n,x()}function N(n){r.searchHistory=n,x()}function x(){n.$broadcast("pipAppBarChanged",r)}return{config:a,cssClass:o,logoState:t,setLogoState:i,hideNavIcon:p,showMenuNavIcon:u,showBackNavIcon:m,showAppTitleLogo:h,showAppTitleText:y,showTitleLogo:f,showTitleText:v,showTitleBreadcrumb:b,hideTitle:g,showLanguage:A,showLocalActions:$,hideLocalActions:w,updateActionCount:k,showSearch:C,hideSearch:S,updateSearchCriteria:T,updateSearchHistory:N,showShadow:l,showShadowSm:c,showShadowSmXs:s,hideShadow:d}}]})}(window.angular,window._),function(n,e,i){"use strict";var t=n.module("pipBreadcrumb",["ngMaterial","pipNav.Translate","pipNav.Templates","pipBreadcrumb.Service"]);t.directive("pipBreadcrumb",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"breadcrumb/breadcrumb.html"},controller:"pipBreadcrumbController"}}),t.controller("pipBreadcrumbController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","pipBreadcrumb",function(n,i,t,a,o,c,r,s){function l(e,i){n.config=i}function d(){var i,t;i=n.config.items,e.isArray(i)&&i.length>0?(t=i[i.length-1].click,e.isFunction(t)?t():o.history.back()):o.history.back()}function p(n){e.isFunction(n.click)&&n.click(n)}i.addClass("pip-breadcrumb"),n.config=s.config(),a.$on("pipBreadcrumbChanged",l),a.$on("pipBreadcrumbBack",d),n.onBreadcrumbClick=p}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipBreadcrumb.Service",[]);i.provider("pipBreadcrumb",function(){var n={text:null,items:null,criteria:""};this.$get=["$rootScope",function(i){function t(){return n}function a(e){n.text=e,n.items=null,r()}function o(i,t){e.isArray(i)&&(t=i,i=t[t.length-1].title,t.splice(t.length-1,1)),n.text=i,n.items=t,r()}function c(e){n.criteria=e,r()}function r(){i.$broadcast("pipBreadcrumbChanged",n)}return{config:t,text:a,path:o,items:o,criteria:c}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNav.Translate",[]);n.filter("translate",["$injector",function(n){var e=n.has("pipTranslate")?n.get("pipTranslate"):null;return function(n){return e?e.translate(n)||n:n}}])}(),function(){"use strict";var n=angular.module("pipDropdown",["pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia",function(n){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(e,i,t,a){e.class=(t.class||"")+" md-"+a.get("theme")+"-theme",e.$mdMedia=n,e.actions=e.actions&&_.isArray(e.actions)?e.actions:[],e.activeIndex=e.activeIndex||0,e.disabled=function(){return!!e.ngDisabled()&&e.ngDisabled();
},e.onSelect=function(n){e.activeIndex=n,e.select&&e.select(e.actions[n],e.activeIndex)},e.show=function(){return!e.showDropdown()||e.showDropdown()}}]}}])}(),function(n,e,i){"use strict";var t=n.module("pipLanguagePicker",["ngMaterial","pipNav.Translate","pipNav.Templates"]);t.directive("pipLanguagePicker",function(){return{restrict:"E",scope:{languages:"=languages"},replace:!1,templateUrl:function(n,e){return"language_picker/language_picker.html"},controller:"pipLanguagePickerController"}}),t.controller("pipLanguagePickerController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","$injector",function(n,e,i,t,a,o,c,r){function s(){return d?d.use():null}function l(n){d&&setTimeout(function(){d.use(n),t.$apply()},0)}var d=r.has("pipTranslate")?r.get("pipTranslate"):null;n.title&&pipLanguagePicker.showTitleText(n.title),n.showMenu&&pipLanguagePicker.showMenuNavIcon(),e.addClass("pip-language-picker"),n.language=s,n.onLanguageClick=l}])}(window.angular,window._,window.jQuery),function(){"use strict";var n=angular.module("pipNavHeader",["ngMaterial","pipNav.Templates"]);n.directive("pipNavHeader",function(){return{restrict:"EA",scope:{user:"=pipUser"},replace:!1,templateUrl:"nav_header/nav_header.html",controller:"pipNavHeaderController"}}),n.controller("pipNavHeaderController",["$scope","$element","$rootScope",function(n,e,i){function t(e){var i=n.user||n.identity||{};return e?i[e]:i}function a(e,i){n.identity=i}function o(){i.$broadcast("pipNavUserClicked")}e.addClass("pip-nav-header"),i.$on("pipIdentityChanged",a),n.getUser=t,n.onUserClick=o}])}(),function(n,e,i){"use strict";var t=n.module("pipNavIcon",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavIcon.Service"]);t.directive("pipNavIcon",function(){return{restrict:"E",scope:{type:"=pipType",imageUrl:"=pipImageUrl"},replace:!1,templateUrl:function(n,e){return"nav_icon/nav_icon.html"},controller:"pipNavIconController"}}),t.controller("pipNavIconController",["$scope","$element","$attrs","$rootScope","$window","pipNavIcon",function(n,i,t,a,o,c){function r(e,i){n.config=i}function s(){e.isFunction(n.config.callback)?n.config.callback():n.config.event?a.$broadcast(n.config.event):"back"==n.config.type?o.history.back():a.$broadcast("pipNavIconClicked")}i.addClass("pip-nav-icon"),n.config=c.config(),a.$on("pipNavIconChanged",r),n.onNavIconClick=s}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipNavIcon.Service",[]);i.provider("pipNavIcon",function(){var n={type:"none",imageUrl:null,callback:null,event:null};this.$get=["$rootScope",function(i){function t(){n.type="none",n.callback=null,n.event=null,r()}function a(i){n.type="menu",n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),r()}function o(i){n.type="back",n.callback=null,n.event=null,e.isFunction(i)&&(n.callback=i),e.isString(i)&&(n.event=i),r()}function c(i,t){n.type="image",n.imageUrl=i,n.callback=null,n.event=null,e.isFunction(t)&&(n.callback=t),e.isString(t)&&(n.event=t),r()}function r(){i.$broadcast("pipNavIconChanged",n)}return{hide:t,showMenu:a,showBack:o,showImage:c}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipNavMenu",["ngMaterial","pipNav.Translate","pipNav.Templates","pipNavMenu.Service"]);n.directive("pipNavMenu",function(){return{restrict:"EA",scope:{config:"=pipLinks"},replace:!1,templateUrl:"nav_menu/nav_menu.html",controller:"pipNavMenuController"}}),n.controller("pipNavMenuController",["$scope","$element","$rootScope","$window","$location","$timeout","$injector","pipSideNav","pipNavMenu",function(n,e,i,t,a,o,c,r,s){function l(n){return n&&n.access&&!n.access(n)}function d(n){var e=!0;return _.each(n,function(n){l(n)||(e=!1)}),e}function p(e,i){n.config=i}function u(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===t.location.href.split("?")[0]?void r.close():(r.close(),void o(function(){t.location.href=e.href},300)):e.url?e.url.split(/[\s\/?]+/)[1]===a.url().split(/[\s\/?]+/)[1]?void r.close():(r.close(),void o(function(){a.url(e.url)},300)):e.state?$state.current.name===e.state?void r.close():(r.close(),void o(function(){if(c.has("pipState")){c.get("pipState");n.go(e.state,e.stateParams)}else if(c.has("$state")){var n=c.get("$state");n.go(e.state,e.stateParams)}},300)):(e.event&&i.$broadcast(e.event,e),void r.close()):void r.close()}e.addClass("pip-nav-menu"),n.config=s.config(),i.$on("pipNavMenuChanged",p),n.itemVisible=l,n.onLinkClick=u,n.isSectionEmpty=d}])}(),function(){"use strict";var n=angular.module("pipNavMenu.Service",[]);n.provider("pipNavMenu",function(){function n(n){return _.isArray(n)&&(e=n),e}var e=[];this.sections=n,this.$get=["$rootScope","$mdSidenav",function(i,t){function a(){return e}function o(t){return n(t),i.$broadcast("pipNavMenuChanged",e),e}return{get:a,set:o}}]})}(),function(n,e,i){"use strict";var t=n.module("pipSearchBar",["ngMaterial","pipNav.Translate","pipNav.Templates","pipSearch.Service"]);t.config(["pipTranslateProvider",function(n){n.translations("en",{APPBAR_SEARCH:"Search"}),n.translations("ru",{APPBAR_SEARCH:"Поиск"})}]),t.directive("pipSearchBar",function(){return{restrict:"E",scope:{},replace:!1,templateUrl:function(n,e){return"search_bar/search_bar.html"},controller:"pipSearchBarController"}}),t.controller("pipSearchBarController",["$scope","$element","$attrs","$rootScope","pipSearch",function(n,e,t,a,o){function c(e,i){n.config=i,n.searchEnabled=!1,n.search.text=""}function r(){var n;setTimeout(function(){n=i(".pip-search-text"),n.length>0&&n.focus()},0)}function s(){n.search.text=n.config.criteria,n.searchEnabled=!0,r()}function l(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.callback?n.config.callback(e):a.$broadcast("pipSearchBarSearchClicked",e)}function d(){n.search.text?(n.search.text="",r()):(n.searchEnabled=!1,l())}function p(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}e.addClass("pip-search-bar"),n.config=o.config(),n.searchEnabled=!1,n.search={text:""},a.$on("pipSearchChanged",c),n.onSearchEnable=s,n.onSearchClick=l,n.onSearchClear=d,n.onSearchKeyDown=p}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipSearch.Service",[]);i.provider("pipSearch",function(){var n={visible:!1,criteria:"",history:[],callback:null};this.$get=["$rootScope",function(e){function i(e,i,t){n.callback=e,n.criteria=i,n.history=t,s()}function t(){n.callback=null,n.criteria=null,s()}function a(e){n.visible=!0,s()}function o(e){n.visible=!1,s()}function c(e){n.criteria=e,s()}function r(e){n.history=e,s()}function s(){e.$broadcast("pipSearchChanged",n)}return e.$on("pipSearchOpen",a),e.$on("pipSearchClose",o),{set:i,clear:t,criteria:c,history:r}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipSideNav",["ngMaterial","pipTranslate","pipFocused","pipNav.Templates","pipSideNav.Service"]);n.config(["pipTranslateProvider",function(n){n.translations("en",{SIDENAV_SINCE:"since"}),n.translations("ru",{SIDENAV_SINCE:"с"})}]),n.directive("pipSidenav",function(){return{restrict:"EA",scope:{primaryPartyAvatar:"=pipPrimaryAvatar",secondaryPartyAvatar:"=pipSecondaryAvatar",partyName:"=pipName"},replace:!1,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),n.controller("pipSideNavController",["$scope","$element","$state","$rootScope","$window","$location","$timeout","pipState","pipTranslate","pipSideNav",function(n,e,i,t,a,o,c,r,s,l){function d(n){if(t.$party)return n?t.$party[n]:t.$party}function p(n){if(t.$user)return n?t.$user[n]:t.$user}function u(n){if(t.$connection)return n?t.$connection[n]:t.$connection}function m(n){return n&&n.access&&!n.access(t.$party,t.$user,n)}function g(n){var e=!0;return _.each(n,function(n){m(n)||(e=!1)}),e}function f(n){l.open()}function v(e,i){n.config=i}function b(){t.$broadcast("pipSideNavUserClicked"),l.close()}function h(){t.$broadcast("pipSideNavPartyClicked"),l.close()}function y(n){if(null==n)return null;var e={};for(var i in n)n.hasOwnProperty(i)&&(":party_id"==n[i]?e[i]=t.$party?t.$party.id:null:":user_id"==n[i]?e[i]=t.$user?t.$user.id:null:e[i]=n[i]);return e}function w(n){if(null==n)return null;var e=n.replace(":party_id",t.$party?t.$party.id:"");return e=e.replace(":user_id",t.$user?t.$user.id:"")}function A(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===a.location.href.split("?")[0]?void l.close():(l.close(),void c(function(){a.location.href=w(e.href)},300)):e.url?e.url.split(/[\s\/?]+/)[1]===o.url().split(/[\s\/?]+/)[1]?void l.close():(l.close(),void c(function(){o.url(w(e.url))},300)):e.state?i.current.name===e.state?void l.close():(l.close(),void c(function(){r.go(e.state,y(e.stateParams))},300)):(e.event&&t.$broadcast("pipSideNavLinkClicked",e.event),void l.close()):void l.close()}e.addClass("pip-sidenav"),n.config=l.config(),n.$avatarReset=!1,t.$on("pipAppBarNavIconClicked",f),t.$on("pipSideNavChanged",v),n.itemVisible=m,n.onUserClick=b,n.onPartyClick=h,n.onLinkClick=A,n.isSectionEmpty=g,n.getParty=d,n.getUser=p,n.getConnection=u}])}(),function(){"use strict";var n=angular.module("pipSideNav.Service",["pipAssert","pipDebug"]);n.provider("pipSideNav",["pipAssertProvider","pipDebugProvider",function(n,e){function i(n){return o.theme=n||o.theme,o.theme}function t(e){n.isArray(e,"pipSideNavProvider.sections or pipSideNav.sections: sections should be an array"),_.each(e,function(e,i){e.access&&n.isFunction(e.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" access should be a function"),e.links&&(n.isArray(e.links,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" links should be an array"),_.each(e.links,function(t){t.access&&n.isFunction(t.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" in link with title "+t.title+" access should be a function")}))})}function a(n){return e.enabled()&&t(n),_.isArray(n)&&(o.sections=n),o.sections}var o={theme:"blue",sections:[]};this.theme=i,this.sections=a,this.$get=["$rootScope","$mdSidenav",function(n,e){function t(){return o}function c(n){return i(n),s(),o.theme}function r(n){return a(n),s(),o.sections}function s(){n.$broadcast("pipSideNavChanged",o)}function l(n){e("pip-sidenav").open()}function d(n){e("pip-sidenav").close()}function p(){e("pip-sidenav").toggle()}return n.$on("pipSideNavOpen",l),n.$on("pipSideNavClose",d),{config:t,theme:c,sections:r,open:l,close:d,toggle:p}}]}])}(),function(){"use strict";var n=angular.module("pipTabs",["pipNav.Templates"]);n.directive("pipTabs",["$mdMedia","pipAssert",function(n,e){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","$inject",function(n,i,t,a,o,c){n.class=(t.class||"")+" md-"+o.get("theme")+"-theme",e.isArray(n.tabs,"pipTabs: pipTabs attribute should take an array"),n.$mdMedia=a,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[];var r=c.has("pipTranslate")?c.get("pipTranslate"):null;r&&(n.tabs.length>0&&n.tabs[0].title?r.translateObjects(n.tabs,"title","nameLocal"):r.translateObjects(n.tabs,"name","nameLocal")),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(e){return n.disabled()&&n.activeIndex!=e},n.onSelect=function(e){n.disabled()||(n.activeIndex=e,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}}])}();
!function(){"use strict";var e=angular.module("pipTheme",["LocalStorageModule","ngMaterial"]);e.provider("pipTheme",function(){function e(e){return null!=e&&(r=e),r}function t(e){return null!=e&&(n=e),n}function a(e){return null!=e&&(o=e),o}var r="blue",n=!0,o=!0;this.use=e,this.init=e,this.persist=t,this.setRoot=a,this.$get=["$rootScope","$timeout","localStorageService","$mdTheming",function(e,t,a,l){function i(a,r){a=void 0===a||!!a,r=void 0===r||!!r,e.$reset=a,e.$partialReset=r,t(function(){e.$reset=!1,e.$partialReset=!1},0)}function u(t,u,d){if(null!=t&&t!=r){if(!(r in l.THEMES))throw new Error("Theme "+r+" is not registered. Please, register it first with $mdThemingProvider");r=t,n&&a.set("theme",r),o&&(e.$language=r),$("body").attr("md-theme","{{ $theme }}").addClass("{{ $theme }}"),i(u,d),e.$broadcast("pipThemeChanged",t)}return r}return n&&(r=a.get("theme")||r),o&&(e.$theme=r),$("body").attr("md-theme","{{ $theme }}").addClass("{{ $theme }}"),{use:u,theme:u}}]})}(),function(){"use strict";angular.module("pipTheme.Bootbarn",["pipTheme.Bootbarn.Warm","pipTheme.Bootbarn.Cool","pipTheme.Bootbarn.Monochrome"])}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(69, 90, 100, 1)"});e.definePalette("bootbarn-cool-background",t);var a=e.extendPalette("grey",{300:"rgba(69, 90, 100, .54)",500:"rgba(69, 90, 100, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-cool-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-cool-accent",r),e.theme("bootbarn-cool").primaryPalette("bootbarn-cool-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-cool-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-cool-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Cool",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(38, 50, 56, 1)"});e.definePalette("bootbarn-monochrome-background",t);var a=e.extendPalette("grey",{300:"rgba(38, 50, 56, .54)",500:"rgba(38, 50, 56, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-monochrome-primary",a);var r=e.extendPalette("green",{A700:"rgba(76, 175, 80, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-monochrome-accent",r),e.theme("bootbarn-monochrome").primaryPalette("bootbarn-monochrome-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-monochrome-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("bootbarn-monochrome-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Monochrome",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){e.alwaysWatchTheme(!0);var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(177, 55, 34, 1)"});e.definePalette("bootbarn-warm-background",t);var a=e.extendPalette("brown",{300:"rgba(177, 55, 34, .54)",500:"rgba(177, 55, 34, 1)",contrastLightColors:["500","300"]});e.definePalette("bootbarn-warm-primary",a);var r=e.extendPalette("amber",{A700:"rgba(127, 148, 92, 1)",contrastLightColors:["A700"]});e.definePalette("bootbarn-warm-accent",r);var n=e.extendPalette("red",{A200:"rgba(255, 87, 34, 1)",contrastLightColors:["A200"]});e.definePalette("bootbarn-warm-error",n),e.theme("bootbarn-warm").primaryPalette("bootbarn-warm-primary",{default:"500","hue-1":"300"}).backgroundPalette("bootbarn-warm-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("bootbarn-warm-error",{default:"A200"}).accentPalette("bootbarn-warm-accent",{default:"A700"})}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Bootbarn.Warm",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Default",["pipTheme.Blue","pipTheme.Pink","pipTheme.Amber","pipTheme.Orange","pipTheme.Green","pipTheme.Navy","pipTheme.Grey"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)"});e.definePalette("orange-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 152, 0, 1)",900:"rgba(255, 152, 0, .54);"});e.definePalette("orange-primary",a),e.theme("amber").primaryPalette("orange-primary",{default:"800","hue-1":"900"}).backgroundPalette("orange-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("orange",{default:"900"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Amber",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)"});e.definePalette("dark-background",a);var r=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("dark-accent",r),e.theme(t).primaryPalette("dark-background",{default:"900","hue-1":"700"}).backgroundPalette("dark-background",{default:"800","hue-1":"900","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("dark-accent",{default:"600"})}function a(t){var a=e.extendPalette("grey",{600:"rgba(48, 48, 48, 1)",700:"rgba(255, 255, 255, 0.54)",800:"rgba(66, 66, 66, 1)",500:"rgba(38, 50, 56, 1)"});e.definePalette("black-background",a);var r=e.extendPalette("blue-grey",{700:"rgba(255, 255, 255, 0.54)"});e.definePalette("black-accent",r),e.theme(t).primaryPalette("black-accent",{default:"900","hue-1":"700"}).backgroundPalette("black-background",{default:"800","hue-1":"500","hue-2":"800"}).warnPalette("red",{default:"A200"}).accentPalette("black-accent",{default:"600"})}t("dark"),a("black"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Black",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){function t(t){var a=e.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:void 0});e.definePalette("blue-primary",a);var r=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(33, 150, 243, 1)"});e.definePalette("blue-background",r);var n=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("blue-accent",n),e.theme(t).primaryPalette("blue-primary",{default:"500","hue-1":"300"}).backgroundPalette("blue-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("blue-accent",{default:"600"})}t("default"),t("blue"),e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Blue",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(76, 175, 80, 1)"});e.definePalette("green-background",t);var a=e.extendPalette("green",{300:"#9ed4a1",contrastLightColors:["500","300"]});e.definePalette("green-primary",a);var r=e.extendPalette("amber",{contrastLightColors:["A700"]});e.definePalette("green-accent",r),e.theme("green").primaryPalette("green-primary",{default:"500","hue-1":"300"}).backgroundPalette("green-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("green-accent",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Green",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 152, 0, 1)",A400:"#a9b9c0",500:"#607D8B",A700:"#90A4AE",contrastDefaultColor:"dark",contrastLightColors:["300","400","500","600","700","800","900","A700"]});e.definePalette("third-party",t),e.theme("grey").primaryPalette("third-party",{default:"500","hue-1":"A400"}).backgroundPalette("third-party",{default:"50","hue-1":"500","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("third-party",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Grey",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{700:"rgba(86, 97, 125, 1)",800:"rgba(86, 97, 125, .54)",A100:"rgba(250, 250, 250, 1)"});e.definePalette("grey",t);var a=e.extendPalette("teal",{contrastLightColors:["500","600","700","800","900","A700"]});e.definePalette("teal",a),e.theme("navy").primaryPalette("grey",{default:"700","hue-1":"800"}).backgroundPalette("grey",{default:"50","hue-1":"700","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("teal",{default:"A700"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Navy",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(255, 112, 67, 1)",contrastLightColors:["600","700","800","900","A200"]});e.definePalette("red-background",t);var a=e.extendPalette("orange",{800:"rgba(255, 112, 67, 1)",900:"rgba(255, 152, 67, .54)",A100:"rgba(255, 171, 64, 1)",contrastLightColors:["800","900","A100"]});e.definePalette("red-primary",a),e.theme("orange").primaryPalette("red-primary",{default:"800","hue-1":"900"}).backgroundPalette("red-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("red-primary",{default:"A100"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Orange",["ngMaterial"]);t.config(e)}(),function(){"use strict";function e(e){var t=e.extendPalette("grey",{A100:"rgba(250, 250, 250, 1)",A200:"rgba(188, 86, 121, 1)",contrastDefaultColor:"dark",contrastLightColors:["A200","A700"]});e.definePalette("pink-background",t);var a=e.extendPalette("pink",{600:"rgba(255, 128, 171, 1)",700:"rgba(188, 86, 121, .54)",900:"rgba(188, 86, 121, 1)",contrastDefaultColor:"light"});e.definePalette("pink-primary",a),e.theme("pink").primaryPalette("pink-primary",{default:"900","hue-1":"700"}).backgroundPalette("pink-background",{default:"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{default:"A200"}).accentPalette("pink-primary",{default:"600"}),e.alwaysWatchTheme(!0)}e.$inject=["$mdThemingProvider"];var t=angular.module("pipTheme.Pink",["ngMaterial"]);t.config(e)}();
!function(){"use strict";angular.module("pipErrors",["pipErrors.Pages","pipNoConnectionPanel","pipClearErrors","pipFormErrors"])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("maintenance/maintenance.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/maintenance.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_AVAILABLE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_AVAILABLE_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="timeoutInterval">{{::\'ERROR_AVAILABLE_TRY_AGAIN\' | translate}} {{timeoutInterval}} sec.</div><div class="pip-error-actions h48 layout-column layout-align-center-center" ng-if="isCordova"><md-button class="md-accent" ng-click="onClose($event)" aria-label="CLOSE">{{::\'ERROR_AVAILABLE_CLOSE\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("missing_route/missing_route.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/invalid_route.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_ROUTE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_ROUTE_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="CONTINUE" class="md-accent" ng-click="onContinue($event)">{{::\'ERROR_ROUTE_CONTINUE\' | translate}}</md-button></div><div class="h48" ng-if="url"><a ng-href="{{url}}">{{::\'ERROR_ROUTE_TRY_AGAIN\' | translate }}: {{url}}</a></div><div class="h48" ng-if="urlBack"><a ng-href="{{urlBack}}">{{::\'ERROR_ROUTE_GO_BACK\' | translate }}: {{urlBack}}</a></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection/no_connection.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/no_response.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection_panel/no_connection_panel.html",'<div class="pip-empty pip-error layout-column layout-align-center-center flex"><img src="images/no_response.svg" class="pip-pic block"><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unknown/unknown.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/unknown_error.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_UNKNOWN_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNKNOWN_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="showError && error_details && error_details.status"><div ng-if="error_details.code">Code: {{error_details.code}}</div><div ng-if="error_details.description">Description: {{error_details.description}}</div><div ng-if="error_details.status">HTTP status: {{error_details.status}}</div><div ng-if="error_details.server_stacktrace">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if="error_details.client_stacktrace">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class="pip-error-actions layout-column layout-align-center-center"><div class="h48" ng-if="isCordova"><md-button aria-label="CLOSE" class="md-accent" ng-click="onClose($event)">{{::\'ERROR_UNKNOWN_CLOSE\' | translate}}</md-button></div><div class="h48"><md-button aria-label="DETAILS" class="md-accent" ng-click="onDetails($event)">{{::\'ERROR_UNKNOWN_DETAILS\' | translate}}</md-button></div></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unsupported/unsupported.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div class="pip-error-text">{{::\'ERROR_UNSUPPORTED_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNSUPPORTED_SUBTITLE\' | translate}}</div><div class="pip-error-details layout-row layout-align-center-center" ng-if="$mdMedia(\'gt-xs\')"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div><div class="pip-error-details" ng-if="$mdMedia(\'xs\')"><div class="layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div></div><div class="tm16 layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div></div></div>')}])}(),function(){"use strict";var r=angular.module("pipErrors.Strings",["pipTranslate"]);r.run(["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;null!=e&&(e.translations("en",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to the server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 36+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 48+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 45+"}),e.translations("ru",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 35+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 47+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 43+"}))}])}(),function(){"use strict";var r=angular.module("pipErrors.Translate",[]);r.filter("translate",["$injector",function(r){var e=r.has("pipTranslate")?r.get("pipTranslate"):null;return function(r){return e?e.translate(r)||r:r}}])}(),function(){"use strict";var r=angular.module("pipErrors.Pages",["ngMaterial","pipErrors.Strings","pipErrors.NoConnection","pipErrors.MissingRoute","pipErrors.Unsupported","pipErrors.Unknown","pipErrors.Maintenance","pipErrors.Translate","pipErrors.Templates"]);r.config(["$stateProvider",function(r){r.state("errors_no_connection",{url:"/errors/no_connection",params:{error:null},controller:"pipErrorNoConnectionController",templateUrl:"no_connection/no_connection.html"}).state("errors_maintenance",{url:"/errors/maintenance",params:{error:null},controller:"pipErrorMaintenanceController",templateUrl:"maintenance/maintenance.html"}).state("errors_missing_route",{url:"/errors/missing_route",params:{unfoundState:null,fromState:null},controller:"pipErrorMissingRouteController",templateUrl:"missing_route/missing_route.html"}).state("errors_unsupported",{url:"/errors/unsupported",params:{error:null},controller:"pipErrorUnsupportedController",templateUrl:"unsupported/unsupported.html"}).state("errors_unknown",{url:"/errors/unknown",params:{error:null},controller:"pipErrorUnknownController",templateUrl:"unknown/unknown.html"})}])}(),function(){"use strict";var r=angular.module("pipClearErrors",[]);r.directive("pipClearErrors",function(){return{restrict:"A",require:["ngModel","^?form"],link:function(r,e,t,o){function n(){var r=i.$error;for(var e in r)r.hasOwnProperty(e)&&"ERROR_"==e.substring(0,6)&&i.$setValidity(e,!0)}function a(){s.$serverError={}}var i=o[0],s=o[1];r.$watch(t.ngModel,function(r){n(),a()})}}})}(),function(){"use strict";var r=angular.module("pipFormErrors",[]);r.factory("pipFormErrors",["$rootScope",function(r){function e(r){if(null!=r)return _.isEmpty(r.$error)?{hint:!0}:r.$error}function t(r,e){if(null!=r&&null!=e){if(r.$submitted&&(e.$touched||r.$dirty)||!r.$submitted&&(e.$touched||e.$dirty)){var t=_.isEmpty(e.$error)?{hint:!0}:e.$error;return t}return{hint:!0}}}function o(r,e){r.$setPristine(),r.$setUntouched(),e&&(r.$setDirty(),r.$setSubmitted()),r.$serverError={}}function n(r,e){if(r)if(e&&r[e]&&r[e].$error)r[e].$error={};else{for(var t in r)r[t]&&r[t].$error&&(r[t].$error={});r&&r.$error&&(r.$error={})}}function a(r,e,t){if(null!=e){r.$serverError=r.$serverError||{};var o=e.code||(e.data||{}).code||null;if(!o&&e.status&&(o=e.status),o){var n="ERROR_"+o,a=t?t[o]:null;if(a&&r[a]&&r[a].$setValidity)return void r[a].$setValidity(n,!1);if("form"==a)return void(r.$serverError[n]=!0)}if(e.data&&e.data.message)return r.$serverError.ERROR_UNKNOWN=e.data.message,void i(e);if(e.message)return r.$serverError.ERROR_UNKNOWN=e.message,void i(e);if(e.name)return r.$serverError.ERROR_UNKNOWN=e.name,void i(e);r.$serverError.ERROR_UNKNOWN=e,i(e)}}function i(e){r.$emit("pipUnhandledInternalError",{error:e})}return{errorsWithHint:e,touchedErrorsWithHint:t,resetFormErrors:o,setFormError:a,resetFieldsErrors:n}}])}(),function(){"use strict";var r=angular.module("pipErrors.Maintenance",[]);r.controller("pipErrorMaintenanceController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_AVAILABLE_TITLE",[]),o.showLocalActions(null,[])}function a(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.timeoutInterval=r.error&&r.error.config&&r.error.config.params&&r.error.config.params.interval?r.error.config.params.interval:0,r.onClose=a}])}(),function(){"use strict";var r=angular.module("pipErrors.MissingRoute",[]);r.controller("pipErrorMissingRouteController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_ROUTE_PAGE_TITLE",[]),o.showLocalActions(null,[])}function a(){}n(),t.$routing=!1,r.error=e&&e.params&&e.params.error?e.params.fromState:{},r.unfoundState=e&&e.params?e.params.unfoundState:{},r.url=r.unfoundState&&r.unfoundState.to?e.href(r.unfoundState.to,r.unfoundState.toParams,{absolute:!0}):"",r.urlBack=r.fromState&&r.fromState.to?e.href(r.fromState.to,r.fromState.fromParams,{absolute:!0}):"",r.onContinue=a}])}(),function(){"use strict";var r=angular.module("pipErrors.NoConnection",[]);r.controller("pipErrorNoConnectionController",["$scope","$state","$rootScope","$window","pipAppBar",function(r,e,t,o,n){function a(){o.history.back()}function i(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_RESPONDING_TITLE",[]),n.showLocalActions(null,[])}t.$routing=!1,i(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.onRetry=a}])}(),function(){"use strict";var r=angular.module("pipNoConnectionPanel",["pipErrors.Translate"]);r.directive("pipNoConnectionPanel",function(){return{restrict:"E",scope:{error:"=pipError",retry:"=pipRetry"},templateUrl:"no_connection_panel/no_connection_panel.html",controller:"pipNoConnectionPanelController"}}),r.controller("pipNoConnectionPanelController",["$scope","$element","$attrs","pipTranslate",function(r,e,t,o){function n(){r.retry&&angular.isFunction(r.retry)&&r.retry()}r.onRetry=n}])}(),function(){"use strict";var r=angular.module("pipErrors.Unknown",[]);r.controller("pipErrorUnknownController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_UNKNOWN_TITLE",[]),o.showLocalActions(null,[])}function a(){r.error_details={},r.error_details.code=r.error.code,r.error_details.description=r.error.message,r.error_details.status=r.error.status,r.error_details.server_stacktrace=function(){},r.error_details.client_stacktrace=function(){}}function i(){r.showError=!0}function s(){}t.$routing=!1,r.isCordova=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.error_details=null,r.onDetails=i,r.onClose=s,a()}])}(),function(){"use strict";var r=angular.module("pipErrors.Unsupported",[]);r.controller("pipErrorUnsupportedController",["$scope","$state","$rootScope","$mdMedia","pipAppBar",function(r,e,t,o,n){function a(){n.showMenuNavIcon(),n.showShadow(),n.showTitleBreadcrumb("ERROR_UNSUPPORTED_TITLE",[]),n.showLocalActions(null,[])}r.$mdMedia=o,t.$routing=!1,a(),r.error=e&&e.params&&e.params.error?e.params.error:{}}])}();
!function(t){"use strict";t.module("pipCharts",["pipStaticCharts"])}(window.angular),function(t){try{t=angular.module("pipCharts.Templates")}catch(a){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><div class="static-chart-legend"><div class="legend-title" ng-repeat="item in barChart.legend"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label}}</span></div></div>')}])}(),function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,a,e,l,n){function r(){var t=d3.selectAll(".nv-bar text")[0],a=d3.selectAll(".nv-bar")[0];a.forEach(function(a,e){var l=a.getBBox();d3.select(t[e]).attr("dy",l.height/2+6)})}function o(t){return"rgba("+n[t][500].value[0]+","+n[t][500].value[1]+","+n[t][500].value[2]+","+(n[t][500].value[3]||1)+")"}function c(t,a){var e=0,n=l(function(){e<=a?(t(),e++):l.cancel(n)},200)}function s(){i.data.forEach(function(t,a){t.color=o(h[a])})}var i=this,u=null,d=null,p=_.debounce(r,150),h=_.map(n,function(t,a){return a});console.log("colors",h),i.data=i.series||[],(i.series||[]).length>h.length&&(i.data=i.series.slice(0,9)),s(),console.log("vm.data",i.data),i.legend=i.data,d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(o))},a.$watch("barChart.series",function(t){i.data=t||[],s(),u&&(d.datum(i.data).call(u),u.update(),c(u.update,10))}),nv.addGraph(function(){return console.log("here"),u=nv.models.discreteBarChart().margin({top:10,right:0,bottom:30,left:0}).x(function(t){return t.label}).y(function(t){return t.value}).showValues(!0).showXAxis(!0).showYAxis(!1).valueFormat(d3.format("d")).color(d3.scale.paletteColors().range()),u.tooltip.enabled(!1),u.noData("No data for this moment..."),d=d3.select(t.get(0)).select(".bar-chart svg").datum(i.data).call(u),nv.utils.windowResize(u.update),c(u.update,10),u},function(){u.dispatch.on("beforeUpdate",function(){e(p,100)}),e(p,100)})}]}}angular.module("pipStaticCharts",[]).directive("pipBarChart",t)}();