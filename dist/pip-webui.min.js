!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).split=n()}}(function(){return function n(e,r,t){function i(a,f){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var s=r[a]={exports:{}};e[a][0].call(s.exports,function(n){var r=e[a][1][n];return i(r?r:n)},s,s.exports,n,e,r,t)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<t.length;a++)i(t[a]);return i}({1:[function(n,e,r){!function(){"use strict";var n=angular.module("pipSplit",[]);n.run(["$rootScope","pipSplit",function(n,e){n.$on("$stateChangeStart",function(n,r,t,i,o){var a=$(".pip-split");a.length>0&&(a.removeClass("pip-transition-forward"),a.removeClass("pip-transition-back"),r.name!=i.name&&(e.forwardTransition(r,i)?a.addClass("pip-transition-forward"):a.addClass("pip-transition-back")))})}]),n.provider("pipSplit",function(){function n(n){if(!_.isArray(n)||0==n.length)throw new Error("Transition sequence must be an array of state names");r.push(n)}function e(n,e){var t,i,o;for(t=0;t<r.length;t++)if(i=r[t].indexOf(n.name),o=r[t].indexOf(e.name),i>-1)return i>o;return!1}var r=[];this.addTransitionSequence=n,this.$get=function(){return{forwardTransition:e}}})}()},{}]},{},[1])(1)});


!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).controls=t()}}(function(){return function t(e,o,i){function s(r,a){if(!o[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(n)return n(r,!0);var p=new Error("Cannot find module '"+r+"'");throw p.code="MODULE_NOT_FOUND",p}var c=o[r]={exports:{}};e[r][0].call(c.exports,function(t){var o=e[r][1][t];return s(o?o:t)},c,c.exports,t,e,o,i)}return o[r].exports}for(var n="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(t,e,o){var i={ngDisabled:"<?ngDisabled",colors:"<pipColors",currentColor:"=ngModel",colorChange:"&?ngChange"},s=(function(){function t(){}return t}(),["purple","lightgreen","green","darkred","pink","yellow","cyan"]),n=function(){function t(t,e,o,i){this.$scope=t,this.$element=e,this.$timeout=i,this.class=o.class||""}return t.prototype.$onChanges=function(t){this.colors=t.colors&&_.isArray(t.colors.currentValue)&&0!==t.colors.currentValue.length?t.colors.currentValue:s,this.currentColor=this.currentColor||this.colors[0],this.currentColorIndex=this.colors.indexOf(this.currentColor),this.ngDisabled=t.ngDisabled.currentValue},t.prototype.selectColor=function(t){var e=this;this.ngDisabled||(this.currentColorIndex=t,this.currentColor=this.colors[this.currentColorIndex],this.$timeout(function(){e.$scope.$apply()}),this.colorChange&&this.colorChange())},t.prototype.enterSpacePress=function(t){this.selectColor(t.index)},t}(),r={bindings:i,templateUrl:"color_picker/ColorPicker.html",controller:n};angular.module("pipColorPicker",["pipControls.Templates"]).component("pipColorPicker",r)},{}],2:[function(t,e,o){function i(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}i.$inject=["$injector"],angular.module("pipControls.Translate",[]).filter("translate",i)},{}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o,i,s,n,r){var a=this;this.$scope=t,this.$element=e,this.$attrs=o,this.$parse=i,this.$timeout=s,this.$interval=n,this.pipImageSlider=r,this._index=0,this.DEFAULT_INTERVAL=4500,this.swipeStart=0,this._type=this.type(),this._interval=this.interval(),this.slideTo=this.slideToPrivate,e.addClass("pip-image-slider"),e.addClass("pip-animation-"+this._type),this.setIndex(),s(function(){a._blocks=e.find(".pip-animation-block"),a._blocks.length>0&&$(a._blocks[0]).addClass("pip-show")}),this.startInterval(),this._throttled=_.throttle(function(){r.toBlock(a._type,a._blocks,a._index,a._newIndex,a._direction),a._index=a._newIndex,a.setIndex()},700),o.id&&r.registerSlider(o.id,t),t.$on("$destroy",function(){a.stopInterval(),r.removeSlider(o.id)})}return t.$inject=["$scope","$element","$attrs","$parse","$timeout","$interval","pipImageSlider"],t.prototype.nextBlock=function(){this.restartInterval(),this._newIndex=this._index+1===this._blocks.length?0:this._index+1,this._direction="next",this._throttled()},t.prototype.prevBlock=function(){this.restartInterval(),this._newIndex=this._index-1<0?this._blocks.length-1:this._index-1,this._direction="prev",this._throttled()},t.prototype.slideToPrivate=function(t){t===this._index||t>this._blocks.length-1||(this.restartInterval(),this._newIndex=t,this._direction=t>this._index?"next":"prev",this._throttled())},t.prototype.setIndex=function(){this.$attrs.pipImageIndex&&(this.sliderIndex=this._index)},t.prototype.startInterval=function(){var t=this;this._timePromises=this.$interval(function(){t._newIndex=t._index+1===t._blocks.length?0:t._index+1,t._direction="next",t._throttled()},Number(this._interval||this.DEFAULT_INTERVAL))},t.prototype.stopInterval=function(){this.$interval.cancel(this._timePromises)},t.prototype.restartInterval=function(){this.stopInterval(),this.startInterval()},t}(),s=function(){return{scope:{sliderIndex:"=pipImageIndex",type:"&pipAnimationType",interval:"&pipAnimationInterval"},bindToController:!0,controller:i,controllerAs:"vm"}};angular.module("pipImageSlider").directive("pipImageSlider",s)},{}],4:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t){this.$timeout=t,this.ANIMATION_DURATION=550,this._sliders={}}return t.$inject=["$timeout"],t.prototype.registerSlider=function(t,e){this._sliders[t]=e},t.prototype.removeSlider=function(t){delete this._sliders[t]},t.prototype.getSliderScope=function(t){return this._sliders[t]},t.prototype.nextCarousel=function(t,e){t.addClass("pip-next"),this.$timeout(function(){t.addClass("animated").addClass("pip-show").removeClass("pip-next"),e.addClass("animated").removeClass("pip-show")},100)},t.prototype.prevCarousel=function(t,e){this.$timeout(function(){t.addClass("animated").addClass("pip-show"),e.addClass("animated").addClass("pip-next").removeClass("pip-show")},100)},t.prototype.toBlock=function(t,e,o,i,s){var n=$(e[o]),r=i,a=$(e[r]);"carousel"===t?($(e).removeClass("pip-next").removeClass("pip-prev").removeClass("animated"),!s||"prev"!==s&&"next"!==s?i&&i<o?this.prevCarousel(a,n):this.nextCarousel(a,n):"prev"===s?this.prevCarousel(a,n):this.nextCarousel(a,n)):(n.addClass("animated").removeClass("pip-show"),a.addClass("animated").addClass("pip-show"))},t}();angular.module("pipImageSlider.Service",[]).service("pipImageSlider",i)},{}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e){var o=this;t.on("click",function(){o.sliderId()&&o.direction()&&e.getSliderScope(o.sliderId()).vm[o.direction()+"Block"]()})}return t.$inject=["$element","pipImageSlider"],t}(),s=function(){return{scope:{direction:"&pipButtonType",sliderId:"&pipSliderId"},controllerAs:"$ctlr",bindToController:!0,controller:i}};angular.module("pipSliderButton",[]).directive("pipSliderButton",s)},{}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e){var o=this;t.css("cursor","pointer"),t.on("click",function(){o.sliderId()&&void 0!==o.slideTo()&&e.getSliderScope(o.sliderId()).vm.slideTo(o.slideTo())})}return t.$inject=["$element","pipImageSlider"],t}(),s=function(){return{scope:{slideTo:"&pipSlideTo",sliderId:"&pipSliderId"},controllerAs:"$ctlr",bindToController:!0,controller:i}};angular.module("pipSliderIndicator",[]).directive("pipSliderIndicator",s)},{}],7:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),angular.module("pipImageSlider",["pipSliderButton","pipSliderIndicator","pipImageSlider.Service"]),t("./ImageSlider"),t("./ImageSliderService"),t("./SliderButton"),t("./SliderIndicator")},{"./ImageSlider":3,"./ImageSliderService":4,"./SliderButton":5,"./SliderIndicator":6}],8:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t("./dependencies/TranslateFilter"),t("./color_picker/ColorPicker"),t("./image_slider"),t("./markdown/Markdown"),t("./popover"),t("./progress/RoutingProgress"),t("./toast"),angular.module("pipControls",["pipMarkdown","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipControls.Translate"])},{"./color_picker/ColorPicker":1,"./dependencies/TranslateFilter":2,"./image_slider":7,"./markdown/Markdown":9,"./popover":12,"./progress/RoutingProgress":13,"./toast":16}],9:[function(t,e,o){var i=function(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;e&&(e.setTranslations("en",{MARKDOWN_ATTACHMENTS:"Attachments:",checklist:"Checklist",documents:"Documents",pictures:"Pictures",location:"Location",time:"Time"}),e.setTranslations("ru",{MARKDOWN_ATTACHMENTS:"Вложения:",checklist:"Список",documents:"Документы",pictures:"Изображения",location:"Местонахождение",time:"Время"}))};i.$inject=["$injector"];var s={text:"<pipText",isList:"<?pipList",clamp:"<?pipLineCount",rebind:"<?pipRebind"},n=(function(){function t(){}return t}(),function(){function t(t,e,o){this.$scope=t,this.$element=e,this._pipTranslate=o.has("pipTranslate")?o.get("pipTranslate"):null}return t.prototype.$postLink=function(){this.bindText(this.text),this.$scope.$on("pipWindowResized",function(){this.bindText&&this.bindText(this._text(this._$scope))}),this.$element.addClass("pip-markdown")},t.prototype.$onChanges=function(t){var e=t.text.currentValue;this.rebind&&(this.text=e,this.bindText(this.text))},t.prototype.describeAttachments=function(t){var e="",o=[];return _.each(t,function(t){t.type&&"text"!==t.type&&(0===e.length&&this._pipTranslate&&(e=this._pipTranslate.translate("MARKDOWN_ATTACHMENTS")),o.indexOf(t.type)<0&&(o.push(t.type),e+=o.length>1?", ":" ",this._pipTranslate&&(e+=this._pipTranslate.translate(t.type))))}),e},t.prototype.bindText=function(t){var e,o,i,s,n;_.isArray(t)?(n=_.find(t,function(t){return"text"===t.type&&t.text}),e=n?n.text:this.describeAttachments(t)):e=t,o=this.clamp&&_.isNumber(this.clamp),o=o&&e&&e.length>0,s={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},e=marked(e||"",s),o&&(i=1.5*Number(this.clamp)),this.$element.html("<div"+(o?this.isList?'class="pip-markdown-content pip-markdown-list" style="max-height: '+i+'em">':' class="pip-markdown-content" style="max-height: '+i+'em">':this.isList?' class="pip-markdown-list">':">")+e+"</div>"),this.$element.find("a").attr("target","blank"),!this.isList&&o&&this.$element.append('<div class="pip-gradient-block"></div>')},t}()),r={controller:n,bindings:s};angular.module("pipMarkdown",["ngSanitize"]).run(i).component("pipMarkdown",r)},{}],10:[function(t,e,o){var i={params:"<pipParams"},s=function(){function t(t,e,o,i,s,n){var r=this;this.$scope=t,this.$timeout=i,this.$compile=s,this.$templateRequest=n,this.backdropElement=$(".pip-popover-backdrop"),this.backdropElement.on("click keydown scroll",function(){r.backdropClick()}),this.backdropElement.addClass(this.params.responsive!==!1?"pip-responsive":""),i(function(){r.position(),angular.extend(t,r.params.locals),r.params.template?(r.content=s(r.params.template)(t),o.find(".pip-popover").append(r.content),r.init()):r.$templateRequest(r.params.templateUrl,!1).then(function(e){r.content=s(e)(t),o.find(".pip-popover").append(r.content),r.init()})}),i(function(){r.calcHeight()},200),e.$on("pipPopoverResize",function(){r.onResize()}),$(window).resize(function(){r.onResize()})}return t.prototype.backdropClick=function(){this.params.cancelCallback&&this.params.cancelCallback(),this.closePopover()},t.prototype.closePopover=function(){var t=this;this.backdropElement.removeClass("opened"),this.$timeout(function(){t.backdropElement.remove()},100)},t.prototype.onPopoverClick=function(t){t.stopPropagation()},t.prototype.init=function(){this.backdropElement.addClass("opened"),$(".pip-popover-backdrop").focus(),this.params.timeout&&this.$timeout(function(){this.closePopover()},this.params.timeout)},t.prototype.position=function(){if(this.params.element){var t=$(this.params.element),e=t.offset(),o=t.width(),i=t.height(),s=$(document).width(),n=$(document).height(),r=this.backdropElement.find(".pip-popover");e&&r.css("max-width",s-(s-e.left)).css("max-height",n-(e.top+i)-32,0).css("left",e.left-r.width()+o/2).css("top",e.top+i+16)}},t.prototype.onResize=function(){this.backdropElement.find(".pip-popover").find(".pip-content").css("max-height","100%"),this.position(),this.calcHeight()},t.prototype.calcHeight=function(){if(this.params.calcHeight!==!1){var t=this.backdropElement.find(".pip-popover"),e=t.find(".pip-title"),o=t.find(".pip-footer"),i=t.find(".pip-content"),s=t.height()-e.outerHeight(!0)-o.outerHeight(!0);i.css("max-height",Math.max(s,0)+"px").css("box-sizing","border-box")}},t}(),n={bindings:i,templateUrl:"popover/Popover.html",controller:s};angular.module("pipPopover").component("pipPopover",n)},{}],11:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o){this.$compile=t,this.$rootScope=e,this.$timeout=o,this.popoverTemplate="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>"}return t.$inject=["$compile","$rootScope","$timeout"],t.prototype.show=function(t){var e,o,i,s;e=$("body"),e.find("md-backdrop").length>0||(this.hide(),o=this.$rootScope.$new(),i=t&&_.isObject(t)?t:{},o.params=i,o.locals=i.locals,s=this.$compile(this.popoverTemplate)(o),e.append(s))},t.prototype.hide=function(){var t=$(".pip-popover-backdrop");t.removeClass("opened"),this.$timeout(function(){t.remove()},100)},t.prototype.resize=function(){this.$rootScope.$broadcast("pipPopoverResize")},t}();angular.module("pipPopover.Service",[]).service("pipPopoverService",i)},{}],12:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),angular.module("pipPopover",["pipPopover.Service"]),t("./Popover"),t("./PopoverService")},{"./Popover":10,"./PopoverService":11}],13:[function(t,e,o){var i={showProgress:"&",logoUrl:"@"},s=function(){function t(t,e){this.$element=e}return t.prototype.$postLink=function(){this._image=this.$element.find("img"),this.loadProgressImage()},t.prototype.loadProgressImage=function(){this.logoUrl&&this._image.attr("src",this.logoUrl)},t}(),n={bindings:i,templateUrl:"progress/RoutingProgress.html",controller:s};angular.module("pipRoutingProgress",["ngMaterial"]).component("pipRoutingProgress",n)},{}],14:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t}();o.Toast=i},{}],15:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(t,e,o){this.$mdToast=t,this.toast=e,this._pipErrorDetailsDialog=o.has("pipErrorDetailsDialog")?o.get("pipErrorDetailsDialog"):null,this.message=e.message,this.actions=e.actions,0===e.actions.length?this.actionLenght=0:this.actionLenght=1===e.actions.length?e.actions[0].toString().length:null,this.showDetails=null!=this._pipErrorDetailsDialog}return t.prototype.onDetails=function(){this.$mdToast.hide(),this._pipErrorDetailsDialog&&this._pipErrorDetailsDialog.show({error:this.toast.error,ok:"Ok"},angular.noop,angular.noop)},t.prototype.onAction=function(t){this.$mdToast.hide({action:t,id:this.toast.id,message:this.message})},t}(),s=function(){function t(t,e){var o=this;this.$mdToast=e,this.SHOW_TIMEOUT=2e4,this.SHOW_TIMEOUT_NOTIFICATIONS=2e4,this.toasts=[],this.sounds={},t.$on("$stateChangeSuccess",function(){o.onStateChangeSuccess()}),t.$on("pipSessionClosed",function(){o.onClearToasts()}),t.$on("pipIdentityChanged",function(){o.onClearToasts()})}return t.$inject=["$rootScope","$mdToast"],t.prototype.showNextToast=function(){var t;this.toasts.length>0&&(t=this.toasts[0],this.toasts.splice(0,1),this.showToast(t))},t.prototype.showToast=function(t){var e=this;this.currentToast=t,this.$mdToast.show({templateUrl:"toast/Toast.html",hideDelay:t.duration||this.SHOW_TIMEOUT,position:"bottom left",controller:i,controllerAs:"vm",locals:{toast:this.currentToast,sounds:this.sounds}}).then(function(t){e.showToastOkResult(t)},function(t){e.showToastCancelResult(t)})},t.prototype.showToastCancelResult=function(t){this.currentToast.cancelCallback&&this.currentToast.cancelCallback(t),this.currentToast=null,this.showNextToast()},t.prototype.showToastOkResult=function(t){this.currentToast.successCallback&&this.currentToast.successCallback(t),this.currentToast=null,this.showNextToast()},t.prototype.addToast=function(t){this.currentToast&&"error"!==t.type?this.toasts.push(t):this.showToast(t)},t.prototype.removeToasts=function(t){var e=[];_.each(this.toasts,function(o){o.type&&o.type===t||e.push(o)}),this.toasts=_.cloneDeep(e)},t.prototype.removeToastsById=function(t){_.remove(this.toasts,{id:t})},t.prototype.getToastById=function(t){return _.find(this.toasts,{id:t})},t.prototype.onStateChangeSuccess=function(){},t.prototype.onClearToasts=function(){this.clearToasts(null)},t.prototype.showNotification=function(t,e,o,i,s){this.addToast({id:s||null,type:"notification",message:t,actions:e||["ok"],successCallback:o,cancelCallback:i,duration:this.SHOW_TIMEOUT_NOTIFICATIONS})},t.prototype.showMessage=function(t,e,o,i){this.addToast({id:i||null,type:"message",message:t,actions:["ok"],successCallback:e,cancelCallback:o})},t.prototype.showError=function(t,e,o,i,s){this.addToast({id:i||null,error:s,type:"error",message:t||"Unknown error.",actions:["ok"],successCallback:e,cancelCallback:o})},t.prototype.hideAllToasts=function(){this.$mdToast.cancel(),this.toasts=[]},t.prototype.clearToasts=function(t){t?this.removeToasts(t):(this.$mdToast.cancel(),this.toasts=[])},t}();angular.module("pipToasts").service("pipToasts",s)},{}],16:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),angular.module("pipToasts",["ngMaterial","pipControls.Translate"]),t("./ToastService"),t("./Toast")},{"./Toast":14,"./ToastService":15}],17:[function(t,e,o){!function(t){try{t=angular.module("pipControls.Templates")}catch(e){t=angular.module("pipControls.Templates",[])}t.run(["$templateCache",function(t){t.put("color_picker/ColorPicker.html",'<ul class="pip-color-picker {{$ctrl.class}}" pip-selected="$ctrl.currentColorIndex" pip-enter-space-press="$ctrl.enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in $ctrl.colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="$ctrl.selectColor($index)" aria-label="color" ng-disabled="$ctrl.ngDisabled"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == $ctrl.currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(t){try{t=angular.module("pipControls.Templates")}catch(e){t=angular.module("pipControls.Templates",[])}t.run(["$templateCache",function(t){t.put("popover/Popover.html",'<div class="pip-popover" ng-click="$ctrl.params.onPopoverClick($event)"></div>')}])}(),function(t){try{t=angular.module("pipControls.Templates")}catch(e){t=angular.module("pipControls.Templates",[])}t.run(["$templateCache",function(t){t.put("progress/RoutingProgress.html",'<div class="layout-column layout-align-center-center" ng-show="$ctrl.showProgress()"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(t){try{t=angular.module("pipControls.Templates")}catch(e){t=angular.module("pipControls.Templates",[])}t.run(["$templateCache",function(t){t.put("toast/Toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': vm.toast.type==\'error\', \'pip-column-toast\': vm.toast.actions.length > 1 || vm.actionLenght > 4, \'pip-no-action-toast\': vm.actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var pip-text" ng-bind-html="vm.message"></span><div class="layout-row layout-align-end-start pip-actions" ng-if="vm.actions.length > 0 || (vm.toast.type==\'error\' && vm.toast.error)"><div class="flex" ng-if="vm.toast.actions.length > 1"></div><md-button class="flex-fixed pip-toast-button" ng-if="vm.toast.type==\'error\' && vm.toast.error && vm.showDetails" ng-click="vm.onDetails()">Details</md-button><md-button class="flex-fixed pip-toast-button" ng-click="vm.onAction(action)" ng-repeat="action in vm.actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}()},{}]},{},[17,8])(17)});


!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).files=t()}}(function(){return function t(e,i,l){function n(r,p){if(!i[r]){if(!e[r]){var c="function"==typeof require&&require;if(!p&&c)return c(r,!0);if(o)return o(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var a=i[r]={exports:{}};e[r][0].call(a.exports,function(t){var i=e[r][1][t];return n(i?i:t)},a,a.exports,t,e,i,l)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<l.length;r++)n(l[r]);return n}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=function(){function t(){}return t}();i.ButtonsUpload=l},{}],2:[function(t,e,i){function l(t){var e=t.has("pipTranslate")?t.get("pipTranslate"):null;return function(t){return e?e.translate(t)||t:t}}l.$inject=["$injector"],angular.module("pipFiles.Translate",[]).filter("translate",l)},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"<?pipButtons",name:"<pipName",type:"<?pipType",error:"<pipError"},n=(function(){function t(){}return t}(),function(){function t(t){"ngInject";var e=this;t.$watch("error",function(t){e.error=t})}return t.$inject=["$scope"],t}()),o={controller:n,bindings:l,templateUrl:"fail/FileFail.html"};angular.module("pipFiles.FailUpload",[]).component("pipFailUpload",o)},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),t("./service/FileUploadService"),t("./model/FileModel"),t("./success/FileSuccess"),t("./upload/FileUpload"),t("./start/FileStart"),t("./fail/FileFail"),t("./select/FileSelect"),angular.module("pipFiles",["pipFiles.Service","pipFiles.Model","pipFiles.SuccessUpload","pipFiles.FileUpload","pipFiles.StartUpload","pipFiles.FailUpload","pipFiles.Select"])},{"./fail/FileFail":3,"./model/FileModel":5,"./select/FileSelect":6,"./service/FileUploadService":7,"./start/FileStart":10,"./success/FileSuccess":11,"./upload/FileUpload":12}],5:[function(t,e,i){function l(t,e,i,l){var n=l(i.fileModel),o=n.assign;e.bind("change",function(){t.$apply(function(){o(t,e[0].files[0])})})}function n(t){"ngInject";return{restrict:"A",link:function(e,i,n){l(e,i,n,t)}}}n.$inject=["$parse"],angular.module("pipFiles.Model",[]).directive("fileModel",n)},{}],6:[function(t,e,i){var l={localFile:"<pipLocalFile",change:"<pipChange"},n=function(){function t(t){"ngInject";var e=this;t.$watch("$ctrl.localFile",function(t){e.change&&e.change(e.localFile)})}return t.$inject=["$scope"],t.prototype.onUploadButtonClick=function(){$("#inp_file").click()},t.prototype.onDeleteButtonClick=function(){this.localFile=null;var t=document.getElementById("inp_form");t.reset()},t}(),o={restrict:"E",replace:!0,bindings:l,controller:n,templateUrl:"select/FileSelect.html"};angular.module("pipFiles.Select",[]).component("pipFileSelect",o)},{}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=t("./FileUploadState"),n=function(){function t(t){"ngInject";this.$http=t}return t.$inject=["$http"],t.prototype.upload=function(t,e,i,n){var o=new FormData;o.append("file",t),n&&n(l.FileUploadState.Uploading,0),this.$http.post(e,o,{uploadEventHandlers:{progress:function(t){t.lengthComputable&&n&&n(l.FileUploadState.Uploading,t.loaded/t.total*100)}},headers:{"Content-Type":void 0}}).success(function(t){n&&n(l.FileUploadState.Completed,100),i&&i(t,null)}).error(function(t){n&&n(l.FileUploadState.Failed,0),i&&i(null,t.Error||t)})},t}();angular.module("pipFiles.Service",[]).service("pipFileUpload",n)},{"./FileUploadState":8}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l;!function(t){t[t.Uploading=0]="Uploading",t[t.Completed=1]="Completed",t[t.Failed=2]="Failed"}(l=i.FileUploadState||(i.FileUploadState={}))},{}],9:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0})},{}],10:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"<?pipButtons",name:"<pipName",type:"<?pipType",progress:"<?pipProgress"},n=(function(){function t(){}return t}(),function(){function t(){this.progress=0}return t.prototype.$onChanges=function(t){t.progress&&(this.progress=t.progress.currentValue)},t}()),o={controller:n,bindings:l,templateUrl:"start/FileStart.html"};angular.module("pipFiles.StartUpload",[]).component("pipStartUpload",o)},{}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l={buttons:"=?pipButtons",name:"=pipName",type:"=?pipType"},n=function(){function t(){this.type="file"}return t.prototype.$onChanges=function(t){},t}(),o={restrict:"E",replace:!0,controller:n,controllerAs:"vm",bindings:l,templateUrl:"success/FileSuccess.html"};angular.module("pipFiles.SuccessUpload",[]).component("pipSuccesUpload",o)},{}],12:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var l=(function(){function t(){}return t}(),{buttonFunction:"<?pipButtonFunctions",buttons:"<?pipButtons",error:"<?pipError",name:"<pipName",state:"<pipState",type:"<?pipType",progress:"<pipProgress"}),n=(function(){function t(){}return t}(),function(){function t(t){this.error=null}return t.prototype.$onInit=function(){var t=this;this.buttons&&(this.uploadButtons=[],this.failButtons=[{title:"Cancel",click:function(){t.onCancel()}},{title:"Retry",click:function(){t.onRetry()}}],this.startButtons=[{title:"Abort",click:function(){t.onAbort()}}])},t.prototype.$onChanges=function(t){t.state&&(this.state=t.state.currentValue),t.progress&&(this.progress=t.progress.currentValue),t.error&&(this.error=t.error.currentValue)},t.prototype.onCancel=function(){this.buttonFunction.cancel&&this.buttonFunction.cancel()},t.prototype.onRetry=function(){this.buttonFunction.retry&&this.buttonFunction.retry()},t.prototype.onAbort=function(){this.buttonFunction.abort&&this.buttonFunction.abort()},t}()),o={controller:n,bindings:l,templateUrl:"upload/FileUpload.html"};angular.module("pipFiles.FileUpload",[]).component("pipFileUpload",o)},{}],13:[function(t,e,i){!function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("fail/FileFail.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon color-badge-bg"><md-icon md-svg-icon="icons:cross"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{$ctrl.type}} failed with errors!</h3><div class="color-secondary-text pip-subtitle">{{$ctrl.name}}</div><div class="color-error pip-error">{{$ctrl.error}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="$ctrl.buttons && $ctrl.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="fail in $ctrl.buttons" ng-click="fail.click()">{{::fail.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("select/FileSelect.html",'<div class="pip-file-select"><form id="inp_form" class="pip-hidden-form"><input type="file" file-model="$ctrl.localFile" id="inp_file" ng-model="$ctrl.localFile"></form><md-button class="md-raised md-accent pip-button" ng-click="$ctrl.onUploadButtonClick()" ng-if="!$ctrl.localFile">Choose File</md-button><div ng-if="$ctrl.localFile.name" class="pip-file layout-row layout-align-start-center"><md-icon md-svg-icon="icons:document" class="pip-icon"></md-icon><div class="flex"><div class="text-body2 text-overflow">{{$ctrl.localFile.name}}</div><div ng-if="$ctrl.localFile.size" class="color-secondary-text">{{$ctrl.localFile.size}}</div></div><md-button ng-click="$ctrl.onDeleteButtonClick()" class="md-icon-button"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("start/FileStart.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-orange"><md-icon md-svg-icon="icons:play"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploading {{::$ctrl.type}}</h3><div class="color-secondary-text pip-subtitle">{{$ctrl.name}}</div><div><md-progress-linear md-mode="determinate" class="md-accent" value="{{$ctrl.progress}}" ng-if="$ctrl.progress < 100"></md-progress-linear><md-progress-linear md-mode="indeterminate" class="md-accent" ng-if="$ctrl.progress == 100"></md-progress-linear></div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="$ctrl.buttons"><div><md-button class="md-accent" ng-repeat="start in $ctrl.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("success/FileSuccess.html",'<div class="pip-files pip-progress-files"><div class="pip-body pip-scroll pip-progress-body"><div class="layout-row"><div class="pip-progress-icon bb-green"><md-icon md-svg-icon="icons:check"></md-icon></div><div class="pip-progress-content"><h3 class="pip-title">Uploaded {{::vm.type}} successfully!</h3><div class="color-secondary-text pip-subtitle">{{vm.name}}</div></div></div></div><div class="pip-footer layout-row layout-align-end-center" ng-if="vm.buttons && vm.buttons.length > 0"><div><md-button class="md-accent" ng-repeat="start in vm.buttons" ng-click="start.click()">{{start.title}}</md-button></div></div></div>')}])}(),function(t){try{t=angular.module("pipFiles.Templates")}catch(e){t=angular.module("pipFiles.Templates",[])}t.run(["$templateCache",function(t){t.put("upload/FileUpload.html",'<div><pip-succes-upload ng-if="$ctrl.state == 1 && (!$ctrl.buttons || $ctrl.uploadButtons)" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-buttons="$ctrl.buttons"></pip-succes-upload><pip-fail-upload ng-if="$ctrl.state == 2" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-error="$ctrl.error" pip-buttons="$ctrl.failButtons"></pip-fail-upload><pip-start-upload ng-if="$ctrl.state == 0" pip-name="$ctrl.name" pip-type="$ctrl.type" pip-progress="$ctrl.progress" pip-buttons="$ctrl.startButtons"></pip-start-upload></div>')}])}()},{}]},{},[13,1,2,3,4,5,6,7,8,9,10,11,12])(13)});


//# sourceMappingURL=pip-webui.min.js.map
