!function(){"use strict";angular.module("pipCore",["pipUtils","pipErrors","pipTransactions","pipTranslate","pipState","pipTimer","pipAssert","pipDebug","pipDateFormat","pipDateTimeFilters","pipTranslateFilters","pipClearErrors","pipTheme","pipFocused","pipSelected","pipInfiniteScroll","pipDraggable","pipUnsavedChanges","pipFabTooltipVisibility"])}(),function(){"use strict";var e=angular.module("pipClearErrors",[]);e.directive("pipClearErrors",function(){return{restrict:"A",require:["ngModel","^?form"],link:function(e,t,r,n){function a(){var e=o.$error;for(var t in e)e.hasOwnProperty(t)&&"ERROR_"==t.substring(0,6)&&o.$setValidity(t,!0)}function i(){u.$serverError={}}var o=n[0],u=n[1];e.$watch(r.ngModel,function(e){a(),i()})}}})}(),function(){"use strict";var e=angular.module("pipDraggable",["pipUtils"]);e.service("pipDraggable",function(){var e=this;e.inputEvent=function(e){return angular.isDefined(e.touches)?e.touches[0]:angular.isDefined(e.originalEvent)&&angular.isDefined(e.originalEvent.touches)?e.originalEvent.touches[0]:e}}),e.directive("pipDrag",["$rootScope","$parse","$document","$window","pipDraggable","pipUtils",function(e,t,r,n,a,i){return{restrict:"A",link:function(o,u,l){o.value=l.ngDrag;var s,c,p,f,d,g,m,h,v=50,_=!1,D="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,b="touchstart mousedown",T="touchmove mousemove",S="touchend mouseup",E=o.$id,y=null,M=null,O=!1,A=null,w=t(l.pipDragStart)||null,$=t(l.pipDragStop)||null,N=t(l.pipDragSuccess)||null,P=!!angular.isDefined(l.allowTransform)&&o.$eval(l.allowTransform),H=t(l.pipDragData),C=i.toBoolean(l.pipVerticalScroll)||!0,L=i.toBoolean(l.pipHorizontalScroll)||!0,R=parseFloat(l.pipActivationDistance)||75,k=parseFloat(l.pipScrollDistance)||50,U=!1,F=angular.element(window),Y=t(l.pipScrollContainer),x=angular.noop,I=function(){if(u.attr("pip-draggable","false"),u[0].querySelectorAll)var e=angular.element(u[0].querySelectorAll("[pip-drag-handle]"));else var e=u.find("[pip-drag-handle]");e.length&&(h=e),G(!0),F=U?angular.element($element.parent()):l.pipScrollContainer?angular.element(Y(o)):angular.element(window)},G=function(e){e&&(o.$on("$destroy",W),o.$watch(l.pipDrag,B),o.$watch(l.pipCenterAnchor,j),h?h.on(b,K):u.on(b,K),D||"img"!=u[0].nodeName.toLowerCase()||u.on("mousedown",function(){return!1}))},W=function(e){G(!1)},B=function(e,t){O=e},j=function(e,t){angular.isDefined(e)&&(_=e||"true")},q=function(e){return angular.isDefined(angular.element(e.target).attr("pip-cancel-drag"))},K=function(e){O&&(q(e)||"mousedown"==e.type&&0!=e.button||(D?(V(),A=setTimeout(function(){V(),z(e)},v),r.on(T,V),r.on(S,V)):z(e)))},V=function(){clearTimeout(A),r.off(T,V),r.off(S,V)},z=function(t){O&&(t.preventDefault(),s=u[0].getBoundingClientRect(),M=P?s:{left:document.body.scrollLeft,top:document.body.scrollTop},u.centerX=u[0].offsetWidth/2,u.centerY=u[0].offsetHeight/2,c=a.inputEvent(t).pageX,p=a.inputEvent(t).pageY,g=c-s.left,m=p-s.top,_?(f=c-u.centerX-n.pageXOffset,d=p-u.centerY-n.pageYOffset):(f=c-g-n.pageXOffset,d=p-m-n.pageYOffset),r.on(T,J),r.on(S,X),x=e.$on("draggable:_triggerHandlerMove",function(e,t){J(t)}))},J=function(t){O&&(t.preventDefault(),u.hasClass("pip-dragging")||(y=H(o),u.addClass("pip-dragging"),e.$broadcast("draggable:start",{x:c,y:p,tx:f,ty:d,event:t,element:u,data:y}),w&&o.$apply(function(){w(o,{$data:y,$event:t})})),c=a.inputEvent(t).pageX,p=a.inputEvent(t).pageY,(L||C)&&te(),_?(f=c-u.centerX-M.left,d=p-u.centerY-M.top):(f=c-g-M.left,d=p-m-M.top),ee(f,d),e.$broadcast("draggable:move",{x:c,y:p,tx:f,ty:d,event:t,element:u,data:y,uid:E,dragOffset:M}))},X=function(t){O&&(t.preventDefault(),e.$broadcast("draggable:end",{x:c,y:p,tx:f,ty:d,event:t,element:u,data:y,callback:Q,uid:E}),u.removeClass("pip-dragging"),u.parent().find(".pip-drag-enter").removeClass("pip-drag-enter"),Z(),r.off(T,J),r.off(S,X),$&&o.$apply(function(){$(o,{$data:y,$event:t})}),x())},Q=function(e){N&&o.$apply(function(){N(o,{$data:y,$event:e})})},Z=function(){P?u.css({transform:"","z-index":"","-webkit-transform":"","-ms-transform":""}):u.css({position:"",top:"",left:"","z-index":"",width:""})},ee=function(e,t){var r=u.css("width");P?u.css({transform:"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","z-index":99999,"-webkit-transform":"matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, "+e+", "+t+", 0, 1)","-ms-transform":"matrix(1, 0, 0, 1, "+e+", "+t+")"}):u.css({left:e+"px",top:t+"px",position:"fixed","z-index":100,width:r})},te=function(){var e=0,t=0,r=function(e){return e.offset()||{left:0,top:0}};if(L){var n=r(F).left,a=F.innerWidth(),i=n+a;c-n<R?e=-k:i-c<R&&(e=k)}if(C){var o=r(F).top,u=F.innerHeight(),l=o+u;p-o<R?t=-k+30:l-p<R&&(t=k-30)}if(0!==e||0!==t){var s=F.scrollLeft(),f=F.scrollTop();F.scrollLeft(s+e),F.scrollTop(f+t)}};I()}}}]),e.directive("pipDrop",["$parse","$timeout","$window","$document","pipDraggable",function(e,t,r,n,a){return{restrict:"A",link:function(r,a,i){r.value=i.pipDrop,r.isTouching=!1;var o=null,u=r.$id,l=!1,s=e(i.pipDropSuccess),c=e(i.pipDragStart),p=e(i.pipDragStop),f=e(i.pipDragMove),d=function(){g(!0)},g=function(e){e&&(r.$watch(i.pipDrop,h),r.$on("$destroy",m),r.$on("draggable:start",v),r.$on("draggable:move",_),r.$on("draggable:end",D))},m=function(e){g(!1)},h=function(e,t){l=e},v=function(e,n){l&&(b(n.x,n.y,n.element),i.pipDragStart&&t(function(){c(r,{$data:n.data,$event:n})}))},_=function(e,n){l&&(b(n.x,n.y,n.element),i.pipDragMove&&t(function(){f(r,{$data:n.data,$event:n})}))},D=function(e,n){return l&&u!==n.uid?(b(n.x,n.y,n.element)&&(n.callback&&n.callback(n),i.pipDropSuccess&&t(function(){s(r,{$data:n.data,$event:n,$target:r.$eval(r.value)})})),i.pipDragStop&&t(function(){p(r,{$data:n.data,$event:n})}),void T(!1,n.element)):void T(!1,n.element)},b=function(e,t,n){var i=S(e,t);return r.isTouching=i,i&&(o=a),T(i,n),i},T=function(e,t){e?(a.addClass("pip-drag-enter"),t.addClass("pip-drag-over")):o==a&&(o=null,a.removeClass("pip-drag-enter"),t.removeClass("pip-drag-over"))},S=function(e,t){var r=a[0].getBoundingClientRect();return e-=n[0].body.scrollLeft+n[0].documentElement.scrollLeft,t-=n[0].body.scrollTop+n[0].documentElement.scrollTop,e>=r.left&&e<=r.right&&t<=r.bottom&&t>=r.top};d()}}}]),e.directive("pipPreventDrag",["$parse","$timeout",function(e,t){return{restrict:"A",link:function(e,t,r){var n=function(){t.attr("pip-draggable","false"),a(!0)},a=function(e){e&&t.on("mousedown touchstart touchmove touchend touchcancel",i)},i=function(e){var t=e.originalEvent;return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.returnValue=!1,!1};n()}}}]),e.directive("pipCancelDrag",function(){return{restrict:"A",link:function(e,t,r){t.find("*").attr("pip-cancel-drag","pip-cancel-drag")}}})}(),function(){"use strict";var e=angular.module("pipFabTooltipVisibility",[]);e.directive("pipFabTooltipVisibility",["$parse","$timeout",function(e,t){return{restrict:"A",scope:!1,controller:["$scope","$attrs",function(r,n){var a=e(n.pipFabTooltipVisibility),i=e(n.pipFabShowTooltip),o=i.assign;r.$watch(a,function(e){e?t(function(){o(r,e)},600):o(r,e)})}]}}])}(),function(){"use strict";var e=angular.module("pipFocused",[]);e.directive("pipFocused",["$timeout","$mdConstant",function(e,t){return{require:"?ngModel",link:function(r,n,a){function i(){var e=s?".pip-focusable":".pip-focusable:visible";u=n.find(e),l=u.length,u.on("focus",function(){n.addClass("pip-focused-container"),$(this).addClass("md-focused")}).on("focusout",function(){n.removeClass("pip-focused-container")})}function o(e){var r=e.which||e.keyCode;if(r==t.KEY_CODE.LEFT_ARROW||r==t.KEY_CODE.UP_ARROW||r==t.KEY_CODE.RIGHT_ARROW||r==t.KEY_CODE.DOWN_ARROW){e.preventDefault();var n=r==t.KEY_CODE.RIGHT_ARROW||r==t.KEY_CODE.DOWN_ARROW?1:-1,a=u.index(u.filter(".md-focused"))+n;a>=0&&a<l&&u[a].focus()}}var u,l,s=a.pipWithHidden;e(i),n.on("keydown",o),r.$watch(a.ngModel,function(){e(i)},!0)}}}])}(),function(){"use strict";var e=angular.module("pipInfiniteScroll",[]);e.directive("pipInfiniteScroll",["$rootScope","$window","$interval","$parse",function(e,t,r,n){var a=500;return{scope:{pipInfiniteScroll:"&",pipScrollContainer:"=",pipScrollDistance:"=",pipScrollDisabled:"=",pipScrollUseDocumentBottom:"=",pipScrollListenForEvent:"@"},link:function(n,i,o){function u(e){return e=e[0]||e,isNaN(e.offsetHeight)?e.document.documentElement.clientHeight:e.offsetHeight}function l(e){if(e[0].getBoundingClientRect&&!e.css("none"))return e[0].getBoundingClientRect().top+s(e)}function s(e){return e=e[0]||e,isNaN(window.pageYOffset)?e.document.documentElement.scrollTop:e.ownerDocument.defaultView.pageYOffset}function c(e){return D=parseFloat(e)||0}function p(e){if(b=!e,b&&h)return h=!1,y()}function f(e){return S=e}function d(e){if(null!=m&&m.unbind("scroll",y),m=e,null!=e)return m.bind("scroll",y)}function g(e){if(null!=e&&0!==e.length){if(e instanceof HTMLElement?e=angular.element(e):"function"==typeof e.append?e=angular.element(e[e.length-1]):"string"==typeof e&&(e=i.parents().find(e)),null!=e&&(!Array.isArray(e)||Array.isArray(e)&&e.length>0))return d(e);throw new Error("Invalid pip-scroll-container attribute.")}}var m,h=null,v=!0,D=null,b=null,T=null,S=!1,E=angular.element(t),y=function(){var t,r,a,o,c;return m===E?(t=u(m)+s(m[0].document.documentElement),a=l(i)+u(i)):(t=u(m),r=0,void 0!==l(m)&&(r=l(m)),a=l(i)-r+u(i)),S&&(a=u((i[0].ownerDocument||i[0].document).documentElement)),o=a-t,c=o<=u(m)*D+1,c?(h=!0,b?n.$$phase||e.$$phase?n.pipInfiniteScroll():n.$apply(n.pipInfiniteScroll):void 0):h=!1};return null!=a&&(y=_.throttle(y,a)),n.$on("$destroy",function(){if(m.unbind("scroll",y),null!=T)return T(),T=null}),n.$watch("pipScrollDistance",c),c(n.pipScrollDistance),n.$watch("pipScrollDisabled",p),p(n.pipScrollDisabled),n.$watch("pipScrollUseDocumentBottom",f),f(n.pipScrollUseDocumentBottom),d(E),n.pipScrollListenForEvent&&(T=e.$on(n.pipScrollListenForEvent,y)),n.$watch("pipScrollContainer",function(e){e!==m&&g(e)}),g(n.pipScrollContainer||[]),null!=o.pipScrollParent&&d(angular.element(i.parent())),null!=o.pipScrolImmediateCheck&&(v=n.$eval(o.pipScrolImmediateCheck)),r(function(){if(v)return y()},0,1)}}}])}(),function(){"use strict";var e=angular.module("pipSelected",["pipUtils"]);e.directive("pipSelected",["$parse","pipUtils","$mdConstant","$timeout",function(e,t,r,n){return{restrict:"A",scope:!1,link:function(n,a,i){function o(e){var t=e.itemIndex,r=e.itemId,n=e.items||a.find(v+h),i=n.length,o=function(){return e.item?e.item:(void 0===t&&t===-1&&(t=n.index(n.filter("[pip-id="+r+"]"))),t>=0&&t<i?n[t]:void 0)}(),s=e.raiseEvent;o&&(a.find(v).removeClass("selected md-focused"),o=angular.element(o).addClass("selected md-focused").focus(),m||l(o),s&&u(n))}function u(e){function t(){var t=angular.element(e[_]),i=t.attr("pip-id");c&&c(n,_),f&&f(n,i),d&&d(n,{$event:{target:a,item:t,index:_,id:i,newIndex:_,oldIndex:r}})}var r=_;_=-1;for(var i=0;i<e.length;i++)if($(e[i]).hasClass("selected")){_=i;break}r!=_&&_!==-1&&n.$apply(t)}function l(e){if(!m){var t=a.offset().top,r=a.height(),n=t+r,i=e.offset().top,o=e.outerHeight(!0),u=i+o,l=a.scrollTop();t>i?a.scrollTop(l+i-t):n<u&&a.scrollTop(l+u-n)}}var s=i.pipSelected?e(i.pipSelected):null,c=s?s.assign:null,p=i.pipSelectedId?e(i.pipSelectedId):null,f=p?p.assign:null,d=i.pipSelect?e(i.pipSelect):null,g=i.pipEnterSpacePress?e(i.pipEnterSpacePress):null,m=t.toBoolean(i.pipNoScroll),h=t.toBoolean(i.pipSkipHidden)?":visible":"",v=t.toBoolean(i.pipTreeList)?".pip-selectable-tree":".pip-selectable",_=s(n),D=a.attr("tabindex"),b=i.pipSelectedWatch;a.attr("tabindex",D||0),t.toBoolean(i.pipTreeList)?n.$watch(p,function(e){setTimeout(function(){o({itemId:e,raiseEvent:!0})},0)}):n.$watch(s,function(e){o({itemIndex:e})}),b&&n.$watch(b,function(){setTimeout(function(){_=s(n),o({itemIndex:_})},100)}),o({itemIndex:_,items:a.find(v)}),a.on("click touchstart",v,function(e){o({item:e.currentTarget,raiseEvent:!0})}),a.on("keydown",function(e){var t=e.which||e.keyCode;if(t==r.KEY_CODE.ENTER||t==r.KEY_CODE.SPACE)e.preventDefault(),e.stopPropagation(),g&&g(n,{$event:{target:a,index:_,item:a.find(".selected")}});else if(t==r.KEY_CODE.LEFT_ARROW||t==r.KEY_CODE.RIGHT_ARROW||t==r.KEY_CODE.UP_ARROW||t==r.KEY_CODE.DOWN_ARROW){e.preventDefault(),e.stopPropagation();var i=a.find(v+h),u=t==r.KEY_CODE.RIGHT_ARROW||t==r.KEY_CODE.DOWN_ARROW?1:-1,l=_+u;o({itemIndex:l,items:i,raiseEvent:!0})}}),a.on("focusin",function(e){var t,r=a.find(v+".selected");r.addClass("md-focused"),0===r.length&&(_=s(n),t=a.find(v+h),o({itemIndex:_||0,items:t,raiseEvent:!0}))}),a.on("focusout",function(e){a.find(v+".md-focused"+h).removeClass("md-focused")})}}}])}(),function(){"use strict";var e=angular.module("pipUnsavedChanges",[]);e.directive("pipUnsavedChanges",["$window","$rootScope",function(e,t){return{restrict:"AE",scope:{unsavedChangesAvailable:"&pipUnsavedChangesAvailable",unsavedChangesMessage:"@pipUnsavedChangesMessage",afterLeave:"&pipUnsavedChangesAfterLeave"},link:function(r){e.onbeforeunload=function(){if(r.unsavedChangesAvailable())return t.$routing=!1,r.unsavedChangesMessage};var n=r.$on("$stateChangeStart",function(n){r.unsavedChangesAvailable()&&!e.confirm(r.unsavedChangesMessage)?(t.$routing=!1,n.preventDefault()):_.isFunction(r.afterLeave)&&r.afterLeave()});r.$on("$destroy",function(){e.onbeforeunload=null,n()})}}}])}(),function(){"use strict";var e=angular.module("pipDateFormat",["pipUtils","pipTranslate"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{MONTH_1:"January",MONTH_2:"February",MONTH_3:"March",MONTH_4:"April",MONTH_5:"May",MONTH_6:"June",MONTH_7:"July",MONTH_8:"August",MONTH_9:"September",MONTH_10:"October",MONTH_11:"November",MONTH_12:"December",MONTH_LONG_1:"January",MONTH_LONG_2:"February",MONTH_LONG_3:"March",MONTH_LONG_4:"April",MONTH_LONG_5:"May",MONTH_LONG_6:"June",MONTH_LONG_7:"July",MONTH_LONG_8:"August",MONTH_LONG_9:"September",MONTH_LONG_10:"October",MONTH_LONG_11:"November",MONTH_LONG_12:"December",MONTH_SHORT_1:"Jan",MONTH_SHORT_2:"Feb",MONTH_SHORT_3:"Mar",MONTH_SHORT_4:"Apr",MONTH_SHORT_5:"May",MONTH_SHORT_6:"Jun",MONTH_SHORT_7:"Jul",MONTH_SHORT_8:"Aug",MONTH_SHORT_9:"Sep",MONTH_SHORT_10:"Oct",MONTH_SHORT_11:"Nov",MONTH_SHORT_12:"Dec",DAY_1:"Monday",DAY_2:"Tuesday",DAY_3:"Wednesday",DAY_4:"Thursday",DAY_5:"Friday",DAY_6:"Saturday",DAY_7:"Sunday",ELAPSED_TODAY:"Today",ELAPSED_YESTERDAY:"Yesterday",ELAPSED_YEARS:"y",ELAPSED_MONTHS:"mth",ELAPSED_WEEKS:"w",ELAPSED_DAYS:"d",ELAPSED_HOURS:"h",ELAPSED_MINUTES:"m",ELAPSED_SECONDS:"s",ELAPSED_AT:"at",ELAPSED_AGO:"ago",ELAPSED_JUST_NOW:"Just now",ELAPSED_FEW_MIN_AGO:"Few min ago",ELAPSED_MIN_AGO:"min ago",ELAPSED_HOUR_AGO:"hour ago",ELAPSED_HOURS_AGO:"hours ago",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"hours ago"}),e.translations("ru",{MONTH_1:"январь",MONTH_2:"февраль",MONTH_3:"март",MONTH_4:"апрель",MONTH_5:"май",MONTH_6:"июнь",MONTH_7:"июль",MONTH_8:"август",MONTH_9:"сентябрь",MONTH_10:"октябрь",MONTH_11:"ноябрь",MONTH_12:"декабрь",MONTH_LONG_1:"января",MONTH_LONG_2:"февраля",MONTH_LONG_3:"марта",MONTH_LONG_4:"апреля",MONTH_LONG_5:"мая",MONTH_LONG_6:"июня",MONTH_LONG_7:"июля",MONTH_LONG_8:"августа",MONTH_LONG_9:"сентября",MONTH_LONG_10:"октября",MONTH_LONG_11:"ноября",MONTH_LONG_12:"декабря",MONTH_SHORT_1:"янв",MONTH_SHORT_2:"фев",MONTH_SHORT_3:"мар",MONTH_SHORT_4:"апр",MONTH_SHORT_5:"май",MONTH_SHORT_6:"июн",MONTH_SHORT_7:"июл",MONTH_SHORT_8:"авг",MONTH_SHORT_9:"сен",MONTH_SHORT_10:"окт",MONTH_SHORT_11:"ноя",MONTH_SHORT_12:"дек",DAY_1:"понедельник",DAY_2:"вторник",DAY_3:"среда",DAY_4:"четверг",DAY_5:"пятница",DAY_6:"суббота",DAY_7:"воскресенье",ELAPSED_TODAY:"Сегодня",ELAPSED_YESTERDAY:"Вчера",ELAPSED_YEARS:"г",ELAPSED_MONTHS:"мц",ELAPSED_WEEKS:"н",ELAPSED_DAYS:"д",ELAPSED_HOURS:"ч",ELAPSED_MINUTES:"м",ELAPSED_SECONDS:"с",ELAPSED_AT:"в",ELAPSED_AGO:"тн",ELAPSED_JUST_NOW:"Только что",ELAPSED_FEW_MIN_AGO:"Несколько мин тн",ELAPSED_MIN_AGO:"мин тн",ELAPSED_HOUR_AGO:"час тн",ELAPSED_HOURS_AGO:"часа тн",ELAPSED_HOURS_AGO_MORE_THAN_FIVE:"часов тн"})}]),e.factory("pipDateFormat",["pipDates","pipTranslate","$rootScope",function(e,t,r){function n(e){return e<10?"0"+e:e}function a(n,a,i){if(null==n)return"";var o=i||!1,n=_.isDate(n)?n:new Date(n),u=(new Date).getUTCFullYear(),l=n.getUTCFullYear(),s=n.getUTCMonth(),c=t.translate("MONTH_LONG_"+(s+1)),p=t.translate("MONTH_SHORT_"+(s+1)),f=t.translate("MONTH_"+(s+1)),d=n.getUTCDate(),g=e.toStartWeek(n),m=e.toEndWeek(n,-1);return 0==o&&"d MMMM yyyy"==a&&u===l&&(a="MMMM d"),0==o&&"d MMM yyyy"==a&&u===l&&(a="MMM d"),"MMM d"==a&&"ru"==r.$language&&(a="d MMM"),"MMMM d"==a&&"ru"==r.$language&&(a="d MMMM"),"d MMMM yyyy"==a?""+d+" "+c+" "+l:"MMMM d, yyyy"==a?""+f+" "+d+", "+l:"d MMM yyyy"==a?""+d+" "+p+" "+l:"MMM d, yyyy"==a?""+p+" "+d+", "+l:"d MMMM"==a?""+d+" "+c:"d MMM"==a?""+d+" "+p:"MMM d"==a?""+p+" "+d:"MMMM d"==a?""+c+" "+d:"yyyy/M/d"==a?""+l+"/"+s+"/"+d:"yyy-M-d"==a?""+l+"-"+s+"-"+d:"MMMM"==a?""+c+" "+l:"yyyy"==a?""+l:"ww"==a?""+g.getUTCDate()+" - "+m.getUTCDate()+" "+f+" "+l:""+d+" "+f+" "+l}function i(e){return a(e,"d MMMM yyyy")}function o(e){return a(e,"d MMM yyyy",!0)}function u(e){return a(e,"d MMMM yyyy",!0)}function l(e){return a(e,"d MMM yyyy")}function s(e){return a(e,"MMMM")}function c(e){return a(e,"yyyy")}function p(e){return a(e,"ww")}function f(e){return a(e,"d MMM")}function d(e){return"ru"==r.$language?a(e,"d MMMM"):a(e,"MMMM d")}function g(e,t){return e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e?"ru"==r.$language?a(t,"d MMM yyyy",!0):a(t,"MMM d, yyyy",!0):null==t||e==t?"ru"==r.$language?a(e,"d MMM yyyy",!0):a(e,"MMM d, yyyy",!0):e.getUTCFullYear()!==t.getUTCFullYear()?"ru"==r.$language?a(e,"d MMM yyyy",!0)+"-"+a(t,"d MMM yyyy",!0):a(e,"MMM d, yyyy",!0)+"-"+a(t,"MMM d, yyyy",!0):a(e,"d MMM")+" - "+a(t,"d MMM")+((new Date).getUTCFullYear()!==e.getUTCFullYear()?" "+a(e,"yyyy"):"")}function m(e,t){if(e=e?_.isDate(e)?e:new Date(e):null,t=t?_.isDate(t)?t:new Date(t):null,null==e&&null==t)return"";if(null==e)return S(t);if(null==t||e==t)return S(e);var r,n,i,o,u,l;return r=e.getUTCDate(),n=e.getUTCMonth(),i=e.getUTCFullYear(),o=t.getUTCDate(),u=t.getUTCMonth(),l=t.getUTCFullYear(),i!==l?a(e,"d MMM")+", "+i+" "+h(e,"hh:mm")+" - "+a(t,"d MMM")+", "+l+" "+h(t,"hh:mm"):n!=u&&!r!=o?a(e,"d MMM")+", "+h(e,"hh:mm")+" - "+a(t,"d MMM")+", "+h(t,"hh:mm"):h(e,"hh:mm")+" - "+h(t,"hh:mm")}function h(e,r){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var a=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),u="";return"en"==t.use()&&(u=a>=12?" PM":" AM",a%=12,0==a&&(a=12)),"hh:mm:ss"==r?""+n(a)+":"+n(i)+":"+n(o)+u:"hh:mm"==r?""+n(a)+":"+n(i)+u:""+n(a)+":"+n(i)+":"+n(o)+u}function v(e,r){return null==e?"":r?t.translate("MONTH_SHORT_"+e):t.translate("MONTH_"+e)}function D(e){return h(e,"hh:mm:ss")}function b(e){return h(e,"hh:mm")}function T(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),i(e)+" "+D(e))}function S(e){return null==e?"":(e=_.isDate(e)?e:new Date(e),l(e)+" "+b(e))}function E(e,r){if(null==e)return"";e=_.isDate(e)?e:new Date(e);var n=new Date,i=Math.floor((n.getTime()+n.getTimezoneOffset()-(e.getTime()+e.getTimezoneOffset()))/1e3);if(i<1)return t.translate("ELAPSED_JUST_NOW");var o,u,l,s,c,p,f;if(f=i%60,i=Math.floor(i/60),p=i%60,i=Math.floor(i/60),c=i%24,i/=24,o=Math.floor(i/365),i-=365*o,u=Math.floor(i/30),s=Math.floor(i-30*u),s%7==0?(l=Math.floor(s/7),s=0):l=0,"interval"==r){var d="";return o&&(d+=" "+o+t.translate("ELAPSED_YEARS"),l=s=c=p=f=null),u&&(d+=" "+u+t.translate("ELAPSED_MONTHS"),s=c=p=f=null),l&&(d+=" "+l+t.translate("ELAPSED_WEEKS"),c=p=f=null),s&&(d+=" "+s+t.translate("ELAPSED_DAYS"),p=f=null),c&&(d+=" "+c+t.translate("ELAPSED_HOURS"),f=null),p&&(d+=" "+p+t.translate("ELAPSED_MINUTES")),f&&(d+=" "+f+t.translate("ELAPSED_SECONDS")),""!=d?d+" "+t.translate("ELAPSED_AGO"):t.translate("ELAPSED_JUST_NOW")}return o>0?a(e,"d MMM yyyy"):u>0||l>0||s>1?a(e,"MMM d")+", "+h(e,"hh:mm"):1==s?t.translate("ELAPSED_YESTERDAY")+", "+h(e,"hh:mm"):c>10?t.translate("ELAPSED_TODAY")+", "+h(e,"hh:mm"):c>0?""+c+" "+(c<2?t.translate("ELAPSED_HOUR_AGO"):c<5?t.translate("ELAPSED_HOURS_AGO"):t.translate("ELAPSED_HOURS_AGO_MORE_THAN_FIVE")):p>10?""+p+" "+t.translate("ELAPSED_MIN_AGO"):p>0?t.translate("ELAPSED_FEW_MIN_AGO"):t.translate("ELAPSED_JUST_NOW")}function y(e){return E(e,"interval")}function M(e){return Math.floor(e/1e3)}return{formatDate:a,formatLongDate:i,formatShortDate:l,formatShortDateWithYear:o,formatLongDateWithYear:u,formatLongMonth:s,formatMonth:v,formatYear:c,formatShortWeek:p,formatShortDayAndMonth:f,formatLongDayAndMonth:d,formatDateRange:g,formatDateTimeRange:m,formatTime:h,formatLongTime:D,formatShortTime:b,formatLongDateTime:T,formatShortDateTime:S,formatElapsedTime:E,formatElapsedInterval:y,formatMillisecondsToSeconds:M}}])}(),function(){"use strict";var e=angular.module("pipDateTimeFilters",["pipDateFormat"]);e.filter("formatDate",["pipDateFormat",function(e){return function(t,r){return e.formatDate(t,r)}}]),e.filter("formatLongDate",["pipDateFormat",function(e){return function(t){return e.formatLongDate(t)}}]),e.filter("formatLongDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatLongDateWithYear(t)}}]),e.filter("formatMonth",["pipDateFormat",function(e){return function(t,r){return e.formatMonth(t,r)}}]),e.filter("formatShortDate",["pipDateFormat",function(e){return function(t){return e.formatShortDate(t)}}]),e.filter("formatShortDateWithYear",["pipDateFormat",function(e){return function(t){return e.formatShortDateWithYear(t)}}]),e.filter("formatLongMonth",["pipDateFormat",function(e){return function(t){return e.formatLongMonth(t)}}]),e.filter("formatYear",["pipDateFormat",function(e){return function(t){return e.formatYear(t)}}]),e.filter("formatShortWeek",["pipDateFormat",function(e){return function(t){return e.formatShortWeek(t)}}]),e.filter("formatTime",["pipDateFormat",function(e){return function(t,r){return e.formatTime(t,r)}}]),e.filter("formatLongTime",["pipDateFormat",function(e){return function(t){return e.formatLongTime(t)}}]),e.filter("formatShortTime",["pipDateFormat",function(e){return function(t){return e.formatShortTime(t)}}]),e.filter("formatLongDateTime",["pipDateFormat",function(e){return function(t){return e.formatLongDateTime(t)}}]),e.filter("formatShortDateTime",["pipDateFormat",function(e){return function(t){return e.formatShortDateTime(t)}}]),e.filter("formatElapsedInterval",["pipDateFormat",function(e){return function(t){return e.formatElapsedInterval(t)}}]),e.filter("formatElapsedTime",["pipDateFormat",function(e){return function(t){return e.formatElapsedTime(t)}}]),e.filter("formatMillisecondsToSeconds",["pipDateFormat",function(e){return function(t){return e.formatMillisecondsToSeconds(t)}}]),e.filter("formatDateRange",["pipDateFormat",function(e){return function(t,r){return e.formatDateRange(t,r)}}]),e.filter("formatDateTimeRange",["pipDateFormat",function(e){return function(t,r){return e.formatDateTimeRange(t,r)}}])}(),function(){"use strict";var e=angular.module("pipTranslateFilters",["pipTranslate"]);e.filter("translate",["pipTranslate",function(e){return function(t){return e.translate(t)||t}}])}(),function(){"use strict";var e=angular.module("pipAssert",["pipDebug"]);e.provider("pipAssert",["pipDebugProvider",function(e){function t(){}function r(e){return Object.prototype.toString.call(e)}function n(e,t){if(!Array.isArray(e))throw new Error(t||e+" should be array")}function a(e,t){if("boolean"!=typeof e)throw new Error(t||e+" should be boolean")}function i(e,t){if(null===e)throw new Error(t||e+" should be not null")}function o(e,t){if("number"!=typeof e)throw new Error(t||e+" should be number")}function u(e,t){if("string"!=typeof e)throw new Error(t||e+" should be string")}function l(e,t){if("object"!=typeof e)throw new Error(t||e+" should be an object")}function s(e,t){if("object"==typeof e&&"[object Date]"!==r(e))throw new Error(t||e+" should be a date")}function c(e,t){if("object"==typeof e&&("[object Error]"!==r(e)||e instanceof Error))throw new Error(t||e+" should be an error")}function p(e,t){if("function"!=typeof e)throw new Error(t||e+" should be a function")}function f(e,t){if("undefined"==typeof e)throw new Error(t||e+" should be defined")}function d(e,t){if(null===e||void 0===e||e===!1)throw new Error(t||e+" should be not null or undefined or false")}function g(e,t,r){if("object"!=typeof e)throw new Error(e+" should be an object");if(null===e[t]||void 0===e[t])throw new Error(r||t+" should be in object "+e)}function m(e,t,r){if(e!=t)throw new Error(r||e+" should be not equal "+t)}function h(e,t,r){if(e==t)throw new Error(r||e+" should be equal "+t)}function v(e,t,r){if(e!==t)throw new Error(r||e+" should not be strict equal "+t)}function _(e,t,r){if(e===t)throw new Error(r||e+" should not strict equal "+t)}function D(e,t){var r=new RegExp("^[0-9a-fA-F]{24}$");if(!r.test(e))throw new Error(t||e+" should be an object id")}return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?D:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?m:t,notEqual:e.enabled()?h:t,strictEqual:e.enabled()?v:t,notStrictEqual:e.enabled()?_:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?a:t,isNumber:e.enabled()?o:t,isString:e.enabled()?u:t,isObject:e.enabled()?l:t,isDate:e.enabled()?s:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?i:t,$get:["pipDebug",function(e){return{isEmpty:e.enabled()?d:t,isObjectId:e.enabled()?D:t,isDefined:e.enabled()?f:t,isDef:e.enabled()?f:t,contains:e.enabled()?g:t,equal:e.enabled()?m:t,notEqual:e.enabled()?h:t,strictEqual:e.enabled()?v:t,notStrictEqual:e.enabled()?_:t,isArray:e.enabled()?n:t,isBoolean:e.enabled()?a:t,isNumber:e.enabled()?o:t,isString:e.enabled()?u:t,isObject:e.enabled()?l:t,isDate:e.enabled()?s:t,isError:e.enabled()?c:t,isFunction:e.enabled()?p:t,isNotNull:e.enabled()?i:t}}]}}])}(),function(){"use strict";var e=angular.module("pipDebug",[]);e.provider("pipDebug",["$logProvider",function(e){function t(){return this.enabled}function r(){this.enabled=!0,e.debugEnabled(!0)}function n(){this.enabled=!1,e.debugEnabled(!1)}return this.enabled=!0,{enable:r,disable:n,enabled:t,$get:["$log",function(e){return{enabled:t,log:e.log,info:e.info,warn:e.warn,error:e.error,debug:e.debug}}]}}])}(),function(){"use strict";var e=angular.module("pipErrors",["pipUtils","pipAssert"]);e.factory("pipError",["$rootScope","pipAssert",function(e,t){function r(t){e.errors[t]={message:void 0,code:void 0,details:void 0}}function n(e){if(_.isNull(e))return null;if(e.message)return e.message;if(e.data){if(e.data.code)return"ERROR_"+e.data.code;if(e.data.message)return e.data.message}return e.statusText?e.statusText:e.status?"ERROR_"+e.status:e.data?e.data:e}function a(e){return _.isNull(e)?null:e.data&&e.data.code?e.data.code:e.status?e.status:null}function i(e){return e&&e.data?e.data:e}function o(o,u){o=o||"global";var l={reset:function(){r(o)},empty:function(){var t=e.errors[o];return _.isNull(t)||_.isNull(t.message)&&_.isNull(t.code)},get:function(){return e.errors[o]?e.errors[o]:""},message:function(){return e.errors[o]?e.errors[o].message:null},code:function(){return e.errors[o]?e.errors[o].code:null},details:function(){return e.errors[o]?e.errors[o].details:null},set:function(u){u?(t.isObject(u,"Setting error: error should be an object"),e.errors[o]={message:n(u),code:a(u),details:i(u)},console.error(e.errors[o])):r(o)}};return _.isObject(u)&&(u.error=l),l}return e.errors={},o}])}(),function(){"use strict";var e=angular.module("pipState",["ui.router","pipTranslate","pipAssert"]);e.config(["$locationProvider","$httpProvider","pipTranslateProvider",function(e,t,r){r.translations("en",{ERROR_SWITCHING:"Error while switching route. Try again."}),r.translations("ru",{ERROR_SWITCHING:"Ошибка при переходе. Попробуйте ещё раз."})}]),e.run(["$rootScope","pipTranslate","$state",function(e,t,r){e.$on("$stateChangeSuccess",function(t,n,a,i,o){if(e.$user&&e.$user.id&&n.params&&n.params.access&&a&&a.party_id){var u=_.find(e.$user.party_access,{party_id:a.party_id});if(u){if(("manager"==n.params.access&&!u.manager||"contributor"==n.params.access&&!u.contributor)&&n.params.toState)return t.preventDefault(),void r.go(n.params.toState,a)}else if(a.party_id!=e.$user.id&&n.params.toState)return t.preventDefault(),void r.go(n.params.toState,a)}e.$routing=!1,e.$state={name:n.name,url:n.url,params:a},e.$prevState={name:i.name,url:i.url,params:o}}),e.$on("$stateChangeError",function(t,r,n,a,i,o){e.$routing=!1,console.error("Error while switching route to "+r.name),console.error(o)}),e.$on("$stateNotFound",function(t,n,a,i){t.preventDefault(),r.go("errors_missing_route",{unfoundState:n,fromState:{to:a?a.name:"",fromParams:i}}),e.$routing=!1})}]),e.provider("pipState",["$stateProvider","pipAssertProvider",function(e,t){function r(e,r){return t.isNotNull(e,"pipState.redirect: fromState cannot be null"),t.isNotNull(r,"pipState.redirect: toState cannot be null"),n[e]=r,this}var n={};this.redirect=r,this.state=e.state,this.$get=["$state","$timeout","pipAssert",function(e,t,r){function a(a,i,o,u){r.contains(i,"name","$state.redirect: state should contains name prop"),r.isObject(o,"$state.redirect: params should be an object");var l;if(u.$routing=!0,l=n[i.name],_.isFunction(l)&&(l=l(i.name,o,u),_.isNull(l)))throw u.$routing=!1,new Error("Redirected toState cannot be null");return!!l&&(t(function(){a.preventDefault(),e.transitionTo(l,o,{location:"replace"})}),!0)}return e.redirect=a,e}]}])}(),function(){"use strict";function e(e,t){function r(t){var r=e.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:void 0});e.definePalette("blue-primary",r);var n=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(33, 150, 243, 1)"});e.definePalette("blue-background",n);var a=e.extendPalette("green",{600:"rgba(0, 200, 83, 1)"});e.definePalette("blue-accent",a),e.theme(t).primaryPalette("blue-primary",{"default":"500","hue-1":"300"}).backgroundPalette("blue-background",{"default":"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("blue-accent",{"default":"600"})}function n(t){var r=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(188, 86, 121, 1)",contrastDefaultColor:"dark",contrastLightColors:["A200","A700"]});e.definePalette("pink-background",r);var n=e.extendPalette("pink",{600:"rgba(255, 128, 171, 1)",700:"rgba(188, 86, 121, .54)",900:"rgba(188, 86, 121, 1)",contrastDefaultColor:"light"});e.definePalette("pink-primary",n),e.theme(t).primaryPalette("pink-primary",{"default":"900","hue-1":"700"}).backgroundPalette("pink-background",{"default":"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("pink-primary",{"default":"600"})}function a(t){var r=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(255, 152, 0, 1)"});e.definePalette("orange-background",r);var n=e.extendPalette("orange",{800:"rgba(255, 152, 0, 1)",900:"rgba(255, 152, 0, .54);"});e.definePalette("orange-primary",n),e.theme(t).primaryPalette("orange-primary",{"default":"800","hue-1":"900"}).backgroundPalette("orange-background",{"default":"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("orange",{"default":"900"})}function i(t){var r=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(255, 112, 67, 1)",contrastLightColors:["600","700","800","900","A200"]});e.definePalette("red-background",r);var n=e.extendPalette("orange",{800:"rgba(255, 112, 67, 1)",900:"rgba(255, 152, 67, .54)",A100:"rgba(255, 171, 64, 1)",contrastLightColors:["800","900","A100"]});e.definePalette("red-primary",n),e.theme(t).primaryPalette("red-primary",{"default":"800","hue-1":"900"}).backgroundPalette("red-background",{"default":"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("red-primary",{"default":"A100"})}function o(t){var r=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(76, 175, 80, 1)"});
e.definePalette("green-background",r);var n=e.extendPalette("green",{300:"#9ed4a1",contrastLightColors:["500","300"]});e.definePalette("green-primary",n);var a=e.extendPalette("amber",{contrastLightColors:["A700"]});e.definePalette("green-accent",a),e.theme(t).primaryPalette("green-primary",{"default":"500","hue-1":"300"}).backgroundPalette("green-background",{"default":"50","hue-1":"A200","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("green-accent",{"default":"A700"})}function u(t){var r=e.extendPalette("grey",{700:"rgba(86, 97, 125, 1)",800:"rgba(86, 97, 125, .54)",A100:"rgba(231, 231, 231, 1)"});e.definePalette("grey",r);var n=e.extendPalette("teal",{contrastLightColors:["500","600","700","800","900","A700"]});e.definePalette("teal",n),e.theme(t).primaryPalette("grey",{"default":"700","hue-1":"800"}).backgroundPalette("grey",{"default":"50","hue-1":"700","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("teal",{"default":"A700"})}function l(t){var r=e.extendPalette("grey",{A100:"rgba(231, 231, 231, 1)",A200:"rgba(255, 152, 0, 1)",A400:"#a9b9c0",500:"#607D8B",A700:"#90A4AE",contrastDefaultColor:"dark",contrastLightColors:["300","400","500","600","700","800","900","A700"]});e.definePalette("third-party",r),e.theme(t).primaryPalette("third-party",{"default":"500","hue-1":"A400"}).backgroundPalette("third-party",{"default":"50","hue-1":"500","hue-2":"A700"}).warnPalette("red",{"default":"A200"}).accentPalette("third-party",{"default":"A700"})}t.translations("en",{THEME:"Theme",blue:"Blue",pink:"Pink",amber:"Amber",orange:"Orange",green:"Green",navy:"Navy",grey:"Grey"}),t.translations("ru",{THEME:"Тема",blue:"Голубая",pink:"Розовая",amber:"Янтарная",orange:"Оранжевая",green:"Зеленая",navy:"Сине-серая",grey:"Серая"}),r("default"),r("blue"),n("pink"),a("amber"),i("orange"),o("green"),u("navy"),l("grey"),e.setDefaultTheme("default"),e.alwaysWatchTheme(!0)}function t(e,t,r){try{var n=r.$user&&r.$user.theme?r.$user.theme:e.get("theme");t.initializeTheme(n)}catch(a){t.initializeTheme("blue")}}function r(e,t,r,n,a,i){return{setCurrentTheme:function(n){if(null==n||""===n)throw new Error("Theme is not specified");if(e.get("theme")!=n||r.$theme!=n){if(!(n in t.THEMES))throw new Error("Theme "+n+" is not registered. Please, register it first with $mdThemingProvider");e.set("theme",n),r.$theme=n}},initializeTheme:function(e){if(null==e||""===e)throw new Error("Theme is not specified");if(!(e in t.THEMES))throw new Error("Theme "+e+" is not registered. Please, register it first with $mdThemingProvider");r.$theme=e,$("body").attr("md-theme","{{ $theme }}").addClass("{{ $theme }}")}}}e.$inject=["$mdThemingProvider","pipTranslateProvider"],t.$inject=["localStorageService","pipTheme","$rootScope"],r.$inject=["localStorageService","$mdTheming","$rootScope","$timeout","$state","$stateParams"],angular.module("pipTheme",["ngMaterial"]).config(e).run(t).factory("pipTheme",r)}(),function(){"use strict";var e=angular.module("pipTimer",[]);e.service("pipTimer",["$interval","$rootScope",function(e,t){function r(){return p}function n(){p||(i=e(function(){t.$broadcast("pipAutoPullChanges")},l),o=e(function(){t.$broadcast("pipAutoUpdatePage")},s),u=e(function(){t.$broadcast("pipAutoUpdateCollection")},c),p=!0)}function a(){i&&e.cancel(i),o&&e.cancel(o),u&&e.cancel(o),p=!1}var i,o,u,l=6e4,s=15e3,c=3e5,p=!1;return{isStarted:r,start:n,stop:a}}])}(),function(){"use strict";var e=angular.module("pipTransactions",["pipTranslate","pipErrors"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{ENTERING:"Entering...",PROCESSING:"Processing...",LOADING:"Loading...",SAVING:"Saving..."}),e.translations("ru",{ENTERING:"Вход в систему...",PROCESSING:"Обрабатывается...",LOADING:"Загружается...",SAVING:"Сохраняется..."})}]),e.factory("pipTransaction",["$rootScope","pipError",function(e,t){function r(t){e.transactions[t]={id:void 0,operation:void 0}}function n(n,a){n=n||"global";var i=t(n),o={error:i,reset:function(){r(),i.reset()},busy:function(){var t=e.transactions[n];return null!=t&&t.id},failed:function(){return!i.empty()},aborted:function(t){var r=e.transactions[n];return _.isNull(r)||r.id!=t},get:function(){return _.isNull(e.transactions[n])&&r(n),e.transactions[n]},id:function(){var t=e.transactions[n];return t?t.id:null},operation:function(){var t=e.transactions[n];return t?t.operation:null},errorMessage:function(){return i.message()},begin:function(t){var r=e.transactions[n];return null!=r&&r.id?null:(r=e.transactions[n]={id:(new Date).getTime(),operation:t||"PROCESSING"},i.reset(),r.id)},abort:function(){var t=e.transactions[n];t&&(t.id=null),i.reset()},end:function(t){t?i.set(t):i.reset();var r=e.transactions[n];null!=r&&(r.id=null)}};return _.isObject(a)&&(a.error=i,a.transaction=o),o}return e.transactions={},n}])}(),function(){"use strict";var e=angular.module("pipTranslate",["LocalStorageModule","pipAssert"]);e.provider("pipTranslate",["pipAssertProvider",function(e){function t(t){return e.isString(t||"","pipTranslateProvider.use or pipTranslateProvider.language: argument should be a string"),null!=t&&(f=t),f}function r(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.persist: argument should be a boolean"),d=t),d}function n(t){return null!=t&&(e.isBoolean(t||"","pipTranslateProvider.setRoot: argument should be a boolean"),g=t),g}function a(t,r){e.isString(t,"pipTranslate.setTranslations or pipTranslateProvider.translations: first argument should be a string"),e.isObject(r,"pipTranslate.setTranslations or pipTranslateProvider.translations: second argument should be an object");var n=m[t]||{};m[t]=_.extend(n,r)}function i(e){if(_.isNull(e)||_.isUndefined(e))return"";var t=m[f]||{};return t[e]||e}function o(t){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateArray: argument should be an array");var r=[],n=m[f]||{};return _.each(t,function(e){var t=e||"";r.push(n[t]||t)}),r}function u(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateSet: third argument should be a string"),r=r||"id",n=n||"name";var a=[],i=m[f]||{};return _.each(t,function(e){var t={},o=e||"";t[r]=o,t[n]=i[o]||o,a.push(t)}),a}function l(t,r,n){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateObjects: first argument should be an array"),e.isString(r||"","pipTranslate.translateObjects: second argument should be a string"),e.isString(n||"","pipTranslate.translateObjects: third argument should be a string"),r=r||"name",n=n||"nameLocal";var a=m[f]||{};return _.each(t,function(e){var t=e,i=t[r]||"";t[n]=a[i]||i}),t}function s(t,r){if(e.isString(r||"","pipTranslate.translateById: second argument should be a string"),e.isString(t||"","pipTranslate.translateById: first argument should be a string"),t=t?t+"_":"",r=(t+r).replace(/ /g,"_").toUpperCase(),null==r)return"";var n=m[f]||{};return n[r]||r}function c(t,r,n,a){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateSetById: first argument should be an array"),e.isString(r||"","pipTranslate.translateSetById: second argument should be a string"),e.isString(n||"","pipTranslate.translateSetById: third argument should be a string"),e.isString(a||"","pipTranslate.translateSetById: forth argument should be a string"),r=r?r.replace(/ /g,"_").toUpperCase():"",n=n||"id",a=a||"name";var i=[],o=m[f]||{};return _.each(t,function(e){var t={},u=e||"";t[n]=u,t[a]=o[r+"_"+u]||u,i.push(t)}),i}function p(t,r,n,a){if(_.isNull(t)||0==t.length)return[];e.isArray(t,"pipTranslate.translateStringsSet: first argument should be an array"),e.isString(r||"","pipTranslate.translateStringsSet: second argument should be a string"),e.isString(n||"","pipTranslate.translateStringsSet: third argument should be a string"),e.isString(a||"","pipTranslate.translateStringsSet: forth argument should be a string"),n=n||"id",a=a||"name",r=r?r.replace(/ /g,"_").toUpperCase()+"_":"";var i=[],o=m[f]||{};return _.each(t,function(e){var t={},u=e||"";t[n]=u,t[a]=o[r+u.replace(/ /g,"_").toUpperCase()]||r+u.replace(/ /g,"_").toUpperCase(),i.push(t)}),i}var f="en",d=!0,g=!0,m={en:{en:"English",ru:"Russian",es:"Spanish",pt:"Portuguese",de:"German",fr:"French"},ru:{en:"Английский",ru:"Русский",es:"Испанский",pt:"Португальский",de:"Немецкий",fr:"Французский"}};this.translations=a,this.language=t,this.use=t,this.persist=r,this.setRoot=n,this.$get=["$rootScope","$timeout","localStorageService","pipAssert",function(e,t,r,n){function m(r,n){r=void 0===r||!!r,n=void 0===n||!!n,e.$reset=r,e.$partialReset=n,t(function(){e.$reset=!1,e.$partialReset=!1},0)}return d&&(f=r.get("language")||f),g&&(e.$language=f),{use:function(t,a,i){return n.isString(t||"","pipTranslate.use: argument should be a string"),null!=t&&t!=f&&(f=t,d&&r.set("language",f),g&&(e.$language=f),m(a,i)),f},translations:a,translate:i,translateArray:o,translateSet:u,translateObjects:l,translateById:s,translateSetById:c,translateStringsSet:p}}]}]),e.directive("pipTranslate",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslate",key2:"@key"},link:function(t,r,n){var a=t.key1||t.key2,i=e.translate(a);r.text(i)}}}]),e.directive("pipTranslateHtml",["pipTranslate",function(e){return{restrict:"EA",scope:{key1:"@pipTranslateHtml",key2:"@key"},link:function(t,r,n){var a=t.key1||t.key2,i=e.translate(a);r.html(i)}}}])}(),function(){"use strict";var e=angular.module("pipUtils.Collections",[]);e.factory("pipCollections",function(){var e={};return e.indexBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return n;return null},e.findBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)if(e[n][t]==r)return e[n];return null},e.remove=function(e,t){if(!e||!e.length)return null;for(var r=0;r<e.length;r++)e[r]==t&&(e.splice(r,1),r--)},e.removeBy=function(e,t,r){if(!e||!e.length)return null;for(var n=0;n<e.length;n++)e[n][t]==r&&(e.splice(n,1),n--)},e.replaceBy=function(e,t,r,n){if(!e||!e.length)return null;for(var a=0;a<e.length;a++)if(e[a][t]==r)return void(e[a]=n)},e.difference=function(e,t,r){var n=[];return _.each(e,function(e){var a=_.find(t,function(t){return r(e,t)});null==a&&n.push(e)}),n},e})}(),function(){"use strict";var e=angular.module("pipUtils.Dates",[]);e.factory("pipDates",function(){var e={};return e.addHours=function(e,t){e=_.isDate(e)?e:new Date(e);var r=e.getTime()+36e5*t;return new Date(r)},e.toStartDay=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.toEndDay=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());return new Date(r.getTime()+864e5+t)},e.toStartWeek=function(e){e=_.isDate(e)?e:new Date(e);var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()-24*(t-1)*36e5)},e.toEndWeek=function(e,t){e=_.isDate(e)?e:new Date(e),t=null!=t?t:0;var r=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(e.getTime()+24*(8-r)*36e5+t)},e.toStartMonth=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),e.getMonth(),1)},e.toEndMonth=function(e,t){e=_.isDate(e)?e:new Date(e);var r=e.getMonth()+1,n=e.getFullYear();return r>11&&(n++,r=0),e=new Date(n,r,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toStartYear=function(e){return e=_.isDate(e)?e:new Date(e),new Date(e.getFullYear(),0,1)},e.toEndYear=function(e,t){return e=_.isDate(e)?e:new Date(e),e=new Date(e.getFullYear()+1,0,1),null!=t&&(e=new Date(e.getTime()+t)),e},e.toUTCDate=function(e,t,r){return new Date(Date.UTC(e,t,r))},e.toUTCDate=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.fromUTCDate=function(e){return null==e&&(e=new Date),new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())},e.toUTCStartWeek=function(e){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())));var t=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=1!=t?new Date(e.getTime()-24*(t-1)*36e5):e,new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e.toUTCEndWeek=function(e,t){_.isDate(e)||(e=new Date(e),e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))),t=null!=t?t:0;var r=e.getDay()?e.getDay():7;return e=new Date(e.getFullYear(),e.getMonth(),e.getDate()),e=new Date(e.getTime()+24*(8-r)*36e5+t),new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},e})}(),function(){"use strict";var e=angular.module("pipUtils.FormErrors",[]);e.factory("pipFormErrors",["$rootScope",function(e){function t(e){if(null!=e)return _.isEmpty(e.$error)?{hint:!0}:e.$error}function r(e,t){if(null!=e&&null!=t){if(e.$submitted&&(t.$touched||e.$dirty)||!e.$submitted&&(t.$touched||t.$dirty)){var r=_.isEmpty(t.$error)?{hint:!0}:t.$error;return r}return{hint:!0}}}function n(e,t){e.$setPristine(),e.$setUntouched(),t&&(e.$setDirty(),e.$setSubmitted()),e.$serverError={}}function a(e,t){if(e)if(t&&e[t]&&e[t].$error)e[t].$error={};else{for(var r in e)e[r]&&e[r].$error&&(e[r].$error={});e&&e.$error&&(e.$error={})}}function i(e,t,r){if(null!=t){e.$serverError=e.$serverError||{};var n=t.code||(t.data||{}).code||null;if(!n&&t.status&&(n=t.status),n){var a="ERROR_"+n,i=r?r[n]:null;if(i&&e[i]&&e[i].$setValidity)return void e[i].$setValidity(a,!1);if("form"==i)return void(e.$serverError[a]=!0)}if(t.data&&t.data.message)return e.$serverError.ERROR_UNKNOWN=t.data.message,void o(t);if(t.message)return e.$serverError.ERROR_UNKNOWN=t.message,void o(t);if(t.name)return e.$serverError.ERROR_UNKNOWN=t.name,void o(t);e.$serverError.ERROR_UNKNOWN=t,o(t)}}function o(t){e.$emit("pipUnhandledInternalError",{error:t})}return{errorsWithHint:t,touchedErrorsWithHint:r,resetFormErrors:n,setFormError:i,resetFieldsErrors:a}}])}(),function(){"use strict";var e=angular.module("pipUtils.General",["pipState","pipAssert"]);e.factory("pipUtils",["$rootScope","$window","$state","pipAssert",function(e,t,r,n){function a(e,t){if(t<1)return"";for(var r="";t>0;)1&t&&(r+=e),t>>=1,e+=e;return r}function i(e,t,r,n){if(!e||!e.length)return null;for(var a=0;a<e.length;a++)if(e[a][t]==r)return void(e[a]=n)}function o(e,t){if(!e||""==e)return"";var r=e.indexOf("\n");return r=r>=0?r:e.length,r=r<t?e.length:t,e.substring(0,r)}function l(e){if(null==e)return 0;for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}function s(e){return null==e?"":""+e}function c(e){var t=new RegExp("^[0-9a-fA-F]{24}$");return t.test(e)}function p(e,t){return null==e&&null==t||null!=e&&null!=t&&e.toString()==t.toString()}function f(e,t){return(null!=e||null!=t)&&(null==e||null==t||e.toString()!=t.toString())}function d(e,t){return _.some(e,function(e){return p(e,t)})}function g(e,t,r,n){return _.isObject(t)&&"undefined"==typeof n&&(n=r,r=t,t=n),!!(r[n]||"number"==typeof r[n]&&r[n]%1==0)&&(e[t]=r[n],!0)}function m(e,t,r){var n=e[t],a=e[r];n?e[r]=n:delete e[r],a?e[t]=a:delete e[t]}function h(e){return null!=e&&(!!e&&(e=e.toString().toLowerCase(),"1"==e||"true"==e))}function v(e){return _.map(e,function(e){return e?e.toString():0})}function D(){return Math.random().toString(36).substr(2,10).toUpperCase()}function b(){t.history.back()}function T(a,i,o){if(n.isDef(a,"pipUtils.goBack: first argument should be defined"),n.isDef(i,"pipUtils.goBack: second argument should be defined"),n.isDef(o,"pipUtils.goBack: third argument should be defined"),n.isObject(a,"pipUtils.goBack: first argument should be an object"),n.isString(i,"pipUtils.goBack: second argument should a string"),n.isString(o,"pipUtils.goBack: third argument should a string"),e.$prevState&&e.$prevState.name){var u=_.cloneDeep(e.$prevState);u.params[i]=a.id,u.params[o]=a,r.go(u.name,u.params)}else t.history.back()}function S(e,t,r){e&&t&&(void 0==r&&(r=300),setTimeout(function(){if($(t).position()){var n=Math.abs($(e).scrollTop()-$(t).position().top);if(!(n<20)){var a=$(e).scrollTop()+($(t).position().top-20);r>0&&$(e).animate({scrollTop:a+"px"},r)}}},100))}function E(){var e,r=t.navigator.userAgent,n=function(){return r.search(/Edge/)>-1?"edge":r.search(/MSIE/)>-1?"ie":r.search(/Trident/)>-1?"ie11":r.search(/Firefox/)>-1?"firefox":r.search(/Opera/)>-1?"opera":r.search(/OPR/)>-1?"operaWebkit":r.search(/YaBrowser/)>-1?"yabrowser":r.search(/Chrome/)>-1?"chrome":r.search(/Safari/)>-1?"safari":r.search(/Maxthon/)>-1?"maxthon":void 0}();switch(n){case"edge":e=r.split("Edge")[1].split("/")[1];break;case"ie":e=r.split("MSIE ")[1].split(";")[0];break;case"ie11":n="ie",e=r.split("; rv:")[1].split(")")[0];break;case"firefox":e=r.split("Firefox/")[1];break;case"opera":e=r.split("Version/")[1];break;case"operaWebkit":n="opera",e=r.split("OPR/")[1];break;case"yabrowser":e=r.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":e=r.split("Chrome/")[1].split(" ")[0];break;case"safari":e=r.split("Version/")[1].split(" ")[0];break;case"maxthon":e=r.split("Maxthon/")[1]}var a="desktop";/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(r.toLowerCase())&&(a="mobile");var i;try{var o=(/(windows|mac|android|linux|blackberry|sunos|solaris|iphone)/.exec(r.toLowerCase())||[u])[0].replace("sunos","solaris"),l=/(android)/.exec(r.toLowerCase())||"";i=!l||"android"!=l&&"android"!=l[0]?o:"android"}catch(s){i="unknown"}var c;try{c={platform:a,browser:n,versionFull:e,versionShort:e.split(".")[0],os:i}}catch(s){c={platform:a,browser:"unknown",versionFull:"unknown",versionShort:"unknown",os:"unknown"}}return c}function y(e){e||(e={edge:11,ie:11,firefox:43,opera:35,chrome:47});var t=E();return t&&t.browser&&e[t.browser]&&t.versionShort>=e[t.browser],!0}var M=Object.prototype.toString,O=function A(){function e(e){return M.call(e).slice(8,-1).toLowerCase()}var t=a,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,n){var a,i,o,u,l,s,c,p=1,f=r.length,d="",g=[];for(i=0;i<f;i++)if(d=e(r[i]),"string"===d)g.push(r[i]);else if("array"===d){if(u=r[i],u[2])for(a=n[p],o=0;o<u[2].length;o++){if(!a.hasOwnProperty(u[2][o]))throw new Error(A('[_.sprintf] property "%s" does not exist',u[2][o]));a=a[u[2][o]]}else a=u[1]?n[u[1]]:n[p++];if(/[^s]/.test(u[8])&&"number"!=e(a))throw new Error(A("[_.sprintf] expecting number but found %s",e(a)));switch(u[8]){case"b":a=a.toString(2);break;case"c":a=String.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=u[7]?a.toExponential(u[7]):a.toExponential();break;case"f":a=u[7]?parseFloat(a).toFixed(u[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=String(a))&&u[7]?a.substring(0,u[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(u[8])&&u[3]&&a>=0?"+"+a:a,s=u[4]?"0"==u[4]?"0":u[4].charAt(1):" ",c=u[6]-String(a).length,l=u[6]?t(s,c):"",g.push(u[5]?a+l:l+a)}return g.join("")},r.cache={},r.parse=function(e){for(var t=e,r=[],n=[],a=0;t;){if(null!==(r=/^[^\x25]+/.exec(t)))n.push(r[0]);else if(null!==(r=/^\x25{2}/.exec(t)))n.push("%");else{if(null===(r=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw new Error("[_.sprintf] huh?");if(r[2]){a|=1;var i=[],o=r[2],u=[];if(null===(u=/^([a-z_][a-z_\d]*)/i.exec(o)))throw new Error("[_.sprintf] huh?");for(i.push(u[1]);""!==(o=o.substring(u[0].length));)if(null!==(u=/^\.([a-z_][a-z_\d]*)/i.exec(o)))i.push(u[1]);else{if(null===(u=/^\[(\d+)\]/.exec(o)))throw new Error("[_.sprintf] huh?");i.push(u[1])}r[2]=i}else a|=2;if(3===a)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");n.push(r)}t=t.substring(r[0].length)}return n},r}();return{copyProperty:g,copy:g,swapProperties:m,swap:m,convertToBoolean:h,toBoolean:h,toBool:h,convertObjectIdsToString:v,OidToString:v,generateVerificationCode:D,vercode:D,goBack:b,goBackAndSelect:T,scrollTo:S,equalObjectIds:p,eqOid:p,notEqualObjectIds:f,neqOid:f,containsObjectId:d,hasOid:d,isObjectId:c,sampleLine:o,hashCode:l,makeString:s,getBrowser:E,checkSupported:y,sprintf:O,replaceBy:i}}])}(),function(){"use strict";var e=angular.module("pipUtils.Strings",[]);e.factory("pipStrings",function(){var e={};return e.sampleLine=function(e,t){if(!e||""==e)return"";var r=e.indexOf("\n");return r=r>=0?r:e.length,r=r<t?e.length:t,e.substring(0,r)},e.hashCode=function(e){if(null==e)return 0;for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t},e})}(),function(){"use strict";var e=angular.module("pipUtils.Tags",[]);e.factory("pipTags",function(){var e={},t=/#\w+/g,r=function(e){return e?_.trim(e.replace(/(_|#)+/g," ")):null};e.normalizeTag=r;var n=function(e){return e?e.replace(/( |_|#)/g,"").toLowerCase():null};e.compressTag=n;var a=function(e,t){return null==e&&null==t||null!=e&&null!=t&&n(e)==n(t)};e.equalTags=a;var i=function(e){return _.isString(e)&&(e=e.split(/( |,|;)+/)),e=_.map(e,function(e){return r(e)})};e.normalizeTags=i;var o=function(e){return _.isString(e)&&(e=e.split(/( |,|;)+/)),e=_.map(e,function(e){return n(e)})};e.compressTags=o;var u=function(e,r){var n=i(e.tags);return _.each(r,function(r){var a=e[r]||"";if(""!=a){var o=a.match(t);n=n.concat(i(o))}}),_.uniq(n)};return e.extractTags=u,e})}(),function(){"use strict";angular.module("pipUtils",["pipUtils.General","pipUtils.Strings","pipUtils.Dates","pipUtils.Tags","pipUtils.Collections","pipUtils.FormErrors"])}();
!function(){"use strict";var e=angular.module("pipDataCache",["pipDataModel"]);e.provider("pipDataCache",function(){function e(e){return e&&(n=e),n}var n=3e5,t={};this.timeout=e,this.$get=["$q","pipDataModel",function(r,i){function o(e){var n={};null!=e&&(n.item=e.item,n.party_id=e.party_id,n.search=e.search,n.paging=e.paging,n.take=e.take,n.skip=e.skip),n=angular.toJson(n);var t,r,i,o=0;if(null==n||0===n.length)return o;for(t=0,i=n.length;t<i;t++)r=n.charCodeAt(t),o=(o<<5)-o+r,o|=0;return o}function a(e,n){var t=o(n);return e+(0!=t?"_"+t:"")}function s(e){if(null==e)t={};else for(var n in t)(n==e||n.startsWith(e+"_"))&&delete t[n]}function u(e,r){if(null==e)throw new Error("name cannot be null");if(""==e)throw new Error("name cannot be empty");var i=a(e,r),o=t[i];return null==o?null:o.expire&&_.now()-o.expire>n?(delete t[i],null):o.data}function E(e,n,r){if(null==e)throw new Error("name cannot be null");if(""==e)throw new Error("name cannot be empty");t[a(e,r)]={expire:_.now(),data:n}}function c(e,n,r){if(null==e)throw new Error("name cannot be null");if(""==e)throw new Error("name cannot be empty");t[a(e,r)]={expire:null,data:n}}function p(e,n){if(null==e)throw new Error("name cannot be null");if(""==e)throw new Error("name cannot be empty");delete t[a(e,n)]}function d(e,n,t){if(null==e)throw new Error("name cannot be null");if(null!=n){var r=u(e,t);if(null!=r){for(var i=!1,o=0;o<r.length;o++)if(r[o].id==n.id)return r[o]=n,void(i=!0);i||r.push(n),E(e,r,t)}}}function l(e,n,t){if(null==e)throw new Error("params cannot be null");var o=e.cache||e.resource,a=e.filter,s=!!e.force,c=s?null:u(o,e),p=r.defer();return c?(a&&(c.data?c.data=a(c.data):c=a(c)),n&&n(c),p.resolve(c),p.promise):(1==e.item.paging?i.page(e,function(t){E(o,t,e),a&&(t.data=a(t.data)),p.resolve(t),n&&n(t)},function(e){p.reject(e),t&&t(e)}):i[e.singleResult?"readOne":"read"](e,function(t){e.singleResult?d(o,t,e):E(o,t,e),a&&(t=a(t)),p.resolve(t),n&&n(t)},function(e){p.reject(e),t&&t(e)}),p.promise)}function T(e,n){if(null==e)throw new Error("name cannot be null");if(null!=n)for(var r in t)if(r==e||r.startsWith(e+"_")){var i=t[r].data;if(angular.isArray(i))for(var o=0;o<i.length;o++)i[o].id==n.id&&(i.splice(o,1),o--)}}function f(e,n,t){return function(r){T(e,n),t&&t(r)}}function S(e,n,r){return function(n){for(var i in t)if(i==e||i.startsWith(e+"_")){var o=t[i].data;if(angular.isArray(o))for(var a=0;a<o.length;a++)o[a].id==n.id&&(o[a]=n)}r&&r(n)}}function m(e,n,t){return function(r){n&&n.notClearedCache||s(e),t&&t(r)}}return{timeout:e,clear:s,retrieve:u,retrieveOrLoad:l,store:E,storePermanent:c,remove:p,removeItem:T,removeDecorator:f,addDecorator:m,updateDecorator:S}}]})}(),function(){"use strict";var e=angular.module("pipSessionCache",["pipCore","pipRest","pipDataCache"]);e.run(["$rootScope","pipSessionCache",function(e,n){e.$on("pipSessionOpened",n.init),e.$on("pipSessionClosed",n.clear)}]),e.service("pipSessionCache",["$rootScope","$stateParams","$q","pipTranslate","pipRest","localStorageService","pipAccess","pipEnums","pipSession","pipDataCache",function(e,n,t,r,i,o,a,s,u,E){function c(e,n,t){return e=e||{},E.retrieveOrLoad(e,n,t)}function p(n,t){if(null==t)throw new Error("Unexpected error: issues in openning session");d(),t.serverUrl&&(e.$serverUrl=t.serverUrl),f(t.user,null)}function d(){E.clear(),delete e.$user,delete e.$party,delete e.$serverUrl,delete e.$connection,delete e.$settings}function l(n,t){n=n||E.retrieve("user"),t=t||E.retrieve("party"),null!=n&&(n=null==t?a.asOwner(n):n.id==t.id?a.asOwner(n):a.toParty(n,t),E.storePermanent("user",n),e.$user=n)}function T(n){if(n){var t=n.theme||"blue";n&&e.$party&&(t=e.$party.id==n.id?n.theme:"navy"),e.$theme=t,o.set("theme",t)}}function f(n){null!=n&&(E.storePermanent("user",n),e.$user=n,T(n),r.use(n.language,!1,!0),l(n,null))}function S(e,n){if(!u.opened())throw new Error("User is not authenticated.");var r=u.userId(),o=E.retrieve("user");if(o){if(o.id!=r)throw new Error("Unexpected error: issues in opening session");e&&e(o);var a=t.defer();return a.resolve(o),a.promise}return i.users().get({id:r},function(n){n.id!=r,f(n),e&&e(use)},n).$promise}function m(n,r,o){if(!u.opened())throw new Error("User is not authenticated.");var a=u.userId(),s=n.party_id||a,c=E.retrieve("party");if(c&&c.id==s){e.$party=c,T(e.$user),r&&r(c);var p=t.defer();return p.resolve(c),p.promise}return i.parties().get({id:s},function(n){l(null,n),E.storePermanent("party",n),e.$party=n,T(e.$user),r&&r(n)},o).$promise}function A(n,r,o){if(!u.opened())throw new Error("User is not authenticated.");var a=u.userId(),c=n.party_id||a,p=E.retrieve("connection");if(!p||p.party_id==a&&p.to_party_id==c||(p=null,E.remove("connection"),delete e.$connection),a==c){r&&r(p);var d=t.defer();return d.resolve(p),d.promise}return i.connections().query({party_id:a,to_party_id:c,accept:s.ACCEPTANCE.ACCEPTED},function(n){p=n&&n.length>0?n[0]:null,E.storePermanent("connection",p),e.$connection=p,r&&r(p)},o).$promise}function O(n,r){if(!u.opened())throw new Error("User is not authenticated.");var o=u.userId(),a=E.retrieve("settings_"+o);if(a){n&&n(a);var s=t.defer();return s.resolve(a),s.promise}return i.partySettings().get({party_id:o},function(t){t=t||{},E.storePermanent("settings_"+o,t),e.$settings=t,n&&n(t)},r).$promise}function N(n,t){if(null!=n){var r=u.userId(),i=E.retrieve("settings_"+r);i&&(i=_.extend(i,n),E.storePermanent("settings_"+r,i),e.$settings=i),t&&t(n)}}return{init:p,clear:d,readUser:S,readParty:m,readConnection:A,readSettings:O,onSettingsUpdate:N,readSessions:c}}])}(),function(){"use strict";var e=angular.module("pipRest.Access",["pipUtils","pipRest.Enums"]);e.factory("pipAccess",["pipUtils","pipEnums",function(e,n){function t(e){var t=_.defaults({id:e.id||e._id,party_id:null,party_name:null,type:null,owner:!1,manager:!1,contributor:!1,share_level:n.SHARE_LEVEL.WORLD},e);return delete t._id,t}function r(e){return e.manager=e.manager||e.owner,e.contributor=e.contributor||e.manager,e.contributor&&(e.share_level=n.SHARE_LEVEL.PRIVATE),e}function i(e,t){return e.party_id=t.party_id,e.party_name=t.party_name,e.type=t.type,e.owner=!!t.owner,e.manager=!!t.manager,e.contributor=!!t.contributor,e.share_level=t.share_level||n.SHARE_LEVEL.WORLD,t.party&&(e.party_id=t.party.id||t.party._id,e.party_name=t.party.name),r(e)}function o(e){if(null!=e){var r=t(e);return r.party_id=r.id,r.party_name=r.name,r.type=null,r.owner=!0,r.manager=!0,r.contributor=!0,r.share_level=n.SHARE_LEVEL.PRIVATE,r}}function a(n,i){if(null!=n){if(null==i)return o(n);var a=n.id||n._id,s=i.id||i._id||i,u=i.name||n.name;if(a==s)return o(n);var E=t(n);return E.party_id=s,E.party_name=u,_.each(E.party_access,function(n){e.equalObjectIds(s,n.party_id)&&(E.party_name=n.party_name,E.type=n.type,E.manager=E.manager||n.manager,E.contributor=E.contributor||n.contributor,E.share_level=Math.max(E.share_level,n.share_level))}),r(E)}}function s(e,n){if(null!=e){var r=t(e);return n&&i(r,n),r}}function u(e,n,t){var r=a(e,n);return t&&i(r,t),r}return{asOwner:o,toParty:a,override:s,toPartyWithOverride:u}}])}(),function(){"use strict";var e=angular.module("pipRest.State",["pipState","pipRest.Session","pipRest.Access","pipSessionCache"]);e.config(["$locationProvider","$httpProvider",function(e,n){n.interceptors.push("pipAuthHttpResponseInterceptor")}]),e.run(["$rootScope","pipState","pipSession","pipAuthState",function(e,n,t,r){function i(i,o,a,s,u){if(!r.redirect(i,o,a,e)){if((o.auth||void 0===o.auth)&&!t.opened()){i.preventDefault();var E=n.href(o.name,a);return E.length>0&&"#"==E[0]&&(E=E.substring(1)),void r.goToSignin({redirect_to:E,toState:o,toParams:a})}return o.name==r.signoutState()?(i.preventDefault(),t.signout(),void r.goToUnauthorized({})):o.name==r.unauthorizedState()&&t.opened()?(i.preventDefault(),void r.goToAuthorized({})):void 0}}function o(e,n){t.close(),r.goToSignin(n)}function a(e,n){r.goToErrors("errors_maintenance",n)}function s(e,n){r.goToErrors("errors_no_connection",n)}function u(e,n){r.goToErrors("errors_missing_route",n)}function E(e,n){r.goToErrors("errors_unknown",n)}e.$on("$stateChangeStart",i),e.$on("pipUnauthorizedRedirect",o),e.$on("pipMaintenanceError",a),e.$on("pipNoConnectionError",s),e.$on("pipMissingRouteError",u),e.$on("pipUnknownError",E)}]),e.factory("pipAuthHttpResponseInterceptor",["$q","$location","$rootScope",function(e,n,t){return{response:function(n){return 401===n.status&&console.error("Response 401"),n||e.when(n)},responseError:function(r){var i=t.$state&&t.$state.name?t.$state.name:null,o=t.$state&&t.$state.params?t.$state.params:null;switch(r.status){case 401:case 440:console.error("Response Error 401",r),t.$emit("pipUnauthorizedRedirect",{redirect_to:i&&o&&o.redirect_to?"":n.url(),toState:i,toParams:o});break;case 503:t.$emit("pipMaintenanceError",{error:r}),console.error("errors_maintenance",r);break;case-1:t.$user&&t.$party||t.$emit("pipNoConnectionError",{error:r}),console.error("errors_no_connection",r);break;default:console.error("errors_unknown",r)}return e.reject(r)}}}]),e.provider("pipAuthState",["pipStateProvider",function(e){function n(e){return e&&(c=e),c}function t(e){return e&&(p=e),p}function r(e){return e&&(d=e),d}function i(e){return e&&(l=e),l}function o(n,t){if(null==n)throw new Error("stateName cannot be null");if(null==t)throw new Error("stateConfig cannot be null");return(t.auth||t.authenticate)&&(t.resolve=t.resolve||{},t.resolve.user=a,t.resolve.party=s,t.resolve.connection=u,t.resolve.setting=E),e.state(n,t),this}function a(e){return e.readUser()}function s(e,n){return e.readParty(n)}function u(e,n){return e.readConnection(n)}function E(e){return e.readSettings()}a.$inject=["pipSessionCache"],s.$inject=["pipSessionCache","$stateParams"],u.$inject=["pipSessionCache","$stateParams"],E.$inject=["pipSessionCache"];var c=null,p=null,d="/",l="/";this.signinState=n,this.signoutState=t,this.authorizedState=r,this.unauthorizedState=i,this.redirect=e.redirect,this.state=o,this.$get=["pipState",function(e){return e.signinState=function(){return c},e.signoutState=function(){return p},e.authorizedState=function(){return d},e.unauthorizedState=function(){return l},e.goToErrors=function(n,t){if(null==n)throw new Error("Error state was not defined");e.go(n,t)},e.goToSignin=function(n){if(null==c)throw new Error("Signin state was not defined");e.go(c,n)},e.goToSignout=function(n){if(null==p)throw new Error("Signout state was not defined");e.go(p,n)},e.goToAuthorized=function(n){if(null==d)throw new Error("Authorized state was not defined");e.go(d,n)},e.goToUnauthorized=function(n){if(null==l)throw new Error("Unauthorized state was not defined");e.go(l,n)},e}]}])}(),function(){"use strict";var e=angular.module("pipRest.Enums",[]);e.factory("pipEnums",function(){function e(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n}var n={};return n.SHARE_LEVEL={WORLD:0,OUTER:1,INNER:2,PRIVATE:3},n.URGENCY={LOW:1,NORMAL:500,HIGH:1e3,MIN:0,MAX:1e3},n.URGENCIES=e(n.URGENCY),n.IMPORTANCE={LOW:1,NORMAL:500,HIGH:1e3,MIN:0,MAX:1e3},n.IMPORTANCES=e(n.IMPORTANCE),n.CONFIDENTIALITY={PUBLIC:0,SENSITIVE:1,CLASSIFIED:2,SECRET:3},n.CONFIDENTIALITIES=e(n.CONFIDENTIALITY),n.LEVEL={NONE:0,LOW:1,LOW_MEDIUM:250,MEDIUM:500,MEDIUM_HIGH:750,HIGH:1e3,MIN:0,MAX:1e3},n.LANGUAGE={ENGLISH:"en",SPANISH:"es",PORTUGUESE:"pt",FRENCH:"fr",GERMAN:"de",RUSSIAN:"ru"},n.LANGUAGES=e(n.LANGUAGE),n.STAT_TYPE={DAILY:"daily",MONTHLY:"monthly",YEARLY:"yearly",TOTAL:"total"},n.STAT_TYPES=e(n.STAT_TYPE),n.STAT_BATCH_OPERATION={RECORD_SYSTEM_STATS:"record system stats",RECORD_PARTY_STATS:"record party stats"},n.SERVER_TYPE={REALTIME_DB:"r/t db master",HISTORIAN_DB:"db slave",ANALYTICS:"analytics",BUSINESS_LOGIC:"business logic",REST_API:"rest api",STATIC_CONTENT:"static content",BACKUP_STORAGE:"backup storage"},n.SERVER_TYPES=e(n.SERVER_TYPE),n.SYSTEM_LOG_TYPE={INFO:"info",STOP:"stop",START:"start",RESTART:"restart",UPGRADE:"upgrade",MAINTENANCE:"maintenance",WARNING:"warning",ERROR:"error"},n.SYSTEM_LOG_TYPES=e(n.SYSTEM_LOG_TYPE),n.ACTIVITY_TYPE={SIGNUP:"signup",SIGNIN:"signin",PASSWORD_CHANGED:"password changed",PWD_RECOVERED:"pwd recovered",EMAIL_VERIFIED:"email verified",SETTINGS_CHANGED:"settings changed",PARTNERED:"partnered",TEAMED_UP:"teamed up",FOLLOWED:"followed",DISCONNECTED:"disconnected",CREATED:"created",UPDATED:"updated",DELETED:"deleted",ACCEPTED:"accepted",REJECTED:"rejected",JOINED:"joined",COMPLETED:"completed",CANCELED:"canceled",PROGRESS:"progress",POSTED:"posted",BUZZED:"buzzed",COMMENTED:"commented",CHEERED:"cheered",BOOED:"booed"},n.ACTIVITY_TYPES=e(n.ACTIVITY_TYPE),n.REFERENCE_TYPE={PARTY:"party",CONNECTION:"connection",CONTACT:"contact",MESSAGE:"message",NOTE:"note",AREA:"area",GOAL:"goal",EVENT:"event",VISION:"vision",COLLAGE:"collage",POST:"post",SUPPORT_CASE:"support case",ANNOUNCE:"announce",IMAGE_SET:"image set",FEEDBACK:"feedback",GUIDE:"guide"},n.REFERENCE_TYPES=e(n.REFERENCE_TYPE),n.CONTENT_TYPE={TEXT:"text",CHECKLIST:"checklist",LOCATION:"location",TIME:"time",PICTURES:"pictures",DOCUMENTS:"documents"},n.CONTENT_TYPES=e(n.CONTENT_TYPE),n.PARTY_TYPE={PERSON:"person",TEAM:"team",AGENT:"agent"},n.PARTY_TYPES=e(n.PARTY_TYPE),n.GENDER={MALE:"male",FEMALE:"female",NOT_SPECIFIED:"n/s"},n.GENDERS=e(n.GENDER),n.VISION_TYPE={OVERALL:"overall",ROLE:"role",MODEL:"model",TIME:"time"},n.VISION_TYPES=e(n.VISION_TYPE),n.AREA_TYPE={CATEGORY:"category",AREA:"area"},n.AREA_TYPES=e(n.AREA_TYPE),n.GOAL_TYPE={GOAL:"goal",OBJECTIVE:"objective",DREAM:"dream",ACCOMPLISHMENT:"accomplishment",TASK:"task",ROUTINE:"routine"},n.GOAL_TYPES=e(n.GOAL_TYPE),n.PROCESS_NODE={START:"start",END:"end",EVENT:"event",AWAIT:"await",DECISION:"decision",ACTIVITY:"activity"},n.PROCESS_NODES=e(n.PROCESS_NODE),n.CALCULATION_METHOD={LAST_VALUE:"last value",SUM:"sum",MAX:"max",MIN:"min",AVERAGE:"average"},n.CALCULATION_METHODS=e(n.CALCULATION_METHOD),n.EXECUTION_STATUS={NEW:"new",ASSIGNED:"assigned",IN_PROGRESS:"in progress",VERIFYING:"verifying",ON_HOLD:"on hold",CANCELED:"canceled",COMPLETED:"completed"},n.EXECUTION_STATUSES=e(n.EXECUTION_STATUS),n.CONTRIBUTOR_ROLE={UNDEFINED:"undefined",RESPONSIBLE:"responsible",ACCOUNTABLE:"accountable",CONSULTED:"consulted",INFORMED:"informed"},n.CONSTRIBUTOR_ROLES=e(n.CONTRIBUTOR_ROLE),n.ACCEPTANCE={JOINED:"joined",INVITED:"invited",ACCEPTED:"accepted"},n.ACCEPTANCES=e(n.ACCEPTANCE),n.ACCEPT_ACTION={INVITE:"invite",JOIN:"join",ACCEPT:"accept",REJECT:"reject"},n.ACCEPT_ACTIONS=e(n.ACCEPT_ACTION),n.JOIN_METHOD={INVITE:"invite",APPROVE:"approve",OPEN:"open"},n.JOIN_METHODS=e(n.JOIN_METHOD),n.SKILL_LEVEL={NOVICE:"novice",INTERMEDIATE:"intermediate",ADVANCED:"advanced",EXPERT:"expert"},n.SKILL_LEVELS=e(n.SKILL_LEVEL),n.FEEDBACK_TYPE={SUPPORT:"support",TEAM:"team",MEETUP:"meetup",COPYRIGHT:"copyright",BUSINESS:"business",ADVERTISEMENT:"ad"},n.FEEDBACK_TYPES=e(n.FEEDBACK_TYPE),n.NOTE_CATEGORY={GENERAL:"general",UNFINISHED:"unfinished",ULTIMATE_TODO:"ultimate todo"},n.NOTE_CATEGORIES=e(n.NOTE_CATEGORY),n.CONNECTION_TYPE={PARTNER:"partner",MEMBER:"member",FOLLOW:"follow",AUTOMATION:"automation"},n.CONNECTION_TYPES=e(n.CONNECTION_TYPE),n.EVENT_TYPE={INSTANCE:"instance",RECURRENCE:"recurrence",AUTO_INSTANCE:"auto",TIME_ENTRY:"time entry"},n.EVENT_TYPES=e(n.EVENT_TYPE),n.EVENT_CATEGORY={DAILY:"daily",WEEKLY:"weekly",MONTHLY:"monthly",YEARLY:"yearly"},n.EVENT_CATEGORIES=e(n.EVENT_CATEGORY),n.COMMENT_TYPE={BUZZ:"buzz",CHEER:"cheer",BOO:"boo",COMMENT:"comment"},n.COMMENT_TYPES=e(n.COMMENT_TYPE),n.POST_TYPE={INFO:"info",QUESTION:"question",ISSUE:"issue",REPORT:"report",FORECAST:"forecast"},n.POST_TYPES=e(n.POST_TYPE),n.MESSAGE_TYPE={REGULAR:"regular",EMAIL:"email",INVITATION:"invitation"},n.MESSAGE_TYPES=e(n.MESSAGE_TYPE),n.NOTIFICATION_TYPE={GREETING:"greeting",MESSAGE:"message",PARTNER_INVITE:"partner invite",PARTNER_RESPONSE_ACCEPTED:"partner response accepted",PARTNER_RESPONSE_REJECTED:"partner response rejected",PARTNER_JOINED:"partner joined",MEMBER_INVITE:"member invite",MEMBER_REQUEST:"member request",MEMBER_RESPONSE_ACCEPTED:"member response accepted",MEMBER_RESPONSE_REJECTED:"member response rejected",MEMBER_JOINED:"member joined",FOLLOWER_JOINED:"follower joined",ENTITY_REQUEST:"entity request",ENTITY_REQUEST_ACCEPTED:"entity request accepted",ENTITY_REQUEST_REJECTED:"entity request rejected",ENTITY_INVITE:"entity invite",ENTITY_INVITE_ACCEPTED:"entity invite accepted",ENTITY_INVITE_REJECTED:"entity invite rejected",ENTITY_JOINED:"entity joined",VERIFY_EMAIL:"verify email",COMPLETE_PROFILE:"complete profile"},n.NOTIFICATION_TYPES=e(n.NOTIFICATION_TYPE),n.NOTIFICATION_BATCH_OPERATION={CREATE:"create",REPLY:"reply",CLOSE:"close",DELETE:"delete"},n.SUPPORT_CASE_CATEGORY={ACCOUNT:"account",BILLING:"billing",TECHNICAL:"technical",GENERAL:"general"},n.SUPPORT_CASE_CATEGORIES=e(n.SUPPORT_CASE_CATEGORY),n.ANNOUNCE_TYPE={APP:"app",EMAIL:"email",APP_AND_EMAIL:"app and email"},n.ANNOUNCE_TYPES=e(n.ANNOUNCE_TYPE),n.ANNOUNCE_CATEGORY={GENERAL:"general",MAINTENANCE:"maintenance",NEW_RELEASE:"new release",SURVEY:"survey"},n.ANNOUNCE_CATEGORIES=e(n.ANNOUNCE_CATEGORY),n.GUIDE_TYPE={INTRO:"intro",TOPIC:"topic",CONTEXT:"context",TIP:"tip",NEW_RELEASE:"new release"},n.GUIDE_TYPES=e(n.GUIDE_TYPE),n.EMAIL_TYPE={HOME:"home",WORK:"work",OTHER:"other"},n.EMAIL_TYPES=e(n.EMAIL_TYPE),n.ADDRESS_TYPE={HOME:"home",WORK:"work",OTHER:"other"},n.ADDRESS_TYPES=e(n.ADDRESS_TYPE),n.ADDRESS_TYPE={HOME:"home",WORK:"work",OTHER:"other"},n.ADDRESS_TYPES=e(n.ADDRESS_TYPE),n.PHONE_TYPE={MOBILE:"mobile",WORK:"work",HOME:"home",MAIN:"main",WORK_FAX:"work fax",HOME_FAX:"home fax",OTHER:"other"},n.PHONE_TYPES=e(n.PHONE_TYPE),n.MESSANGER_TYPE={SKYPE:"skype",GOOGLE_TALK:"google talk",AIM:"aim",YAHOO:"yahoo",QQ:"qq",MSN:"msn",ICQ:"icq",JABBER:"jabber",OTHER:"other"},n.MESSANGER_TYPES=e(n.MESSANGER_TYPE),n.WEB_ADDRESS_TYPE={PROFILE:"profile",BLOG:"blog",HOME_PAGE:"home page",WORK:"work",PORTFOLIO:"portfolio",OTHER:"other"},n.WEB_ADDRESS_TYPES=e(n.WEB_ADDRESS_TYPE),n.DASHBOARD_TILE_SIZE={SMALL:"small",WIDE:"wide",LARGE:"large"},n.DASHBOARD_TILE_SIZES=e(n.DASHBOARD_TILE_SIZE),n})}(),function(){"use strict";var e=angular.module("pipRest",["ngResource","pipRest.Enums","pipRest.Access","pipRest.Session","pipRest.State"]);e.provider("pipRest",["$httpProvider",function(e){function n(e){for(var n in e)i[n]=e[n]}var t="",r=!1,i=[];this.addApi=n,this.version=function(n){return n&&(e.defaults.headers.common["api-version"]=n),e.defaults.headers.common["api-version"]},this.serverUrlFixed=function(e){return e!==!0&&"on"!==e||(r=e),r},this.serverUrl=function(e){return e&&(t=e),e},this.$get=["$rootScope","$http","$resource","$stateParams",function(n,o,a,s){function u(e,n,r,i){return e=e||t,a(e+n,r,i)}function E(e,n){return e=e||t,a(e+n,{},{call:{method:"POST"}})}function c(e,n,r){return e=e||t,a(e+n,r||{id:"@id"},{update:{method:"PUT"}})}function p(e,n,r){return e=e||t,a(e+n,r||{id:"@id"},{page:{method:"GET",isArray:!1},update:{method:"PUT"}})}function d(e,n,t){return p(e,n,t||{id:"@id",party_id:"@party_id"})}function l(){for(var e in i)T[e]=i[e]}var T={version:function(n){return n&&(e.defaults.headers.common["api-version"]=n),e.defaults.headers.common["api-version"]},serverUrl:function(e){return e&&(t=e),t},userId:function(){return o.defaults.headers.common["user-id"]},serverUrlFixed:function(){return r},sessionId:function(){return o.defaults.headers.common["session-id"]},partyId:function(){return s?s.party_id||o.defaults.headers.common["user-id"]:o.defaults.headers.common["user-id"]},about:function(e){return u(e,"/api/about")},session:function(e,n){o.defaults.headers.common["session-id"]=n,o.defaults.headers.common["user-id"]=e},signin:function(e){return E(e,"/api/signin")},signout:function(e){return E(e,"/api/signout")},signup:function(e){return E(e,"/api/signup")},recoverPassword:function(e){return E(e,"/api/recover_password")},resetPassword:function(e){return E(e,"/api/reset_password")},changePassword:function(e){return E(e,"/api/change_password")},requestEmailVerification:function(e){return c(e,"/api/users/:party_id/resend_email_verification")},verifyEmail:function(e){return E(e,"/api/verify_email")},signupValidate:function(e){return E(e,"/api/signup_validate")},users:function(e){return p(e,"/api/users/:id")},currentUser:function(e){return u(e,"/api/users/current",{},{get:{method:"GET",isArray:!1}})},userSessions:function(e){return d(e,"/api/users/:party_id/sessions/:id")},parties:function(e){return p(e,"/api/parties/:id")},partySettings:function(e){return d(e,"/api/parties/:party_id/settings")},serverActivities:function(e){return p(e,"/api/servers/activities/:id")},guides:function(e){return p(e,"/api/guides/:id")},tips:function(e){return p(e,"/api/tips/:id")},image_sets:function(e){return p(e,"/api/image_sets/:id")},images:function(e){return p(e,"/api/images/search")},feedbacks:function(e){return d(e,"/api/feedbacks/:id")},announces:function(e){return p(e,"/api/announcements/:id")},createResource:u,createOperation:E,createCollection:c,createPagedCollection:p,createPartyCollection:d};return l(),T}]}])}(),function(){"use strict";var e=angular.module("pipRest.Session",["ngCookies","pipRest"]);e.run(["pipSession",function(e){e.reopen()}]),e.factory("pipSession",["$rootScope","$http","localStorageService","$cookieStore","pipRest","pipTimer",function(e,n,t,r,i,o){function a(){return O}function s(){return A}function u(){return N||t.get("serverUrl")}function E(){var e=""!==A&&null!==A&&void 0!==A&&""!==O&&null!==O&&void 0!==O&&""!==N&&null!==N&&void 0!==N;return e}function c(e){var n=t.get("servers");if(n&&n[e])return n[e].email}function p(){return t.get("servers")||{}}function d(){var e,n=t.get("servers"),r=[];for(var i in n)n.hasOwnProperty(i)&&(e=n[i].serverUrl,e&&r.push(e));return r}function l(t,r,o){var a=t.serverUrl,s=t.email,u=t.password,E=t.remember,c=!!t.adminOnly,p=(new Date).getTime();R=p,n.defaults.headers.common["session-id"]=void 0,n.defaults.headers.common["user-id"]=void 0,n.defaults.headers.common["account-id"]=void 0,i.signin(a).call({email:s,password:u,remember:E},function(n){R==p&&(R=void 0,c&&!n.admin?o("ERROR_ADMIN_ONLY_ACCESS"):(S(a,n,E),e.$broadcast("pipAutoPullChanges"),r(n)))},function(e){R==p&&(R=void 0,o(e))})}function T(){R=void 0}function f(e){E()&&i.signout().call({},e,e),_()}function S(a,s,u){if(A=s.last_session_id,O=s.id,N=a,n.defaults.headers.common["session-id"]=A,n.defaults.headers.common["user-id"]=O,u){var E=t.get("servers")||{};E[N]={serverUrl:N,email:s.email},t.set("servers",E),t.set("sessionId",A),t.set("userId",O),t.set("serverUrl",N)}r.put("user-id",O),r.put("session-id",A),r.put("server-url",N),i.serverUrlFixed()||i.serverUrl(N),e.$emit("pipSessionOpened",{serverUrl:N,sessionId:A,userId:O,user:s}),o.start()}function m(){O=r.get("user-id")||t.get("userId"),A=r.get("session-id")||t.get("sessionId"),N=r.get("server-url")||t.get("serverUrl"),n.defaults.headers.common["session-id"]=A,n.defaults.headers.common["user-id"]=O,i.serverUrlFixed()&&i.serverUrl()||i.serverUrl(N),e.$serverUrl=i.serverUrl(),e.$emit("pipSessionOpened",{serverUrl:N,sessionId:A,userId:O}),o.start()}function _(){A=void 0,O=void 0,n.defaults.headers.common["session-id"]=void 0,n.defaults.headers.common["user-id"]=void 0,t.remove("userId"),t.remove("sessionId"),r.remove("user-id"),r.remove("session-id"),o.stop(),e.$emit("pipSessionClosed")}var A,O,N,R=void 0;return{opened:E,userId:a,sessionId:s,serverUrl:u,lastUsedEmail:c,usedServers:p,usedServerUrls:d,signin:l,abort:T,signout:f,open:S,close:_,reopen:m}}])}(),function(){"use strict";angular.module("pipData",["pipDataModel","pipDataCache","pipSessionData"])}(),function(){"use strict";var e=angular.module("pipDataModel",["pipUtils","pipRest"]);e.provider("pipDataModel",function(){this.$get=["$stateParams","pipCollections","pipRest",function(e,n,t){function r(e,n,t){var r,i=e.transaction;if(!i||e.skipTransactionBegin||(r=e.transactionId=i.begin(e.transactionOperation||"PROCESSING")))return d[e.resource]()[e.operation](e.item,function(t){i&&r&&i.aborted(r)||(i&&!e.skipTransactionEnd&&i.end(),n&&n(t))},function(e){i&&i.end(e),t&&t(e)})}function i(e,n,t){return e.transactionOperation=e.transactionOperation||"SAVING",e.operation=e.operation||"save",r(e,function(t){e.itemCollection&&e.itemCollection.push(t),n&&n(t)},function(e){t&&t(e)})}function o(e,t,i){return e.transactionOperation=e.transactionOperation||"SAVING",e.operation=e.operation||"update",r(e,function(r){e.itemCollection&&n.replaceBy(e.itemCollection,"id",r.id,r),t&&t(r)},i)}function a(e,n,t){return e.transactionOperation=e.transactionOperation||"SAVING",e.operation=e.operation||"remove",r(e,function(t){e.itemCollection&&_.remove(e.itemCollection,{id:t.id||(e.object||{}).id||(e.item||{}).id}),n&&n(t)},t)}function s(e,n,t){return e.transactionOperation=e.transactionOperation||"READING",e.operation=e.operation||"query",r(e,function(e){n&&n(e)},t)}function u(e,n,t){return e.transactionOperation=e.transactionOperation||"READING",e.operation=e.operation||"page",r(e,function(t){if(e.itemCollection&&t){var r=_.findIndex(e.itemCollection,{id:t.id});r>=0?e.itemCollection[r]=t:e.itemCollection.push(t)}n&&n(t)},t)}function E(e,n,t){return e.transactionOperation=e.transactionOperation||"READING",e.operation=e.operation||"page",r(e,function(t){if(e.itemCollection&&t.data)for(var r=0;r<t.data.length;r++)e.itemCollection.push(t.data[r]);n&&n(t)},t)}function c(e,n,t){var r,i=e.transaction;if(!i||e.skipTransactionBegin||(r=e.transactionId=i.begin(e.transactionOperation||"SAVING"))){var o=[{pictures:e.pictures,documents:e.documents}];if(e.item&&e.item.content){var a=!0;async.eachSeries(_.union(e.item.content,o),function(e,n){e.pictures||e.documents?e.pictures?e.pictures.save(function(){i&&r&&i.aborted(r)&&(a=!1,n("aborted")),e.documents?e.documents.save(function(){i&&r&&i.aborted(r)&&(a=!1,n("aborted")),n()},function(e){a=!1,n(e)}):n()},function(e){a=!1,n(e)}):e.documents&&e.documents.save(function(){i&&r&&i.aborted(r)&&(a=!1,n("aborted")),n()},function(e){a=!1,n(e)}):n()},function(r){!r&&a?(i&!e.skipTransactionEnd&&i.end(),_.each(e.item.content,function(e){delete e.pictures,delete e.documents}),n&&n()):(i&&i.end(r),t&&t(r))})}else e.pictures?e.pictures.save(function(){i&&r&&i.aborted(r)||(e.documents?e.documents.save(function(){i&&r&&i.aborted(r)||(i&!e.skipTransactionEnd&&i.end(),n&&n())},function(e){i&&i.end(e),t&&t(e)}):(i&!e.skipTransactionEnd&&i.end(),n&&n()))},function(e){i&&i.end(e),t&&t(e)}):e.documents?e.documents.save(function(){i&&r&&i.aborted(r)||(i&!e.skipTransactionEnd&&i.end(),n&&n())},function(e){i&&i.end(e),t&&t(e)}):(i&!e.skipTransactionEnd&&i.end(),n&&n())}}function p(e){e.pictures&&e.pictures.abort(),e.documents&&e.documents.abort(),e.transaction&&e.transaction.abort()}var d=[];for(var l in t)d[l]=t[l];return{execute:r,create:i,update:o,save:o,"delete":a,remove:a,read:s,query:s,readOne:u,get:u,page:E,readPage:E,queryPage:E,saveFiles:c,abortFiles:p}}]})}(),function(){"use strict";var e=angular.module("pipSessionData",["pipRest","pipSessionCache"]);e.provider("pipSessionData",function(){function e(e){return e.readUser()}function n(e,n){return e.readParty(n)}function t(e,n){return e.readConnection(n)}function r(e){return e.readSettings()}function i(e,n,t){return n.userSessions().query({party_id:e.id}).$promise}function o(e,n){return n.sessionId()}e.$inject=["pipSessionCache"],n.$inject=["pipSessionCache","$stateParams"],t.$inject=["pipSessionCache","$stateParams"],r.$inject=["pipSessionCache"],i.$inject=["$stateParams","pipRest","$rootScope"],o.$inject=["$stateParams","pipSession"],this.readUserResolver=e,this.readPartyResolver=n,this.readConnectionResolver=t,this.readSettingsResolver=r,this.readSessionsUserResolver=i,this.readSessionIdResolver=o,this.$get=["$rootScope","$stateParams","pipRest","pipDataModel","pipSessionCache",function(e,n,t,r,i){function o(e){return function(){return e.sessionId()}}function a(e,r,i,o){var a=e.begin("REMOVING");a&&t.userSessions().remove({id:r.id,party_id:n.id},function(n){e.aborted(a)||(e.end(),i&&i(n))},function(n){e.end(n),o&&o(n)})}return{getSessionId:o,removeSession:a,readSessionsUser:function(e,t,r){return e.resource="userSessions",e.item=e.item||{},e.item.party_id=n.id,e.party_id=n.id,i.readSessions(e,t,r)}}}]})}();
!function(){"use strict";var t=angular.module("pipWebuiTests",["pipMocked","pipMocked.Users","pipMocked.Entry","pipMocked.Party","pipMocked.Announcements","pipMocked.Feedbacks","pipMocked.Tips","pipMocked.Guides","pipMocked.ServersActivities","pipMocked.ImageSet","pipMocked.Images","pipMocked.Avatar","pipMocked.Events","pipMocked.Nodes","pipMocked.Feedbacks","pipGenerators","pipBasicGeneratorServices","pipGenerators.User","pipGenerators.PartyAccess","pipGenerators.Sessions","pipGenerators.Party","pipGenerators.Files","pipGenerators.Avatars","pipGenerators.Settings","pipGenerators.Node","pipGenerators.Event","pipGenerators.Feedback","pipTestCollection","pipTestDataSet","pipTestDataService","pipMocked.ImageResources","PipResources.Error","pipImageResources"]);t.service("pipWebuiTest",["pipMockedResource","MockedUsersResource","MockedCurrentUserResource","TruePathResource","MockedSigninResource","MockedSignupResource","MockedSignoutResource","MockedSignupValidateResource","MockedVerifyEmailResource","MockedRecoverPasswordResource","MockedResetPasswordResource","MockedChangePasswordResource","MockedUserSessionsResource","MockedTipsResource","MockedAnnouncementsResource","MockedFeedbacksResource","MockedGuidesResource","MockedImageSetResource","MockedPartyResource","MockedServersActivitiesResource","MockedAvatarResource","MockedImagesResource","MockedPartySettingsResource","MockedNodeResource","MockedEventsResource","MockedResource","pipTestDataService","pipBasicGeneratorServices",function(t,e,n,i,a,r,o,s,c,p,l,d,g,m,u,h,b,w,k,f,y,v,E,A,R,j,C,G){function S(S){G.serverUrl(S),j.fakeUrl=G.serverUrl(),j.setDataset(C.getDataset()),t.addMocks(e),t.addMocks(n),t.addMocks(g),t.addMocks(a),t.addMocks(r),t.addMocks(o),t.addMocks(s),t.addMocks(c),t.addMocks(p),t.addMocks(l),t.addMocks(d),t.addMocks(m),t.addMocks(u),t.addMocks(h),t.addMocks(b),t.addMocks(k),t.addMocks(E),t.addMocks(f),t.addMocks(w),t.addMocks(y),t.addMocks(v),t.addMocks(R),t.addMocks(A),t.addMocks(i),t.registerStandardResources()}return{runFakeServer:S}}])}(),function(){"use strict";var t=angular.module("pipTestCollection",[]);t.factory("TestCollection",["$log",function(t){function e(){return this.generator.name}function n(){return this.collection.length}function i(t){return t&&angular.isArray(t)?(this.collection=_.cloneDeep(t),this.size=t.length,void(this.isInit=!0)):0===this.size?void(this.collection=[]):(this.collection=this.generator.newObjectList(this.size,this.refs),void(this.isInit=!0))}function a(){return _.cloneDeep(this.collection)}function r(t){var e=null;return void 0===t||null===t||t<0||t>this.collection.length-1?e:e=_.cloneDeep(this.collection[t])}function o(t,e){var n=null,i=e?e:"id";return void 0===t||null===t?n:(n=_.find(this.collection,function(e){return e[i]==t}),n||null)}function s(t){var e=this.generator.initObject(t);return angular.isObject(e)&&this.collection.push(e),e}function c(t,e,n){var i;if(void 0===t||null===t||!angular.isObject(e))throw new Error("pipTestCollection: id parametr misseed in update function.");return i=this.findById(t,n),i=angular.isObject(i)?_.assign(i,e):null}function p(t){var e,n=!1;for(e=0;e<this.collection.length;e++)if(this.collection[e].id===t){n=!0,this.collection.splice(e,1);break}return n}function l(t){return!(void 0===t||null===t||t<0||t>this.collection.length-1)&&(this.collection.splice(t,1),!0)}function d(t){var e={};for(var n in t)e[n]=_.cloneDeep(t[n]);return e}function g(t,e){return e&&angular.isObject(e)?d(e):t.refs&&angular.isObject(t.refs)?d(t.refs):{}}function m(t,e){return e?e:t.name}return function(t,d,u,h){if(!t)throw new Error("TestCollection: generator is required");return this.generator=t,this.size=u?u:0,this.refs=g(t,h),this.name=m(t,d),this.collection=[],this.isInit=!1,this.getGeneratorName=e,this.getSize=n,this.init=i,this.getAll=a,this.getByIndex=r,this.findById=o,this.create=s,this.update=c,this.deleteById=p,this.deleteByIndex=l,this}}])}(),function(){"use strict";var t=angular.module("pipTestDataService",[]);t.factory("pipTestDataService",["pipTestDataSet","pipUserDataGenerator","pipPartyAccessDataGenerator","pipSessionsDataGenerator","pipPartyDataGenerator","TestCollection","pipNodeDataGenerator","pipAvatarsDataGenerator","pipEventDataGenerator","pipDataSettingsGenerator","pipFeedbackDataGenerator",function(t,e,n,i,a,r,o,s,c,p,l){function d(){return m}function g(){var t,d,g,u,h,b,w,k,f,y,v=[],E=[],A=new Array,R=new Array;for(g=new r(n,"PartyAccessTestCollection",20),u=new r(i,"SessionsTestCollection",20),g.init(),u.init(),m.add(g),m.add(u),A.PartyAccess=g.getAll(),A.Sessions=u.getAll(),h=new r(e,"UsersTestCollection",20,A),m.add(h),k=new r(l,"FeedbacksTestCollection",20),m.add(k),f=new r(o,"NodesTestCollection",20),f.init(),m.add(f),R.Nodes=_.cloneDeep(f.getAll()),y=new r(c,"EventsTestCollection",100,R),m.add(y),m.init(),h=m.get("UsersTestCollection"),h.create({name:"Sample User",email:"test@sample.net",id:"q1w2e3r4t5y6u7i8o9p0a1s2",theme:"navy"}),d=h.getAll(),t=0;t<d.length;t++){var j=a.initObject({name:d[t].name,email:d[t].email,id:d[t].id,updated:d[t].updated,created:d[t].created});v.push(j);var C={party_id:j.id,creator_id:j.id};E.push(C)}b=new r(a,"PartiesTestCollection",v.length),b.init(v),m.add(b),w=new r(p,"SettingsTestCollection",E.length),w.init(E),m.add(w);var G="http://www.flooringvillage.co.uk/ekmps/shops/flooringvillage/images/request-a-sample--547-p.jpg",S=new r(s,"AvatarsTestCollection",1),N=[];return N.push(s.initObject({name:"request-a-sample--547-p.jpg",url:G})),S.init(N),m}var m=new t;return{getDataset:d,createTestDataset:g}}])}(),function(){"use strict";var t=angular.module("pipTestDataSet",[]);t.factory("pipTestDataSet",["$log",function(t){function e(){var t;for(t in this.dataSet)this.dataSet[t]&&this.dataSet[t].isInit===!1&&this.dataSet[t].init()}function n(t){var e;if(!(t&&angular.isObject(t)&&t.name))throw new Error("pipTestDataSet: collection is required");e=t.name,this.dataSet[e]=_.cloneDeep(t)}function i(t){if(t&&angular.isString(t))return this.dataSet[t];throw new Error("pipTestDataSet: name must be a string")}function a(t){if(!(t&&angular.isObject(t)&&t.id))throw new Error("pipTestDataSet: currentUser must be a object");this.currentUser=_.cloneDeep(t)}function r(){return this.currentUser}function o(){this.currentUser=null}function s(t){if(!(t&&angular.isObject(t)&&t.id))throw new Error("pipTestDataSet: currentParty must be a object");this.currentParty=_.cloneDeep(t)}function c(){return this.currentParty}return function(){return this.currentUser=null,this.currentParty=null,this.dataSet={},this.init=e,this.add=n,this.get=i,this.getCurrentUser=r,this.setCurrentUser=a,this.clearCurrentUser=o,this.setCurrentParty=s,this.getCurrentParty=c,this}}])}(),function(){"use strict";var t=angular.module("pipGenerators.Avatars",[]);t.factory("pipAvatarsDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","pipImageResources","$log",function(t,e,n,i){var a=new t("Avatars",[]);return a.defaultContentType="image/jpeg",a.generateObj=function(){var t=n.getImage(),i=e.getFileName(t.link),a=e.getFileExt(i),r=e.getContentType(a),o={id:e.getObjectId(),name:i,content_type:r,length:chance.integer({min:1e4,max:1e6}),creator_id:e.getObjectId(),created:chance.date({year:2015}).toJSON(),refs:[],url:t.link};return o},a}])}(),function(){"use strict";var t=angular.module("pipGenerators",[]);t.factory("pipDataGenerator",["$log",function(t){var e=function(t,e){this.name=t,this.refs=e,this.initObject=function(t){var e=this.newObject();return t&&(e=_.assign(e,t)),e},this.newObject=function(t){var e=t?t:this.refs,n=this.generateObj(e);return n},this.newObjectList=function(t,e){var n,i,a=[];if(t>0)for(n=0;n<t;n++)i=this.newObject(e),a.push(i);return a},this.initObjectList=function(t){var e,n,i=[];if(count>0)for(e=0;e<count;e++)n=this.newObject(),i.push(_.assign(n,t));return i},this.updateObject=function(t,e){var n=this.newObject(e);return t?n=_.assign(n,t):null},this.generateObj=function(t){return{}}};return e}])}(),function(){"use strict";var t=angular.module("pipGenerators.Event",[]);t.factory("pipEventDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","pipNodeDataGenerator","$log",function(t,e,n,i){function a(t){var n;return n=t&&t.id?t.id:e.getObjectId()}function r(t){var e;return e=t&&t.name?t.name:chance.name()}function o(t,e){var i=n.getNodeType(t,e);return d[i]||d.info}function s(t,n){var i,a,r=5,o=2,s=45,c=36,p=-25,l=-15;return i=t>s?e.getOne(["Thermal shock.","Eruption."]):t>c?e.getOne(["Temperature change.","Temperature increase.","Temperature decrease."]):t<p?e.getOne(["Temperature dropped significantly.","Thermal shock."]):t<l?e.getOne(["Temperature change.","Temperature increase.","Temperature decrease."]):e.getOne(["Temperature change.","Temperature increase.","Temperature decrease."]),a=n>r?e.getOne(["Radioactive emission.","Reactor explosion.","Nuclear tests."]):n>o?e.getOne(["Radiation level increase.","Radiation level decrease.","Radioactive emission."]):e.getOne(["Radiation level decrease.","Radiation levels normal."]),i+" "+a}function c(t){var e,n;return n=t.length,e=_.random(n-1),_.cloneDeep(t[e])}var p,l={},d={danger:"warn-circle",info:"info-circle-outline",warn:"warn-triangle"};return l.Nodes=n.newObjectList(10),p=new t("Events",l),p.generateObj=function(t){var n,i,p,d=chance.integer({min:-40,max:50}),g=chance.bool({likelihood:70})?chance.floating({fixed:2,min:0,max:5}):chance.floating({fixed:2,min:0,max:22});return i=t&&angular.isObject(t)?t.Nodes||[]:l.Nodes||[],n=c(i),p={id:e.getObjectId(),node_id:a(n),node_name:r(n),description:s(d,g),temperature:d,rad_level:g,icon:o(d,g)}},p}])}(),function(){"use strict";var t=angular.module("pipGenerators.Feedback",[]);t.factory("pipFeedbackDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","pipUserDataGenerator","$log","pipFilesDataGenerator",function(t,e,n,i,a){function r(t){var e,n;return n=t.length,e=_.random(n-1),_.cloneDeep(t[e])}function o(t){var n,i,a=[];for(n=e.getMany(t,chance.integer({min:0,max:5})),i=0;i<n.length;i++)a.push({file_id:n[i].id,file_name:n[i].name});return a}function s(t){var n,i,a=[];for(n=e.getMany(t,chance.integer({min:0,max:5})),i=0;i<n.length;i++)a.push(n[i].id);return a}var c,p={};return p.Users=n.newObjectList(10),p.Files=a.newObjectList(30),p.Pictures=a.newObjectList(30),c=new t("Feedback",p),c.generateObj=function(t){var i,a,c,l,d,g=chance.timestamp();return t&&angular.isObject(t)?(l=t.Users||[],a=t.Files||[],c=t.Pictures||[]):(l=p.Users||[],a=p.Files||[],c=p.Pictures||[]),d=r(l),d&&d.id||(d=n.newObject()),i={id:e.getObjectId(),sender_id:d.id,sender_name:d.name,sender_email:d.email,type:e.getOne(["support","feedback","copyright","business","advertising"]),title:chance.sentence(),content:chance.paragraph(),docs:o(a),pic_ids:s(c),sent:new Date(g).toJSON()}},c}])}(),function(){"use strict";var t=angular.module("pipGenerators.Files",[]);t.factory("pipFilesDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","pipImageResources","$log",function(t,e,n,i){var a=new t("Files",[]);return a.generateObj=function(){var t=n.getImage(),i=e.getFileName(t.link),a=e.getFileExt(i),r=e.getContentType(a),o=e.getObjectId(),s={id:e.getObjectId(),name:i,content_type:r,length:chance.integer({min:1e4,max:1e6}),party_id:o,creator_id:o,created:chance.date({year:2015}).toJSON(),refs:[],url:t.link};return s},a}])}(),function(){"use strict";var t=angular.module("pipBasicGeneratorServices",[]);t.service("pipBasicGeneratorServices",function(){function t(t,e){var n=d+m,i=t||24,a=e||n;return chance.string({length:i,pool:a})}function e(){return chance.email()}function n(){return o(8)}function i(t){return _.sample(t)}function a(t,e){var n=e?e:Math.floor(Math.random()*t.length);return _.sampleSize(t,n)}function r(t){return t&&(b=t),b}function o(t){var e=t&&t>0?Math.floor(Math.random()*t):null,n=d+g;return chance.word({length:e,pool:n})}function s(){var t=chance.first()+" "+chance.name();return t}function c(t){var e=t.slice(t.lastIndexOf("/")+1,t.length).split("?")[0];return e}function p(t){var e=t.slice(t.lastIndexOf(".")+1,t.length).split("?")[0];return e}function l(t){var e,n="image/jpg";return e=h[t],e||(e=n),e}var d="abcdefghijklmnopqrstuvwxyz",g="ABCDEFGHIJKLMNOPQRSTUVWXYZ",m="0123456789",u=" .,;:-!?",h={jpg:"image/jpg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png"},b="http://alpha.pipservices.net";return{ABCD:d,ABCD_CAPITALIZE:g,DIGIT:m,SIGN:u,getObjectId:t,getOneWord:o,getPassword:n,getEmail:e,serverUrl:r,getName:s,getOne:i,getMany:a,getFileName:c,getFileExt:p,getContentType:l}})}(),function(){"use strict";var t=angular.module("pipGenerators.Node",[]);t.factory("pipNodeDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(t,e,n){function i(t){return o[t]}function a(t,e){var n=10,i=4,a=8,r=4,o=5,s=2,c=45,p=36,l=-25,d=-15,g=0;return t>c||t<l?g+=n:(t>p||t<d)&&(g+=i),e>o?g+=n:e>s&&(g+=i),g>=a?"danger":g>=r?"warn":"info"}var r=new t("Nodes",[]),o={danger:"#EF5350",info:"#8BC34A",warn:"#FFD54F"};return r.getNodeType=a,r.generateObj=function(){var t=chance.integer({min:-40,max:50}),n=chance.bool({likelihood:70})?chance.floating({fixed:2,min:0,max:5}):chance.floating({fixed:2,min:0,max:22}),r=a(t,n),o={id:e.getObjectId(),name:chance.name(),temperature:t,radiation_level:n,type:r,location_points:{type:"Point",coordinates:[chance.floating({min:32,max:42}),chance.floating({min:-121,max:-70})],fill:i(r)}};return o},r}])}(),function(){"use strict";var t=angular.module("pipGenerators.PartyAccess",[]);t.factory("pipPartyAccessDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(t,e,n){var i=new t("PartyAccess",[]);return i.isContributorChance=30,i.isManagerChance=30,i.defaultShareLevel=0,i.defaultType="partner",i.generateObj=function(){var t=chance.bool({likelihood:i.isContributorChance}),n={share_level:i.defaultShareLevel,type:i.defaultType,party_name:chance.first()+" "+chance.name(),party_id:e.getObjectId(),contributor:chance.bool({likelihood:i.isContributorChance}),manager:!!t&&chance.bool({likelihood:i.isManagerChance}),id:e.getObjectId()};return n},i}])}(),function(){"use strict";var t=angular.module("pipGenerators.Party",[]);t.factory("pipPartyDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(t,e,n){var i=new t("Parties",[]);return i.defaultType="person",i.defaultJoin="approve",i.generateObj=function(){var t=chance.timestamp(),n=chance.timestamp(),a={name:chance.first()+" "+chance.name(),email:chance.email(),type:i.defaultType,gender:chance.gender().toLowerCase(),loc_name:chance.address(),loc_pos:{type:"Point",coordinates:[chance.floating({min:32,max:40}),chance.floating({min:-110,max:-90})]},join:i.defaultJoin,updated:t>n?new Date(t).toJSON():new Date(n).toJSON(),created:t>n?new Date(n).toJSON():new Date(t).toJSON(),id:e.getObjectId()};return a},i}])}(),function(){"use strict";var t=angular.module("pipGenerators.Sessions",[]);t.factory("pipSessionsDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(t,e,n){var i=new t("Sessions",[]);return i.generateObj=function(){var t=new Date(chance.timestamp()),n={address:chance.ip(),client:e.getOne(["chrome","mozilla","explorer"]),platform:e.getOne(["windows 8","windows 7","linux"]),last_req:t.toJSON(),opened:t.toJSON(),id:e.getObjectId()};return n},i}])}(),function(){"use strict";var t=angular.module("pipGenerators.Settings",[]);t.factory("pipDataSettingsGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log",function(t,e,n){var i=new t("Settings",[]);return i.generateObj=function(){var t=e.getObjectId(),n=chance.timestamp(),i={settings:{party_id:t,creator_id:t,goals:{},areas:{},intro:{}},updated:new Date(n).toJSON()};return i},i}])}(),function(){"use strict";var t=angular.module("pipGenerators.User",[]);t.factory("pipUserDataGenerator",["pipDataGenerator","pipBasicGeneratorServices","$log","pipPartyAccessDataGenerator","pipSessionsDataGenerator",function(t,e,n,i,a){var r={};r.PartyAccess=i.newObjectList(10),r.Sessions=a.newObjectList(10);var o=new t("User",r);return o.generateObj=function(t){var n,i=chance.timestamp(),o=chance.timestamp(),s=new Date,c=[],p=[],l=a.initObject({last_req:s.toJSON(),opened:s.toJSON()});return t&&angular.isObject(t)?(c=t.PartyAccess||[],p=t.Sessions||[]):(c=r.PartyAccess||[],p=r.Sessions||[]),n={pwd_last_fail:null,pwd_fail_count:0,name:e.getName(),email:chance.email(),language:e.getOne(["en","ru"]),paid:chance.bool({likelihood:30}),admin:!1,party_access:e.getMany(c),sessions:e.getMany(p),signin:i>o?new Date(i).toJSON():new Date(o).toJSON(),signup:i>o?new Date(o).toJSON():new Date(i).toJSON(),active:!0,lock:!1,email_ver:!1,id:e.getObjectId(),last_session_id:l.id,theme:e.getOne(["navy","blue","amber","grey","orange"])},n.sessions.push(l),n},o}])}(),function(){"use strict";var t=angular.module("pipMocked.ImageResources",["pipImageResources"]);t.config(["pipImageResourcesProvider",function(t){t.setImages([{title:"Cat Rejected By 5 Previous Owners Finally Finds A Human That Loves ...",link:"http://static.boredpanda.com/blog/wp-content/uploads/2016/04/beautiful-fluffy-cat-british-longhair-thumb.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRnJBZq_2tq5ZQY5q_ffHasWSjp84ULC0DqoTVd0F4sWDJgrEoLcDqXqw"},{title:"Your Cat | Cat Advice",link:"http://www.yourcat.co.uk/images/catimages/module_graphics/cat_health.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQfLMZenYeTxvvX3e-LnvmKGDizm1TyscgCUJty6jAUCsfuGE5tuRYVDQ"},{title:"Cat Nutrition Tips | ASPCA",link:"http://www.aspca.org/sites/default/files/cat-care_cat-nutrition-tips_overweight_body4_left.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSAW7vaQfr_iluqnX3DQYbZ3NrdCLjiMDuva3FCjYKTBxzcY2GcKIH67c4W"},{title:"Cat - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/7/75/Cat_eating_a_rabbit.jpeg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSK3sbzKkaY5NAFGyO6xD3mHHpdaJ_I2TB-AUUZ6vt8oQEZHcsv_qfIvmnr"},{title:"Best Cat Breeds | Pictures, Information, and Reviews",link:"https://s2.graphiq.com/sites/default/files/stories/t2/tiny_cat_12573_8950.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTaKFV3BJIfybHOZx6jUWLr0mBCa2NxpEM65QhacczN4YVrOPk_jKN8oXQ"},{title:"Cat Tracker",link:"http://cats.yourwildlife.org/wp-content/uploads/cat-tracker.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS5mjSRVNRlcxGDNlfUdx_YjhsajMMwNRahAr0S4jwXcTgXXWQbYejNg0I"},{title:"This Cat Takes Better Selfies Than You (16 Photos) «TwistedSifter",link:"https://twistedsifter.files.wordpress.com/2016/02/manny-the-cat-takes-better-selfies-than-you-9.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRIk7_KJk0eR0lw2PB79xaPihecrtlOiw-SSodEmz1RIT_ZHu43RGnjLcYQJQ"},{title:"5507692-cat-m.jpg",link:"http://www.cats.org.uk/uploads/branches/211/5507692-cat-m.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTpf0PD5EoT_Rz7Qau5BN1O24JUzcs5gr-SmN60T6H1UiCnnYF28wxE9qTk"},{title:"Cat Cafe Mad: Home",link:"http://www.catcafemad.com/Profile_Erma2.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTe5Rgr11HQvaWmuin4itzBwV_5oF-msXKh14JBhIc3crm2M6u5E_4ytvw"},{title:"Cat Behavior: 17 Things Your Cat Wants to Tell You | Reader's Digest",link:"http://www.rd.com/wp-content/uploads/sites/2/2016/04/15-cat-wants-to-tell-you-attention.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQwBmXlaFtzb3TeeRavzIByOHw4y3t3zaYrGZJ7ZmKUakrs-QfmozrwNXbx"},{title:"Cats",link:"http://a.amz.mshcdn.com/media/ZgkyMDEyLzEyLzA0L2QwL2NhdC5jNEEKcAl0aHVtYgkxNTB4MTUwIwplCWpwZw/4d610ee3/6a7/cat.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTmxiiBD5MZhp9eL6jXjTWXXolBKNYV_5DwgyXWf6iPPXj-ISIkRG8ehQ"},{title:"Cat Grooming - Petfinder",link:"https://www.petfinder.com/wp-content/uploads/2012/11/140272627-grooming-needs-senior-cat-632x475.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTshAJ7eAbNXVHGwLjzP_lpPRPUoD6zd--nVGL-uZWICu2hE_biLFG2M_I"},{title:"Why These Scaredy Cats Are Absolutely Terrified of Cucumbers - ABC ...",link:"http://a.abcnews.com/images/Lifestyle/AL_scared_cat_jt_151225_12x5_1600.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR1ZWhPvSwPNvTQeUMUxqITPtND1Zc4p6rOXGLjvvKx8m5lbKmut6XpuLk"},{title:"Cute Cat Wallpapers - Trawel India Mails",link:"http://2.bp.blogspot.com/-pATX0YgNSFs/VP-82AQKcuI/AAAAAAAALSU/Vet9e7Qsjjw/s1600/Cat-hd-wallpapers.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRKWI0t_nK0U7u0Egb_8458fCdJjOM_hxrTHPzWpLzDX7Z0cEjexI-h6T8"},{title:"Home - Cat Protection Society of Victoria",link:"http://www.catprotection.com.au/wp-content/uploads/2014/11/5507692-cat-m.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTxw3_3idCv8gD6BAfzm1Y9ihMaI2uGu3rgiG1ilGUp72gpRRiEgAMOXogq"},{title:"Funny Cats Compilation [Most See] Funny Cat Videos Ever Part 1 ...",link:"https://i.ytimg.com/vi/tntOCGkgt98/maxresdefault.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRMnDp0nNBLHwunbh2DDIBhN_Cj9zwRPq-Hp0sB-LlSWy2ijcFs-uyD-vE"},{title:"Cat - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/1/1e/Large_Siamese_cat_tosses_a_mouse.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQxDh6hcBUFT0cHKWZPNYV2lRixnqPHIKoPV9EEVbRCGEcpi67OgXcUNVM"},{title:"Cat Dandy | Catster",link:"http://d39kbiy71leyho.cloudfront.net/wp-content/uploads/2016/05/09170020/cats-politics-TN.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSw9OK3LhTPa3CRdtf4khDJvxsIU1QqXHPoG9QFfhGVk4FEpAX-qCZ64gZ3"},{title:"Feeding in a Multiple Cat Household | Carlton Vet Surgery",link:"http://carltonvet.com.au/sites/default/files/styles/large/public/images/article/cats.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTB6cRb7EeL_4zDdbG2_5nsCuUxOER-Nn7Dao3F9DngZMxtLisr_IspJw8"},{title:"Toronto's First Ever Cat Café is Up for Sale - KiSS 92.5",link:"http://www.kiss925.com/wp-content/uploads/sites/59/2016/07/cat-1074657_960_720.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS6DLeRhgsPyUQWUejxMOV73Ar4EfM5P97CohsRKMpP3p0SZ_L7I5BRUmE"},{title:"Saudi Cleric Says Posing for Photos With Cats Is Forbidden",link:"http://s.newsweek.com/sites/www.newsweek.com/files/styles/lg/public/2016/05/25/saudi-arabia-cat-ban.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSJhn-4GH3LblDD_OQdWhKT91eHpobVdbgFBHyxjmERnfi0xznOBelHAMIb"},{title:"Cat Behavior: 17 Things Your Cat Wants to Tell You | Reader's Digest",link:"http://www.rd.com/wp-content/uploads/sites/2/2016/04/04-cat-wants-to-tell-you-scratching.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT9b3V9vRR1VUKRwGYubzsGq8dRI5Q8UB2k-XBtpBHuPxBGGkTVR49cdE-1"},{title:"Cat Facts: 57 Facts about Cats ←FACTSlides→",link:"http://www.factslides.com/imgs/black-cat.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS5V5DttClRlzqrGKrr2Ml3lVjwUVXrIT1eViWuJkia1ENZzsEWYYqIuT0"},{title:"Cats: Adoption, Bringing A Cat Home and Care",link:"https://www.petfinder.com/wp-content/uploads/2012/11/153558006-tips-healthy-cat-632x475.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRfYAWLnDlb-s9qfWyb7glMuzEVGQDEjN7l3mRJ8qa7hzErX3q-v6hV9J0"},{title:"Cat Grooming, Cat Daycare, Cat Hotel | Exmoor Pet Services, Austin TX",link:"http://exmoorpet.com/wp-content/uploads/2012/08/cat.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRWm7jG337aUb1hPzMZiGy6CpMOvHWExlk08QiWdSxAjbylF0eDye2D-g"},{title:"Cats on About.com - All About Cats and Kittens",link:"http://f.tqn.com/y/cats/1/S/6/V/4/cat-deadmouse2081x1446.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTJUAJepveAoVy14xEqqhXphiRHXgJaFcEAGcgmufy7Ngu3rNfoNCMd8zA"},{title:"The Cat Lounge",link:"http://thecatlounge.co.nz/content/cat3.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRO1iBhIf4La3n-_f6cR-g9s_RiL4TkCA-67a9DasTjFnoz7qdjdtqRhZo"},{title:"Free stock photo: Cat, Kitten, Mieze, Mackerel - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2016/05/18/20/57/cat-1401557_960_720.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTxzGmo1TksTR0M5ggVrnNn0v5R5fsABkp5WUwc0WZKnLtcp7w2MrVm2g4"},{title:"Grumpy Cat (@RealGrumpyCat) | Twitter",link:"https://pbs.twimg.com/profile_images/616542814319415296/McCTpH_E.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQg033dmi1f0GlzYRGT69QPXbBPq2i7590YUiYcVpHpodakWwhTnpfz17I"},{title:"Cats: Adoption, Bringing A Cat Home and Care",link:"https://www.petfinder.com/wp-content/uploads/2013/09/cat-black-superstitious-fcs-cat-myths-162286659.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjWVP6UFWa7bb7Gmon8kc_rbOvsQHTxH9ZDT6GgsKpQl4jPSSDQdgJQlY"},{title:"The Top 10 Smartest Cat Breeds - CatTime",link:"http://cdn3-www.cattime.com/assets/uploads/2012/07/abyssinian-cat.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSi7YpjLenGLnJrNpeMCzLlAlnFVSAlSHGqozTiMOpES05UCqyuqSQbdTG8"},{title:"Cat - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/9/97/Feral_cat_Virginia_crop.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQ9z9fCWNcj8AP3oNIH_jRKU-JWX3td5XjAh06CAY8xqq-5d0fwCSVLDbRaWg"},{title:"Cat Breed Videos A to Z | Cats 101 | Animal Planet",link:"http://r.ddmcdn.com/s_f/o_1/cx_0/cy_0/cw_640/ch_360/w_427/APL/uploads/2014/06/125616108223412937200101197_Abyssinian.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcROnBf9X6E1yPVrFgWJWnRxXHMLeSGSLm0LLuSFHLrJng1BYsLT4Zer-Q"},{title:"Cat experts reveal the meaning behind different meows | Science ...",link:"http://static.independent.co.uk/s3fs-public/styles/article_large/public/thumbnails/image/2016/02/25/13/cat-getty_0.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkBYur6FxrE6U8bB0uX_ui70NjQ5D5V5sYVDkj_LTLLfsckdNBrsTtG9A"},{title:"Felidae - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Cat_March_2010-1.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQHs9FzZ-5AEcxVpkwTM5G3ZS2HoqikaZqBQ_LOh_65MQ4nJxg4l19Bu90x"},{title:"Cat - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2014/03/29/09/17/cat-300572_960_720.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQZ_BPRDfjivEwrCXCbxUIyP6ZM97PdxRauXMP1nOqV4ypNCIyc0boGcXE"},{title:"Cat - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/0/0b/Cat_poster_1.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcR2Xh92H8c0XAv7WlcV1N2K-7N1ofNne9IMQzTx6GAEXvkg8R115gHzUJg"},{title:"Cats: Adoption, Bringing A Cat Home and Care",link:"https://www.petfinder.com/wp-content/uploads/2012/11/144334862-giving-cat-bath-632x475.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTchk9Pi2D0YX7S9JMWnvIHScO0_-c4ov6BG-DuGiqW3DEr0Xu1iOQCpMFy"},{title:"Homeless Grumpy Cat Found During House Inspection Gets Adopted ...",link:"http://static.boredpanda.com/blog/wp-content/uploads/2015/10/fb_thumb_56322c12c74d6.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRaRsdP876o1oLTs70NfADWPTMrminxFoHldN-8Os5aAj7Q_r37TU9QudQ"},{title:"The Top 10 Smartest Cat Breeds - CatTime",link:"http://cdn3-www.cattime.com/assets/uploads/2012/07/siamese-cat.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTGBlD1nFLhK3CZQ8dvwf58et5ZRghM_KdBeMbNv2uBBBKDhgUduzjmptyl"},{title:"Cat Breeds and Feline Genetics",link:"http://f.tqn.com/y/cats/1/S/a/U/4/PregnantCatStanding.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQnb27dGEVK4HrgYTgyfJ7rkznIYz2MXhrvIKbS3YEc_-9n1dDPfXyBsFZy"},{title:"Car - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2012/05/29/00/43/car-49278_960_720.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQNlDgAXxIxIImHCKFI-fxz0NQNvr-YkieqLynh9Ij8GH04KRgbcSb8opU"},{title:"Sports Cars | Uncrate",link:"http://uncrate.com/p/2016/03/apollo-arrow-1.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSzoLC_5upmEC6ro9_-1QLpthl_6hegQ9GYfOPuy0SaKOdSpAyKEPniyyk"},{title:"Car images · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/2394/lights-clouds-dark-car.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQr6Qu0Ik9m2BwXW80UHfMJ1c_nWO69yKOYfCc_C4JXtXRTslmswJrixL0L"},{title:"Car - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2013/07/13/11/29/car-158239_960_720.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT7qsRnT9D7rxZVLhiFFStV_LMMIAESMZr0kwIbJv6hhbnBO5U127n9dN0"},{title:"2016 Editors' Choice for Best Cars, Trucks, Crossovers, SUVs, and ...",link:"http://media.caranddriver.com/images/media/51/sports-cars-photo-663903-s-original.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRH7u-3_ErIsox3M-3eqJe4IeXLcAck-cWtpI9XrpHn5KJsVl_L-BVuGfs"},{title:"Canada Rental Car Classes - Enterprise Rent-A-Car",link:"https://www.enterprise.com/content/dam/global-vehicle-images/cars/CHRY_200_2015.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSDaodM7qlHsc4Y9SMdehzxAmObmAtR5bmiNqg1Rio5Gn59ub4FT2AxQjFz"},{title:"Corvette C7.R comes to Project CARS in the US Race Car Pack on ...",link:"http://www.projectcarsgame.com/uploads/2/0/6/5/20658008/6663822_orig.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQmEZTlOBeyYCprU-0MsPHL23eWSxyZ3y_9F42Vik11grADM2_aP5i-AiiJ"},{title:"Honda Civic Reviews - Honda Civic Price, Photos, and Specs - Car ...",link:"http://media.caranddriver.com/images/16q2/667349/2016-honda-civic-ex-l-coupe-test-review-car-and-driver-photo-667350-s-450x274.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQz9vAjzgNdNJmCzN99DuhXCEp365eu4H0W-443dyImb7qtvYw5NRMyAw"},{title:"Bumper Cars For Sale - Beston Amusement Rides",link:"http://www.bestonkidsrides.com/wp-content/uploads/2016/05/BNBC-06-Beston-amusement-park-bumper-cars-for-sale.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2LrNxMrxMZ-IpEVedY5X0oN-I8BVz4gRtLX3Np9IZCS4KeGn-ZYJhBtI"},{title:"Compare Cars by Price, Specs, & Reviews",link:"https://s3.graphiq.com/sites/default/files/4315/media/images/_3856594.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQt91mxr42pN0SdjIT9IxziiOYXedUZ7DdnK5ISJai7JY9u9fBR0Nahys"},{title:"2016 Nissan LEAF Electric Car: 100% Electric. 100% Fun.",link:"http://www.nissanusa.com/content/dam/nissan/vehicles/electric-cars/leaf/2016/overview/key-features/2016-nissan-leaf-electric-car-battery.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQjYepbtUFLSlAVj5hcsCS07qKsWUrQR6pIRipkF6y5MpjTxsV14mJkx9I"},{title:"2016 Editors' Choice for Best Cars, Trucks, Crossovers, SUVs, and ...",link:"http://media.caranddriver.com/images/media/51/sports-cars-photo-663903-s-original.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRH7u-3_ErIsox3M-3eqJe4IeXLcAck-cWtpI9XrpHn5KJsVl_L-BVuGfs"},{title:"Car Rental Guide - Alamo Rent A Car",link:"https://www.alamo.com/alamoData/vehicle/bookingCountries/US/CARS/CCAR.doi.320.high.imageSmallSideProfileNodePath.png/1464101580200.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTVfyjxZPF6IK7Rl4xay3FDEVRVBP0Q-3cW5E38PNoNUme28Q-YlJpyaw"},{title:"Rental Cars at Low, Affordable Rates - Enterprise Rent-A-Car",link:"https://www.enterprise.com/content/dam/ecom/utilitarian/common/homepage-us/us-homepage-2up-business-rental.jpg.wrend.640.360.jpeg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRXdYjMkAy6-BY5OJUQb5OVJ66S7csDAZD15YLvj1apWmygGg9O1mVA4YQ"},{title:"Avis Signature Series Luxury Car Rentals - Avis",link:"https://www.avis.com/car-rental/images/global/en/common/signature/2015-bmw-3-series-active-hybrid-sedan-side-view-black-sapphire-metallic.png",
thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRWQlxDWVbWAUvEkui_ftGvwrlWWz6IhuDaka53CuNuhmirq6WqxGOslg"},{title:"2016 10Best Cars: The Winners, Features, Photos, and More ...",link:"http://media.caranddriver.com/images/media/51/2016-10best-cars-lead-photo-664005-s-original.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVRFLh1WXbhB9CW1mcZRah3tvrh7In8Jib3oDWAwmmmHLV7gd-uP8Jz5q_"},{title:"New & Used Car Reviews & Ratings - Consumer Reports",link:"http://static4.consumerreportscdn.org/content/dam/cro/news_articles/cars/CR-Cars-PC-Hyundai-Tucson-11-15.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSFi6k3JGSnKm46zqO6fDFnbujNgdWh5KTVZd1TlTBEfUV-7-X2rsrCFw"},{title:"2016 Editors' Choice for Best Cars, Trucks, Crossovers, SUVs, and ...",link:"http://blog.caranddriver.com/wp-content/uploads/2015/11/BMW-2-series.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTrzSTBNU8tc52IWXMiyRSgZC2Cl24P1ViWwgO1C5OPNhIQD_oN1HNzqjc9"},{title:"Used Cars for Sale, Pre-Owned Car Dealerships - Enterprise Car Sales",link:"http://www.enterprisecarsales.com/Media/Default/home/Under13KLineup.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTJ2baM3du1qhBmCANc1W3zs_eNsGtbg99Qdxedvm3qyWvwV7QVmXNP3Uw"},{title:"Choose your electric car - Go Ultra Low",link:"https://www.goultralow.com/wp-content/uploads/2015/02/Golf-GTE-for-GUL2.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT_d48zgNjpVULYmWVVWhOTdr-T0hhwkriEneHK6CHeOIL1j_3CuMzb2nw"},{title:"Exotic Car Rental Collection By Enterprise",link:"https://exoticcars.enterprise.com/etc/designs/exotics/clientlibs/dist/img/homepage/Homepage-Hero-Car-Mobile.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTE1gr7ZmZs8oazc-lqvkcPaSS1BxTRm5Mibpap92h78krKs4x2TTi9_w"},{title:"Exotic Car Rental Collection By Enterprise",link:"https://exoticcars.enterprise.com/etc/designs/exotics/clientlibs/dist/img/homepage/Homepage-Hero-Car.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTCL-rOOdhqg8HC9pCFx-i6a48h7y_x__TCnpAtExtOpl0nZLjgT4pFVCYV"},{title:"New & Used Car Reviews & Ratings - Consumer Reports",link:"http://static4.consumerreportscdn.org/content/dam/cro/New%20Homepage%20Assets/Hover-Over%20Lifestyle%20Cards/CR_product_card_all_cars.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQXKL2yrqdZJeGzVAKXHGfTmMdSJ4Jhhr54ijUNuoi7qORSSnWBVx7MCkE"},{title:"Rental SUVs in United States - Enterprise Rent-A-Car",link:"https://www.enterprise.com/content/dam/global-vehicle-images/cars/FORD_FOCU_2012-1.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRrZQa7YIHJbxbZYpDNv6cRBICOqucSV51g3gDHTB6e6CUn-SD8xN8mZik"},{title:"Car - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2013/07/12/13/21/sports-car-146873_960_720.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSM9uqbH7l6mDrVX50YY2i1N_Hdq4emgrsQsGoN1_wqVFDvZ2JJhfW4DJ7h"},{title:"1000+ ideas about Cars on Pinterest | Porsche, BMW and Ford",link:"https://s-media-cache-ak0.pinimg.com/736x/68/ba/76/68ba7658f48d5b30f38137cd67bf1592.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQZnu1shU3UB0UoYe1XCUNwh50duFPtYmGPuI6hHzOP1wiicynZaELRsIhA"},{title:"Tom The Tow Truck and the Racing Car in Car City |Trucks cartoon ...",link:"https://i.ytimg.com/vi/6w1wZz36jhM/hqdefault.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQm8zEJ06d8gcMRQoMOK52p2n6n41-n-N2P0IDad_iKIDWeNJvZhVQeh4dO"},{title:"iRacing Cars | iRacing.com Motorsport Simulations",link:"http://s100.iracing.com/wp-content/uploads/2013/01/tile_chevy-ss-gen6.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ3nsPYI7PbpV6AtJtzFXYVemGjl8jOtRiDsH-utV3103xtD9Hx4vZe7Zw"},{title:"Cars for kids. Learning Colors. Car painting. - YouTube",link:"https://i.ytimg.com/vi/ebULc09Meoc/maxresdefault.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRTJKO6Lcivek3lB7bmEt_YBLs46ZPiCwf7ZY0m1xllLZkX8SyISwbCeeE"},{title:"Interpretation of a dream in which you saw «Car»",link:"http://weknowyourdreams.com/images/car/car-04.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSGhWNosnB4S87xiE4nrdi18RicCap8OyFTeWMX4Eax6QUNDXypJbHpBXm8"},{title:"Car images · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/50704/car-race-ferrari-racing-car-pirelli-50704.jpeg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRi0qRuk8YEZhWMyCykXk7XGq7SGcapnPR8DtvbdC3AbGH3bwHPMazoo9Q"},{title:"Used Cars to Avoid Buying - Consumer Reports",link:"http://static4.consumerreportscdn.org/etc/designs/electronics/images/truecar_cars_ad.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQvEim-kzMwg1BSbpTsP55IL1ZqKvIDyzdr0b5Wy77WrpHbT37cAxGBbL49"},{title:"Car - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2014/09/07/22/34/car-race-438467_960_720.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSCx395Q_FweQLc75PuR-v7OHhrvltdhhEmjh6vcJzFajaECu7D9dDfWzQV"},{title:"Car.com - We Do the Research, You Do the Driving",link:"http://img.autobytel.com/car-reviews/autobytel/11694-good-looking-sports-cars/2016-Ford-Mustang-GT-burnout-red-tire-smoke.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS985vI2ClgxX0vEXZdSMiStWUkeMtkg0IXIjrtRMoY2MGYR_kZy6k56ko"},{title:"Britain's 'perfect' car is good science, bad car design - Autoblog",link:"http://o.aolcdn.com/hss/storage/midas/8cbf0af8754582fafd38e4ab78768c73/202818273/crazypopularcar.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSKPy0AZCEljSZ8kzlpwNW0my7fd9gxcDvJtEEjkeq9S1UvrkzC7XFfLgO_"},{title:"Car Sharing: An Alternative to Car Rental with Zipcar",link:"http://dru-cdn.zipcar.com/sites/default/files/images/honda_newbranding.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSer_QyWxwpKJkfpWiJ59Yvqa0kr6kybQXm-KYlOzjAuJ-pGwHseV7peU0"},{title:"Interpretation of a dream in which you saw «Car»",link:"http://weknowyourdreams.com/images/car/car-08.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSDxfwisu9GasCLfz1d1kBVT_PAG-IbLjWRz7RLFLGWY5s7ob90w0189Dc"},{title:"UK Rental Car Classes - Enterprise Rent-A-Car",link:"https://www.enterprise.com/content/dam/global-vehicle-images/cars/VAUX_INSI_2014.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTRlqzsz_mUhybjzAtUb2ZDHMFGSIUVF4hsNAV4AlJO4Z-6JOj4N7RuDKY"},{title:"LED light bulbs | car interior & exterior | Philips",link:"http://www.usa.philips.com/c-dam/b2c/category-pages/lighting/car-lights/master/footer/nafta-car.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-T4ZOQzPKYKh3hHJbyVxnqJKvcAsGk6swo6GmK_NB77em4D0-lbHYbgU"},{title:"Google Self-Driving Car Project",link:"https://www.google.com/selfdrivingcar/images/car-side.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRYCIS97KlUvqw21WNgLzFCx6G3OpkJn0HJSUiw-bxdqBnVJUdmNX-QjuM"},{title:"iRacing Cars | iRacing.com Motorsport Simulations",link:"http://s100.iracing.com/wp-content/uploads/2015/09/xfinity-toyota-camry_tile.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTnP25EKxR3-o5DnLS6cKG28cfsy4EUqXFthWHFrmxf37UXQQE_K2ph30VT"},{title:"25 Cars Worth Waiting For: 2016–2019 – Feature – Car and Driver",link:"http://media.caranddriver.com/images/media/51/25-cars-worth-waiting-for-lp-ford-gt-photo-658253-s-original.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQf_kKvSclRQiW7MCKi6AjqYt-P0Pyed6LlxyRIbCooMNmKerovfpUFkgI"},{title:"New and Used Cars For Sale, Reviews, News, Service | Cars.com",link:"https://www.cstatic-images.com/stock/1680x1680/28/img-1773720671-1468609294128.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcT8ytADM_QK02fy6SicelVIRfR4U6hedPAWqLJ0cltJQmncD4WBec5oVi8o"},{title:"Rental Cars in United States - Enterprise Rent-A-Car",link:"https://www.enterprise.com/content/dam/global-vehicle-images/cars/TOYO_RAV4_2014.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSCQsQ_U34w51z5ofW-PJqIYpSh8bQLjsBa1ENDaUVnEX1outwXYddMGvs"},{title:"Interpretation of a dream in which you saw «Car»",link:"http://weknowyourdreams.com/images/car/car-06.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQP4BeXm3n77yQUctc4qPEzBvVOoI8Ls40nGCj3UFE5R0CqnMzXkXWiHwGV"},{title:"Car - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2015/09/12/21/31/car-937414_960_720.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS1G82G1dxvIim2sjiw_kcaHdw3DZYOuhhZ8S-hqph7TGrTZHpdSC7Zjbox"},{title:"Mount Rainier - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/a/a2/Mount_Rainier_from_the_Silver_Queen_Peak.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQM8XwpsypFu5her15u4NZvyJv-p0uBuBzE6BhDpkRDN5ZsgcQnL8CBR_Xc"},{title:"Mount Rushmore National Memorial - Located near Rapid City, SD",link:"http://www.visitrapidcity.com/sites/default/files/images/rushmore-goat.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRvXZRso1HpF1DWtoET-96AzW-Ad7yjyDAaZ_Cvu1PjVfTeFnYALzmQMrK3"},{title:"Kuss Peak, Mosquito Peak, Treasurevault Mountain, Mount Tweto ...",link:"http://images.summitpost.org/original/335463.JPG",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTjA6_1oGhaqGgkf6EI1IuquWsuLGaoqq6LPqKkrRv2QOuxl4gmLfAc6Ws"},{title:"Mount Carmel (BiblePlaces.com) – BiblePlaces.com",link:"http://www.bibleplaces.com/wp-content/uploads/2015/07/Mount-Carmel-south-of-Wadi-Oren-tb050403111-bibleplaces.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTmxPqL3yXypn3TgNEojg3-56EjizXGw9eBaMQEw4hj1dZzTc6BJiuh-Qw"},{title:"Mount Pilatus #7024417",link:"http://7-themes.com/data_images/out/47/6931091-mount-moran.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQsFgVthCxWWGyueRrJVVHEnHCZFunmYPeNqlX_KWwBo6NlovqG6Pp6UcA"},{title:"Plan Your Visit - Mount Rushmore National Memorial (U.S. National ...",link:"http://home.nps.gov/mwr/moru/images/B42E4315-1DD8-B71C-0E7369F555AC34BB.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSxD75iDooDqm9YVVCsRdiF_KfZ2tfuiZnZi1BS1eUNOIo7GvMIr0q4ufGD"},{title:"Mount Taranaki - Stratovolcano in New Zealand - Thousand Wonders",link:"http://static.thousandwonders.net/Mount.Taranaki.original.28746.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSbeAPaivmfkz2WHXHE3GOzNYHoM9v3wrwKoDrScgPlc_uCuIb6gbmcHPM"},{title:"Mount Seymour Trail | EveryTrail",link:"http://images.everytrail.com/pics/fullsize/1568646-Mount_Seymour_Summit_View__south__9.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRnvZTRLSNgLE-oVnMgCPJvczYGqREImBDzy3e0uTVxs5YE8oaOVpzYkgI"},{title:"Mount Wister - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/0/06/Mount_Wister_Grand_Teton_NP1.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQd8UBOIKVjScde8cCF37xNMFir-bFdOVr2-bxUVkiHrrcKYxHx6DEKmF_Z"},{title:"Mount Meru - Kilimanjaro",link:"http://www.ultimatekilimanjaro.com/photos/mount_meru.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ_8jHEHi0eTQY-vUkkAQkkLNZw20WWjBqB8cIzxJvrReVGKV5KtPwKf5Y"},{title:"Bali Mount Batur Travel Pictures: Indonesia, Kedisan, Toya Bungkah ...",link:"http://www.tropicalisland.de/DPS%20Bali%20Mount%20Batur%20and%20Lake%20Batur%200%20b.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRX80WYo1MLg7DMidL0ZCt750C4MZOjqcdkFoTdD6Uoa3K-QAD4sAGMimxK"},{title:"Mount St. Helens: Evidence in Support of Biblical Catastrophism",link:"http://creationwiki.org/pool/images/thumb/0/09/Mount_St._Helens.jpg/400px-Mount_St._Helens.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRiKXWKo6vFSNEudpHRD944FUu_kG-N8qd2QyWGR1Go31sxZoq32Ot3sA"},{title:"Gifford Pinchot National Forest - Home",link:"http://www.fs.usda.gov/Internet/FSE_MEDIA/fseprd476073.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTgcj_3d3tDUQE_vYvcjMqTlgZA8QY9hpwS-H5rVU6KFy6zBxhK3OExDbw"},{title:"AYR MOUNT – Classical American Homes Preservation Trust",link:"http://3rr5m4277iau446o932day88.wpengine.netdna-cdn.com/wp-content/uploads/2013/10/ayrmount4.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRU9ZEm6rYhaQ0_Yoj-mGbEQGAuoPP93eQek4YUOOlZXVenI1H3LnEjH77e"},{title:"2880x1800 Mount rainier national park Wallpaper",link:"http://www.mrwallpaper.com/wallpapers/mount-rainier-national-park-2880x1800.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcR_F9Wa37vqLwqassK1M4NaBynvs7qV4PAg3AZ_NPceneq9THFbEfERDUSC"},{title:"Mount Cleveland: Active volcano in Alaska's Aleutian Islands",link:"http://geology.com/volcanoes/cleveland/mount-cleveland.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcToQg8bzptrb0DMMZPIRHP-L8A0QMXuXOvbeKDl7_B3JTe8SjM5DqaRfk0"},{title:"Mount Rainier National Park | MapQuest National Parks",link:"http://o.aolcdn.com/os/mapquest/national-parks/photos/park-pano/mount-rainier-national-park.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQKfH-0zWcV61PZjtZORjBxyN3TXV7no570EoCwJMPqfisOL0J0txGHsi0"},{title:"Mount Triumph - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/4/4d/Mount_Triumph_25911.JPG",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQdBRVV6WQqw-uIDo44KZugfvvcU7bhsj7Q9z1ROSQE2y-egFUMKlM8gvyj"},{title:"Mount Whitney wallpaper | 2560x1600 | #84138",link:"http://eskipaper.com/images/mount-whitney-2.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRcR9BMeNYIOe5IQ2SJagSZcSY79x9hL52cHan7Ebv3HVS9ltUfHlmyKe2n"},{title:"Skywatch Friday: Mount Washington — Birding in Maine",link:"http://www.birdingmaine.com/wp-content/uploads/2009/07/mount-washington.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQCNbv7mDAKDDOTmIlq75ek-hi6VjwrFQ7Xkwknc8weZNQoHRT01SNXPG0"},{title:"Mount Wilhelm - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/2/2d/Mount_Wilhelm.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcReK_ai4C84NRfCAotphNkqv4dCV7S-XLU_mkJf3uNKeqBD7-7KhKGXa-A"},{title:"Free stock photo: Mount, Ruapehu, Mountains - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2012/06/28/09/31/mount-50920_640.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTGrStx0IQqYU9jLn73yplnOnpr5mVvJD5mOOcbsZ-FaFLbfiQ2brTb4cZv"},{title:"Mount Sinai - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/e/e6/Mount_Moses.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRQz4ixCOKEpwq9Z1S0T8towC2LEtSyeNEZWEl9iKEOUucwmYHH38wjeHwu"},{title:"Mount of Beatitudes (BiblePlaces.com) – BiblePlaces.com",link:"http://www.bibleplaces.com/wp-content/uploads/2015/07/Mount-of-Beatitudes-hillside-tbs75359303-bibleplaces.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRvkAQU0sT7VViuYXTozboHLiDFeyaeCdv9eeD6bsyGn4wZgouZEwmFBw"},{title:"How Climbing Mount Everest Works | HowStuffWorks",link:"http://s.hswstatic.com/gif/climbing-mount-everest-5.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSJpkvNmH3aqllQr-wwxDpML9Gyqtdo4dfNkjTwr_fTImCJnyEv2S1CVg"},{title:"Mount Gede : Photos, Diagrams & Topos : SummitPost",link:"http://www.summitpost.org/images/original/838872.JPG",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS6NgdwdYjqJwWPWScDvVfI27yOAZlh7OiE4aMf8dXTUNSpUtCXhNy9ChU"},{title:"Mount Stuart - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/5/59/Mount_Stuart_7814p.JPG",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRHZR-svopQKthpTtDU1Hc5xRWA_2jTaGn9pzb5LKyUuwATOTemEQ4PlTlt"},{title:"USGS SIM 2832: Mount Scott",link:"http://pubs.usgs.gov/sim/2832/photos/4-Mount_Scott.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQb-qK7JfgLrYRSJB1QMcBltcQFvdXIlrAqzjAnFVMYsiUlzMdEDgZGNf9g"},{title:"Park Details - Mount Nemo",link:"http://www.conservationhalton.ca/uploads/img/mount-nemo-fall_3.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSkMnRdbuMafMVy2HtVI3S78hxwCN9Pmi0hq7zERKPHdewte-PHJU5Njfmd"},{title:"Hike Mount Nittany",link:"http://www.hikemountnittany.com/images/Mount_Nittany-superwide.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRm73wuebZ-atCiykPPyfaWd5qqZFO1Gjgl48eEwozze78T_bjH6Zrqim4"},{title:"Minecraft Mount Doom - YouTube",link:"https://i.ytimg.com/vi/j68EqfQCIt8/maxresdefault.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSE4MjczqfuCBZNBSZWRA3XfXGwxHhloLI7OrcBHvk_iQvwJ1OqI0j96cc"},{title:"World California Scenic Mount Shasta : Desktop and mobile ...",link:"http://hdwallpaper.ws/images/2012/09/-World-California-Scenic-Mount-Shasta-Fresh-New-Hd-Wallpaper--.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTevEEpqtfr7XFUHZEXdWx7xVfqNUCJel3-eiWlpkA9oqqiZx7G3zSnJlHq"},{title:"Mount Everest - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/d/d1/Mount_Everest_as_seen_from_Drukair2_PLW_edit.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQzj2kdkUkLvY_fzekFatL4V1Cdd8vTLMqzJLAve1PCxTzreW17tnjKLxg"},{title:"Mount Snow Golf School - The Original Golf School",link:"http://www.theoriginalgolfschool.com/images/mount-snow1.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIJb4m7COXI8C7aexsj-W11BN03y3bblTvbTYSYe_qQIzpERJV51eNmQ"},{title:"Mount Ogden East of JimAndLeah's Online Tuner",link:"http://www.smeter.net/ogden/images/mount-ogden-repeaters.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSe9hTX1ma1o2S107i2YcVav509xoMAF0TDNJh4gbzMXhcnUH6kSYj9KLo"},{title:"World California Scenic Mount Shasta : Desktop and mobile ...",link:"http://hdwallpaper.ws/images/2012/09/-World-California-Scenic-Mount-Shasta-Fresh-New-Hd-Wallpaper--.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTevEEpqtfr7XFUHZEXdWx7xVfqNUCJel3-eiWlpkA9oqqiZx7G3zSnJlHq"},{title:"mount everest Archives - SnowBrains.com",link:"http://snowbrains.com/wp-content/uploads/2013/10/mount-everest-1.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcThSb3y_GRISkhX7ngfNyxB86lE0yZ6AdvRWGT-m5DfU8ueQvkNRS2glM4"},{title:"Mount Everest The Top Of The World - Traveler Corner",link:"http://travelercorner.com/wp-content/uploads/2016/03/MOUNT-EVEREST-beautiful-sunshine.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIX7tVCipguaKV9_okAseNH94yd1Hu6vXltcVTsRJhhjuVat1aGssJubM"},{title:"Mount Kenya - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Mount_Kenya.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS66PjaoQsCAX7spjpTYeqYrVpq0edhRxZx7yA2doKIVGOjw7YnlGAx-h4"},{title:"Mount hood oregon #6965557",link:"http://7-themes.com/data_images/out/57/6965557-mount-hood-oregon.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2XbaUnZt8tPiAhKcuRqqsktVUMaTiYmDoelqZj8cu12tpnr8X5nWJmvo_"},{title:"Mount Merapi travel guide - Wikitravel",link:"http://wikitravel.org/upload/shared//thumb/f/fe/Mount_Merapi_steaming.jpg/350px-Mount_Merapi_steaming.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRfn-DQBYNiCTDxwFrS_5QO07WgVLYQ3GsDTJscWvFvrBWWZ_h3CZQZLg"},{title:"Mount Evans - Highest Paved Road in North America",link:"http://www.mountevans.com/MountEvansCom/Images-2011/MTE-Road-Aspen-2011-09-30-Panorama-04.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTZpNsXra1PduAfC7uziiX-9r-S-BU2WC61g2z4eF8Jpy0SFDF5ZoMwsdI"},{title:"Wallpapers Mount 1024x768 | #170386 #mount",link:"http://www.wallpapersxl.com/wallpapers/1024x768/mount/170386/mount-170386.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcStmT2uhkBacYrs_qFwvTONU1ZtKNsaoBUkPAvIvEbgpPHek8vH1k4Azfo"},{title:"Mount Batur - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/3/36/Mount_batur_and_lake.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQ1pNJBav6M2_895kF5DwjbRq6VzxH_ORHzwwH6gX82jRYchjoyUk3pnm4"},{title:"Mount Kidd | Christopher Martin Photography",link:"https://chrismartinphotography.files.wordpress.com/2012/10/mount-kidd-c2a9-christopher-martin-1079.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTrmiNu-0_76_EPOt8fPGH6UbwgaWtrLGBeDDI2Ci5zQNlbf2W1Pcr5ILE"},{title:"What is Beneath the Temple Mount? | History | Smithsonian",link:"http://thumbs.media.smithsonianmag.com//filer/Temple-Mount-Dome-of-the-Rock-631.jpg__800x600_q85_crop.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSZtkT-IGoYnBEi6DLXr6WJLHOORSETqIFQlJD3EAbWb0hMZ4WAHA1K4B9H"},{title:"File:Mount Somugi green.jpg - Wikimedia Commons",link:"https://upload.wikimedia.org/wikipedia/commons/5/5f/Mount_Somugi_green.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS1iTGhJdHaWEyP8iFYF18KK7_R8toyT3y3jwl2JanpOvEsfGIFOtP53OY"},{title:"Business Internet Solutions - Call-OneCall-One Communications ...",link:"http://www.call-one.ca/wp-content/uploads/2015/03/residential-home-cable-wireless-high-speed-internet.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQ0dj2mY1euXf7kCAaLPcHVyoT6Eb1z8U8VbzG7MAGEELa8E8-jv_AoPg"},{title:"Microsoft retires older Internet Explorer versions, leaving ...",link:"http://zdnet1.cbsistatic.com/hub/i/r/2016/01/12/7c7577b1-735d-49b9-ae8d-71fc52b69d16/thumbnail/770x578/ef74cf594b94bb1250a17e64ae8b3723/atlas-ie.gif",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSF8Tb7UMIOxpIQRr3pCIMjChrdWeMQBbofEqWPVUb0maWolxec5BFPVr4"},{title:"Internet - OCDE",link:"http://www.oecd.org/media/oecdorg/topics/internet/48405289.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQGWHMp9omtWgXnyl0tn7FDh6raWbdUAM-kJB-623SJhjB3fPiK6vUGHHg"},{title:"Interpretation of a dream in which you saw «Internet»",link:"http://globe-views.com/dcim/dreams/internet/internet-06.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQyiUibjyTwp1oO1nBjGXFq28HIc7DUmJzIZx5BfDowClI5WT1MNgBSVQ"},{title:"Internet by Jonas Dragendorf on Prezi",link:"http://smarterware.org/wp-content/uploads/2016/03/Internet.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTkMrf_cupLXQynr6RNhwWTHlUZvggpGg74CtnS7u3uR_fJ27Pc3KE7-HM"},{title:"Broadening the Oversight of a Free and Open Internet - WSJ",link:"https://si.wsj.net/public/resources/images/BN-NO290_crocke_P_20160414152611.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPKkrI-y2xL-CAkt0bl5cWEsUTMIDKqVSjo4UV3LY3kwj0lI7GV6LE2xAQ"},{title:"Internet - Simple English Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/Internet_map_1024.jpg/319px-Internet_map_1024.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSMQvMubXP7XIOEyniP4olrLPS8N4Ma9zuK3yCqJMlioeW1JeG-i0L0qw"},{title:"Contra-Internet GIFs | Rhizome",link:"http://media.rhizome.org/blog/9583/Contra-Internet-Bottom.gif",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQi51-6IqU1jTeDHFgX-4TULg9s7dpV8nrqMgaG8_inzamA7XWX6pTTcLMR"},{title:"Dish Network, DIRECTV, Internet & Phone | Greensboro & Burlington, NC",link:"http://sattvworld.com/wp-content/uploads/2016/05/ball-419198_960_720.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTZKZv1GnCLMcPw8SJOwb683VI2ULuzERgVv8NvAj8YWc4rGNZFxy7LxQg"},{title:"Who Invented the Internet? – Whoo Invented?",link:"http://www.nepaldaily.com/wp-content/uploads/2015/07/internet-marketing-2.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWNnuhZTzHZ3rgq2ZmVCzjDnjEmX17YCG4dISld78pBskXd4eBgMezxz7W"},{title:"Interpretation of a dream in which you saw «Internet»",link:"http://globe-views.com/dcim/dreams/internet/internet-03.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRHGYOC5ZSzOL4xgL4OKnU4QGdop_1BmLv9Geb5PcWvoEZHtnmR8jcP9q-g"},{title:"MXD Systems The Internet of Things & Manufacturing Pt.2 | MXD Systems",link:"http://www.mxdsystems.com/wp-content/uploads/2015/04/58525796_thumbnail.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT1eW4Dc18CN6tqYTYpzLzSq8NUXXv9LIzIbezm1qxf-q9Rm-PxM7P-YJCWxA"},{title:"Spicenet.co.tz » Business Internet",link:"http://spicenet.co.tz/wp-content/uploads/2015/01/Dedicated-Internet.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQdfkvhO0bEFxn8e8EtkHdIAlnDtUXL1j4CmzDdRvbbq56q1JJExYn06Ftr"},{title:"Court rules internet a utility, not a luxury | alan.com",link:"http://www.alan.com/wp-content/uploads/2016/06/29112015093328inter.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTJCTrLTRjiBCWSXA3wC5CP0nndJ4SJyEXtGaIdIQr6RRBwyUNyJJL617je"},{title:"MIT Professional Education announces new online course on the ...",link:"http://news.mit.edu/sites/mit.edu.newsoffice/files/images/2016/internet-of-things_0.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSq09LUhJYsWtiOhRCNbpA_sWooyR8q8UV8vtHTy0jckGpnEaM9lW5QH1s"},{title:"Quest-Internet-101.jpg",link:"http://www.questnet101.com/wp-content/uploads/2015/04/Quest-Internet-101.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRoto-t9dX9qBv7I5BY8r6hPEVLdtWi9a3kZTanB8mk9x2k5qenvW3zBQ"},{title:"FCC Approves Net Neutrality Rules but the Battle for an Open ...",link:"http://www.1to1media.com/weblog/HiRes.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRQO8Ljc0IHta9RaSqjVZm365MO2sp6K0hDdtLvw2W9E8bwHxqcUWK3zlaX"},{title:"The Best Internet Browser Software of 2016 | Top Ten Reviews",link:"http://cdn.toptenreviews.com/rev/prod/534-internet-explorer-box.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRAqJ2riYS77Y9J5Eo66OacZX8w0xU8dojQnpw72ROQ28fCRdiyYIP8Ow"},{title:"10 Darkest, Deepest Parts Of The Internet - YouTube",link:"https://i.ytimg.com/vi/CHS9Vd23B4w/maxresdefault.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR9L4kONw4iFzWAO3AZOj8VczrSI2f7rwvORSYqd_1qqOAcWf1t7h0ry9aq"},{title:"Free illustration: Online, Internet, Icon, Symbols - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2015/09/16/08/55/online-942405_960_720.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSm7A6Furng1r1-VnEHHeyOZgLtUFo2lXgE8RwA0ydMrELfk9sVZ240y3M"},{title:"File:Réprésentation d'internet.jpg - Wikimedia Commons",link:"https://upload.wikimedia.org/wikipedia/commons/e/e9/R%C3%A9pr%C3%A9sentation_d'internet.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTCFe8Wa4afxV6yrWGSMInQmI56aLXjpqt14eVhrKmLTfcISEypoXQw37MZ"},{title:"Internet of Things Analytics",link:"http://cdn2.hubspot.net/hub/435009/file-1725596059-jpg/images/blog1.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSlG_aHLOdVRSjkhoW29nYU6TDeTSVTYZfp-YSZSM9-eEsWzvkaJIYgRWU"},{title:"Internet - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2012/04/26/14/14/internet-42583_960_720.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ_StAbFmR8GJkSwr8f2op3VW-2nZ81NBmwZCZRHVOk7T05N8hcMlWhTmw4"},{title:"The future is the Internet of Things—deal with it | Ars Technica",link:"http://cdn.arstechnica.net/wp-content/uploads/2015/10/network-782707_1280-980x637.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRhmf0Cz8AMshpciMHxNW0aIWEGV_gy8sFKqeWvl-BrMCo-WJlZN7DDcHgg"},{title:"Internet Services | High Speed Internet | CTI Networks",link:"http://www.ctinetworks.com/images/post-images/dedicated-internet.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSh3EioEeSDgA4Buw5BsSNfk6JZolg5St5QMJcKlvYHqlL83ldL5Un1IZmQ"},{title:"Free illustration: Online, Internet, Icon, Symbols - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2015/09/16/08/56/online-942410_960_720.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSP3sc9U2A8orLt8q9-nXLdc43Tt-ePo9UQZtPcyxiCBlW6LIU4GsDRrRM"},{title:"A Simple Explanation Of 'The Internet Of Things' - Forbes",link:"http://blogs-images.forbes.com/jacobmorgan/files/2014/05/internet-of-things-2.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQgGx9J5kqwOf_BradwpeJQhjtwmSDjQPjhB5BTehfB-LSPWhpgJO6B0W4"},{title:"Internet",link:"https://primus.ca/skin/frontend/enterprise/primus/images/lp/UnlimitedInternet.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSUHYD-45FyUWR6HgX-_JUkMOrJdB3x-vZ-rCTOxZYastKGdABLsKDesQ"},{title:"The internet started with the transfer of two letters: Today it's ...",link:"http://www.welivesecurity.com/wp-content/uploads/2015/10/wavebreakmedia3-623x4101-623x410.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSCZXhUYXS8OEJ_vVqZ9pwgFsR9AUS96HcIMl3IenV_-fp1Y6SSI-jg9Y0W"},{title:"What Will The Internet Look Like in 15 Years? | Rise to the Top Blog",link:"https://www.techwyse.com/blog/wp-content/uploads/2014/03/future-web.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQsFHpEAtI96PgJXbw9WyVoq00XoFlm255cYtsRSt0x2VVwBDQVuNvGgv0c"},{title:"The Hood Internet",link:"http://thehood.raptorhideout.com/images/hood_internet_mixtape_nine.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS6FEPHpfxQwmJ6cHObSCcpT_LNLzDPgxOJxcaF6zjSEMowvljtYsR1sc9xxg"},{title:"Wi-Fi Internet Access",link:"http://www.queenswestoahu.org/images/qmc_images/visitors/n-wifi.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQSOsgkAh__33Cma0HrEKHn-yGfkC_CHgW4ff514VRMzwAfvARwF5_m2_U"},{title:"Is It 'Internet' Or 'internet?' The Internet Can't Agree",link:"http://i.ndtvimg.com/i/2016-04/internet-network-generic-istock_650x400_71459822128.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQbIdRzrBTGk6O8M9GihnET29pc5bGwlZOKhYuOkMkPv_xR0AKqgYCoJ4"},{title:"Adopt Rights-Based Internet Policies in West Africa – MFWA - Media ...",link:"http://www.mfwa.org/wp-content/uploads/2015/11/internet2.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQEfr__MRc9jQ5Q17j4-IoyuwHoBQBZN-HXuerAHG51vNfR8YvtWWumpogY"},{title:"Top 8 Problems Of Internet Growth In Nigeria - Webmasters - Nigeria",link:"http://www.nairaland.com/attachments/2743433_internet1_jpeg_jpegbdffc73c4f837b45246a99d2d04fba18",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSVo50DJt_OJGqZUMzF0xvU3DR7asmdWEXxggYSqNIuY1Z6IAaC5G-vkVM"},{title:"Internet Archives - Ted Buzz",link:"http://tedbuzz.com/wp-content/uploads/2015/07/internet.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0gWrxiDDGfpfr7RtJOQftNuzE00TKxITw6BFHaR6ZkdgvBhMwu_b9A"},{title:"The Future of the Internet of Things Will Be 'Notification Hell ...",link:"https://assets.entrepreneur.com/content/16x9/822/20150828180844-internet-satellite-data-space.jpeg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTalisMg1-bjvquUp5Q59a9KJ6JwdKZqOBiNGEqKpY5aQFEfkjmY14WvC8"},{title:"Free illustration: Internet, Global, Earth - Free Image on Pixabay ...",link:"https://pixabay.com/static/uploads/photo/2016/02/05/17/30/internet-1181587_960_720.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSItJgIb0PixTFze0MjtvaJmgH6XhHFdQw5NS9FEFKOUaSPVyeaSc6Q834"},{title:"Internet.Net - Your source for the Internet",link:"http://images.smartname.com/images/template/3column/large/3col_lg_computers-around-globe-with-paper-in-motion.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS5_20Vasw2S2a3FQc71gY4D3fNVGljm4QdyGZddnm1AwEkXsAHEsXc_7Y"},{title:"12 Free Internet Wonders You Need To Start Using Now! - onedio.co",link:"https://img-s1.onedio.com/id-579b14db51f754a6056615f2/rev-1/raw/s-e30de73d63d1ab5e2dd3f96e7c793eeaf00d1918.jpg",
thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRcssuOHn2lP-9V_SsDKvVbmeu81xJW7Dwoa2VmukkEY1ntWScYjZgdagoj"},{title:"Project Management Fundamentals | Lynda.com",link:"https://cdn.lynda.com/courses/424947-635949355614959431_338x600_thumb.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS5YG48Z5S6_CvbMp6-lvydoo14T0DmpO0NxvXlbtf3kqAd1Q2-fETD7LJ-"},{title:"MEED Projects - In-depth project tracking database for the Middle ...",link:"http://www.meed.com/Pictures/web/u/u/k/MEED_Projects.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQpSmC8XT9sA1Cbwv99ioCgMcobrjF6n-xb2YzixPabA1j9DMps2dZPzxhA"},{title:"Welcome to Learning Adventures| Electronic Field Trips from APT ...",link:"http://www.aptv.org/Project-C/images/PROJECT-C.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQ8jQXBd8DraSPkr4vpBjcLg4UHDUgdwW3icXDJtYD1nKvCid6A3I5vZO0"},{title:"Costs Management with Twproject - Twproject: project management ...",link:"https://cdn.twproject.com/site/wp-content/uploads/project-costs-management.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSwtykI7bDTuGyYHSdGyp0EGqYVdI6C1KtwXiznpYamNhMmDWUk1UxQOOE"},{title:"Project printing – JMDPrint",link:"http://www.jmdprint.com/wp-content/uploads/2016/03/B2014006-Project-Management-freedigitalphotos-600x300.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSZyQug_WcWDM-oVLJGz9ZEgMRFitKi7_TFQXnue03eG5v5B5MAohRyXIuj"},{title:"7 Trending Project Management Tools to Help You Collaborate With ...",link:"http://edge.alluremedia.com.au/m/l/2013/09/GroupProject.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRxtyWapSgLRm6RSW0-fEX6SQLMSp8fzOTxVsvCWZSRCT1fQyUrlDvtoOIS"},{title:"Free Project Management Templates - PMBOK Templates",link:"http://www.projectmanagementdocs.com/images/project-management-docs.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS0FZ-9RMoenCWV2eBWSypVhiRCQQAlU7lZ96jb5Xz5y86ZIay71O-L4SMk"},{title:"IT Projects - Information Technology Services",link:"http://ualr.edu/itservices/files/2006/10/projectManagement.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRcmVBYBrgkyKn83VDSUxYNyYZKiCuzbM3WyjbcXlZcK52LwkmQUgsOSj8"},{title:"Project Management news, analysis, how-to, opinion and video. | CIO",link:"http://images.techhive.com/images/article/2016/05/it-project-failures-100660512-primary.idge.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTSaSVs5kAp95h7kYyGIJ0tjGd6AuitsA1Z8N2p5npTKA0idrp2BxrQmw"},{title:"Project WET Foundation | Water Education for Teachers",link:"http://www.projectwet.org/sites/default/files/content/images/discover-water.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQQGNPNSc-mDcq17nBshE-Lk3AZF_PZWer-TOt0V3ufQP-oCdNoUxl1yTk"},{title:"5 essential steps for good project management | Symetris Web ...",link:"http://symetris.ca/sites/default/files/Project_Kick-off.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvnkcVsoh-_syBaVR-QSeKAa-ZRyIn3eOg-s8LWa_rYaDt6mzxDm_ZF-M"},{title:"Project - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2016/03/29/08/48/project-1287781_960_720.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSc35IQ3DksyZYOnqerhmAAVj5cMwStKCFi5A5oLaNRDaymYYFmJV3_CzU"},{title:"Frontline » Project ServicesFrontline",link:"http://frontline-inc.ca/wp-content/uploads/2015/09/Project-Management.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT2WKsa7mGUDg2wJUzUv0RR_IoGFQ7TpOdqol436fRg45cTcTQP033-vYRS"},{title:"About the Project – Boys Don't Cry – Association of Renaissance ...",link:"http://renaissanceinstitute.eu/v1/wp-content/uploads/2015/07/yyy.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRJVDRpl4xuadQYGPTcm1y3mor9ilNWSdnM3EHlW24_6PjRL6AB8fK1vg"},{title:"The Project - Channel TEN - Network Ten",link:"http://images.tenplay.com.au/~/media/TV%20Shows/The%20Project/Design/2016/TheProject_2016_Logo_500x281.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSZgeB5BMnP9PuXcV69vNtmw24Ai8itAR0xORflPdzafMJXn24xYai6UICX"},{title:"Project Management: constructive chaos",link:"http://petanque-c.com/wp-content/uploads/2012/11/project-puzzle.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTl6KNtOgKDv_pCNslHihwzxSm8nVmt78fy--VGPssewNru5etH4u5obyc"},{title:"8 challenges affecting software project management | CIO",link:"http://images.techhive.com/images/article/2014/12/project_management_success-100537284-primary.idge.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRXSsCAj4OfuRgCGWsxNGAbKo-wQ1A4HWq5xEEZob4kz3Rrz5V-3AuWX2l0"},{title:"Project Results and Case Studies | Asian Development Bank",link:"http://www.adb.org/sites/default/files/page/154601/images/banner-results-data-01.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSqkC1i4P2IfD2uZ8HKBGzZYjWFgpY210lXRLSZdncGOgI8wMsUy2CrFlI"},{title:"Staffing the Right Resources on the Project",link:"http://www.projectinsight.net/articles/articlesshare/i/2013/project-puzzle-pieces.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTcIW48vtQ8cSWsr5OwBNGrVPJp9VFkqimW8oODhJvmF2C0CxN1JTqhI2E"},{title:"Project — DIA — Strategy | Branding | Design | Motion | Type",link:"http://dia.tv/wp-content/uploads/2014/08/Project_logo_02.png",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSPfS_21_Oqlq7RgJ_RnKiCTeypHGJ9xEdyVIGBNzyjNnno_o_vXUax4zoV"},{title:"Technoking Raipur | Engineering Projects",link:"http://www.technokingraipur.com/images/project.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTlA2_TBYs1kzZIRPfzjgAniHm_L3hvWiVLdVNnBy_HlkF4tuxk1qS9BhQ"},{title:"Project Based Learning | MindShift | KQED News | KQED Public Media ...",link:"http://ww2.kqed.org/mindshift/wp-content/uploads/sites/23/2015/11/PBL-1920x1179.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTf0-b_Scm_ADAqUr_Jqs1LWgunjNxsWPq9LmptNe1KEDODjxWnUOIb98M"},{title:"Hadoop solutions | Best Hadoop Projects",link:"http://hadoopproject.com/wp-content/uploads/2015/02/Project-Management.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQ_pAVTBXlQ0zlEtJnsPDUu5eabEqXHOtuHYXHK-xavA-wRbQuuNLDYvM"},{title:"WordPress Project Management Plugin : Task Management, Project ...",link:"https://wp-client.com/wpcbridge/wp-content/uploads/2014/04/2014-Website-WPC-PM-Graphic-1.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRP6O0D2VPDnok5ll_2UWEvkn_9t4vvVjGS-KO5vK0ETGv-d7VLR3PIHtI"},{title:"13 Project Management Methodologies You Should Know About ...",link:"https://financesonline.com/uploads/2015/09/proj.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSxUNpMBXoUMqjQP0P_eOWnEC_5FXkVF7ZE4Ytg6XJI7TQDiwLGtxEeSheB"},{title:"EDISON: building the data science profession | Edison Project",link:"http://edison-project.eu/sites/edison-project.eu/files/images/edison-project-logo.png",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQyVR3EZmcwByxaamNkh6hWBQOVpa_W2HPr0rhCSfKTdEQ5NBUIOLywjps"},{title:"Project Launch Stage – How to get a project properly running ...",link:"http://bookboon.com/blog/wp-content/uploads/2013/05/PuzzlePiece2.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTdHxlmrSNPBuBtLzg5446zero8FcB8XwzaCwZKc0oUcNjNATuRP-EZ8Qc"},{title:"8 essential ingredients for project success | CIO",link:"http://images.techhive.com/images/article/2016/01/project-tools-ts-100638191-primary.idge.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTE7jdnHqu6mTbZ4Lkp3bHzA9NdwfRpm1fcWoxySU6UGgFZkioZuXm3DKps"},{title:"Project Selection Process - Estate Baron",link:"https://estatebaron.com/blog/wp-content/uploads/2016/04/Project-development.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSOyIWM3XkeOYPV9vLqdazjGf2do4PJ8CIDv2LezLp8CR4Eqb9-LRhgx_mN"},{title:"Top 10 Project Management Trends for 2016 - HR in ASIA",link:"http://www.hrinasia.com/wp-content/uploads/2016/01/project-management-6.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUasasoGBlXemH1S-p4dIKy4ByeXNvtw_F-Jt1lJr74tBpfk92wo-3pXrM"},{title:"Project Management - iTechtions",link:"http://itechtions.com/wp-content/uploads/2015/05/Project-Management.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTMM4WHb1NlF9MZmsoqxE-hMRvsOFmGKH3dC069HM6ALIsLX3FFrMvKAPsf"},{title:"Project printing – JMDPrint",link:"http://www.jmdprint.com/wp-content/uploads/2016/03/B2014006-Project-Management-freedigitalphotos.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQoRuWt_vMFldVfRPj9HPBVwAb5h6rBmflgYjPqszSQJS5zQNuYDQcRto0"},{title:"Project 3 Young People's Health and Wellbeing Service | RDaSH NHS ...",link:"http://www.rdash.nhs.uk/wp-content/uploads/2014/03/Project3-650x260.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQGhHaGHvoHWn6rJbkOLxkvbA8Ck8cVc_kFHZhIOuxZwkAXayt_oCRjsyCi"},{title:"Project Management news, analysis, how-to, opinion and video. | CIO",link:"http://images.techhive.com/images/article/2014/12/project_management-100536263-primary.idge.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQWiW9Mm8_AWmOuMperIX_-l6sqGjNR_1m2Hcbdt8TzAu2grkoun2Q3_lc"},{title:"The 7 pain points of project management - Off Peak Training",link:"http://www.offpeaktraining.com/wp-content/uploads/2016/04/project_planning.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQeHY7ymhPuGCsn6Q0RvxbvgRh67yXjWCxY0FygCQKLH4fe5LYVrawq2GI"},{title:"Project 8 - SrignatechSrignatech",link:"http://srignatech.com/wp-content/uploads/2013/05/photodune-3853785-business-analytics-m.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSF4jrt2Bl8I5FTyzz4HUrOCKO3MVgFoBjdihwxE0W7HL5kCKwUsNt3HAY"},{title:"Don't Be The Hub: Framework for Remote Project Management",link:"https://content-static.upwork.com/blog/uploads/sites/4/2009/05/project-management.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTuXzKKS072nJpsRb3c9rlYfHmNv8wjMnFDjrAwbLHIF5fVwSHMBwLcfOOn"},{title:"Project Management Services | CoreHive",link:"http://corehive.com/wp-content/uploads/2015/03/Program-Project-Management.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTbDDywb5pPmbaFo0GhfUdti8rjPX3n9zamXX5azzl06zEoNfkT9jkUL9ND0g"},{title:"Project Management",link:"http://www.bo-tek.com/web_2016/images/IT-Project-Management.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAYVC932rXXTSRVERHvx2HbZ6Z_dtHf6okVO7j2smY3oF4z5NnbRt5ZpM"},{title:"Project - Office Blogs",link:"https://blogs.office.com/wp-content/uploads/2015/10/Project-Manager-FI.png",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShadUJea1y67sErQAV81be0uA0nWOx4Gspz-0CRVXhXhVk2oH1bLDUAW5o"},{title:"Free stock photo: Rural, Country, Outdoors, Field - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2015/07/27/19/50/rural-863355_960_720.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQI80wQ6FMQgFIMvHL2fj_6q4C5HzAngpEi0Aro2axFCJjLR_WExAVlLJ9O"},{title:"Country Strong Quote Picture by Kylieann92 - Inspiring Photo ...",link:"https://s-media-cache-ak0.pinimg.com/736x/69/f9/e8/69f9e8087da5e63db57eab8e1ce29d20.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRgtory3GDO_1Zt2_1gfRyAYuLPVOozzSR0XVbX8qlCkCgStk4RK8EMFrfa"},{title:"Country Wallpaper HD Image Download Free | Wallpapers, Backgrounds ...",link:"http://www.pixelstalk.net/wp-content/uploads/2015/07/country-wallpaper-7.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTXWbSumEhOqIT3xZWUzaNo5TPVme3ieIeWkugbncYw1aI3YU2HNBgWdyL7"},{title:"BBC Radio 4 - Open Country",link:"https://ichef.bbci.co.uk/images/ic/480x270/p01lcfyg.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTkLUuFEuzDeu2MCwlwG9OsV_Mi3xyhgVUpjfQN9RpW2HztMFODWgqO2lA"},{title:"History of Country Dance",link:"http://cf.ltkcdn.net/dance/images/std/53753-425x282-HistoryOfCountryDance.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTRbjc3qHCxHQVEfnEBGbB3An5QVvbgAg95gPUF1KFhahkgaErwTorS2w"},{title:"Country Road #6783305",link:"http://7-themes.com/data_images/out/5/6783300-country-road.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQv39Bv2_kcVxFh3RZAJTravcRL5I303hWIy-rw1Yor6DcPYdUSUsbE5PV-"},{title:"Country Roads Wallpapers",link:"http://img.wallpaperfolder.com/f/4915D46DC5E4/country-road-sunset-high-definition.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSI7Lj1NcQfAPsZ3sZKPxqOvLWSRJVdyaeoV3Y8HN8Xa3ReGpGLIclDhUt3"},{title:"Wine Country | San Francisco, CA",link:"http://www.sanfrancisco.travel/sites/sftraveldev.prod.acquia-sites.com/files/trip-ideas/wine%20country.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQkWk1SDjUAvBDuSf6CPphKg8UYkfMJttg8VQgZrWQKdlzXI8DjFv8aEZY"},{title:"Country songs best ever | Country music playlist 2015 hits ...",link:"https://i.ytimg.com/vi/4bTUJxEDhqU/hqdefault.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQbQl-kPKr4-9Jw6pMAKhhhWaWI-2Z0yVF5JJMLVd1pvf14unoz1WxwZAdU"},{title:"Country HD Wallpapers | Backgrounds",link:"http://6iee.com/data/uploads/12/589241.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTZyz0rDS4LPZGAe-svenbmxaT441UYnIa51FI8MMtqRzZcz60BGiPkJ0E"},{title:"HITS Playlist: Country Summer | HITS In The Sticks",link:"http://www.hitsinthesticks.com/wp-content/uploads/2016/07/summer-country-road.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSIUFAM6XNl-yWrXo3y-NjGzIkzf0_RwKplaWcCikp7Xrc9052y_eClZWAo"},{title:"Deep country road between fields / 1934 x 1260 / Nature ...",link:"http://miriadna.com/desctopwalls/images/max/Deep-country-road-between-fields.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQf_wH-w4vljGrvDKWpq43fD-3XUYT1r0bevRzxhgLDKE8QP2n2re3lfMui"},{title:"Wide HD Country Wallpaper | FLGX HD | 1.21 MB",link:"http://feelgrafix.com/data_images/out/28/1000187-country.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQaQbZoc8K0z4KE8vja2El5FRjDJYGZZI8yg8oLvFT3AsrevD61TDbPS6w"},{title:"File:Flickr - Nicholas T - Country View.jpg - Wikimedia Commons",link:"https://upload.wikimedia.org/wikipedia/commons/e/e1/Flickr_-_Nicholas_T_-_Country_View.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTKwBlPExEg0Tx9LFyS8Ga8mw0WOchkKmh7GwsgjGMQi2a8B26q111RLoEm"},{title:"Free stock photo: Country Lane, Country, Road - Free Image on ...",link:"https://pixabay.com/static/uploads/photo/2014/12/27/14/37/country-lane-581076_640.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRscAtOHdexSPWQClk38N4F3qabhZeNuWRrn-kVOdpL-lCXZJV4LLfXZnhE"},{title:"Perks Of Country Living",link:"http://az616578.vo.msecnd.net/files/2016/06/26/636025076781667242-1862535736_country.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR0I2BfmXiwebzh_jswM3WH8TOnHs4VnIaEmS-Gopes4gLtApxBbF3wuRq0"},{title:"Girl in a Country Song' Video Objective or Not?",link:"http://wac.450f.edgecastcdn.net/80450F/kkyr.com/files/2014/07/girl_in_a_country_song-630x344.png",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQoqSvjDSNTiR3FKio8Q_DVcHhy9DJxlWbPBW1WBj7zQ0W0VDLzWTUT3F2e"},{title:"High Quality Country Road Wallpaper | Full HD Pictures",link:"http://feelgrafix.com/data_images/out/28/1000245-country-road.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS_xoClrFO4EIOgqH2B14aSyQ7dO1Pr11Drrq9HiLKR_Yw0h5aUPbOH_OfD"},{title:"Canyon Country | Travel Tours | Collette",link:"http://i2.gocollette.com/images/cont/na/us/az/monumentvalley_42149449_fotoliarf_2702_960x380.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQZASowPY09o4ycgWYj2wicC273TDzi2xoFcS7_p0RJKu-lhQL8z3Z5ujUm"},{title:"Wallpaper Country - Gallery Wallpaper",link:"http://4.bp.blogspot.com/-vPLwNemNALo/UJU8eEsr70I/AAAAAAAAAUg/mc_GVRGWVpA/s1600/country_road_desktop_wallpaper_31267.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQ3-NLNgmxyuUle1WGie0NiknKd0h3fULm6uq3atWxLLTGRX73jdChxW0w0"},{title:"File:Flickr - Nicholas T - Country Drive.jpg - Wikimedia Commons",link:"https://upload.wikimedia.org/wikipedia/commons/f/f6/Flickr_-_Nicholas_T_-_Country_Drive.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcR2xSAapGcONolQ5pfnJR8EjN9Cf8B5s7q4C0Ttgg1pHNLi2KJl2rIzQsQ"},{title:"High Country Host - in North Carolina",link:"http://highcountryhost.com/wp-content/uploads/2013/04/seasonal_fall.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRSut42Dx5CfFpQ6l5z7kb30d5omwgdhqn5e5e1mlsS3DQdLrT13U3bSLg"},{title:"This Is Country' Provides Backstage Pass to ACM Awards « Radio.com",link:"https://cbsradionews.files.wordpress.com/2014/12/thisiscountry_cover.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS83nfFEWOGU6gMi9P0X0-SAPjxAYM9969RVesB3ddGb0TWRV_i4FBKnoL-"},{title:"Download Free Country Music Backgrounds | Wallpapers, Backgrounds ...",link:"http://www.pixelstalk.net/wp-content/uploads/2016/07/Country-Music-HD-Wallpaper.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSsAzXNGC533oE3UB_Zc0LxybuPEEdQ-JmNUiAy3NfkGmV5DAZPbJ94DvCO"},{title:"Investing in Indian Country | Socially Responsible Investing ...",link:"http://www.ilcc.net/assets/userfiles/images/indian-country.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRi7iFlnptJISGWY42rPZV6tfrrik3BkknnygsQQq43yaT5kwyQVlhq-RE"},{title:"Sunlit country road wallpaper - 1061724",link:"http://p1.pichost.me/i/40/1640045.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSXhL-EOLDCEan4VDvzZFqO4fg0MagS4JAjR5kFBg2v0gapvZd6oq5gqm0"},{title:"1000+ ideas about Country Life on Pinterest | Farms, Horses and Cow",link:"https://s-media-cache-ak0.pinimg.com/236x/a4/53/16/a45316a6688a40268bff832043251385.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQlhRkWKzn4ixqJLzSDtbNZ8K_9WZX-wNwHvOi8dS3cTisHntHnwXVBqw"},{title:"Town versus country: what our readers think - Telegraph",link:"http://i.telegraph.co.uk/multimedia/archive/02448/stile-country_2448177b.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTYUXMTPxVg4XyITWeIwCs7_A2Bf1gitKujx1BAEqFtGNoevXPU5CCmuPo"},{title:"Country - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2014/05/21/15/18/musician-349790_960_720.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQUt5Iz_wF7m8Xt3ylu_ES4_rnfweUO3jKFg87mlG9G155d8ODxZ81tCzrd"},{title:"Australian Country - Australia Country Magazine",link:"http://www.australiancountry.net.au/wp-content/uploads/2013/09/Scenic-Rim_Lost-World-Valle.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcT86AquIk3MLzwBCR9-MFchXQ_ozpxOIOUJ8xOwADEld_kS9dNabk0yl9Al"},{title:"country pictures",link:"http://science-all.com/images/wallpapers/country-pictures/country-pictures-10.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRQKSNDkMqdE4g-0s_wI9-K6vVaz7CDA0TBBmaPMPiWIlbxK0EH27qSrO_U"},{title:"Country Road #6783305",link:"http://7-themes.com/data_images/out/5/6783305-country-road.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQYmyob091k7CnK2wQkSgsVDQDd3K5vlGHlxZ4yqLcnuftwB0DggLLhT5Y"},{title:"Country Wallpaper HD Image Download Free | Wallpapers, Backgrounds ...",link:"http://www.pixelstalk.net/wp-content/uploads/2015/07/country-wallpaper-10.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTPnlGZkoinh5usMXxtysVMfke0VdIUsZM3yjnDG6oaoCptjCK3agPcLC7P"},{title:"Country Road #6783305",link:"http://7-themes.com/data_images/out/5/6783309-country-road.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQAlZld-DPcn3vXKb6Xrje7gN6v-StPrmMimpTxZZlpSkdwpKQ8Ps99W1vz"},{title:"country-wallpaper-10.jpg",link:"http://science-all.com/images/wallpapers/country-wallpaper/country-wallpaper-10.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSRhjOpBkYhr0FyNmH2w68hYIeah_sCbgkBzEY8pe4BPHauvZJBph_MI9Q"},{title:"12 Signs You Grew Up In The Country",link:"http://az616578.vo.msecnd.net/files/2016/06/12/636013474849054063475187574_Vx6Ohz5.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQLn4VI1UkD6KJAH2kkD3H9XO_UrHG5PGnQ3ya2VBBaCEXItNZH0hJjZLQ"},{title:"Country Road #6783305",link:"http://7-themes.com/data_images/out/5/6783302-country-road.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTikvqN8HON8yOdG97bjatDstABuibsPPeZcA9eHsUUfDFZp2Qzn6_48ds"},{title:"Country Music Gets A Bad Rap, But It Shouldn't",link:"http://az616578.vo.msecnd.net/files/2016/04/29/6359750032666523151072549471_2_country_420.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTXQVlQCyCCyR0h5W8pN9yFvkqsq7kasqOP3_hy71jjAg65J59jYKagMd8"},{title:"11 Country Songs To Get Your Summer Started",link:"http://az616578.vo.msecnd.net/files/2016/04/15/6359633046006467471295536614_Country-Road.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTcTd3eZhEVE0Q_SvP3xvvRijkDcNPU75x4-YPK4jiRiV4r5T_0qpmc8F6N"},{title:"5 Books That Are Basically Country and Western Songs — Barnes ...",link:"http://www.barnesandnoble.com/blog/barnesy/wp-content/uploads/2013/08/country_western.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS1OAPTlLjhhdDzh1x6aJkJ7UD_hQNsMOZRtEtR_JCJ78CUOn2RVWaszNM"},{title:"Country wallpaper | Wallpapers, Backgrounds, Images, Art Photos.",link:"http://www.pixelstalk.net/wp-content/uploads/2015/07/country-wallpaper-3.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTL4eI2GFZBPOgAe28_9oKLZsQ6mjLCWiIrlXfrUJ0rI_RSaCyt8cEjMtY"},{title:"1000+ ideas about Country Strong on Pinterest | Southern Girls ...",link:"https://s-media-cache-ak0.pinimg.com/236x/69/f9/e8/69f9e8087da5e63db57eab8e1ce29d20.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRiPJVnuiVYF88Lw8NO0tIWvD1h7yXfGE1CenKMmP_NSFt0q-dN13Ohq4Y"},{title:"Thank god I'm a country girl: Love | Life | Country | Countryside ...",link:"https://s-media-cache-ak0.pinimg.com/564x/a4/53/16/a45316a6688a40268bff832043251385.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQV8AUw7S-_pX3kW75ml_ZClztJMpi59R1ZkT6d1E2_4gal32EW7Hn9iTU"},{title:"Country wallpaper | Wallpapers, Backgrounds, Images, Art Photos.",link:"http://www.pixelstalk.net/wp-content/uploads/2015/07/country-wallpaper-2.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRd554Wlvqa4ZS6JH7aMDX-PoZ3idvzaCqd21kR9GwK6jXiH31cGDSTCo0"},{title:"Country - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2015/08/02/18/05/country-871445_960_720.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTOcxOWPa2mMBRT-7EUmBCPcZnZQ1d5YkB6zvQPkNaKC1jY_BI8gWDqAKk"},{title:"Visit the UNO City - VIENNA – NOW OR NEVER",link:"https://www.wien.info/media/images/uno-city-19to1.jpeg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTFPfDe1XG5VnamSLLrygI74Umo_oTTRuJrWT6n_z8EZQEUO5N6VwNwZgKD"},{title:"Cebu City travel guide - Wikitravel",link:"http://wikitravel.org/upload/shared//9/9b/Cebu_(city)_Banner.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS5COpdQMGLMVTvIJ0piPBiXn-eFT170AkfnnxWrkyTW7wVIP5H8NujaHE"},{title:"Park City Museum: Preserving, protecting, and promoting Park ...",link:"http://parkcityhistory.org/wp-content/uploads/2009/07/Digi-27-46_0910_Doug_Burke_Photo_PC_Museum_29211.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQCfMpkU95kn-mp3nKnkkif7XC3xGnxma32cS8L2HkiI0TETAAaDT3kctI"},{title:"HQ 2000x1000 Resolution City #995906 - FeelGrafix",link:"http://feelgrafix.com/data_images/out/28/995904-city.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSqOwqGyACI87DDMo7qj8y8h8hVwOto12h_xx4F_jw--oc7lsQ9lVQeONdE"},{title:"50 Free HD City Wallpapers",link:"https://newevolutiondesigns.com/images/freebies/city-wallpaper-32.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTiR0bhIO64yUv6QuGCn6xPsMm9eOCm_l3xCPHjF9B5dECj6Qc_22TwDJg"},{title:"Picalls.com | View of the City of New Yorkby Lucas Franco.",link:"http://picalls.com/wp-content/uploads/2016/02/View-of-the-City-of-New-York.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcQA_DPyUuJoKz2JDu7GdsowTZF-qARozChSWeLlOtGKP7XeTeI53OtMGzQ"},{title:"Jersey City: Growing, With Many Personalities - The New York Times",link:"https://static01.nyt.com/images/2016/06/12/realestate/12LIVING-JERSEY-CITY-slide-2TVY/12LIVING-JERSEY-CITY-slide-2TVY-videoSixteenByNineJumbo1600.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRCiOj4VQ8KTBoP0Gj5gs0OjN0X8487VxjTYUh0S39RZXrZmtWkht9iOVEe"},{title:"New, York, City - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2015/10/12/15/04/new-york-city-984145_960_720.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcSoD6oeMbRwWTSDFe8fAy9yQZc4VT-0EugmbDkTxV-O4gRKhp9FbPY_qLDY"},{title:"Download Wallpaper 3840x2160 City, Skyscrapers, Night, Light, Road ...",link:"https://wallpaperscraft.com/image/city_skyscrapers_night_light_road_62141_3840x2160.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQQfyhy4LuI9Hhgmb5P0CiwASFD8PSwVYBVjo87mCIJMRWCRS4yOv4ibgs"},{title:"City, Panorama - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2015/05/15/14/22/city-768437_960_720.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSO2rtnUcGjctlI3bJYosJ2iCSgnZRWJko2mkT3d4kWZmQR2mRZzYfUcaWR"},{title:"City pictures · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/7837/pexels-photo.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcR-WfF048BG2oKYbPvc_FO8EsAqsby0TFpPf8SrpWHESE1XQFNyfOptvCs"},{title:"GIANT CITY | . mette ingvartsen .",link:"http://metteingvartsen.net/wp-content/uploads/Picture-Giant-City_credit-Jan-Egil-Kirkeb%C3%B8.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRoDKvTaWAWlI6p6vmJe9XEH_TDUzSlg6uMjR5eriB7QOf3vLzVykCXeBY"},{title:"50 Free HD City Wallpapers",link:"https://newevolutiondesigns.com/images/freebies/city-wallpaper-11.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTxP7blnfxP1XKOubSzX213p2WV9ZvYiIJIziMe0oln6AdAbbB6o2aOCkQZ"},{title:"New York's Resilience Challenge | 100 Resilient Cities",link:"http://www.100resilientcities.org/page/-/100rc/img/cities/cities-nyc_optimized.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSLxbE2C1mebiCxEznpzp_12NmAL6zTw688xg9eAs1B9Gm3ZIz8L2p0iB2J"},{title:"How Do I Get Support From My City? - Peep The Industry",link:"http://www.peeptheindustry.com/wp-content/uploads/2016/02/city-wallpaper-41128060.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcQ25DE_2Iw4GXLeY0cJ_IVVK4Af-xWNBzyNJDTWN7TgVQYfOyRRLJ42OGA"},{title:"The Mastering Of A Music City | Music Cities Summit, Toronto, On",link:"http://musiccitiessummit.com/wp-content/uploads/chicago-1.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcTTatAfEOuddu5tGVxSschS57CXENadA6OIIk93NWhhWyMoT-LVof--Nvrz"},{title:"50 Free HD City Wallpapers",link:"https://newevolutiondesigns.com/images/freebies/city-wallpaper-47.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ6zNsY2G8dWYqQbNixUxV7TeH_4j5WrnUdqGkSDcuAJfYnyBuNl8m_33nO"},{title:"File:The City London.jpg - Wikimedia Commons",link:"https://upload.wikimedia.org/wikipedia/commons/d/da/The_City_London.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRquXmjFZSBXCI2YFDuvP0mIvWvQIKUJIf1JrKSGhWz08TyNYk_SGUsWfyZ"},{title:"City pictures · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/1440/city-road-street-buildings.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcRkblUrCOJtgPIiPmrrfjGYXmISYUpwDJ-4XI7T0p55T4Uf2jeI6-y88qAv"},{title:"The Top 32 Quebec City, Canada Tours & Things to Do with Viator ...",link:"https://cache-graphicslib.viator.com/graphicslib/thumbs674x446/2994/SITours/private-tour-quebec-city-walking-tour-in-quebec-city-109246.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSa9llFFnWmDE6SM4pr4cvFrS3z_AIM0zm3eiDUCtLZ8BqG7CDLXsaZtZqN"},{title:"City pictures · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/2773/city-skyline-skyscrapers-top.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcREfc7vV_TyQvVZu7xpoRClXfpoCAj_CJ__G4DQSNgK8xsjOPuShb83rwyx"},{title:"Free stock photo of city, cars, road",link:"https://static.pexels.com/photos/2025/city-cars-road-traffic.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNSYXPGtX6_94W4ZblTQke0iGNwu2CpbpoDRP4IUWmbn9ZerzJX_U6TE4"},{title:"46 Amazing City Wallpapers In HD For Free Download",link:"http://www.technocrazed.com/wp-content/uploads/2015/12/city-wallpaper-22.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcRXMBO4LPHU55Y0pYzUO6RkvcJJkmtblXKFIZMElJ0DvUYg4qXIT6Bcwpoq"},{title:"City - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2013/02/05/20/59/new-york-city-78181_960_720.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSoZmoRg7Y9ckhqGVGec09H13xfuC0rc2QBS1AnFEDIKITIbUPznwz1A_Zb"},{title:"Oklahoma City Branch",link:"https://www.kansascityfed.org/~/media/images/oklahomacity/homepage_carousel.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpLYzQ9BAzqSrC465rRpKDlw5ejz43EjRVhhdcAj10LKncnDsPEKNfYKM"},{title:"Free stock photo of city, skyline, new york",link:"https://static.pexels.com/photos/7613/pexels-photo.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRlsDcsHtuvGQcKtCSXEWlOETZ83B9gQEaalYQ5WOawYA27RsL6suELXao"},{title:"City of Tomorrow - CNN.com",link:"http://i.cdn.turner.com/cnn/interactive/2014/05/specials/city-of-tomorrow/media/images/tz-city-popup.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSrB2ZcjvfdE8GQcjrT7DKqB6Nk-ZCPcIpLt472UA3jS8AOlMVYLmUIHcg"},{title:"Scandic Bergen City | Hotel Bergen | Scandic Hotels",link:"https://www.scandichotels.com/imagevault/publishedmedia/r46krq3mx0t6mdkioiby/Scandic-Bergen-City-exterior-facade-entrance-2.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcRjFvEjGx-Q-TpqKub65fjptvaybpEk9Dvwb0hsVSKWlLvZU9aC11eUhp0"},{title:"New York City Wallpaper · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/816/city-sky-skyline-sailboats.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcTYyxzW9oR_znmYJqNRVhanndIGX4cpmP8qud0A7Q_ZZ4gAUZrFKnCvE2M7"},{title:"NYC Travel & City Guide | Restaurants, Shopping & Things to Do ...",link:"http://media.architecturaldigest.com/photos/5699802bc6772b7614567435/master/pass/new-york-city-guide.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-bIS2A3Q1TotW9GdWD6j7111FuND4Up9nEiLfyeL1l42ego5kSkmRyFM"},{title:"Sioux City, Iowa - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/b/b6/091607-SiouxCity-Historic4th.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3MAQaGWCED-PjEdwUc5h4LbXDC9_dc06Xgv6ouKxa7xucgbSQK5_UOpqT"},{title:"HQ 2000x1000 Resolution City #995906 - FeelGrafix",link:"http://feelgrafix.com/data_images/out/28/995913-city.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSlB2FHy6D0aeuIrOHU9cu2QlQ_tMEvtubNKsxZ8THyABZ6rOlP-ATVMkU"},{title:"Laguna City - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/3/34/Laguna_City_201305.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcTCp_UDlIzVJRk5bvO66xKHJc9_Bep4oqX80h-yz2fInF8EmPvNu-u-nHVz"},{title:"Kowloon City - Wikipedia, the free encyclopedia",
link:"https://upload.wikimedia.org/wikipedia/commons/7/76/Kowloon_City_Buildings_2010.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcQk_sgNImFVjJz45DzZheHTuZjq2k3-mdpwc_oap_KI6haU09dhmqH4x6uU"},{title:"City pictures · Pexels · Free Stock Photos",link:"https://static.pexels.com/photos/2752/city-sunny-people-street.jpg",thumbnail:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcS6F_eMiOvOoaxPrCWo-UpS24arODUR47GSsRNSgCQs5u0rfSXGfNEW3nU"},{title:"Mexico City - Wikipedia, the free encyclopedia",link:"https://upload.wikimedia.org/wikipedia/commons/9/98/Mexico_City_Zocalo_Cathedral.jpg",thumbnail:"https://encrypted-tbn3.gstatic.com/images?q=tbn:ANd9GcS7ETmNED5KdY3O9_eCXDPtXDNEZ_PUDttN6-003C_c3S1xFMx6o73a23jM"},{title:"Find Oklahoma City Hotels by Marriott",link:"http://www.marriott.com/Images/MiniStores/Header_Images/Destinations/en/Oklahoma%20City%20OK%20Skyline_1024.jpg",thumbnail:"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcSSrP4hGwWgsts55hIseTUQCWi1681gB7gvpRFKF9x62Fg3LKybW03wRowi"},{title:"City, Street - Free images on Pixabay",link:"https://pixabay.com/static/uploads/photo/2016/01/19/18/00/city-1150026_960_720.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRnhhNn4gKnnl5lFkQ-d4kajIfzZdEdNlQ4_irtuCyjW2bietuolCLLtGM"},{title:"Panama City travel guide - Wikitravel",link:"http://wikitravel.org/upload/shared//5/5e/Panama_City_Banner.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQCuA7ZPQEE56D9JySKOZRvjiPwFr3xKpepv8F5piRXjvjzuvI8qXXuWIHH"},{title:"New York City Travel Guide - Expert Picks for your New York City ...",link:"http://assets.fodors.com/destinations/1128/skyline-manhattan-new-york-city-new-york-usa_main.jpg",thumbnail:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmP5h4FWPIsVaNwgzepFN0DLGNSjk6Ms391_ETeefuSDqehdi71mu3Un0"}])}])}(),function(){"use strict";var t=angular.module("pipMocked.Announcements",["ngMockE2E","ngResource"]);t.factory("MockedAnnouncementsResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/announcements",i.register=function(){},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Avatar",["ngMockE2E","ngResource"]);t.factory("MockedAvatarResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/parties",i.register=function(){t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/goals/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenGET record",n,i),[200,{},{}]}),t.whenPOST(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/goals/")+i.IdRegExp+i.regEsc("/avatar?name="))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT record",n,i),[200,{},{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/goals/")+i.IdRegExp+i.regEsc("/avatar")+i.EndStringRegExp)).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT record",n,i),[200,{},{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/areas/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenGET record",n,i),[200,{},{}]}),t.whenPOST(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/areas/")+i.IdRegExp+i.regEsc("/avatar?name="))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT record",n,i),[200,{},{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/areas/")+i.IdRegExp+i.regEsc("/avatar")+i.EndStringRegExp)).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT record",n,i),[200,{},{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenGET party",n,i),[200,{},{}]}),t.expectGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource expectGET party",n,i),[200,{},{}]}),t.expect("GET",new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource expect party",n,i),[200,{},{}]}),t.when("",new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar?"))).respond(function(t,e,n,i){return console.log("MockedAvatarResource when party",n,i),[200,{},{}]}),t.whenPOST(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar?name="))).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT party",n,i),[200,{},{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/avatar")+i.EndStringRegExp)).respond(function(t,e,n,i){return console.log("MockedAvatarResource whenPUT party",n,i),[200,{},{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Entry",["ngMockE2E","ngResource"]);t.factory("MockedSigninResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/signin",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!c||!c.email)throw new Error("MockedSigninResource: login is not specified");if(!p)throw new Error("MockedSigninResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return i.dataset.setCurrentUser(o),[200,o,{}]})},i}]),t.factory("MockedSignupResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/signup",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection"),l=i.dataset.get("PartiesTestCollection");if(!c||!c.email||!c.name)throw new Error("MockedSignupResource: login is not specified");if(!p)throw new Error("MockedSignupResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),o&&o.id){var d=i.getError("1104");return[d.StatusCode,d.request,d.headers]}return o=p.create({email:c.email,name:c.name}),l.create({name:o.name,email:o.email,id:o.id,updated:o.updated,created:o.created}),i.dataset.setCurrentUser(o),[200,o,{}]})},i}]),t.factory("MockedSignoutResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/signout",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){return i.dataset.clearCurrentUser(),[200,"OK",{}]})},i}]),t.factory("MockedSignupValidateResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/signup_validate",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!c||!c.email)throw new Error("MockedSignupValidateResource: email is not specified");if(!p)throw new Error("MockedSignupValidateResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),o&&o.id){var l=i.getError("1104");return[l.StatusCode,l.request,l.headers]}return[200,"OK",{}]})},i}]),t.factory("MockedVerifyEmailResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/verify_email",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!c||!c.email||!c.code)throw new Error("MockedVerifyEmailResource: data is not specified");if(!p)throw new Error("MockedVerifyEmailResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}if(o&&o.code!=c.code){var l=i.getError("1103");return[l.StatusCode,l.request,l.headers]}return o.email_ver=!0,[200,"OK",{}]})},i}]),t.factory("MockedRecoverPasswordResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/recover_password",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!c||!c.email)throw new Error("MockedRecoverPasswordResource: email is not specified");if(!p)throw new Error("MockedRecoverPasswordResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return[200,"OK",{}]})},i}]),t.factory("MockedResetPasswordResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/reset_password",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!(c&&c.email&&c.code&&c.password))throw new Error("MockedResetPasswordResource: data is not specified");if(!p)throw new Error("MockedResetPasswordResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}if(!o||o.code!=c.code){var l=i.getError("1108");return[l.StatusCode,l.request,l.headers]}return[200,"OK",{}]})},i}]),t.factory("MockedChangePasswordResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/change_password",i.register=function(){t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,i,a){return[200,"OK",{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Events",["ngMockE2E","ngResource"]);t.factory("MockedEventsResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/events",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s=i.dataset.get("EventsTestCollection");if(!s)throw new Error("MockedEventsResource: Events collection is not found");return o=s.getAll(),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("EventsTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedEventsResource: id is not specified into url");if(c=s[0],!p)throw new Error("MockedEventsResource: Events collection is not found");return o=p.findById(c),[200,o,{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Feedbacks",["ngMockE2E","ngResource"]);t.factory("MockedFeedbacksResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/feedbacks",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s=i.dataset.get("FeedbacksTestCollection");if(!s)throw new Error("MockedFeedbacksResource: Feedbacks collection is not found");return o=s.getAll(),[200,o,{}]}),t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("FeedbacksTestCollection");if(!c||!c.sender_id)throw new Error("MockedFeedbacksResource: feedback sender_id is not specified");if(!p)throw new Error("MockedFeedbacksResource: Feedbacks collection is not found");if(s=p.getAll(),c.id&&(o=_.find(s,function(t){return t.id==c.id})),o&&o.id){var l=i.getError("1104");return[l.StatusCode,l.request,l.headers]}return o=p.create(c),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("FeedbacksTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedFeedbacksResource: id is not specified into url");if(c=s[0],!p)throw new Error("MockedFeedbacksResource: Feedbacks collection is not found");return o=p.findById(c),[200,o,{}]}),t.whenPUT(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=angular.fromJson(n),l=i.dataset.get("FeedbacksTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedFeedbacksResource: id is not specified into url");if(c=s[0],!l)throw new Error("MockedFeedbacksResource: Feedbacks collection is not found");return o=l.findById(c),o=l.update(c,p),[200,o,{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=(angular.fromJson(n),i.dataset.get("FeedbacksTestCollection"));if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedFeedbacksResource: id is not specified into url");if(c=s[0],!p)throw new Error("MockedFeedbacksResource: Feedbacks collection is not found");if(o=p.findById(c),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return p.deleteById(o.id),[200,"OK",{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Guides",["ngMockE2E","ngResource"]);t.factory("MockedGuidesResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/guides",i.register=function(){},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Images",["ngMockE2E","ngResource"]);t.factory("MockedImagesResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/parties",i.register=function(){t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/files/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a){var r=i.dataset.get("FilesTestCollection").getByIndex(0);return[200,r,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/files/")+i.IdRegExp+i.regEsc("/content")+i.EndStringRegExp)).respond(function(t,e,n,a){var r=(i.getUrlIdParams(e),i.dataset.get("FilesTestCollection").getByIndex(0)||{});return[200,r.url,{}]}),t.whenPOST(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/files?name="))).respond(function(t,e,n,i){return console.log("MockedImagesResource whenPUT",n,i),[200,{},{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/files/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,i){return console.log("MockedImagesResource whenPUT",n,i),[200,{},{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.ImageSet",["ngMockE2E","ngResource"]);t.factory("MockedImageSetResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/image_sets",i.register=function(){},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Nodes",["ngMockE2E","ngResource"]);t.factory("MockedNodeResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/nodes",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s=i.dataset.get("NodesTestCollection");if(!s)throw new Error("MockedNodeResource: Nodes collection is not found");return o=s.getAll(),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("NodesTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedNodeResource: id is not specified into url");if(c=s[0],!p)throw new Error("MockedNodeResource: Nodes collection is not found");return o=p.findById(c),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/events")+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p,l,o=i.dataset.get("EventsTestCollection");if(c=i.getUrlIdParams(e),!c||0==c.length)throw new Error("MockedNodeResource: id is not specified into url");return s=c[0],p=o.getAll(),l=_.filter(p,function(t){return t.node_id==s}),[200,l||[],{}]}),t.whenPUT(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=angular.fromJson(n),l=i.dataset.get("NodesTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedNodeResource: id is not specified into url");if(c=s[0],!l)throw new Error("MockedNodeResource: Node collection is not found");return o=l.findById(c),o=l.update(c,p),[200,o,{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Party",["ngMockE2E","ngResource"]);t.factory("MockedPartyResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/parties",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s=i.dataset.get("PartiesTestCollection");if(!s)throw new Error("MockedPartyResource: Parties collection is not found");return o=s.getAll(),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("PartiesTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedPartyResource: party_id is not specified into url");if(c=s[0],!p)throw new Error("MockedPartyResource: Parties collection is not found");return o=p.findById(c),[200,o,{}]}),t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("PartiesTestCollection");if(!c||!c.id)throw new Error("MockedPartyResource: party id is not specified");if(!p)throw new Error("MockedPartyResource: Parties collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.id==c.id}),o&&o.id){var l=i.getError("1104");return[l.StatusCode,l.request,l.headers]}return o=p.create(c),[200,o,{}]}),t.whenPUT(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=angular.fromJson(n),l=i.dataset.get("PartiesTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedPartyResource: party_id is not specified into url");if(c=s[0],!l)throw new Error("MockedPartyResource: Parties collection is not found");return o=l.findById(c),o=l.update(c,p),[200,o,{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=(angular.fromJson(n),i.dataset.get("PartiesTestCollection"));if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedPartyResource: party_id is not specified into url");if(c=s[0],!p)throw new Error("MockedPartyResource: Parties collection is not found");if(o=p.findById(c),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return p.deleteById(o.id),[200,"OK",{}]})},i}]),t.factory("MockedPartySettingsResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/parties",i.register=function(){t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/settings")+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p,l=i.dataset.get("SettingsTestCollection");if(!l)throw new Error("MockedPartySettingsResource: Settings collection is not found");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedPartyResource: party_id is not specified into url");return c=s[0],o=l.getAll(),p=_.find(o,function(t){return t.party_id==c}),p&&p.party_id?[200,p,{}]:[200,{},{}]}),t.whenPOST(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.regEsc("/settings")+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c=!1,p=angular.fromJson(n)||{},l=i.dataset.get("SettingsTestCollection");if(!p||!p.party_id)throw new Error("MockedPartySettingsResource: Settings party_id is not specified");if(!l)throw new Error("MockedPartySettingsResource: Settings collection is not found");return s=l.getAll(),o=_.find(s,function(t){return t.party_id==p.party_id}),o&&o.party_id&&(c=!0),o=c?l.update(o.party_id,p,"party_id"):l.create(p),[200,o,{}]})},i}])}(),function(){"use strict";var t=angular.module("pipMocked",["ngMockE2E","ngResource"]);t.factory("pipMockedResource",function(){function t(){for(var t=0;t<n.length;t++){var e=n[t];e.register()}}function e(t){t&&angular.isObject(t)&&n.push(t)}var n=[];return{addMocks:e,registerStandardResources:t}}),t.factory("MockedResource",["$httpBackend","$log","PipResourcesError",function(t,e,n){return this.api="",this.fakeUrl="http://alpha.pipservices.net",this.dataset=null,this.regEsc=function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.IdRegExp=/[a-zA-Z0-9]{24}/.toString().slice(1,-1),this.QueryRegExp=/[\d\w-_\.%\s]*$/.toString().slice(1,-1),this.EndStringRegExp=/$/.toString().slice(1,-1),this.getUrlIdParams=function(t){var e,n=t.match(/(\/[a-zA-Z0-9]{24})/g);for(e=0;e<n.length;e++)n[e]=n[e].slice(1,25);return n},this.setDataset=function(t){this.dataset=t},this.getError=function(t){var e;return e=n[t],e||(e={StatusCode:400,StatusMessage:"Not found",request:{code:"",name:"Not found",message:""},headers:{}}),e},this.register=function(){},this}]),t.factory("TruePathResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.register=function(){t.whenGET(/.*/).passThrough(),t.whenGET(/.*.svg/).passThrough(),t.whenJSONP(/.*/).passThrough(),t.whenGET(/^\w+.*/).passThrough(),t.whenPOST(/^\w+.*/).passThrough()},i}])}(),function(){"use strict";var t=angular.module("pipMocked.ServersActivities",["ngMockE2E","ngResource"]);t.factory("MockedServersActivitiesResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/servers/activities",i.register=function(){},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Tips",["ngMockE2E","ngResource"]);t.factory("MockedTipsResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/tips",i.register=function(){},i}])}(),function(){"use strict";var t=angular.module("pipMocked.Users",["ngMockE2E","ngResource"]);t.factory("MockedCurrentUserResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/users/current",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o;if(o=i.dataset.getCurrentUser(),!o||!o.id){var s=i.getError("1106");return[s.StatusCode,s.request,s.headers]}return[200,o,{}]})},i}]),t.factory("MockedUsersResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/users",i.register=function(){t.whenGET(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s=i.dataset.get("UsersTestCollection");if(!s)throw new Error("MockedUsersResource: Users collection is not found");return o=s.getAll(),[200,o,{}]}),t.whenPOST(i.fakeUrl+i.api).respond(function(t,e,n,a,r){var o,s,c=angular.fromJson(n),p=i.dataset.get("UsersTestCollection");if(!c||!c.email)throw new Error("MockedUsersResource: user email is not specified");if(!p)throw new Error("MockedUsersResource: Users collection is not found");if(s=p.getAll(),o=_.find(s,function(t){return t.email==c.email}),o&&o.id){var l=i.getError("1104");return[l.StatusCode,l.request,l.headers]}return o=p.create(c),[200,o,{}]}),t.whenGET(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("UsersTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedUsersResource: user_id is not specified into url");if(c=s[0],!p)throw new Error("MockedUsersResource: Users collection is not found");return o=p.findById(c),[200,o,{}]}),t.whenPUT(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=angular.fromJson(n),l=i.dataset.get("UsersTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedUsersResource: user_id is not specified into url");if(c=s[0],!l)throw new Error("MockedUsersResource: Users collection is not found");return o=l.findById(c),o=l.update(c,p),[200,o,{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+i.api+"/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p=(angular.fromJson(n),i.dataset.get("UsersTestCollection"));if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedUsersResource: user_id is not specified into url");if(c=s[0],!p)throw new Error("MockedUsersResource: Users collection is not found");if(o=p.findById(c),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return p.deleteById(o.id),[200,"OK",{}]})},i}]),t.factory("MockedUserSessionsResource",["$httpBackend","$log","MockedResource",function(t,e,n){var i=Object.create(n);return i.api="/api/users/:party_id/sessions/:id",i.register=function(){t.whenGET(new RegExp(i.regEsc(i.fakeUrl+"/api/users/")+i.IdRegExp+i.regEsc("/sessions"))).respond(function(t,e,n,a,r){var o,s,c,p=i.dataset.get("UsersTestCollection");if(s=i.getUrlIdParams(e),!s||0==s.length)throw new Error("MockedUserSessionsResource: user_id is not specified into url");if(c=s[0],!p)throw new Error("MockedUserSessionsResource: Users collection is not found");if(o=p.findById(c),!o||!o.id){var l=i.getError("1106");return[l.StatusCode,l.request,l.headers]}return[200,o.sessions,{}]}),t.whenDELETE(new RegExp(i.regEsc(i.fakeUrl+"/api/users/")+i.IdRegExp+i.regEsc("/sessions/")+i.IdRegExp+i.EndStringRegExp)).respond(function(t,e,n,a,r){var o,s,c,p,l,d=!1,g=i.dataset.get("UsersTestCollection");if(c=i.getUrlIdParams(e),!c||0==c.length)throw new Error("MockedUserSessionsResource: user_id is not specified into url");if(p=c[0],l=c[1],!g)throw new Error("MockedUserSessionsResource: Users collection is not found");if(o=g.findById(p),!o||!o.id){var m=i.getError("1106");return[m.StatusCode,m.request,m.headers]}for(s=0;s<o.sessions.length;s++)if(o.sessions[s].id===l){d=!0,o.sessions.splice(s,1);break}return o=g.update(p,g),[200,d?"OK":null,{}]})},i}])}(),function(){"use strict";var t=angular.module("PipResources.Error",[]);t.factory("PipResourcesError",function(){var t={};return t[1104]={StatusCode:400,StatusMessage:"Bad Request",request:{code:1104,name:"Bad Request",message:"Email is already registered"},headers:{}},t[1106]={StatusCode:400,StatusMessage:"Bad Request",request:{code:1106,name:"Bad Request",message:"User was not found"},headers:{}},t[1103]={StatusCode:400,StatusMessage:"Bad Request",request:{code:1103,name:"Bad Request",message:"Invalid email verification code"},headers:{}},t[1108]={StatusCode:400,StatusMessage:"Bad Request",request:{code:1108,name:"Bad Request",message:"Invalid password recovery code"},headers:{}},t[1700]={StatusCode:400,StatusMessage:"Bad Request",request:{code:1700,name:"Bad Request",message:"Avatar doesn't exist"},headers:{}},t})}(),function(){"use strict";var t=angular.module("pipImageResources",[]);t.provider("pipImageResources",function(){function t(t){angular.isArray(t)||new Error("pipImageResources setImages: first argument should be an object"),i=_.union(i,t),a=i.length}function e(t,e){e&&!angular.isString(e)&&new Error("pipImageResources getImages: second argument should be a string");var n,a,r=t&&t<i.length?t:-1;return e?(a=e.toLowerCase(),n=_.filter(i,function(t){return!!t.title&&t.title.toLowerCase().indexOf(a)>=0})||[]):n=i,r===-1?_.cloneDeep(n):_.take(n,r)}function n(){var t=_.random(0,a-1);return a>0?_.cloneDeep(i[t]):null}var i=[],a=0;this.setImages=t,this.$get=["$rootScope","$timeout","localStorageService","pipAssert",function(i,a,r,o){return{setImages:t,getImagesCollection:e,getImage:n}}]})}();
!function(){"use strict";angular.module("pipLayout",["pipLayout.Main","pipLayout.Simple","pipLayout.Card","pipLayout.Document","pipLayout.Tiles","pipLayout.Dialog","pipLayout.Split"])}(),function(){"use strict";var i=angular.module("pipLayout.Card",[]);i.directive("pipCard",function(){return{restrict:"EA",link:function(i,t,n){function e(){var e,r,s=$(".pip-main-body"),a=$(".pip-card-container"),l=o.width(),p=s.width(),u=s.height(),c=n.minWidth?Math.floor(n.minWidth):null,d=n.minHeight?Math.floor(n.minHeight):null,h=n.width?Math.floor(n.width):null,m=n.height?Math.floor(n.height):null;if(l<=768)c=null,d=null,h=null,m=null,p=null,u=null;else{var f=l>1200?24:16;p-=2*f,u-=2*f,c=c?Math.min(c,p):null,d=d?Math.min(d,u):null,h=h?Math.min(h,p):null,m=m?Math.min(m,u):null}if(t.css("max-width",p?p+"px":""),t.css("min-width",c?c+"px":""),t.css("width",h?h+"px":""),t.css("height",m?m+"px":""),a.hasClass("pip-outer-scroll"))a.addClass("pip-scroll"),l<=768?(e=0,r=0):(e=a.width()/2-t.width()/2-16,r=Math.max(a.height()/2-t.height()/2-16,0)),t.css("left",e),t.css("top",r),setTimeout(function(){t.css("display","flex")},100);else{t.css("max-height",u?u+"px":""),t.css("min-height",d?d+"px":"");var g=t.find(".pip-header:visible"),w=t.find(".pip-footer:visible"),v=t.find(".pip-body"),y=u||s.height();g.length>0&&(y-=g.outerHeight(!0)),w.length>0&&(y-=w.outerHeight(!0)),v.css("max-height",y+"px")}i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-card"),i.$on("pipWindowResized",e),e(),setTimeout(e,100)}}})}(),function(){"use strict";var i=angular.module("pipLayout.Dialog",[]);i.directive("pipDialog",function(){return{restrict:"EA",controller:"pipDialogController"}}),i.controller("pipDialogController",["$scope","$element","$attrs",function(i,t,n){function e(){var e=o.width(),r=o.height(),s=n.minWidth?Math.floor(n.minWidth):null,a=n.minHeight?Math.floor(n.minHeight):null,l=n.width?Math.floor(n.width):null,p=n.height?Math.floor(n.height):null,u=e>1200?24:16;e-=2*u,r-=2*u,s=s&&s<e?s:null,a=a&&a<r?a:null,l=l?Math.min(l,e):null,p=p?Math.min(p,r):null,t.css("max-width",e?e+"px":""),t.css("max-height",r?r+"px":""),t.css("min-width",s?s+"px":""),t.css("min-height",a?a+"px":""),t.css("width",l?l+"px":""),t.css("height",p?p+"px":""),i.$broadcast("pipLayoutResized")}var o=$(window);t.addClass("pip-dialog"),i.$on("pipWindowResized",e),i.$on("pipResizeLayout",e),e(),o.trigger("resize")}])}(),function(){"use strict";var i=angular.module("pipLayout.Document",[]);i.directive("pipDocument",function(){return{restrict:"EA",controller:"pipDocumentController"}}),i.controller("pipDocumentController",["$scope","$element","$attrs",function(i,t,n){t.addClass("pip-document")}])}(),function(){"use strict";var i=angular.module("pipLayout.Simple",[]);i.directive("pipSimple",function(){return{restrict:"EA",link:function(i,t,n){t.addClass("pip-simple")}}})}(),function(){"use strict";function i(i,t,n){function e(t){var n,e=o.width();if(e>767){e-=48;var u=Math.floor(e/r);n=(r+16)*u-16,n>e&&(u--,n=(r+16)*u-16),u<1?(n=e,p.css("width",n+"px")):p.css("width",r+"px"),s.css("width",n+1+"px")}else e-=32,n=e,p.css("width",n+"px"),s.css("width",n+1+"px");(a!=n||t)&&(a=n,l.layout(),i.$broadcast("pipLayoutResized"))}var o=$(window),r=n.columnWidth?Math.floor(n.columnWidth):440,s=t.children(".pip-tiles-container"),a=null,l=Masonry.data(s[0]);t.addClass("pip-tiles");var p=$('<div class="pip-tile-sizer"></div>');p.appendTo(s),i.$on("pipWindowResized",function(){e(!1)}),i.$on("pipResizeLayout",function(){e(!0)}),e()}function t(i){return null!=i&&(!!i&&(i=i.toString().toLowerCase(),"1"==i||"true"==i))}var n=angular.module("pipLayout.Tiles",["wu.masonry"]);n.directive("pipTiles",function(){return{restrict:"EA",scope:!1,transclude:!0,template:function(i,n){return t(n.pipInfinite)?String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"  pip-scroll-container="\'.pip-tiles\'" pip-infinite-scroll="readScroll()" ></div>':String()+'<div masonry class="pip-tiles-container" load-images="false" preserve-order   ng-transclude column-width=".pip-tile-sizer" item-selector=".pip-tile" masonry-options="tilesOptions"></div>'},controller:["$scope",function(i){i.tilesOptions={gutter:8,isFitWidth:!1,isResizeBound:!1,transitionDuration:0}}],link:i}})}(),function(){"use strict";var i=angular.module("pipLayout.Main",[]);i.directive("pipMain",function(){return{restrict:"EA",controller:"pipMainController"}}),i.directive("pipMainBody",function(){return{restrict:"EA",link:function(i,t){t.addClass("pip-main-body")}}}),i.controller("pipMainController",["$scope","$element","$rootScope",function(i,t,n){function e(){n.$broadcast("pipWindowResized")}var o=$(window);t.addClass("pip-main"),o.bind("resize",e),i.$on("$destroy",function(){n.$size=void 0,o.unbind("resize",e)}),n.$on("pipResizeWindow",function(i){setTimeout(e,0)}),setTimeout(e,0)}])}(),function(){"use strict";var i=angular.module("pipLayout.Split",[]);i.run(["$rootScope","pipSplit",function(i,t){i.$on("$stateChangeStart",function(i,n,e,o,r){var s=$(".pip-split");s.length>0&&(s.removeClass("pip-transition-forward"),s.removeClass("pip-transition-back"),n.name!=o.name&&(t.forwardTransition(n,o)?s.addClass("pip-transition-forward"):s.addClass("pip-transition-back")))})}]),i.provider("pipSplit",function(){function i(i){if(!_.isArray(i)||0==i.length)throw new Error("Transition sequence must be an array of state names");n.push(i)}function t(i,t){for(var e=0;e<n.length;e++){var o=n[e].indexOf(i.name),r=n[e].indexOf(t.name);if(o>-1)return o>r}return!1}var n=[];this.addTransitionSequence=i,this.$get=function(){return{forwardTransition:t}}})}();
!function(t){"use strict";t.module("pipControls",["pipMarkdown","pipToggleButtons","pipRefreshButton","pipColorPicker","pipRoutingProgress","pipPopover","pipImageSlider","pipToasts","pipTagList","pipDate","pipDateRange","pipTimeRangeEdit","pipTimeRange","pipInformationDialog","pipConfirmationDialog","pipOptionsDialog","pipOptionsBigDialog","pipErrorDetailsDialog"]),t.module("pipBasicControls",["pipControls"])}(window.angular),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("color_picker/color_picker.html",'<ul class="pip-color-picker lp0 {{class}}" pip-selected="currentColorIndex" pip-enter-space-press="enterSpacePress($event)"><li tabindex="-1" ng-repeat="color in colors track by color"><md-button tabindex="-1" class="md-icon-button pip-selectable" ng-click="selectColor($index)" aria-label="color" ng-disabled="disabled()"><md-icon ng-style="{\'color\': color}" md-svg-icon="icons:{{ color == currentColor ? \'circle\' : \'radio-off\' }}"></md-icon></md-button></li></ul>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("confirmation_dialog/confirmation_dialog.html",'<md-dialog class="pip-dialog pip-confirmation-dialog layout-column" width="400" md-theme="{{::theme}}"><div class="pip-header text-subhead1"><h3 class="m0">{{:: title | translate }}</h3></div><div class="pip-footer"><div><md-button ng-click="onCancel()">{{:: cancel | translate }}</md-button><md-button class="md-accent" ng-click="onOk()">{{:: ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("date_range/date_range.html",'<div class="pip-date-range layout-row flex" tabindex="-1"><md-input-container ng-show="isDay()" class="tm0 pip-day flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-day w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onDayClick()" ng-model="day" ng-change="onDayChanged()" placeholder="{{dayLabel}}" aria-label="DAY"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{nameDays[$index]}} {{ opt }}</md-option></md-select></md-input-container><md-input-container ng-show="isWeek()" class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-week w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" ng-model="week" ng-change="onWeekChange()" placeholder="{{weekLabel}}" aria-label="WEEK"><md-option ng-value="opt.id" ng-repeat="opt in weeks track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isDay() || isWeek()"></div><md-input-container ng-show="isMonth() && !monthFormatShort" class="tm0 flex min-w72" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><md-input-container ng-show="isMonth() && monthFormatShort" class="flex tm0" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-month w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onMonthClick()" ng-model="month" ng-change="onMonthChanged()" placeholder="{{monthLabel}}" aria-label="MONTH"><md-option ng-value="opt.id" ng-repeat="opt in shortMonths track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container><div class="flex-fixed" ng-class="{\'w16\': $mdMedia(\'gt-xs\'), \'w8\': $mdMedia(\'xs\')}" ng-show="isMonth()"></div><md-input-container class="tm0 flex" ng-class="{\'flex-fixed\' : $mdMedia(\'gt-xs\')}"><md-select class="select-year w-stretch" ng-class="{\'pip-no-line\' : pipNoLine}" ng-disable="{{disableControls}}" md-on-open="onYearClick()" ng-model="year" ng-change="onYearChanged()" placeholder="{{yearLabel}}" aria-label="YEAR"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{ opt }}</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("date/date.html",'<div class="pip-date layout-row flex" tabindex="-1"><md-input-container class="tm0 flex"><md-select class="pip-date-day tm0 flex" ng-disabled="disableControls" ng-model="day" placeholder="{{dayLabel}}" ng-change="onDayChanged()"><md-option ng-value="opt" ng-repeat="opt in days track by opt">{{:: opt }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-month tm0 flex" ng-disabled="disableControls" ng-model="month" placeholder="{{monthLabel}}" ng-change="onMonthChanged()"><md-option ng-value="opt.id" ng-repeat="opt in months track by opt.id">{{:: opt.name }}</md-option></md-select></md-input-container><div class="w16 flex-fixed"></div><md-input-container class="tm0 flex"><md-select class="pip-date-year tm0 flex" ng-disabled="disableControls" ng-model="year" placeholder="{{yearLabel}}" ng-change="onYearChanged()"><md-option ng-value="opt" ng-repeat="opt in years track by opt">{{:: opt }}</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("error_details_dialog/error_details_dialog.html",'<md-dialog class="pip-dialog pip-details-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-body"><div class="pip-header p0 bp8 text-subhead1">{{::\'ERROR_DETAILS\' | translate}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.code || (error.data && error.data.code)">{{::\'CODE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.code || (error.data && error.data.code)">{{error.code || error.data.code}}</div><div class="layout-row layout-align-start-center h48 text-body2 color-secondary-text" ng-if="error.path || (error.data && error.data.path)">{{::\'PATH\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.path || (error.data && error.data.path)">{{error.path || error.data.path}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{::\'ERROR\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.error || (error.data && error.data.error)">{{error.error || error.data.error}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{::\'METHOD\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.method || (error.data && error.data.method)">{{error.method || error.data.method}}</div><div class="h48 text-body2 color-secondary-text layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{::\'MESSAGE\' | translate}}</div><div class="layout-row layout-align-start-center" ng-if="error.message || (error.data && error.data.message)">{{error.message || error.data.message}}</div></div><div class="pip-footer rp16"><div><md-button class="md-accent m0" ng-click="onOk()">{{::\'DISMISS\' | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("information_dialog/information_dialog.html",'<md-dialog class="pip-dialog pip-information-dialog layout-column" width="400" md-theme="{{theme}}"><div class="pip-header"><h3 class="m0">{{ title | translate }}</h3></div><div class="pip-body"><div class="pip-content">{{ content }}</div></div><div class="pip-footer"><div><md-button class="md-accent" ng-click="onOk()">{{ ok | translate }}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("options_dialog/options_dialog.html",'<md-dialog class="pip-dialog pip-options-dialog layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 tp0 rp0 bp24 pip-scroll"><div class="pip-header"><h3 class="m0 bm16 text-title">{{::title | translate}}</h3><div ng-show="deletedTitle" class="bp16 tp8 text-subhead1 divider-bottom"><md-checkbox ng-model="deleted" aria-label="CHECKBOX" class="m0">{{::deletedTitle | translate}}</md-checkbox></div></div><div class="pip-content"><md-radio-group ng-model="selectedOptionName" class="pip-list md-primary" md-no-ink="true" ng-keypress="onKeyPress($event)" tabindex="0"><div ng-repeat="option in options" class="pip-list-item p0" md-ink-ripple="" ui-event="{ click: \'onOptionSelect($event, option)\' }" ng-class="{ selected: option.name == selectedOptionName }"><div class="pip-list-item"><md-icon class="pip-option-icon rm12" md-svg-icon="icons:{{option.icon}}" ng-if="option.icon"></md-icon><div class="pip-option-title">{{::option.title | translate}}</div><md-radio-button ng-value="option.name" tabindex="-1" aria-label="{{::option.title | translate}}"></md-radio-button></div></div></md-radio-group></div></md-dialog-content><div class="pip-footer"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("options_dialog/options_dialog_big.html",'<md-dialog class="pip-dialog pip-options-dialog-big layout-column" min-width="400" md-theme="{{theme}}"><md-dialog-content class="pip-body p0 pip-scroll" ng-class="{\'bp24\': !noActions}"><div class="pip-header" ng-class="{\'header-hint\': noTitle && hint}"><h3 class="m0 text-title" ng-if="!noTitle">{{::title | translate}}</h3><div ng-show="noTitle && hint" class="dialog-hint layout-row layout-align-start-center"><div class="w40" flex-fixed=""><md-icon md-svg-icon="icons:info-circle-outline"></md-icon></div><div>{{::hint | translate}}</div></div></div><div class="pip-divider" ng-if="!noTitle"></div><div class="pip-content"><div class="h8" ng-if="noTitle && hint"></div><md-list class="pip-menu pip-ref-list w-stretch" pip-selected="optionIndex" index="{{optionIndex }}" pip-select="onSelected($event)"><md-list-item class="pip-ref-list-item pip-selectable layout-row layout-align-start-center" ng-class="{\'selected\' : option.name == selectedOptionName, \'divider-bottom\': $index != options.length - 1}" md-ink-ripple="" xxxxng-keypress="onKeyPress($event)" ng-keyup="onKeyUp($event, $index)" ng-repeat="option in options"><div class="pip-content line-height-string max-w100-stretch" ng-click="onOptionSelect($event, option)"><p class="pip-title rp24-flex" ng-if="option.title" style="margin-bottom: 4px !important;">{{::option.title | translate}}</p><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.subtitle">{{::option.subtitle | translate}}</div><div class="pip-subtitle rp24-flex" style="height: inherit" ng-if="option.text" pip-translate-html="{{::option.text | translate}}"></div></div></md-list-item></md-list></div><div class="h8" ng-if="noActions"></div></md-dialog-content><div class="pip-footer" ng-if="!noActions"><div><md-button class="pip-cancel" ng-click="onCancel()">{{::\'CANCEL\' | translate}}</md-button><md-button class="pip-submit md-accent" ng-click="onSelect()" style="margin-right: -6px">{{::applyButtonTitle | translate}}</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("popover/popover.template.html",'<div ng-if="params.templateUrl" class="pip-popover flex layout-column" ng-click="onPopoverClick($event)" ng-include="params.templateUrl"></div><div ng-if="params.template" class="pip-popover" ng-click="onPopoverClick($event)"></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("progress/routing_progress.html",'<div class="pip-routing-progress layout-column layout-align-center-center" ng-show="$routing || $reset || toolInitialized"><div class="loader"><svg class="circular" viewbox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle></svg></div><img src="images/Logo_animation.svg" height="40" width="40" class="pip-img"><md-progress-circular md-diameter="96" class="fix-ie"></md-progress-circular></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("tags/tag_list.html",'<div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && !pipTypeLocal"><span>{{pipType.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4 pip-type-chip pip-type-chip-left {{\'bg-\' + pipType + \'-chips\'}}" ng-if="pipType && pipTypeLocal"><span>{{pipTypeLocal.toUpperCase() | translate | uppercase}}</span></div><div class="pip-chip rm4" ng-repeat="tag in pipTags"><span>{{::tag}}</span></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("time_range/time_range.html",'<p><span ng-if="data.start != null">{{data.start | formatShortDateTime}}</span> <span class="rm4 lm4" ng-if="data.start && data.end">-</span> <span ng-if="data.end != null">{{data.end | formatShortDateTime}}</span></p>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("time_range_edit/time_range_edit.html",'<div class="event-edit layout-row layout-xs-column flex layout-align-start-start"><div flex="47" class="w-stretch rm24-flex0"><p class="text-caption text-grey tm0">{{startLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container" flex="49"><md-datepicker ng-model="data.startDate" xmd-placeholder="{{startLabel}}" ng-change="onChangeStartDate()" ng-disabled="isDisabled()" aria-label="START-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="START-TIME" class="tm0 bm0" ng-model="data.startTime" ng-disabled="isDisabled()" ng-change="onChangeStartTime()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div><div flex="47" class="w-stretch"><p class="text-caption text-grey tm0">{{endLabel}}</p><div class="layout-row layout-align-space-between-center"><div class="rm16 pip-datepicker-container flex-49"><md-datepicker ng-model="data.endDate" xmd-placeholder="{{endLabel}}" ng-disabled="isDisabled()" ng-change="onChangeEndDate()" aria-label="END-DATE"></md-datepicker></div><div flex=""><md-input-container class="w-stretch tm0"><md-select aria-label="END-TIME" class="tm0 bm0" ng-model="data.endTime" ng-change="onChangeEndTime()" ng-disabled="isDisabled()"><md-option ng-value="opt.id" ng-repeat="opt in intervalTimeCollection track by opt.id">{{ opt.time }}</md-option></md-select></md-input-container></div></div></div></div>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("toast/toast.html",'<md-toast class="md-action pip-toast" ng-class="{\'pip-error\': toast.type==\'error\', \'pip-column-toast\': toast.type == \'error\' || toast.actions.length > 1 || actionLenght > 4, \'pip-no-action-toast\': actionLenght == 0}" style="height:initial; max-height: initial;"><span class="flex-var m0 pip-text" ng-bind-html="message"></span><div class="layout-row layout-align-end-start" ng-if="actions.length > 0 || (toast.type==\'error\' && toast.error)"><md-button class="flex-fixed m0 lm8" ng-if="toast.type==\'error\' && toast.error" ng-click="onDetails()">Details</md-button><md-button class="flex-fixed m0 lm8" ng-click="onAction(action)" ng-repeat="action in actions" aria-label="{{::action| translate}}">{{::action| translate}}</md-button></div></md-toast>')}])}(),function(t){try{t=angular.module("pipBasicControls.Templates")}catch(e){t=angular.module("pipBasicControls.Templates",[])}t.run(["$templateCache",function(t){t.put("toggle_buttons/toggle_buttons.html",'<div class="pip-toggle-buttons flex layout-row {{class}}" pip-selected="bufButtonIndex" pip-enter-space-press="enterSpacePress($event)" ng-if="$mdMedia(\'gt-xs\')"><md-button tabindex="-1" ng-repeat="button in buttons" ng-class="{\'md-accent md-raised selected color-accent-bg\' : currentButtonIndex == $index}" ng-attr-style="{{ \'background-color:\' + (currentButtonIndex == $index ? button.backgroundColor : \'\') + \'!important\' }}" class="pip-selectable pip-chip-button flex" ng-click="buttonSelected($index, $event)" ng-disabled="button.disabled || disabled()">{{button.name || button.title | translate}} <span ng-if="button.checked || button.complete || button.filled" class="pip-tagged">*</span></md-button></div><md-input-container class="md-block" ng-if="$mdMedia(\'xs\')"><md-select ng-model="currentButtonIndex" ng-disabled="disabled()" aria-label="DROPDOWN" md-on-close="buttonSelected(currentButtonIndex)"><md-option ng-repeat="action in buttons" value="{{ ::$index }}">{{ (action.title || action.name) | translate }} <span ng-if="action.checked || action.complete || action.filled" class="pip-tagged">*</span></md-option></md-select></md-input-container>')}])}(),function(t){"use strict";var e=t.module("pipConfirmationDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);e.config(["pipTranslateProvider",function(t){t.translations("en",{CONFIRM_TITLE:"Confirm"}),t.translations("ru",{CONFIRM_TITLE:"Подтвердите"})}]),e.factory("pipConfirmationDialog",["$mdDialog",function(t){return{show:function(e,n,a){t.show({targetEvent:e.event,templateUrl:"confirmation_dialog/confirmation_dialog.html",controller:"pipConfirmationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){n&&n()},function(){a&&a()})}}}]),e.controller("pipConfirmationDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params",function(t,e,n,a,o){t.theme=e.$theme,t.title=o.title||"CONFIRM_TITLE",t.ok=o.ok||"OK",t.cancel=o.cancel||"CANCEL",t.onCancel=function(){n.cancel()},t.onOk=function(){n.hide()}}])}(window.angular),function(t,e){"use strict";var n=t.module("pipColorPicker",["pipUtils","pipFocused","pipBasicControls.Templates"]);n.directive("pipColorPicker",function(){return{restrict:"EA",scope:{ngDisabled:"&",colors:"=pipColors",currentColor:"=ngModel",colorChange:"&ngChange"},templateUrl:"color_picker/color_picker.html",controller:"pipColorPickerController"}}),n.controller("pipColorPickerController",["$scope","$element","$attrs","$timeout",function(t,n,a,o){var i=["purple","lightgreen","green","darkred","pink","yellow","cyan"];t["class"]=a["class"]||"",(!t.colors||e.isArray(t.colors)&&0===t.colors.length)&&(t.colors=i),t.currentColor=t.currentColor||t.colors[0],t.currentColorIndex=t.colors.indexOf(t.currentColor),t.disabled=function(){return!t.ngDisabled||t.ngDisabled()},t.selectColor=function(e){t.disabled()||(t.currentColorIndex=e,t.currentColor=t.colors[t.currentColorIndex],o(function(){t.$apply()}),t.colorChange&&t.colorChange())},t.enterSpacePress=function(e){t.selectColor(e.index)}}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipDate",["pipBasicControls.Templates"]);n.directive("pipDate",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",ngChange:"&"},templateUrl:"date/date.html",controller:"pipDateController"}}),n.controller("pipDateController",["$scope","$element","pipTranslate",function(t,n,a){function o(t,e){var n,a=31,o=[];for(4===t||6===t||9===t||11===t?a=30:2===t&&(a=e&&e%4===0?29:28),n=1;n<=a;n++)o.push(n);return o}function i(){var t,e=[];for(t=1;t<=12;t++)e.push({id:t,name:a.translate("MONTH_"+t)});return e}function l(){var e,n=(new Date).getFullYear(),a="future"===t.timeMode?n:n-100,o="past"===t.timeMode?n:n+100,i=[];if("past"===t.timeMode)for(e=o;e>=a;e--)i.push(e);else for(e=a;e<=o;e++)i.push(e);return i}function r(){var e=o(t.month,t.year);t.days.length!==e.length&&(t.day>e.length&&(t.day=e.length),t.days=e)}function s(n){var a=n?e.isDate(n)?n:new Date(n):null,i=a?a.getDate():null,l=a?a.getMonth()+1:null,r=a?a.getFullYear():null;t.month!==l&&t.year!==r&&(t.days=o(t.month,t.year)),t.day=i,t.month=l,t.year=r}function p(){var e;t.day&&t.month&&t.year&&(e=new Date(t.year,t.month-1,t.day,0,0,0,0),t.model=e,t.ngChange())}var d;t.onDayChanged=function(){p()},t.onMonthChanged=function(){r(),p()},t.onYearChanged=function(){r(),p()},d=t.model?e.isDate(t.model)?t.model:new Date(t.model):null,t.day=d?d.getDate():null,t.month=d?d.getMonth()+1:null,t.year=d?d.getFullYear():null,t.dayLabel=a.translate("DAY"),t.monthLabel=a.translate("MONTH"),t.yearLabel=a.translate("YEAR"),t.days=o(t.month,t.year),t.months=i(),t.years=l(),t.disableControls=!!t.disabled&&t.disabled(),t.$watch("model",function(t){s(t)}),t.$watch(t.disabled,function(e){t.disableControls=e})}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipDateRange",[]);n.directive("pipDateRange",function(){return{restrict:"EA",require:"ngModel",scope:{timeMode:"@pipTimeMode",disabled:"&ngDisabled",model:"=ngModel",pipChanged:"&",pipDateRangeType:"@",pipDateFormat:"@",pipNoLine:"@"},templateUrl:"date_range/date_range.html",controller:"pipDateRangeController"}}),n.controller("pipDateRangeController",["$scope","$element","pipTranslate","$mdMedia","$rootScope",function(t,n,a,o,i){function l(){$.day=t.day,$.month=t.month,$.year=t.year,$.week=t.week,$.dateRangeType=t.pipDateRangeType,$.model=t.model}function r(){t.days=c(t.month,t.year),t.weeks=g(t.month,t.year),t.months=h(),t.shortMonths=h(!0),t.years=f()}function s(){(!x.model||x.model&&x.model.getTime()>=t.model.getTime())&&t.weeks&&t.weeks[t.week]&&t.weeks[t.week].id<=0&&(t.month<12?t.month+=1:(t.month=1,t.year+=1),r())}function p(){var e;e=t.model?new Date(t.model):null,t.day=e?e.getUTCDate():null,t.month=e?e.getUTCMonth()+1:null,t.year=e?e.getUTCFullYear():null,t.week=e?u(t.day,t.month-1,t.year):null,r(),"weekly"===t.pipDateRangeType?(s(),T()):v(),b()}function d(t,e){var n=31;return 4===t||6===t||9===t||11===t?n=30:2===t&&(n=e&&e%4===0?29:28),n}function c(e,n){var a,o,l,r;for(r=i.$language||"en",a=d(e,n),t.nameDays=[],o=[],l=1;l<=a;l++)o.push(l),t.nameDays.push(t.daysWeek[r][new Date(n,e-1,l).getDay()]);return o}function u(t,e,n){var a,o,i;return a=new Date(Date.UTC(n,e,t)),o=a.getUTCDay()?a.getUTCDay():7,i=1===o?t:t+1-o}function m(t,e,n){var a,o;return a=t+6>e?e-t-6:t+6,o=t>0?t:n+t,o.toString()+" - "+Math.abs(a).toString()}function g(t,e){var n,a,o,i;for(n=[],a=d(t,e),i=u(1,t-1,e),o=t-1?d(t-1,e):d(12,e-1);i<a+1;)n.push({id:i,name:m(i,a,o)}),i+=7;return n}function h(){var t,e;for(t=[],e=1;e<=12;e++)t.push({id:e,name:a.translate("MONTH_"+e)});return t}function f(){var e,n,a,o=[];switch(t.timeMode){case"future":e=w,a=w+100;break;case"past":e=w-100,a=w;break;case"now":e=w-50,a=w+100;break;default:e=w-50,a=w+50}if("future"===t.timeMode)for(n=e;n<=a;n++)o.push(n);else for(n=a;n>=e;n--)o.push(n);return o}function v(){var e=c(t.month,t.year);switch(t.pipDateRangeType){case"monthly":t.day=1;break;case"yearly":t.month=1,t.day=1;break;default:t.days.length!==e.length&&t.day>e.length&&(t.day=e.length)}t.days=e}function T(){var e;e=g(t.month,t.year),t.week=u(t.week,t.month-1,t.year),t.weeks=e}function y(e){var n,a,o,i,l;n=e?new Date(e):null,a=n?n.getUTCDate():null,o=n?n.getUTCMonth()+1:null,i=n?n.getUTCFullYear():null,l=n?u(a,o-1,i):null,t.day===a&&t.month===o&&t.year===i&&t.week===l||(t.day=a,t.month=o,t.year=i,t.week=l,t.days=c(t.month,t.year),t.weeks=g(t.month,t.year))}function b(){var n;"weekly"===t.pipDateRangeType?(n=new Date(t.year,t.month-1,t.week,0,0,0,0),n=new Date(n.getTime()-6e4*n.getTimezoneOffset()),t.model=n):(n=new Date(t.year,t.month-1,t.day,0,0,0,0),n=new Date(n.getTime()-6e4*n.getTimezoneOffset()),t.model=n),x=e.cloneDeep($),l(),t.onChange()}var C,w,D,k,x={},$={};C=new Date,w=C.getUTCFullYear(),D=C.getUTCMonth()+1,k=C.getUTCDate(),t.daysWeek={en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},t.onDayChanged=function(){b()},t.onMonthChanged=function(){if("weekly"===t.pipDateRangeType){var e,n;e=new Date(Date.UTC(t.year,t.month-1,1)),n=e.getUTCDay()?e.getUTCDay():7,t.week=u(n,t.month-1,t.year),s(),T()}else v();b()},t.onYearChanged=function(){var e,n;e=new Date(Date.UTC(t.year,t.month-1,1)),n=e.getUTCDay()?e.getUTCDay():7,"weekly"===t.pipDateRangeType?(t.week=u(n,t.month-1,t.year),T(),s()):v(),b()},t.onWeekChange=function(){"weekly"===t.pipDateRangeType?(T(),s()):v(),b()},t.isDay=function(){return"daily"===t.pipDateRangeType},t.isWeek=function(){return"weekly"===t.pipDateRangeType},t.isMonth=function(){return"daily"===t.pipDateRangeType||"weekly"===t.pipDateRangeType||"monthly"===t.pipDateRangeType},t.onChange=function(){t.pipChanged&&t.pipChanged()},t.$mdMedia=o,p(),t.disableControls=!!t.disabled&&t.disabled(),t.$watch("model",function(t,e){t!==e&&y(t)}),t.$watch(t.disabled,function(e){t.disableControls=e}),t.$watch("pipDateRangeType",function(t,e){t!==e&&e&&p()}),t.onYearClick=function(){t.year||(t.year=w)},t.onMonthClick=function(){t.month||(t.month=D)},t.onDayClick=function(){t.year||(t.day=k)}}])}(window.angular,window._),function(t){"use strict";var e=t.module("pipErrorDetailsDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);e.config(["pipTranslateProvider",function(t){t.translations("en",{ERROR_DETAILS:"Error details",CODE:"Code",PATH:"Path",ERROR:"Error code",METHOD:"Method",MESSAGE:"Message"}),t.translations("ru",{ERROR_DETAILS:"Детали ошибки",CODE:"Код",PATH:"Путь",ERROR:"Код ошибки",METHOD:"Метод",MESSAGE:"Сообщение"})}]),e.factory("pipErrorDetailsDialog",["$mdDialog",function(t){return{show:function(e,n,a){t.show({targetEvent:e.event,templateUrl:"error_details_dialog/error_details_dialog.html",controller:"pipErrorDetailsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){n&&n()},function(){a&&a()})}}}]),e.controller("pipErrorDetailsDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params",function(t,e,n,a,o){t.error=o.error,t.ok=o.ok||"OK",t.cancel=o.cancel||"CANCEL",t.onCancel=function(){n.cancel()},t.onOk=function(){n.hide()}}])}(window.angular),function(t,e,n){"use strict";var a=t.module("pipImageSlider",[]);a.directive("pipImageSlider",function(){return{scope:!1,controller:["$scope","$element","$attrs","$parse","$timeout","$interval","$pipImageSlider",function(t,a,o,i,l,r,s){function p(){T&&T(t,y)}function d(){f=r(function(){g=y+1===m.length?0:y+1,h="next",v()},w||C)}function c(){r.cancel(f)}function u(){c(),d()}var m,g,h,f,v,T=i(o.pipImageSliderIndex).assign,y=0,b=i(o.pipAnimationType)(t),C=4500,w=i(o.pipAnimationInterval)(t);a.addClass("pip-image-slider"),a.addClass("pip-animation-"+b),t.swipeStart=0,p(),l(function(){m=a.find(".pip-animation-block"),m.length>0&&n(m[0]).addClass("pip-show")}),d(),v=e.throttle(function(){s.toBlock(b,m,y,g,h),y=g,p()},600),t.nextBlock=function(){u(),g=y+1===m.length?0:y+1,h="next",v()},t.prevBlock=function(){u(),g=y-1<0?m.length-1:y-1,h="prev",v()},t.slideTo=function(t){t===y||t>m.length-1||(u(),g=t,h=t>y?"next":"prev",v())},a.on("$destroy",function(){c()})}]}}),a.directive("pipSliderButton",function(){return{scope:{},controller:["$scope","$element","$parse","$attrs",function(e,n,a,o){var i=a(o.pipButtonType)(e),l=a(o.pipSliderId)(e);n.on("click",function(){l&&i&&t.element(document.getElementById(l)).scope()[i+"Block"]()})}]}}),a.directive("pipSliderIndicator",function(){return{scope:!1,controller:["$scope","$element","$parse","$attrs",function(e,n,a,o){var i=a(o.pipSliderId)(e),l=a(o.pipSlideTo)(e);n.css("cursor","pointer"),n.on("click",function(){!i||l&&l<0||t.element(document.getElementById(i)).scope().slideTo(l)})}]}}),a.service("$pipImageSlider",["$timeout",function(t){function e(e,n){e.removeClass("animated").addClass("pip-next"),t(function(){e.addClass("animated").addClass("pip-show").removeClass("pip-next"),n.addClass("animated").removeClass("pip-show")},100)}function a(e,n){e.removeClass("animated"),t(function(){e.addClass("animated").addClass("pip-show"),n.addClass("animated").addClass("pip-next").removeClass("pip-show"),t(function(){n.removeClass("pip-next").removeClass("animated")},i-100)},100)}function o(t,o,i,l,r){var s=n(o[i]),p=l,d=n(o[p]);"carousel"===t?(n(o).removeClass("pip-next").removeClass("pip-prev"),r&&"prev"===r&&a(d,s),r&&"next"===r&&e(d,s),(!r||"next"!==r&&"prev"!==r)&&l&&l<i?a(d,s):e(d,s)):(s.addClass("animated").removeClass("pip-show"),d.addClass("animated").addClass("pip-show"))}var i=550;return{nextCarousel:e,prevCarousel:a,toBlock:o}}])}(window.angular,window._,window.jQuery),function(t,e){"use strict";var n=t.module("pipInformationDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);n.config(["pipTranslateProvider",function(t){t.translations("en",{INFORMATION_TITLE:"Information"}),t.translations("ru",{INFORMATION_TITLE:"Информация"})}]),n.factory("pipInformationDialog",["$mdDialog",function(t){return{show:function(e,n){t.show({targetEvent:e.event,templateUrl:"information_dialog/information_dialog.html",controller:"pipInformationDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(){n&&n()})}}}]),n.controller("pipInformationDialogController",["$scope","$rootScope","$mdDialog","pipTranslate","params","pipUtils",function(t,n,a,o,i,l){var r,s;t.theme=n.$theme,t.title=i.title||"INFORMATION_TITLE",r=o.translate(i.message),i.item&&(s=e.truncate(i.item,25),r=l.sprintf(r,s)),t.content=r,t.ok=i.ok||"OK",t.onOk=function(){a.hide()}}])}(window.angular,window._),function(t,e,n){"use strict";var a=t.module("pipMarkdown",["ngSanitize","pipUtils","pipTranslate"]);a.config(["pipTranslateProvider",function(t){t.translations("en",{MARKDOWN_ATTACHMENTS:"Attachments:",checklist:"Checklist",documents:"Documents",pictures:"Pictures",location:"Location",time:"Time"}),t.translations("ru",{MARKDOWN_ATTACHMENTS:"Вложения:",checklist:"Список",documents:"Документы",pictures:"Изображения",location:"Местонахождение",time:"Время"})}]),a.directive("pipMarkdown",["$parse","pipUtils","pipTranslate",function(t,a,o){return{restrict:"EA",scope:!1,link:function(i,l,r){function s(t){var e="",a=[];return n.each(t,function(t){t.type&&"text"!==t.type&&(0===e.length&&(e=o.translate("MARKDOWN_ATTACHMENTS")),a.indexOf(t.type)<0&&(a.push(t.type),e+=a.length>1?", ":" ",e+=o.translate(t.type)));
}),e}function p(t){var a,o,i,p,d;n.isArray(t)?(d=n.find(t,function(t){return"text"===t.type&&t.text}),a=d?d.text:s(t)):a=t,o=r.pipLineCount&&n.isNumber(u()),o=o&&a&&a.length>0,p={gfm:!0,tables:!0,breaks:!0,sanitize:!0,pedantic:!0,smartLists:!0,smartypents:!1},a=e(a||"",p),o&&(i=1.5*u()),l.html("<div"+(o?c()?'class="pip-markdown-content pip-markdown-list" style="max-height: '+i+'em">':' class="pip-markdown-content" style="max-height: '+i+'em">':c()?' class="pip-markdown-list">':">")+a+"</div>"),l.find("a").attr("target","blank"),!c()&&o&&l.append('<div class="pip-gradient-block"></div>')}var d=t(r.pipText),c=t(r.pipList),u=t(r.pipLineCount);p(d(i)),a.toBoolean(r.pipRebind)&&i.$watch(d,function(t){p(t)}),i.$on("pipWindowResized",function(){p(d(i))}),l.addClass("pip-markdown")}}}])}(window.angular,window.marked,window._),function(t,e,n){"use strict";var a=t.module("pipOptionsDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);a.config(["pipTranslateProvider",function(t){t.translations("en",{OPTIONS_TITLE:"Choose Option"}),t.translations("ru",{OPTIONS_TITLE:"Выберите опцию"})}]),a.factory("pipOptionsDialog",["$mdDialog",function(t){return{show:function(e,n,a){function o(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options_dialog/options_dialog.html",controller:"pipOptionsDialogController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){o(),n&&n(t)},function(){o(),a&&a()})}}}]),a.controller("pipOptionsDialogController",["$scope","$rootScope","$mdDialog","params",function(t,a,o,i){function l(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}t.theme=a.$theme,t.title=i.title||"OPTIONS_TITLE",t.options=i.options,t.selectedOption=n.find(i.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.applyButtonTitle=i.appleButtonTitle||"SELECT",t.deleted=i.deleted,t.deletedTitle=i.deletedTitle,t.onOptionSelect=function(e,n){e.stopPropagation(),t.selectedOptionName=n.name},t.onKeyPress=function(e){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),t.onSelect())},t.onCancel=function(){o.cancel()},t.onSelect=function(){var e;e=n.find(i.options,{name:t.selectedOptionName}),o.hide({option:e,deleted:t.deleted})},setTimeout(l,500)}])}(window.angular,window.jQuery,window._),function(t,e,n){"use strict";var a=t.module("pipOptionsBigDialog",["ngMaterial","pipUtils","pipTranslate","pipBasicControls.Templates"]);a.config(["pipTranslateProvider",function(t){t.translations("en",{OPTIONS_TITLE:"Choose Option"}),t.translations("ru",{OPTIONS_TITLE:"Выберите опцию"})}]),a.factory("pipOptionsBigDialog",["$mdDialog",function(t){return{show:function(e,n,a){function o(){e.event&&e.event.currentTarget&&e.event.currentTarget.focus()}e.event&&(e.event.stopPropagation(),e.event.preventDefault()),t.show({targetEvent:e.event,templateUrl:"options_dialog/options_dialog_big.html",controller:"pipOptionsDialogBigController",locals:{params:e},clickOutsideToClose:!0}).then(function(t){o(),n&&n(t)},function(){o(),a&&a()})}}}]),a.controller("pipOptionsDialogBigController",["$scope","$rootScope","$mdDialog","params",function(t,a,o,i){function l(){var t;t=e(".pip-options-dialog .pip-list"),t.focus()}t.theme=a.$theme,t.title=i.title||"OPTIONS_TITLE",t.options=i.options,t.noActions=i.noActions||!1,t.noTitle=i.noTitle||!1,t.hint=i.hint||"",t.selectedOption=n.find(i.options,{active:!0})||{},t.selectedOptionName=t.selectedOption.name,t.optionIndex=n.findIndex(i.options,t.selectedOption),t.applyButtonTitle=i.applyButtonTitle||"SELECT",t.deleted=i.deleted,t.deletedTitle=i.deletedTitle,t.onOptionSelect=function(e,n){e.stopPropagation(),t.selectedOptionName=n.name,t.noActions&&t.onSelect()},t.onSelected=function(){t.selectedOptionName=t.options[t.optionIndex].name,t.noActions},t.onKeyUp=function(e,n){32!==e.keyCode&&13!==e.keyCode||(e.stopPropagation(),e.preventDefault(),void 0!==n&&n>-1&&n<t.options.length&&(t.selectedOptionName=t.options[n].name,t.onSelect()))},t.onCancel=function(){o.cancel()},t.onSelect=function(){var e;e=n.find(t.options,{name:t.selectedOptionName}),o.hide({option:e,deleted:t.deleted})},setTimeout(l,500)}])}(window.angular,window.jQuery,window._),function(t,e,n){"use strict";var a=t.module("pipPopover",["pipAssert"]);a.directive("pipPopover",function(){return{restrict:"EA",scope:!0,templateUrl:"popover/popover.template.html",controller:["$scope","$rootScope","$element","$timeout","$compile",function(t,a,o,i,l){function r(){g.addClass("opened"),e(".pip-popover-backdrop").focus(),t.params.timeout&&i(function(){p()},t.params.timeout)}function s(){t.params.cancelCallback&&t.params.cancelCallback(),p()}function p(){g.removeClass("opened"),i(function(){g.remove()},100)}function d(t){t.stopPropagation()}function c(){if(t.params.element){var n=e(t.params.element),a=n.offset(),o=n.width(),i=n.height(),l=e(document).width(),r=e(document).height(),s=g.find(".pip-popover");a&&s.css("max-width",l-(l-a.left)).css("max-height",r-(a.top+i)-32,0).css("left",a.left-s.width()+o/2).css("top",a.top+i+16)}}function u(){if(t.params.calcHeight!==!1){var e=g.find(".pip-popover"),n=e.find(".pip-title"),a=e.find(".pip-footer"),o=e.find(".pip-content"),i=e.height()-n.outerHeight(!0)-a.outerHeight(!0);o.css("max-height",Math.max(i,0)+"px").css("box-sizing","border-box")}}function m(){g.find(".pip-popover").find(".pip-content").css("max-height","100%"),c(),u()}var g,h;g=e(".pip-popover-backdrop"),g.on("click keydown scroll",s),g.addClass(t.params.responsive!==!1?"pip-responsive":""),i(function(){c(),t.params.template&&(h=l(t.params.template)(t),o.find(".pip-popover").append(h)),r()}),i(function(){u()},200),t.onPopoverClick=d,t=n.defaults(t,t.$parent),a.$on("pipPopoverResize",m),e(window).resize(m)}]}}),a.service("$pipPopover",["$compile","$rootScope","$timeout",function(t,a,o){function i(o){var i,r,p,d;i=e("body"),i.find("md-backdrop").length>0||(l(),r=a.$new(),p=o&&n.isObject(o)?o:{},r.params=p,r.locals=p.locals,d=t(s)(r),i.append(d))}function l(){var t=e(".pip-popover-backdrop");t.removeClass("opened"),o(function(){t.remove()},100)}function r(){a.$broadcast("pipPopoverResize")}var s;return s="<div class='pip-popover-backdrop {{ params.class }}' ng-controller='params.controller' tabindex='1'> <pip-popover pip-params='params'> </pip-popover> </div>",{show:i,hide:l,resize:r}}])}(window.angular,window.jQuery,window._),function(t){"use strict";var e=t.module("pipRoutingProgress",["ngMaterial"]);e.directive("pipRoutingProgress",function(){return{restrict:"EA",replace:!0,templateUrl:"progress/routing_progress.html"}})}(window.angular),function(t){"use strict";var e=t.module("pipRefreshButton",["ngMaterial"]);e.directive("pipRefreshButton",["$parse",function(t){return{restrict:"EA",scope:!1,template:String()+'<md-button class="pip-refresh-button" tabindex="-1" ng-click="onClick($event)" aria-label="REFRESH"><md-icon md-svg-icon="icons:refresh"></md-icon><span class="pip-refresh-text"></span></md-button>',replace:!1,link:function(e,n,a){function o(){c.hide()}var i,l,r,s=t(a.pipText),p=t(a.pipVisible),d=t(a.pipRefresh),c=n.children(".md-button"),u=c.children(".pip-refresh-text");r=function(){l=s(e),u.text(l),c.show(),i=c.width(),c.css("margin-left","-"+i/2+"px")},e.onClick=function(){d(e)},e.$watch(p,function(t){t?r():o()}),e.$watch(s,function(t){u.text(t)})}}}])}(window.angular),function(t){"use strict";var e=t.module("pipTagList",["pipCore"]);e.directive("pipTagList",["$parse",function(t){return{restrict:"EA",scope:{pipTags:"=",pipType:"=",pipTypeLocal:"="},templateUrl:"tags/tag_list.html",controller:["$scope","$element","$attrs","pipUtils",function(e,n,a,o){var i;i=t(a.pipTags),n.css("display","block"),e.tags=i(e),o.toBoolean(a.pipRebind)&&e.$watch(i,function(){e.tags=i(e)}),n.addClass("pip-tag-list")}]}}])}(window.angular),function(t,e){"use strict";var n=t.module("pipTimeRange",["pipUtils"]);n.directive("pipTimeRange",["pipUtils",function(t){return{restrict:"EA",scope:{pipStartDate:"=",pipEndDate:"="},templateUrl:"time_range/time_range.html",link:function(n,a,o){function i(t){return t?new Date(t):null}function l(){null!==n.pipStartDate&&void 0!==n.pipStartDate&&(n.data.start=e.isDate(n.pipStartDate)?n.pipStartDate:i(n.pipStartDate))}function r(){null!==n.pipEndDate&&void 0!==n.pipEndDate&&(n.data.end=e.isDate(n.pipEndDate)?n.pipEndDate:i(n.pipEndDate))}n.data={},n.data.start=null,n.data.end=null,l(),r(),t.toBoolean(o.pipRebind)&&(n.$watch("pipStartDate",function(){n.data.start=null,l()}),n.$watch("pipEndDate",function(){n.data.end=null,r()})),a.addClass("pip-time-range")}}}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipTimeRangeEdit",["pipUtils","pipTranslate"]);n.directive("pipTimeRangeEdit",function(){return{restrict:"EA",scope:{pipStartDate:"=",pipChanged:"&",pipEndDate:"=",pipStartLabel:"@",pipEndLabel:"@",disabled:"&ngDisabled",pipSize:"="},templateUrl:"time_range_edit/time_range_edit.html",controller:"pipTimeRangeEditController"}}),n.controller("pipTimeRangeEditController",["$scope","$element","$attrs","pipDates","pipTranslate",function(t,n,a,o,i){function l(t){return t?new Date(t):null}function r(){var e,n;return t.data.startDate&&t.data.endDate?(e=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),n=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n-e):null}function s(){var e,n,a;return t.data.startDate?(t.data.startTime||(t.data.endTime?t.data.startTime=0===t.data.endTime?0:t.data.endTime-30:(e=new Date,e=e.getTime()-o.toStartDay(e),t.data.startTime=30*Math.floor(e/18e5))),t.data.endDate?(n=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),void(t.data.duration?(a=new Date(n.getTime()+t.data.duration),t.data.endDate=o.toStartDay(a),a=a.getTime()-t.data.endDate.getTime(),t.data.endTime=30*Math.floor(a/18e5)):(a=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n>=a&&(t.data.endDate=o.toStartDay(new Date(n.getTime()+18e5)),t.data.endTime=(t.data.startTime+30)%1440)))):void(t.data.endTime=null)):void(t.data.startTime=null)}function p(){var e,n,a;return t.data.endDate?(t.data.endTime||(t.data.startTime?t.data.endTime=1410===t.data.startTime?1410:t.data.startTime+30:(e=new Date,e=e.getTime()-o.toStartDay(e),t.data.endTime=30*Math.floor(e/18e5))),t.data.startDate?(n=new Date(t.data.startDate.getTime()+60*t.data.startTime*1e3),a=new Date(t.data.endDate.getTime()+60*t.data.endTime*1e3),n>=a&&(t.data.startDate=o.toStartDay(new Date(a.getTime()-18e5)),t.data.startTime=t.data.endTime%1440===0?1410:t.data.endTime-30),void(t.data.duration=r())):void(t.data.startTime=null)):void(t.data.endTime=null)}function d(){var e;t.data.bind=!1,t.data.startDate&&(e=t.data.startTime?60*t.data.startTime*1e3:0,t.pipStartDate=new Date(t.data.startDate.getTime()+e)),t.data.endDate&&(e=t.data.endTime?60*t.data.endTime*1e3:0,t.pipEndDate=new Date(t.data.endDate.getTime()+e)),t.data.bind=!0}function c(){var n,a;null!==t.pipStartDate&&void 0!==t.pipStartDate&&(n=e.isDate(t.pipStartDate)?t.pipStartDate:null,n||(n=l(t.pipStartDate)),t.data.startDate=o.toStartDay(n),t.data.startTime=(new Date(n)-t.data.startDate)/6e4),null!==t.pipEndDate&&void 0!==t.pipEndDate&&(a=e.isDate(t.pipEndDate)?t.pipEndDate:null,n||(a=l(t.pipEndDate)),t.data.endDate=o.toStartDay(a),t.data.endTime=(new Date(a)-t.data.endDate)/6e4),s(),t.data.duration=r(),d()}function u(){var t,n,a,o;for(t=[],n=0;n<24;n++)for(a=0;a<2;a++)o=30*a,t.push({id:60*n+o,time:e.pad(n.toString(),3,"0").substr(0,2)+":"+e.pad(o.toString(),2,"0")});return t}function m(){t.data.startDate=null,t.data.startTime=null,t.data.endDate=null,t.data.endTime=null,t.data.duration=null}t.intervalTimeCollection=u(),t.data={},t.startLabel=t.pipStartLabel?i.translate(t.pipStartLabel):i.translate("EVENT_NEW_START_TIME"),t.endLabel=t.pipEndLabel?i.translate(t.pipEndLabel):i.translate("EVENT_NEW_END_TIME"),m(),c(),t.onChangeStartDate=function(){s(),t.data.duration=r(),d(),t.pipChanged()},t.onChangeEndDate=function(){p(),t.data.duration=r(),d(),t.pipChanged()},t.onChangeStartTime=function(){t.data.startDate||(t.data.startDate=o.toStartDay(new Date)),s(),t.data.duration=r(),d(),t.pipChanged()},t.onChangeEndTime=function(){t.data.endDate||(t.data.endDate=o.toStartDay(new Date)),p(),t.data.duration=r(),d(),t.pipChanged()},t.isDisabled=function(){return!!t.disabled&&t.disabled()},t.$watchGroup([t.pipStartDate,t.pipEndDate],function(){t.data.bind&&(m(),c())}),t.$watch(t.disabled,function(e){t.disableControls=e}),n.addClass("pip-time-range-edit")}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipToasts",["pipTranslate","ngMaterial","pipAssert"]);n.controller("pipToastController",["$scope","$mdToast","toast","pipErrorDetailsDialog",function(e,n,a,o){e.message=a.message,e.actions=a.actions,e.toast=a,0===a.actions.length?e.actionLenght=0:1===a.actions.length?e.actionLenght=a.actions[0].toString().length:e.actionLenght=null,e.onDetails=function(){n.hide(),o.show({error:e.toast.error,ok:"Ok"},t.noop,t.noop)},e.onAction=function(t){n.hide({action:t,id:a.id,message:a.message})}}]),n.service("pipToasts",["$rootScope","$mdToast","pipAssert",function(t,n,a){function o(){var t;b.length>0&&(t=b[0],b.splice(0,1),i(t))}function i(t){v=t,n.show({templateUrl:"toast/toast.html",hideDelay:t.duration||T,position:"bottom left",controller:"pipToastController",locals:{toast:v,sounds:C}}).then(function(t){v.successCallback&&v.successCallback(t),v=null,o()},function(t){v.cancelCallback&&v.cancelCallback(t),v=null,o()})}function l(t){v&&"error"!==t.type?b.push(t):i(t)}function r(t){var n=[];e.each(b,function(e){e.type&&e.type===t||n.push(e)}),b=e.cloneDeep(n)}function s(t){e.remove(b,{id:t})}function p(t){return e.find(b,{id:t})}function d(){b=e.reject(b,function(t){return"error"===t.type}),v&&"error"===v.type&&(n.cancel(),o())}function c(){f()}function u(t,e,n,o,i){a.isDef(t,"pipToasts.showNotification: message should be defined"),a.isString(t,"pipToasts.showNotification: message should be a string"),a.isArray(e||[],"pipToasts.showNotification: actions should be an array"),n&&a.isFunction(n,"showNotification: successCallback should be a function"),o&&a.isFunction(o,"showNotification: cancelCallback should be a function"),l({id:i||null,type:"notification",message:t,actions:e||["ok"],successCallback:n,cancelCallback:o,duration:y})}function m(t,e,n,o){a.isDef(t,"pipToasts.showMessage: message should be defined"),a.isString(t,"pipToasts.showMessage: message should be a string"),e&&a.isFunction(e,"pipToasts.showMessage:successCallback should be a function"),n&&a.isFunction(n,"pipToasts.showMessage: cancelCallback should be a function"),l({id:o||null,type:"message",message:t,actions:["ok"],successCallback:e,cancelCallback:n})}function g(t,e,n,o,i){a.isDef(t,"pipToasts.showError: message should be defined"),a.isString(t,"pipToasts.showError: message should be a string"),e&&a.isFunction(e,"pipToasts.showError: successCallback should be a function"),n&&a.isFunction(n,"pipToasts.showError: cancelCallback should be a function"),l({id:o||null,error:i,type:"error",message:t,actions:["ok"],successCallback:e,cancelCallback:n})}function h(){n.cancel(),b=[]}function f(t){t?(a.isString(t,"pipToasts.clearToasts: type should be a string"),r(t)):(n.cancel(),b=[])}var v,T=2e4,y=2e4,b=[],C={};return t.$on("$stateChangeSuccess",d),t.$on("pipSessionClosed",c),{showNotification:u,showMessage:m,showError:g,hideAllToasts:h,clearToasts:f,removeToastsById:s,getToastById:p}}])}(window.angular,window._),function(t,e){"use strict";var n=t.module("pipToggleButtons",["pipBasicControls.Templates"]);n.directive("pipToggleButtons",function(){return{restrict:"EA",scope:{ngDisabled:"&",buttons:"=pipButtons",currentButtonValue:"=ngModel",currentButton:"=?pipButtonObject",change:"&ngChange"},templateUrl:"toggle_buttons/toggle_buttons.html",controller:["$scope","$element","$attrs","$mdMedia","$timeout",function(t,n,a,o,i){var l;t.$mdMedia=o,t["class"]=a["class"]||"",(!t.buttons||e.isArray(t.buttons)&&0===t.buttons.length)&&(t.buttons=[]),l=e.indexOf(t.buttons,e.find(t.buttons,{id:t.currentButtonValue})),t.currentButtonIndex=l<0?0:l,t.currentButton=t.buttons.length>0?t.buttons[t.currentButtonIndex]:t.currentButton,t.buttonSelected=function(e){t.disabled()||(t.currentButtonIndex=e,t.currentButton=t.buttons[t.currentButtonIndex],t.currentButtonValue=t.currentButton.id||e,i(function(){t.change&&t.change()}))},t.enterSpacePress=function(e){t.buttonSelected(e.index)},t.disabled=function(){if(t.ngDisabled)return t.ngDisabled()}}],link:function(t,e){e.on("focusin",function(){e.addClass("focused-container")}).on("focusout",function(){e.removeClass("focused-container")})}}})}(window.angular,window._);
!function(){"use strict";angular.module("pipNav",["pipDropdown","pipTabs","pipAppBar","pipSideNav"])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("dropdown/dropdown.html",'<md-content class="md-subhead md-hue-1 {{class}}" ng-if="show()" ng-class="{\'md-whiteframe-3dp\': $mdMedia(\'xs\')}"><div class="pip-divider position-top m0"></div><md-select ng-model="selectedIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="DROPDOWN" md-ink-ripple="" md-on-close="onSelect(selectedIndex)"><md-option ng-repeat="action in actions" value="{{ ::$index }}" ng-selected="activeIndex == $index ? true : false">{{ (action.title || action.name) | translate }}</md-option></md-select></md-content>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("appbar/appbar.html",'<md-toolbar md-theme-watch="true" ng-if="!$partialReset" ng-class="config.ngClasses" class="{{ config.cssClass }} color-primary-bg"><div class="md-toolbar-tools rp24-flex lp24-flex" ng-if="!searchEnabled"><md-button class="md-icon-button flex-fixed p0" ng-if="config.navIconType != \'none\'" ng-class="{ \'pip-third-party\': getParty() && !getUser(\'owner\') }" ng-click="onNavIconClick()" aria-label="menu"><md-icon ng-if="config.navIconType==\'menu\' && (!getParty() || getUser(\'owner\'))" md-svg-icon="icons:menu"></md-icon><pip-avatar ng-if="config.navIconType==\'menu\' && (getParty() && !getUser(\'owner\'))" pip-rebind-avatar="true" pip-rebind="true" pip-image-url="partyAvatarUrl" pip-party-id="getParty(\'id\')" class="pip-face" pip-party-name="getParty(\'name\')"></pip-avatar><md-icon ng-if="config.navIconType==\'back\'" md-svg-icon="icons:arrow-left"></md-icon></md-button><div class="flex-var text-overflow"><img class="pip-appbar-logo" ng-click="onLogoState(config.logoState)" ng-if="config.titleType == \'logo\'" ng-src="{{config.titleLogo}}"><div ng-if="config.titleType == \'text\'" class="text-overflow pip-appbar-text"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="text-overflow">{{config.titleText | translate}}</span></div><div ng-if="config.titleType==\'breadcrumb\'"><div class="hide-xs text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span><span class="pip-appbar-breadcrumb" ng-repeat-start="item in config.titleBreadcrumb" ng-click="onBreadcrumbClick(item)" ng-init="stepWidth = 100/(config.titleBreadcrumb.length + 1)" ng-style="{\'max-width\': stepWidth + \'%\'}">{{item.title | translate}}</span><md-icon ng-repeat-end="" md-svg-icon="icons:chevron-right"></md-icon><span class="pip-title">{{config.titleText | translate}}</span></div><md-menu xmd-offset="0 48" class="hide-gt-xs"><span class="pip-appbar-mobile-breadcrumb layout-row" ng-click="$mdOpenMenu()" md-ink-ripple="" aria-label="open breadcrumb"><span class="text-overflow"><span ng-if="config.searchCriteria" ng-click="onSearchEnable()">{{config.searchCriteria}} -</span> {{config.titleText | translate}}</span><md-icon class="m0 flex-none" md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="item in config.titleBreadcrumb"><md-button ng-click="onBreadcrumbClick(item)"><span>{{item.title | translate}}</span></md-button></md-menu-item><md-menu-item><md-button><span class="text-grey">{{config.titleText | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="flex-fixed pip-appbar-actions layout-row" ng-class="{ \'pip-language-action\': config.actionsType==\'language\' }"><md-menu ng-if="config.actionsType==\'language\'" md-position-mode="target-right target"><span class="pip-appbar-language" ng-click="$mdOpenMenu()" aria-label="language selection">{{language() | translate}}<md-icon md-svg-icon="icons:triangle-down"></md-icon></span><md-menu-content width="3"><md-menu-item ng-repeat="lang in config.languages"><md-button ng-click="onLanguageClick(lang)">{{lang | translate}}</md-button></md-menu-item></md-menu-content></md-menu><md-button class="md-icon-button m0" ng-if="config.searchVisible" ng-click="onSearchEnable()" aria-label="open search"><md-icon md-svg-icon="icons:search"></md-icon></md-button><div ng-if="config.actionsType==\'list\'"><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryGlobalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall }" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge color-badge-bg" ng-if="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3" ng-show="action.menu"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu md-position-mode="target-right target" ng-repeat="action in config.primaryLocalActions"><md-button class="pip-appbar-action md-icon-button m0" ng-class="{ \'pip-appbar-hide-sm\': action.hideSmall, \'pip-appbar-show-sm\': action.showSmall,}" ng-click="onActionClick(action, $mdOpenMenu);" ng-hide="actionHidden(action)" aria-label="{{action.tooltip | translate}}"><div class="pip-appbar-badge" ng-show="action.count > 0">{{actionCount(action)}}</div><md-icon md-svg-icon="{{action.icon}}"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="subAction in action.subActions" ng-if="!subAction.divider" ng-hide="actionHidden(subAction)"><md-button ng-hide="subAction.divider" ng-click="onActionClick(subAction)">{{subAction.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="subAction.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu><md-menu ng-if="secondaryActionsVisible()" md-position-mode="target-right target"><md-button class="md-icon-button m0" ng-click="onSecondaryActionClick(); openMenu($mdOpenMenu, $event);" aria-label="open actions"><md-icon md-svg-icon="icons:vdots"></md-icon></md-button><md-menu-content width="3"><md-menu-item ng-repeat-start="action in config.secondaryLocalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider><md-menu-divider ng-if="secondaryDividerVisible()"></md-menu-divider><md-menu-item ng-repeat-start="action in config.secondaryGlobalActions" ng-if="!action.divider" ng-hide="actionHidden(action)"><md-button ng-hide="action.divider" ng-click="onActionClick(action)">{{action.title | translate}}</md-button></md-menu-item><md-menu-divider ng-if="action.divider" ng-repeat-end=""></md-menu-divider></md-menu-content></md-menu></div></div></div><div class="md-toolbar-tools layout-row" ng-if="searchEnabled"><md-button class="md-icon-button" aria-label="start search" ng-click="onSearchClick()"><md-icon md-svg-icon="icons:search"></md-icon></md-button><input class="pip-search-text flex" type="search" ng-model="search.text" ng-keydown="onSearchKeyDown($event)"><md-button class="md-icon-button" aria-label="clear search" ng-click="onSearchClear()"><md-icon md-svg-icon="icons:cross-circle"></md-icon></md-button></div></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("tabs/tabs.html",'<md-toolbar class="pip-nav {{ class }}" ng-class="{\'pip-visible\': show(), \'pip-shadow\': showShadow()}"><md-tabs ng-if="$mdMedia(\'gt-xs\')" md-selected="activeTab" ng-class="{\'disabled\': disabled()}" md-stretch-tabs="true" md-dynamic-height="true"><md-tab ng-repeat="tab in tabs track by $index" ng-disabled="tabDisabled($index)" md-on-select="onSelect($index)"><md-tab-label>{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-tab-label></md-tab></md-tabs><md-content class="md-subhead md-hue-1" ng-if="$mdMedia(\'xs\')"><div class="pip-divider position-top m0"></div><md-select ng-model="activeIndex" ng-disabled="disabled()" md-container-class="pip-full-width-dropdown" aria-label="SELECT" md-ink-ripple="" md-on-close="onSelect(activeIndex)"><md-option ng-repeat="tab in tabs track by $index" value="{{ ::$index }}">{{ ::tab.nameLocal }}<div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 0 && tab.newCounts <= 99">{{ ::tab.newCounts }}</div><div class="pip-tabs-badge color-badge-bg" ng-if="tab.newCounts > 99">!</div></md-option></md-select></md-content></md-toolbar>')}])}(),function(n){try{n=angular.module("pipNav.Templates")}catch(e){n=angular.module("pipNav.Templates",[])}n.run(["$templateCache",function(n){n.put("sidenav/sidenav.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z2 pip-sidenav color-content-bg" md-component-id="pip-sidenav" ng-if="!$partialReset" pip-focused=""><md-toolbar class="pip-sidenav-header" ng-class="{\'pip-sidenav-owner\': getUser(\'owner\')}" md-theme="{{ $theme|| getUser(\'theme\') || config.theme }}" ng-hide="!getParty() && !primaryPartyAvatar && !secondaryPartyAvatar"><md-button class="pip-sidenav-party md-icon-button" ng-click="onPartyClick()" aria-label="current party"><pip-avatar ng-if="!$avatarReset" pip-party-id="getParty(\'id\')" pip-default-icon="icon-person" pip-party-name="getParty(\'name\')" pip-image-url="primaryPartyAvatar" pip-rebind-avatar="true" pip-rebind="true"></pip-avatar></md-button><md-button class="pip-sidenav-user md-icon-button" ng-click="onUserClick()" ng-hide="getUser(\'owner\')" aria-label="current user"><pip-avatar class="pic-pic pip-face-ld" ng-if="!$avatarReset" pip-default-icon="icon-person" pip-rebind="true" pip-rebind-avatar="true" pip-party-id="getUser(\'id\')" pip-party-name="getUser(\'name\')" pip-image-url="secondaryPartyAvatar"></pip-avatar></md-button><div class="pip-sidenav-party-text"><a class="pip-sidenav-party-pri cursor-pointer" ng-click="onPartyClick()">{{ partyName || getParty(\'name\')}}</a><div class="pip-sidenav-party-sec" ng-show="getConnection() && !getUser(\'owner\')">{{getConnection(\'relation\') | translate}} <span ng-show="getConnection(\'relation_since\')">{{::\'SIDENAV_SINCE\' | translate}} {{getConnection(\'relation_since\') | formatLongDate}}</span></div></div></md-toolbar><md-list><div class="pip-section" ng-repeat="section in config.sections" ng-hide="section.access && !section.access(getParty(), getUser(), section)"><md-divider ng-show="$index > 0 && !isSectionEmpty(section.links)"></md-divider><md-subheader ng-show="section.title">{{::section.title | translate}}</md-subheader><md-list-item class="pip-focusable no-border" ng-repeat="link in section.links" ng-click="onLinkClick($event, link)" ng-hide="link.access && !link.access(getParty(), getUser(), link)"><md-icon md-svg-icon="{{link.icon}}" ng-hide="!link.icon" class="tm0 bm0"></md-icon><p>{{::link.title | translate}}</p></md-list-item></div></md-list></md-sidenav>')}])}(),function(n,e,i){"use strict";var t=n.module("pipAppBar",["ngMaterial","pipTranslate","pipNav.Templates","pipAppBar.Service"]);t.config(["pipTranslateProvider",function(n){n.translations("en",{APPBAR_SEARCH:"Search"}),n.translations("ru",{APPBAR_SEARCH:"Поиск"})}]),t.directive("pipAppbar",function(){return{restrict:"E",scope:{title:"=pipTitle",showMenu:"=pipShowMenu",localActions:"=pipLocalActions",globalActions:"=pipGlobalActions",partyAvatarUrl:"=pipPartyAvatarUrl"},replace:!1,templateUrl:function(n,e){return"appbar/appbar.html"},controller:"pipAppBarController"}}),t.controller("pipAppBarController",["$scope","$element","$attrs","$rootScope","$window","$state","$location","pipTranslate","pipAppBar",function(n,t,a,o,c,s,r,l,d){function p(n){n&&s.go(n)}function u(e,i){n.originatorEv=i,e(i)}function m(n){if(o.$party)return n?o.$party[n]:o.$party}function g(n){if(o.$user)return n?o.$user[n]:o.$user}function b(e,i){n.config=i,n.searchEnabled=!1,n.search.text=""}function v(){return l.use()}function f(n){return n.access&&!n.access(o.$party,o.$user,n)}function h(n){return null===n.count||n.count<=0?"":n.count>99?"!":n.count}function y(n){var i=0;return e.each(n,function(n){f(n)||i++}),i}function w(){return y(n.config.secondaryGlobalActions)>0||y(n.config.secondaryLocalActions)>0}function A(){return y(n.config.secondaryGlobalActions)>0&&y(n.config.secondaryLocalActions)>0}function C(){var i,t;return e.isFunction(n.config.navIconCallback)?void n.config.navIconCallback():"back"!==n.config.navIconType?void o.$broadcast("pipAppBarNavIconClicked"):void("breadcrumb"===n.config.titleType?(i=n.config.titleBreadcrumb,e.isArray(i)&&i.length>0?(t=i[i.length-1].click,e.isFunction(t)?t():c.history.back()):c.history.back()):c.history.back())}function k(n){e.isFunction(n.click)&&n.click(n)}function $(n){setTimeout(function(){l.use(n),o.$apply()},0)}function S(n){var e,i={};if(null===n)return null;for(e in n)n.hasOwnProperty(e)&&(":party_id"===n[e]?i[e]=o.$party?o.$party.id:null:":user_id"===n[e]?i[e]=o.$user?o.$user.id:null:i[e]=n[e]);return i}function T(n){var e;return null===n?null:(e=n.replace(":party_id",o.$party?o.$party.id:""),e=e.replace(":user_id",o.user?o.$user.id:""))}function x(){var n;setTimeout(function(){n=i(".pip-search-text"),n.length>0&&n.focus()},0)}function I(e,i){if(e&&!e.divider)return e.close&&(n.originatorEv=null),e.menu?void i(n.originatorEv):e.callback?void e.callback():e.href?void(c.location.href=T(e.href)):e.url?void r.url(T(e.url)):e.state?void s.go(e.state,S(e.stateParams)):void(e.event?o.$broadcast(e.event):o.$broadcast("pipAppBarActionClicked",e.name))}function N(){n.search.text=n.config.searchCriteria,n.searchEnabled=!0,x()}function L(){var e=n.search.text;n.search.text="",n.searchEnabled=!1,n.config.searchCallback?n.config.searchCallback(e):o.$broadcast("pipAppBarSearchClicked",e)}function P(){n.search.text?(n.search.text="",x()):(n.searchEnabled=!1,L())}function E(e){return 13===e.keyCode?void n.onSearchClick():void(27===e.keyCode&&(n.searchEnabled=!1))}n.title&&d.showTitleText(n.title),n.showMenu&&d.showMenuNavIcon(),t.addClass("pip-appbar"),n.$emit("pipResizeWindow"),n.config=d.config(),n.localActions&&(d.showLocalActions(),n.config.primaryLocalActions=n.localActions[0],n.config.secondaryLocalActions=n.localActions[1]),n.globalActions&&(d.showLocalActions(),n.config.primaryGlobalActions=n.globalActions[0],n.config.secondaryGlobalActions=n.globalActions[0]),n.searchEnabled=!1,n.search={text:""},o.$on("pipAppBarChanged",b),n.language=v,n.actionHidden=f,n.actionCount=h,n.secondaryActionsVisible=w,n.secondaryDividerVisible=A,n.onNavIconClick=C,n.onBreadcrumbClick=k,n.onLanguageClick=$,n.onActionClick=I,n.onSearchEnable=N,n.onSearchClick=L,n.onSearchClear=P,n.onSearchKeyDown=E,n.onLogoState=p,n.getParty=m,n.getUser=g,n.openMenu=u}])}(window.angular,window._,window.jQuery),function(n,e){"use strict";var i=n.module("pipAppBar.Service",[]);i.provider("pipAppBar",function(){function n(n){return n&&(s.appTitleText=n),s.appTitleText}function i(n){return n&&(s.appTitleLogo=n),s.appTitleLogo}function t(n){return s.theme=n||s.theme,s.theme}function a(n,e){s.primaryGlobalActions=n||[],s.secondaryGlobalActions=e||[]}function o(n){s.primaryGlobalActions=n||[]}function c(n){s.secondaryGlobalActions=n||[]}var s={appTitleText:null,appTitleLogo:"images/piplife_logo.svg",theme:"blue",cssClass:"",ngClasses:{},logoState:null,navIconType:"none",navIconCallback:!1,titleType:"none",titleLogo:null,titleText:null,titleBreadcrumb:null,actionsType:"none",languages:["en","ru"],searchVisible:!1,searchCriteria:"",searchHistory:[],searchCallback:null,primaryGlobalActions:[],primaryLocalActions:[],secondaryGlobalActions:[],secondaryLocalActions:[]};this.appTitleText=n,this.appTitleLogo=i,this.theme=t,this.globalActions=a,this.globalPrimaryActions=o,this.globalSecondaryActions=c,this.$get=["$rootScope",function(n){function i(n){return s.logoState=n,s.logoState}function t(){return s.logoState}function a(){return s}function o(n){return void 0!=n&&(s.cssClass=n,I()),s.cssClass}function c(){s.ngClasses["pip-shadow"]=!1,s.ngClasses["pip-shadow-sm"]=!0,s.ngClasses["pip-shadow-xs"]=!1,I()}function r(){s.ngClasses["pip-shadow"]=!1,s.ngClasses["pip-shadow-sm"]=!0,s.ngClasses["pip-shadow-xs"]=!0,I()}function l(){s.ngClasses["pip-shadow"]=!0,I()}function d(){s.ngClasses["pip-shadow"]=!1,s.ngClasses["pip-shadow-sm"]=!1,s.ngClasses["pip-shadow-xs"]=!1,I()}function p(){s.navIconType="none",s.navIconCallback=null,I()}function u(n){s.navIconType="menu",s.navIconCallback=n,I()}function m(n){s.navIconType="back",s.navIconCallback=n,I()}function g(){s.titleType="none",s.titleLogo=null,s.titleText=null,s.titleBreadcrumb=null,I()}function b(n){s.titleType="logo",s.titleLogo=n,s.titleText=null,s.titleBreadcrumb=null,I()}function v(n){s.titleType="text",s.titleLogo=null,s.titleText=n,s.titleBreadcrumb=null,I()}function f(n,i){e.isArray(n)&&(i=n,n=i[i.length-1].title,i.splice(i.length-1,1)),s.titleType="breadcrumb",s.titleLogo=null,s.titleText=n,s.titleBreadcrumb=i,i.length>0?(s.navIconType="none"===s.navIconType?"back":s.navIconType,s.navIconCallback=i[i.length-1]):(s.navIconType="menu",s.navIconCallback=null),I()}function h(){b(s.appTitleLogo)}function y(){v(s.appTitleText)}function w(){s.actionsType="none",s.primaryLocalActions=[],s.secondaryLocalActions=[],I()}function A(n){s.actionsType="language",s.languages=n||s.languages,I()}function C(n,e){s.actionsType="list",s.primaryLocalActions=n||[],s.secondaryLocalActions=e||[],I()}function k(n,i){e.each(s.primaryGlobalActions,function(e){e.name===n&&(e.count=i)}),e.each(s.primaryLocalActions,function(e){e.name===n&&(e.count=i)}),I()}function $(n,e,i){s.searchVisible=!0,s.searchCallback=n,s.searchCriteria=e,s.searchHistory=i,I()}function S(){s.searchVisible=!1,s.searchCallback=null,s.searchCriteria=null,I()}function T(n){s.searchCriteria=n,I()}function x(n){s.searchHistory=n,I()}function I(){n.$broadcast("pipAppBarChanged",s)}return{config:a,cssClass:o,logoState:t,setLogoState:i,hideNavIcon:p,showMenuNavIcon:u,showBackNavIcon:m,showAppTitleLogo:h,showAppTitleText:y,showTitleLogo:b,showTitleText:v,showTitleBreadcrumb:f,hideTitle:g,showLanguage:A,showLocalActions:C,hideLocalActions:w,updateActionCount:k,showSearch:$,hideSearch:S,updateSearchCriteria:T,updateSearchHistory:x,showShadow:l,showShadowSm:c,showShadowSmXs:r,hideShadow:d}}]})}(window.angular,window._),function(){"use strict";var n=angular.module("pipDropdown",["pipAssert","pipNav.Templates"]);n.directive("pipDropdown",["$mdMedia","pipAssert",function(n,e){return{restrict:"E",scope:{ngDisabled:"&",actions:"=pipActions",showDropdown:"&pipShow",activeIndex:"=pipActiveIndex",select:"=pipDropdownSelect"},templateUrl:"dropdown/dropdown.html",controller:["$scope","$element","$attrs","localStorageService",function(i,t,a,o){i["class"]=(a["class"]||"")+" md-"+o.get("theme")+"-theme",e.isArray(i.actions,"pipDropdown: pip-actions attribute should take an array, but take "+typeof i.actions),i.$mdMedia=n,i.actions=i.actions&&_.isArray(i.actions)?i.actions:[],i.activeIndex=i.activeIndex||0,i.disabled=function(){return!!i.ngDisabled()&&i.ngDisabled()},i.onSelect=function(n){i.activeIndex=n,i.select&&i.select(i.actions[n],i.activeIndex)},i.show=function(){return!i.showDropdown()||i.showDropdown()}}]}}])}(),function(){"use strict";var n=angular.module("pipTabs",["pipAssert","pipNav.Templates"]);n.directive("pipTabs",["$mdMedia","pipAssert",function(n,e){return{restrict:"E",scope:{ngDisabled:"&",tabs:"=pipTabs",showTabs:"&pipShowTabs",showTabsShadow:"&pipTabsShadow",activeIndex:"=pipActiveIndex",select:"=pipTabsSelect"},templateUrl:"tabs/tabs.html",controller:["$scope","$element","$attrs","$mdMedia","localStorageService","pipTranslate",function(n,i,t,a,o,c){n["class"]=(t["class"]||"")+" md-"+o.get("theme")+"-theme",e.isArray(n.tabs,"pipTabs: pipTabs attribute should take an array"),n.$mdMedia=a,n.tabs=n.tabs&&_.isArray(n.tabs)?n.tabs:[],n.tabs.length>0&&n.tabs[0].title?c.translateObjects(n.tabs,"title","nameLocal"):c.translateObjects(n.tabs,"name","nameLocal"),n.activeIndex=n.activeIndex||0,n.activeTab=n.activeIndex,n.disabled=function(){if(n.ngDisabled)return n.ngDisabled()},n.tabDisabled=function(e){return n.disabled()&&n.activeIndex!=e},n.onSelect=function(e){n.disabled()||(n.activeIndex=e,n.activeTab=n.activeIndex,n.select&&n.select(n.tabs[n.activeIndex],n.activeIndex))},n.showShadow=function(){return!!n.showTabsShadow&&n.showTabsShadow()},n.show=function(){return!n.showTabs||n.showTabs()}}]}}])}(),function(){"use strict";var n=angular.module("pipSideNav",["ngMaterial","pipTranslate","pipFocused","pipNav.Templates","pipSideNav.Service"]);n.config(["pipTranslateProvider",function(n){n.translations("en",{SIDENAV_SINCE:"since"}),n.translations("ru",{SIDENAV_SINCE:"с"})}]),n.directive("pipSidenav",function(){return{restrict:"EA",scope:{primaryPartyAvatar:"=pipPrimaryAvatar",secondaryPartyAvatar:"=pipSecondaryAvatar",partyName:"=pipName"},replace:!1,templateUrl:"sidenav/sidenav.html",controller:"pipSideNavController"}}),n.controller("pipSideNavController",["$scope","$element","$state","$rootScope","$window","$location","$timeout","pipState","pipTranslate","pipSideNav",function(n,e,i,t,a,o,c,s,r,l){function d(n){if(t.$party)return n?t.$party[n]:t.$party}function p(n){if(t.$user)return n?t.$user[n]:t.$user}function u(n){if(t.$connection)return n?t.$connection[n]:t.$connection}function m(n){return n&&n.access&&!n.access(t.$party,t.$user,n)}function g(n){var e=!0;return _.each(n,function(n){m(n)||(e=!1)}),e}function b(n){l.open()}function v(e,i){n.config=i}function f(){t.$broadcast("pipSideNavUserClicked"),l.close()}function h(){t.$broadcast("pipSideNavPartyClicked"),l.close()}function y(n){if(null==n)return null;var e={};for(var i in n)n.hasOwnProperty(i)&&(":party_id"==n[i]?e[i]=t.$party?t.$party.id:null:":user_id"==n[i]?e[i]=t.$user?t.$user.id:null:e[i]=n[i]);return e}function w(n){if(null==n)return null;var e=n.replace(":party_id",t.$party?t.$party.id:"");return e=e.replace(":user_id",t.$user?t.$user.id:"")}function A(n,e){return n.stopPropagation(),e?e.href?e.href.split("?")[0]===a.location.href.split("?")[0]?void l.close():(l.close(),void c(function(){a.location.href=w(e.href)},300)):e.url?e.url.split(/[\s\/?]+/)[1]===o.url().split(/[\s\/?]+/)[1]?void l.close():(l.close(),void c(function(){o.url(w(e.url))},300)):e.state?i.current.name===e.state?void l.close():(l.close(),void c(function(){s.go(e.state,y(e.stateParams))},300)):(e.event&&t.$broadcast("pipSideNavLinkClicked",e.event),void l.close()):void l.close()}e.addClass("pip-sidenav"),n.config=l.config(),n.$avatarReset=!1,t.$on("pipAppBarNavIconClicked",b),t.$on("pipSideNavChanged",v),n.itemVisible=m,n.onUserClick=f,n.onPartyClick=h,n.onLinkClick=A,n.isSectionEmpty=g,n.getParty=d,n.getUser=p,n.getConnection=u}])}(),function(){"use strict";var n=angular.module("pipSideNav.Service",["pipAssert","pipDebug"]);n.provider("pipSideNav",["pipAssertProvider","pipDebugProvider",function(n,e){function i(n){return o.theme=n||o.theme,o.theme}function t(e){n.isArray(e,"pipSideNavProvider.sections or pipSideNav.sections: sections should be an array"),_.each(e,function(e,i){e.access&&n.isFunction(e.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" access should be a function"),e.links&&(n.isArray(e.links,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" links should be an array"),_.each(e.links,function(t){t.access&&n.isFunction(t.access,"pipSideNavProvider.sections or pipSideNav.sections: in section number "+i+" with title "+e.title+" in link with title "+t.title+" access should be a function")}))})}function a(n){return e.enabled()&&t(n),_.isArray(n)&&(o.sections=n),o.sections}var o={theme:"blue",sections:[]};this.theme=i,this.sections=a,this.$get=["$rootScope","$mdSidenav",function(n,e){function t(){return o}function c(n){return i(n),r(),o.theme}function s(n){return a(n),r(),o.sections}function r(){n.$broadcast("pipSideNavChanged",o)}function l(n){e("pip-sidenav").open()}function d(n){e("pip-sidenav").close()}function p(){e("pip-sidenav").toggle()}return n.$on("pipSideNavOpen",l),n.$on("pipSideNavClose",d),{config:t,theme:c,sections:s,open:l,close:d,toggle:p}}]}])}();
!function(){"use strict";angular.module("pipLocations",["pipLocation","pipLocationMap","pipLocationIp","pipLocationEdit","pipLocationEditDialog"])}(),function(o){try{o=angular.module("pipLocations.Templates")}catch(n){o=angular.module("pipLocations.Templates",[])}o.run(["$templateCache",function(o){o.put("location_dialog/location_dialog.html",'<md-dialog class="pip-dialog pip-location-edit-dialog layout-column" md-theme="{{theme}}"><div class="pip-header layout-column layout-align-start-start"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h3 class="m0 w-stretch flex">{{ \'LOCATION_SET_LOCATION\' | translate }}</h3></div><div class="pip-footer"><div class="layout-row layout-align-start-center"><md-button class="md-accent" ng-click="onAddPin()" ng-show="locationPos == null" ng-disabled="transaction.busy()" aria-label="{{ ::\'LOCATION_ADD_PIN\' | translate }}">{{ ::\'LOCATION_ADD_PIN\' | translate }}</md-button><md-button class="md-accent" ng-click="onRemovePin()" ng-show="locationPos != null" ng-disabled="transaction.busy()" aria-label="{{ ::\'LOCATION_REMOVE_PIN\' | translate }}">{{ ::\'LOCATION_REMOVE_PIN\' | translate }}</md-button></div><div class="flex"></div><div class="layout-row layout-align-end-center"><md-button ng-click="onCancel()" aria-label="{{ ::\'CANCEL\' | translate }}">{{ ::\'CANCEL\' | translate }}</md-button><md-button class="md-accent" ng-click="onApply()" ng-disabled="transaction.busy()" aria-label="{{ ::\'APPLY\' | translate }}">{{ ::\'APPLY\' | translate }}</md-button></div></div><div class="pip-body"><div class="pip-location-container"></div><md-button class="md-icon-button md-fab pip-zoom-in" ng-click="onZoomIn()" aria-label="{{ ::\'LOCATION_ZOOM_IN\' | translate }}"><md-icon md-svg-icon="icons:plus"></md-icon></md-button><md-button class="md-icon-button md-fab pip-zoom-out" ng-click="onZoomOut()" aria-label="{{ ::\'LOCATION_ZOOM_OUT\' | translate }}"><md-icon md-svg-icon="icons:minus"></md-icon></md-button><md-button class="md-icon-button md-fab pip-set-location" ng-click="onSetLocation()" aria-label="{{ ::\'LOCATION_SET_LOCATION\' | translate }}" ng-show="supportSet" ng-disabled="transaction.busy()"><md-icon md-svg-icon="icons:target"></md-icon></md-button></div></md-dialog>')}])}(),function(){"use strict";var o=angular.module("pipLocation",["pipUtils"]);o.directive("pipLocation",["pipUtils",function(o){return{restrict:"EA",scope:{pipLocationName:"&",pipLocationPos:"&",pipLocationResize:"&",pipShowLocationIcon:"="},template:function(n,i){return o.toBoolean(i.pipCollapse)?String()+'<div class="pip-location-name bm0" ng-click="pipLocationResize()" ng-hide="!pipLocationName()"ng-class="pipShowLocationIcon ? \'lp24-flex rp16\' : \'\'"><md-icon md-svg-icon="icons:location" class="flex-fixed pip-icon" ng-if="pipShowLocationIcon"></md-icon><span class="pip-location-text">{{pipLocationName()}}</span> </div><div class="pip-location-container bm8" ng-hide="!pipLocationPos()"></div>':String()+'<md-button class="pip-location-name" ng-click="pipLocationResize()" ng-class="pipShowLocationIcon ? \'lp24-flex rp16\' : \'\'"><div class="layout-align-start-center layout-row w-stretch"><md-icon md-svg-icon="icons:location" class="flex-fixed pip-icon" ng-if="pipShowLocationIcon"></md-icon><span class="pip-location-text flex">{{pipLocationName()}}</span><md-icon md-svg-icon="icons:triangle-down" class="flex-fixed" ng-if="!showMap"></md-icon><md-icon md-svg-icon="icons:triangle-up" class="flex-fixed" ng-if="showMap"></md-icon></div></md-button><div class="pip-location-container bm8"ng-class="pipShowLocationIcon ? \'lm24-flex rm24-flex\' : \'\'"></div>'},controller:"pipLocationController"}}]),o.controller("pipLocationController",["$scope","$element","$attrs","pipUtils",function(o,n,i,t){function a(){p&&p.remove(),p=null,c.hide()}function e(){var n=o.pipLocationPos();if(0==o.showMap||null==n||null==n.coordinates||n.coordinates.length<0)return void a();var i=new google.maps.LatLng(n.coordinates[0],n.coordinates[1]);p&&p.remove(),p=$("<div></div>"),c.show(),p.appendTo(c);var t={center:i,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,draggable:!1},e=new google.maps.Map(p[0],t);new google.maps.Marker({position:i,map:e})}var l=n.children(".pip-location-name"),c=n.children(".pip-location-container"),p=null,s=n.find(".icon-up"),r=n.find(".icon-down"),d=t.toBoolean(i.pipCollapse);d||(o.showMap=!1,s.hide(),c.hide(),l.click(function(n){n.stopPropagation(),i.disabled||(o.showMap=!o.showMap,s[o.showMap?"show":"hide"](),r[o.showMap?"hide":"show"](),e())})),t.toBoolean(i.pipRebind)&&o.$watch(o.pipLocationPos,function(o){e()}),n.addClass("pip-location"),o.pipLocationPos()?e():a()}])}(),function(){"use strict";var o=angular.module("pipLocationEditDialog",["ngMaterial","pipTranslate","pipTransactions","pipLocations.Templates"]);o.config(["pipTranslateProvider",function(o){o.translations("en",{LOCATION_ADD_LOCATION:"Add location",LOCATION_SET_LOCATION:"Set location",LOCATION_ADD_PIN:"Add pin",LOCATION_REMOVE_PIN:"Remove pin"}),o.translations("ru",{LOCATION_ADD_LOCATION:"Добавить местоположение",LOCATION_SET_LOCATION:"Определить положение",LOCATION_ADD_PIN:"Добавить точку",LOCATION_REMOVE_PIN:"Убрать точку"})}]),o.factory("pipLocationEditDialog",["$mdDialog",function(o){return{show:function(n,i,t){o.show({controller:"pipLocationEditDialogController",templateUrl:"location_dialog/location_dialog.html",locals:{locationName:n.locationName,locationPos:n.locationPos},clickOutsideToClose:!0}).then(function(o){i&&i(o)},function(){t&&t()})}}}]),o.controller("pipLocationEditDialogController",["$scope","$rootScope","$timeout","$mdDialog","pipTransaction","locationPos","locationName",function(o,n,i,t,a,e,l){o.theme=n.$theme,o.locationPos=e&&"Point"==e.type&&e.coordinates&&2==e.coordinates.length?e:null,o.locationName=l,o.supportSet=null!=navigator.geolocation,o.transaction=a("location_edit_dialog",o);var c=null,p=null,s=function(o){if(p&&p.setMap(null),o){p=new google.maps.Marker({position:o,map:c,draggable:!0,animation:google.maps.Animation.DROP});var n=p;google.maps.event.addListener(n,"dragend",function(){var o=n.getPosition();r(o)})}else p=null;return p},r=function(n,i){if(o.locationPos={type:"Point",coordinates:[n.lat(),n.lng()]},o.locationName=null,null!=i||(i=o.transaction.begin(),null!=i)){var t=new google.maps.Geocoder;t.geocode({location:n},function(n,t){o.transaction.aborted(i)||(t==google.maps.GeocoderStatus.OK&&n&&n.length>0&&(o.locationName=n[0].formatted_address),o.transaction.end(),o.$apply())})}};i(function(){var n=$(".pip-location-edit-dialog .pip-location-container"),i=o.locationPos?new google.maps.LatLng(o.locationPos.coordinates[0],o.locationPos.coordinates[1]):null,t={center:new google.maps.LatLng(0,0),zoom:1,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0};null!=i&&(t.center=i,t.zoom=12),c=new google.maps.Map(n[0],t),p=s(i),setTimeout(function(){google.maps.event.trigger(c,"resize")},1e3)},0),o.$on("pipLayoutResized",function(o){null!=c&&google.maps.event.trigger(c,"resize")}),o.onAddPin=function(){if(null!=c){var o=c.getCenter();p=s(o),r(o)}},o.onRemovePin=function(){null!=c&&(p=s(null),o.locationPos=null,o.locationName=null)},o.onZoomIn=function(){if(null!=c){var o=c.getZoom();c.setZoom(o+1)}},o.onZoomOut=function(){if(null!=c){var o=c.getZoom();c.setZoom(o>1?o-1:o)}},o.onSetLocation=function(){if(null!=c){var n=o.transaction.begin();null!=n&&navigator.geolocation.getCurrentPosition(function(i){if(!o.transaction.aborted(n)){var t=new google.maps.LatLng(i.coords.latitude,i.coords.longitude);p=s(t),c.setCenter(t),c.setZoom(12),r(t,n)}},function(){o.transaction.end(),o.$apply()},{maximumAge:0,enableHighAccuracy:!0,timeout:5e3})}},o.onCancel=function(){t.cancel()},o.onApply=function(){t.hide({location:o.locationPos,locationPos:o.locationPos,locationName:o.locationName})}}])}(),function(){"use strict";var o=angular.module("pipLocationEdit",["pipLocationEditDialog"]);o.directive("pipLocationEdit",["$parse","$http","pipLocationEditDialog",function(o,n,i){return{restrict:"EAC",scope:{pipLocationName:"=",pipLocationPos:"=",pipLocationHolder:"=",ngDisabled:"&",pipChanged:"&"},template:String()+'<md-input-container class="md-block"><label>{{ \'LOCATION\' | translate }}</label><input ng-model="pipLocationName"ng-disabled="ngDisabled()"/></md-input-container><div class="pip-location-empty" layout="column" layout-align="center center"><md-button class="md-raised" ng-disabled="ngDisabled()" ng-click="onSetLocation()"aria-label="LOCATION_ADD_LOCATION"><span class="icon-location"></span> {{::\'LOCATION_ADD_LOCATION\' | translate}}</md-button></div><div class="pip-location-container" tabindex="{{ ngDisabled() ? -1 : 0 }}" ng-click="onMapClick($event)" ng-keypress=""onMapKeyPress($event)"></div>',controller:["$scope","$element",function(o,n){n.find("md-input-container").attr("md-no-float",!!o.pipLocationHolder)}],link:function(o,n){var t=n.children(".pip-location-empty"),a=n.children(".pip-location-container"),e=null,l=function(){e&&e.remove(),e=null,a.hide(),t.show()},c=function(){var n=o.pipLocationPos;if(null==n||null==n.coordinates||n.coordinates.length<0)return void l();var i=new google.maps.LatLng(n.coordinates[0],n.coordinates[1]);e&&e.remove(),a.show(),t.hide(),e=$("<div></div>"),e.appendTo(a);var c={center:i,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,draggable:!1},p=new google.maps.Map(e[0],c);new google.maps.Marker({position:i,map:p})},p=function(){var n=o.pipLocationName;if(""==n)return o.pipLocationPos=null,l(),void o.$apply();var i=new google.maps.Geocoder;i.geocode({address:n},function(n,i){o.$apply(function(){if(i==google.maps.GeocoderStatus.OK){if(null==n||0==n.length)return o.pipLocationPos=null,void l();var t=n[0].geometry||{},a=t.location||{};if(null==a.lat||null==a.lng)return o.pipLocationPos=null,void l();o.pipLocationPos={type:"Point",coordinates:[a.lat(),a.lng()]}}else console.error(response),o.pipLocationPos=null})})},s=_.debounce(p,2e3);o.onSetLocation=function(){o.ngDisabled()||i.show({locationName:o.pipLocationName,locationPos:o.pipLocationPos},function(n){var i=n.location,t=n.locationName;o.pipLocationPos&&"Point"==o.pipLocationPos.type&&2==o.pipLocationPos.coordinates.length&&i&&2==i.coordinates.length&&o.pipLocationPos.coordinates[0]-i.coordinates[0]<1e-4&&o.pipLocationPos.coordinates[1]-i.coordinates[1]<1e-4&&t==o.pipLocationName||(o.pipLocationPos=i,o.pipLocationName=t,null==t&&null!=i&&(o.pipLocationName="("+n.location.coordinates[0]+","+n.location.coordinates[1]+")"),o.pipChanged(),a[0].focus())})},o.onMapClick=function(n){o.ngDisabled()||(a[0].focus(),o.onSetLocation())},o.onMapKeyPress=function(n){o.ngDisabled()||13!=n.keyCode&&32!=n.keyCode||o.onSetLocation()},o.$watch(function(){return o.pipLocationName},function(o,n){o!=n&&s()}),o.$watch(function(){return o.pipLocationPos},function(){c()}),n.addClass("pip-location-edit"),o.pipLocationPos?c():l()}}}])}(),function(){"use strict";var o=angular.module("pipLocationIp",["pipUtils"]);o.directive("pipLocationIp",function(){return{restrict:"EA",scope:{pipIpaddress:"&",pipExtraInfo:"&"},template:'<div class="pip-location-container"></div>',controller:"pipLocationIpController"}}),o.controller("pipLocationIpController",["$scope","$element","$attrs","$http","pipUtils",function(o,n,i,t,a){function e(){s&&s.remove(),s=null}function l(o,n){if(null==o||null==n)return void e();var i=new google.maps.LatLng(o,n);s&&s.remove(),s=$("<div></div>"),s.appendTo(p);var t={center:i,zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:!1,draggable:!1},a=new google.maps.Map(s[0],t);new google.maps.Marker({position:i,map:a})}function c(){var n=o.pipIpaddress();return""==n?void e():void t.jsonp("http://www.geoplugin.net/json.gp?ip="+n+"&jsoncallback=JSON_CALLBACK").success(function(n){if(null!=n&&null!=n.geoplugin_latitude&&null!=n.geoplugin_longitude){if(l(n.geoplugin_latitude,n.geoplugin_longitude),o.pipExtraInfo){var i={city:n.geoplugin_city,regionCode:n.geoplugin_regionCode,region:n.geoplugin_regionName,areaCode:n.geoplugin_areaCode,countryCode:n.geoplugin_countryCode,country:n.geoplugin_countryName,continentCode:n.geoplugin_continentCode};o.pipExtraInfo({extraInfo:i})}}else e()}).error(function(o){console.error(o),e()})}var p=n.children(".pip-location-container"),s=null;a.toBoolean(i.pipRebind)&&o.$watch(function(){return o.pipIpaddress()},function(o){c()}),n.addClass("pip-location-ip"),c()}])}(),function(){"use strict";var o=angular.module("pipLocationMap",["pipUtils"]);o.directive("pipLocationMap",function(){return{restrict:"EA",scope:{pipLocationPos:"&",pipLocationPositions:"&",pipIconPath:"&",pipDraggable:"&",pipStretch:"&"},template:'<div class="pip-location-container"></div>',controller:"pipLocationMapController"}}),o.controller("pipLocationMapController",["$scope","$element","$attrs","$parse","pipUtils",function(o,n,i,t,a){function e(){r&&r.remove(),r=null}function l(o){return!(null==o||null==o.coordinates||o.coordinates.length<0)}function c(o){var n=new google.maps.LatLng(o.coordinates[0],o.coordinates[1]);return n.fill=o.fill,n.stroke=o.stroke,n}function p(){var n=o.pipLocationPos(),i=o.pipLocationPositions(),t=[],a=o.pipDraggable()||!1;if(l(n)?t.push(c(n)):i&&i.length&&i.length>0&&i.forEach(function(o){l(o)&&t.push(c(o))}),0===t.length)return void e();r&&r.remove(),r=$("<div></div>"),r.appendTo(s);var p={center:t[0],zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,disableDoubleClickZoom:!0,scrollwheel:a,draggable:a},d=new google.maps.Map(r[0],p),g=new google.maps.LatLngBounds;t.forEach(function(o){var n={path:u,fillColor:o.fill||"#EF5350",fillOpacity:1,scale:1,strokeColor:o.stroke||"white",strokeWeight:5};new google.maps.Marker({position:o,map:d,icon:u?n:null}),g.extend(o)}),t.length>1&&d.fitBounds(g)}var s=n.children(".pip-location-container"),r=null,d=o.pipStretch()||!1,u=o.pipIconPath();a.toBoolean(i.pipRebind)&&o.$watch(function(){return o.pipLocationPos()},function(){p()}),n.addClass("pip-location-map"),d&&s.addClass("stretch"),o.pipLocationPos()||o.pipLocationPositions()?p():e()}])}();
!function(e){"use strict";e.module("pipDocuments",["pipDocumentList","pipDocumentListEdit"])}(window.angular),function(e){try{e=angular.module("pipDocuments.Templates")}catch(n){e=angular.module("pipDocuments.Templates",[])}e.run(["$templateCache",function(e){e.put("document_list/document_list.html",'<md-button class="pip-documents-name" ng-class="{\'lp24-flex rp16\': pipDocumentIcon}" ng-click="onTitleClick($event); onResize()" aria-label="RESIZE"><div class="layout-align-start-center layout-row w-stretch"><md-icon md-svg-icon="icons:document" ng-class="{\'pip-icon\': pipDocumentIcon}" ng-if="pipDocumentIcon"></md-icon><span class="pip-documents-text">{{documents.length}} {{::\'DOCUMENTS_ATTACHED\' | translate}}</span><md-icon class="icon-up" md-svg-icon="icons:triangle-up"></md-icon><md-icon class="icon-down" md-svg-icon="icons:triangle-down"></md-icon></div></md-button><div pip-focused="" class="pip-documents-container bm8" ng-class="{\'lp24-flex rp24-flex\': pipDocumentIcon}"><md-button class="pip-document-download md-primary" ng-class="{\'pip-focusable\' : !ngDisabled()}" href="{{::documentUrl(document)}}" target="_blank" ng-disabled="ngDisabled() || document.error" ng-repeat="document in documents track by document.file_id" aria-label="DOCUMENT"><div class="pip-default-icon"><md-icon md-svg-icon="icons:{{::documentList.icon}}"></md-icon></div><div class="pip-document-title">{{::document.file_name}}</div></md-button></div>')}])}(),function(e){try{e=angular.module("pipDocuments.Templates")}catch(n){e=angular.module("pipDocuments.Templates",[])}e.run(["$templateCache",function(e){e.put("document_list/document_list_collapse.html",'<div class="pip-documents-name" ng-click="onTitleClick($event); onResize()"><span class="pip-documents-text">{{documents.length}} {{::\'DOCUMENTS_ATTACHED\' | translate}}</span><md-icon class="icon-up" md-svg-icon="icons:triangle-up"></md-icon><md-icon class="icon-down" md-svg-icon="icons:triangle-down"></md-icon></div><div pip-focused="" class="pip-documents-container bm8"><md-button class="pip-document-download pip-focusable md-primary" href="{{::document.url}}" target="_blank" ng-repeat="document in documents track by document.file_id" aria-label="DOCUMENT"><div class="pip-default-icon"><md-icon md-svg-icon="icons:{{::icon}}"></md-icon></div><div class="pip-document-title">{{::document.file_name}}</div></md-button></div>')}])}(),function(e){try{e=angular.module("pipDocuments.Templates")}catch(n){e=angular.module("pipDocuments.Templates",[])}e.run(["$templateCache",function(e){e.put("document_list_edit/document_list_edit.html",'<div pip-focusable=""><div class="pip-document-upload pointer md-primary" ng-class="{\'pip-focusable\' : !ngDisabled(), \'pip-item-error\' : item.state == \'error\'}" ng-keydown="onKeyDown($event, item)" tabindex="{{ ngDisabled() ? -1 : 0 }}" ng-repeat="item in control.items | filter: filterItem"><div class="pip-default-icon" ng-class="{ \'pip-document-new\': item.id == null }"><md-icon pip-cancel-drag="true" class="md-primary" ng-if="item.state == \'original\' || item.state == \'added\'" md-svg-icon="icons:{{::documentList.icon}}"></md-icon><md-icon pip-cancel-drag="true" class="md-warn" ng-if="item.state == \'error\'" md-svg-icon="icons:{{::documentList.iconError}}"></md-icon></div><div class="pip-document-title" pip-cancel-drag="true">{{::item.name}}</div><md-button ng-click="onDelete(item)" ng-disabled="ngDisabled() || control.uploading" tabindex="-1" ng-hide="ngDisabled()" class="md-icon-button" aria-label="DELETE"><md-icon md-svg-icon="icons:cross" pip-cancel-drag="true"></md-icon></md-button><md-progress-linear ng-show="item.uploading" ng-value="item.progress"></md-progress-linear></div><button class="pip-document-upload pip-document-drop" ng-class="{\'pip-focusable\' : !ngDisabled()}" ng-keydown="onKeyDown($event)" tabindex="0" ng-file-drop="" ng-file-select="" ng-file-change="onSelect($files)" ng-multiple="true" ng-disabled="ngDisabled() || control.uploading" aria-label="UPLOAD"><div class="pip-default-icon"><md-icon pip-cancel-drag="true" md-svg-icon="icons:{{::documentList.icon}}"></md-icon></div><div class="pip-default-text"><span>{{documentList.text | translate}}</span></div></button><div class="clearfix"></div></div>')}])}(),function(e,n){"use strict";var t=e.module("pipDocumentList",["pipCore","pipDataDocument","pipFocused","pipDocuments.Templates"]);t.config(["pipTranslateProvider",function(e){e.translations("en",{DOCUMENTS_ATTACHED:"document(s) attached",ERROR_DOCUMENTS_LOADED:"Error: <%= error_number %> document(s) are not loaded"}),e.translations("ru",{DOCUMENTS_ATTACHED:"документов добавлено",ERROR_DOCUMENTS_LOADED:"Ошибка: <%= error_number %> документ(ов) не загружено"})}]),t.directive("pipDocumentList",["$parse","$rootScope","pipUtils","pipDataDocument","pipToasts","pipTranslate",function(e,t,o,i,c,d){return{restrict:"EA",scope:!0,templateUrl:"document_list/document_list.html",link:function(t,c,d){function l(e){var o,i;if(!t.documents&&e)return!0;if(t.documents&&!e)return!0;if(t.documents.length!==e.length)return!0;for(o=0;o<e.length;o++)if(i=n.find(t.documents,{file_id:e[o].file_id}),void 0===i)return!0;return!1}function a(e){e&&e.stopPropagation(),d.disabled||(t.showDocuments=!t.showDocuments,r[t.showDocuments?"show":"hide"](),m[t.showDocuments?"hide":"show"](),u[t.showDocuments?"show":"hide"]())}function s(e){return i.getDocumentContentUrl(e.file_id)}var p=e(d.pipDocuments),u=c.children(".pip-documents-container"),r=c.find(".icon-up"),m=c.find(".icon-down"),g=o.toBoolean(d.pipCollapse);t.documentList={},t.documentList.icon="document",t.documents=p(t),d.pipDocumentIcon&&(t.pipDocumentIcon=!0),t.showDocuments=g,g?m.hide():(r.hide(),u.hide()),d.disabled&&(r.hide(),m.hide()),o.toBoolean(d.pipRebind)&&t.$watch(p,function(e){l(e)&&(t.documents=e)}),t.onTitleClick=a,t.documentUrl=s,c.addClass("pip-document-list")}}}])}(window.angular,window._),function(e,n){"use strict";var t=e.module("pipDocumentListEdit",["ui.event","pipCore","pipFocused","pipDataDocument","pipDocuments.Templates"]);t.config(["pipTranslateProvider",function(e){e.translations("en",{DOCUMENT_LIST_EDIT_TEXT:"Click here to add a document",ERROR_TRANSACTION_IN_PROGRESS:"Transaction is in progress. Please, wait until it's finished or abort"}),e.translations("ru",{DOCUMENT_LIST_EDIT_TEXT:"Нажмите сюда, чтобы добавить документ",ERROR_TRANSACTION_IN_PROGRESS:"Транзакция еще не завершена. Подождите окончания или прервите её"})}]),t.directive("pipDocumentListEdit",function(){return{restrict:"EA",scope:{pipDocuments:"=",pipAddedDocument:"=",ngDisabled:"&",pipCreated:"&",pipChanged:"&"},templateUrl:"document_list_edit/document_list_edit.html",controller:"pipDocumentListEditController"}}),t.controller("pipDocumentListEditController",["$scope","$rootScope","$element","$attrs","$parse","$timeout","pipDataDocument","pipUtils",function(e,t,o,i,c,d,l,a){function s(){var n,t=e.pipDocuments,o=[];if(null===t||0===t.length)return o;for(n=0;n<t.length;n++)o.push({pin:E++,id:t[n].file_id,name:t[n].file_name,uploading:!1,uploaded:!1,progress:0,file:null,state:e.documentStartState});return o}function p(){var n,t;for(e.pipDocuments&&e.pipDocuments.length>0&&e.pipDocuments.splice(0,e.pipDocuments.length),t=0;t<e.control.items.length;t++)n=e.control.items[t],n.id&&e.pipDocuments.push({file_id:n.id,file_name:n.name})}function u(){e.control.uploading=0,e.control.items=s()}function r(e,n){var t=e.file,o=new FileReader;e.uploading||null===e.file||"added"!==e.state||(o.onload=function(o){e.uploading||(e.uploading=!0,e.upload=l.createDocument({name:e.file.name,type:t.type,data:o.target.result},function(t){e.id=t.data.id,e.name=t.data.filename||e.name,e.uploaded=!0,e.uploading=!1,e.progress=0,e.upload=null,e.file=null,e.state="original",n()},function(){e.uploaded=!1,e.uploading=!1,e.progress=0,e.upload=null,e.state="error",n()},function(n){e.progress=Math.min(100,parseInt(100*n.loaded/n.total))}))},o.readAsArrayBuffer(t))}function m(t,o){var i=e.control;t.upload&&(t.upload.abort(),t.upload=null),"deleted"===t.state&&l.deleteDocument(t.id,function(){n.remove(i.items,{pin:t.pin}),o()},function(e){null==e?n.remove(i.items,{pin:t.pin}):(t.uploaded=!1,t.uploading=!1,t.progress=0,t.upload=null),o(e)})}function g(n,t){var o,i,c,d=e.control;if(d.uploading)return void(t&&t("ERROR_TRANSACTION_IN_PROGRESS"));for(d.error=null,d.uploading=0,o=function(e){e&&!d.error&&(d.error=e),d.uploading--,0==d.uploading&&(d.error?t?t(d.error):console.error(d.error):(p(),n&&n()))},c=0;c<d.items.length;c++)i=d.items[c],"added"===i.state?(d.uploading++,r(i,o)):"deleted"===i.state&&(d.uploading++,m(i,o));0==d.uploading&&n&&n()}function f(){var n,t,o=e.control;for(t=0;t<o.items.length;t++)n=o.items[t],n.uploading&&(n.upload&&n.upload.abort(),n.uploaded=!1,n.uploading=!1,n.progress=0,n.upload=null);o.uploading=0}function D(e){return"deleted"!==e.state}function v(n){var t,o;if(C.focus(),null!=n&&0!==n.length){for(o=0;o<n.length;o++)t=n[o],e.control.items.push({pin:E++,id:null,name:t.name,uploading:!1,uploaded:!1,progress:0,file:t,state:"added"});e.onChange()}}function h(t){"added"===t.state||"copied"===t.state?n.remove(e.control.items,{pin:t.pin}):t.state="deleted",e.onChange()}function _(t,o){o?46!==t.keyCode&&8!==t.keyCode||("added"===o.state?n.remove(e.control.items,{pin:o.pin}):o.state="deleted",e.onChange()):13!==t.keyCode&&32!==t.keyCode||setTimeout(function(){C.trigger("click")},0)}function T(){e.pipChanged&&e.pipChanged({$event:{sender:e.control},$control:e.control})}function b(){e.pipCreated&&e.pipCreated({$event:{sender:e.control},$control:e.control})}var C=o.children(".pip-picture-drop"),E=0;e.documentList={},e.documentList.text=i.pipDefaultText||"DOCUMENT_LIST_EDIT_TEXT",e.documentList.icon=i.pipDefaultIcon||"document",e.documentList.iconError="warn-circle",e.documentStartState=a.toBoolean(e.pipAddedDocument)?"copied":"original",e.cancelDrag=a.toBoolean(i.pipCanselDrag)===!0,e.control={uploading:0,items:s(),reset:u,save:g,abort:f},e.filterItem=D,e.onDelete=h,e.onKeyDown=_,e.onChange=T,e.onSelect=v,o.addClass("pip-document-list-edit"),e.control.reset(),b(),e.$watchCollection(function(){return e.pipDocuments},function(t){n.isEqual(t,e.pipDocuments)||e.control.reset()})}])}(window.angular,window._);
!function(){"use strict";angular.module("pipPictures",["pipAddImage","pipAvatar","pipAvatarEdit","pipPicture","pipPictureEdit","pipCollage","pipPictureListEdit","pipCameraDialog","pipPictureUrlDialog"])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("add_image/add_image.html",'<md-menu><ng-transclude class="pip-add-image-open-button" ng-click="ngDisabled() ? \'\' : $mdOpenMenu()"></ng-transclude><md-menu-content width="4"><md-menu-item><md-button class="layout-row layout-align-start-center" accept="image/*" ng-keydown="onKeyDown($event)" ng-multiple="isMulti()" ng-file-select="" ng-file-change="onFileChange($files)" ng-click="hideMenu()" ng-file-drop=""><md-icon class="text-headline text-grey rm24-flex" md-svg-icon="icons:folder"></md-icon><span class="text-grey">{{::\'FILE\' | translate}}</span></md-button></md-menu-item><md-menu-item><md-button class="layout-row layout-align-start-center" ng-click="onWebLinkClick()"><md-icon class="text-headline text-grey rm24-flex" md-svg-icon="icons:weblink"></md-icon><span class="text-grey">{{::\'WEB_LINK\' | translate}}</span></md-button></md-menu-item><md-menu-item><md-button class="layout-row layout-align-start-center" ng-click="onCameraClick()"><md-icon class="text-headline text-grey rm24-flex" md-svg-icon="icons:camera"></md-icon><span class="text-grey">{{::\'CAMERA\' | translate}}</span></md-button></md-menu-item><md-menu-item><md-button class="layout-row layout-align-start-center" ng-click="onGalleryClick()"><md-icon class="text-headline text-grey rm24-flex" md-svg-icon="icons:images"></md-icon><span class="text-grey">{{::\'IMAGE_GALLERY\' | translate}}</span></md-button></md-menu-item></md-menu-content></md-menu>')}])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("camera_dialog/camera_dialog.html",'<md-dialog class="pip-dialog pip-picture-dialog pip-camera-dialog layout-column" md-theme="{{theme}}" ng-show="browser != \'android\'" ng-class="{\'pip-android-dialog\': browser == \'android\' || !browser}"><div class="pip-header"><md-button ng-click="onCancelClick()" class="md-icon-button" aria-label="{{ ::\'CANCEL\' | translate }}"><md-icon class="text-grey" md-svg-icon="icons:arrow-left"></md-icon></md-button><h3 class="m0 text-title">{{ ::\'TAKE_PICTURE\' | translate }}</h3></div><div class="pip-body"><div class="camera-stream" ng-hide="webCamError || browser == \'android\'"></div><div class="camera-error" ng-show="webCamError || browser == \'android\'"><span>{{ ::\'WEB_CAM_ERROR\' | translate }}</span></div></div><div class="pip-footer"><div class="w48"><md-button ng-click="onResetPicture()" ng-hide="!$freeze || webCamError" class="md-icon-button" ng-disabled="transaction.busy()" aria-label="{{ ::\'REMOVE_PICTURE\' | translate }}"><md-icon class="text-grey" md-svg-icon="icons:refresh"></md-icon></md-button></div><div class="flex"></div><div class="w48"><md-button ng-click="onTakePictureClick()" ng-hide="webCamError" class="md-icon-button" aria-label="{{ ::\'TAKE_PICTURE\' | translate }}"><md-icon class="text-grey icon-button" md-svg-icon="icons:{{$freeze ? \'check\' : \'camera\'}}"></md-icon></md-button></div><div class="flex"></div><div class="w48"><md-button ng-click="onCancelClick()" class="md-icon-button" aria-label="{{ ::\'CANCEL\' | translate }}"><md-icon class="text-grey" md-svg-icon="icons:cross"></md-icon></md-button></div></div></md-dialog>')}])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("gallery_search_dialog/gallery_search_dialog.html",'<md-dialog class="pip-dialog pip-gallery-search-dialog pip-picture-dialog layout-column" md-theme="{{theme}}"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate"></md-progress-linear><md-dialog-content class="pip-body lp0 rp0 tp0 pip-scroll flex layout-row"><div class="layout-column layout-align-start-start flex"><div class="pip-header w-stretch layout-column layout-align-start-start"><h3 class="w-stretch text-title m0 bp8"><md-button class="md-icon-button m0" ng-click="onCancelClick()" aria-label="{{ ::\'CANCEL\' | translate }}"><md-icon class="text-grey" md-svg-icon="icons:arrow-left"></md-icon></md-button>{{::\'IMAGE_GALLERY\' | translate}}</h3><div class="w-stretch divider-bottom layout-row layout-start-center"><input class="no-divider rm8 text-subhead1 flex" ng-disabled="transaction.busy()" ng-model="$search" ng-keypress="onKeyPress($event)" placeholder="{{::\'SEARCH_PICTURES\' | translate}}" type="text" tabindex="1"><md-button class="md-icon-button md-icon-button-square p0 pip-search-button md-primary" ng-click="onSearchClick()" ng-hide="optionDefault" tabindex="-1" aria-label="SEARCH"><md-icon class="text-opacity md-primary" md-svg-icon="icons:search-square"></md-icon></md-button></div></div><div class="pip-content flex" ng-show="$images.length > 0"><div class="pip-image-container" ng-click="onImageClick(image)" ng-repeat="image in $images track by $index" ng-class="{\'checked\': image.checked}" tabindex="{{ $index + 2 }}"><pip-picture pip-src="image.thumbnail" pip-default-icon="icon-images" pip-rebind="true"></pip-picture><div class="pip-checked-cover"></div><div class="pip-checkbox-backdrop"><md-checkbox md-no-ink="" ng-model="image.checked" ng-click="image.checked = !image.checked" aria-label="CHECKED"></md-checkbox></div></div></div><div class="pip-no-images w-stretch layout-column layout-align-center-center flex" ng-show="$images.length == 0"><img src="images/add_from_image_library.svg" width="200" height="200"><p class="text-secondary opacity-secondary text-center">{{\'IMAGE_START_SEARCH\' | translate}}</p></div></div></md-dialog-content><div class="pip-footer"><md-button ng-click="onCancelClick()" ng-hide="transaction.busy()" aria-label="{{ ::\'CANCEL\' | translate }}" tabindex="{{ $images.length + 3 }}"><span class="text-grey">{{ ::\'CANCEL\' | translate }}</span></md-button><md-button ng-if="transaction.busy()" ng-click="onStopSearchClick()" class="md-raised md-warn m0" tabindex="5" aria-label="ABORT" pip-test="button-cancel">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent" ng-hide="transaction.busy()" ng-disabled="addButtonDisabled()" ng-click="onAddClick()" aria-label="{{ ::\'ADD\' | translate }}" tabindex="{{ $images.length + 4 }}">{{ ::\'ADD\' | translate }}</md-button></div></md-dialog>')}])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("picture_edit/picture_edit.html",'<div class="pip-picture-upload pip-picture-drop md-focused" ng-keydown="onKeyDown($event)" tabindex="{{ ngDisabled() || control.uploading ? -1 : 0 }}" pip-changed="readItemLocally(url, file)" ng-disabled="ngDisabled()" pip-multi="false" ng-focus="onFocus()" ng-blur="onBlur()" pip-add-image=""><div class="pip-default-icon" ng-show="empty()"><md-icon class="pip-picture-icon" md-svg-icon="icons:{{icon}}"></md-icon></div><div class="pip-default-text" ng-show="empty()"><span>{{text | translate}}</span></div><img class="pip-picture-image" ng-src="{{control.url}}" ng-show="!empty()" ng-class="{ \'pip-image-new\': isUpdated(), \'cursor-default\' : ngDisabled() || control.uploading }" ui-event="{ error: \'onImageError($event)\', load: \'onImageLoad($event)\' }"><md-button class="md-icon-button" ng-click="onDeleteClick($event)" tabindex="-1" aria-label="delete" ng-hide="empty() || ngDisabled()" ng-disabled="ngDisabled() || control.uploading"><md-icon md-svg-icon="icons:cross"></md-icon></md-button><md-progress-linear ng-show="control.uploading" ng-value="control.progress"></md-progress-linear></div>')}])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("picture_list_edit/picture_list_edit.html",'<div pip-focused=""><div class="pip-picture-upload pointer pip-focusable" ng-class="{\'pip-picture-error\': item.error}" ng-keydown="onKeyDown($event, item)" tabindex="{{ ngDisabled() ? -1 : 0 }}" ng-repeat="item in control.items | filter: filterItem"><div class="pip-default-icon" ng-hide="item.loaded || item.error"><md-icon pip-cancel-drag="true" class="pip-picture-icon" md-svg-icon="icons:{{icon}}"></md-icon></div><div class="pip-default-text" ng-show="item.error"><md-icon pip-cancel-drag="true" md-svg-icon="icons:warn-circle"></md-icon></div><img ng-src="{{::item.url}}" pip-cancel-drag="true" ng-hide="item.error" ng-class="{ \'pip-image-new\': item.state == \'added\' }" ui-event="{ error: \'onImageError($event, item)\', load: \'onImageLoad($event, item)\' }"><md-button ng-click="onDeleteClick(item)" ng-disabled="ngDisabled() || control.uploading" tabindex="-1" aria-label="delete" class="md-icon-button"><md-icon pip-cancel-drag="true" md-svg-icon="icons:cross"></md-icon></md-button><md-progress-linear md-mode="indeterminate" ng-show="item.uploading" value="{{ item.progress }}"></md-progress-linear></div><button class="pip-picture-upload pip-picture-drop pip-focusable" pip-add-image="" ng-focus="onFocus()" ng-blur="onBlur()" pip-changed="readItemLocally(url, file)" ng-disabled="ngDisabled() || control.uploading"><div class="pip-default-icon"><md-icon pip-cancel-drag="true" class="pip-picture-icon" md-svg-icon="icons:{{icon}}"></md-icon></div><div class="pip-default-text"><span>{{text | translate}}</span></div></button><div class="clearfix"></div></div>')}])}(),function(e){try{e=angular.module("pipPictures.Templates")}catch(t){e=angular.module("pipPictures.Templates",[])}e.run(["$templateCache",function(e){e.put("picture_url_dialog/picture_url_dialog.html",'<md-dialog class="pip-dialog pip-picture-url-dialog pip-picture-dialog layout-column" md-theme="{{theme}}"><md-dialog-content class="pip-body lp0 rp0 tp0 pip-scroll"><div class="pip-header bm16 layout-row layout-align-start-center"><md-button ng-click="onCancelClick()" class="md-icon-button lm0" aria-label="{{ ::\'CANCEL\' | translate }}"><md-icon class="text-grey" md-svg-icon="icons:arrow-left"></md-icon></md-button><h3 class="text-title m0">{{ ::\'PICTURE_FROM_WEBLINK\' | translate}}</h3></div><div class="pip-content"><md-input-container md-no-float="" class="w-stretch text-subhead1"><input type="text" ng-model="url" ng-change="checkUrl()" placeholder="{{:: \'LINK_PICTURE\' | translate}}"></md-input-container><div class="w-stretch layout-row layout-align-center-center" ng-hide="invalid"><img id="url_image"></div><div class="pip-no-images layout-row layout-align-center-center" ng-show="invalid"><md-icon class="text-grey" md-svg-icon="icons:images"></md-icon></div></div></md-dialog-content><div class="pip-footer"><md-button ng-click="onCancelClick()" aria-label="{{ ::\'CANCEL\' | translate }}">{{ ::\'CANCEL\' | translate }}</md-button><md-button class="md-accent" ng-click="onAddClick()" ng-disabled="invalid" aria-label="{{ ::\'ADD\' | translate }}">{{ ::\'ADD\' | translate }}</md-button></div></md-dialog>')}])}(),function(){"use strict";var e=angular.module("pipAddImage",["pipCameraDialog","pipPictureUrlDialog","pipGallerySearchDialog","pipCore"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{FILE:"Upload pictures",WEB_LINK:"Use web link",CAMERA:"Take photo",IMAGE_GALLERY:"Use image library"}),e.translations("ru",{FILE:"Загрузить картинку",WEB_LINK:"Вставить веб ссылка",CAMERA:"Использовать камеру",IMAGE_GALLERY:"Открыть галерею изображений"})}]),e.directive("pipAddImage",function(){return{restrict:"AC",scope:{$images:"=pipImages",onChange:"&pipChanged",multi:"&pipMulti",ngDisabled:"&"},transclude:!0,templateUrl:"add_image/add_image.html",controller:"pipAddImageController"}}),e.controller("pipAddImageController",["$scope","$element","$mdMenu","$timeout","pipCameraDialog","pipPictureUrlDialog","pipGallerySearchDialog","pipUtils",function(e,t,i,l,n,o,a,r){function d(){$(t).find(".pip-add-image-open-button").scope().$mdOpenMenu()}function c(){return void 0===e.multi()||r.toBoolean(e.multi())}function u(){i.hide()}function p(e){var t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);for(var i=e.split(",")[0].split(":")[1].split(";")[0],l=new Uint8Array(t.length),n=0;n<t.length;n++)l[n]=t.charCodeAt(n);return new Blob([l],{type:i})}function s(t){void 0!==t&&(Array.isArray(t)?t.forEach(function(t){e.onChange&&e.onChange({url:t.url,file:t.file})}):e.onChange&&e.onChange({url:t.url,file:t.file}),void 0!==e.$images&&Array.isArray(e.$images)&&(Array.isArray(t)?t.forEach(function(t){e.$images.push(t.url)}):e.$images.push(t.url)))}function g(e){null!=e&&0!=e.length&&e.forEach(function(e){e.type.indexOf("image")>-1&&l(function(){var t=new FileReader;t.readAsDataURL(e),t.onload=function(t){l(function(){s({url:t.target.result,file:e})})}})})}function f(){o.show(function(e){var t=null;"data:image"==e.substring(0,10)&&(t=p(e),t.name=e.slice(e.lastIndexOf("/")+1,e.length).split("?")[0]),s({url:e,file:t})})}function h(){n.show(function(e){var t=p(e);t.name="camera",s({url:e,file:t})})}function m(){a.show(function(e){var t=[];e.forEach(function(e){t.push({url:e,file:null})}),s(t)},e.isMulti())}e.hideMenu=u,e.onFileChange=g,e.onWebLinkClick=f,e.onCameraClick=h,e.onGalleryClick=m,e.isMulti=c,t.click(function(){e.ngDisabled()||d()})}])}(),function(){"use strict";var e=angular.module("pipAvatar",["pipCore","pipData","pipImageUtils"]);e.directive("pipAvatar",function(){return{restrict:"EA",scope:!1,template:'<md-icon></md-icon><img/><div><md-icon class="default_icon" id="icon-film" md-svg-icon="icons:film"></md-icon><md-icon class="default_icon" id="icon-task" md-svg-icon="icons:task"></md-icon><md-icon class="default_icon" id="icon-folder" md-svg-icon="icons:folder"></md-icon></div>',controller:"pipAvatarController"}}),e.controller("pipAvatarController",["$scope","$rootScope","$element","$attrs","$parse","pipUtils","pipDataAvatar","pipStrings","$http","pipImageUtils",function(e,t,i,l,n,o,a,r,d,c){function u(){m.css("display","none"),h.css("display","none"),P.css("display","none"),f.css("display","none"),g.attr("src",""),s.css("display","none"),g.css("display","inline-block"),p()}function p(){var t=x(e),l=y(e),n=C(e),o=b(e),d=w(e);m.css("display","none"),h.css("display","none"),P.css("display","none"),f.css("display","none");var c={partyId:l,partyName:t,id:n,type:o,noRedirect:!1,noDefault:!1},u=d||a.getAvatarUrl(c);if(o&&n&&l||l&&t||d)if(o&&n&&l){if("category"==o)return;if("goals"==_[o]||"areas"==_[o])g.attr("src",u),s.css("display","none"),g.css("display","inline-block");else{f.css("display","block");var p=r.hashCode(n)%I.length;switch(i.addClass(E[p]),o){case"vision":s.css("display","none"),h.css("display","inline-block"),m.css("display","none"),P.css("display","none"),g.css("display","none");break;case"event":s.css("display","none"),m.css("display","inline-block"),h.css("display","none"),P.css("display","none"),g.css("display","none");break;case"note":s.css("display","none"),P.css("display","inline-block"),m.css("display","none"),h.css("display","none"),g.css("display","none")}}}else g.attr("src",u),s.css("display","none"),g.css("display","inline-block")}var s=i.children("md-icon"),g=i.children("img"),f=i.children("div"),h=i.find("#icon-film"),m=i.find("#icon-task"),P=i.find("#icon-folder"),v=null,y=n(l.pipPartyId),x=n(l.pipPartyName),b=n(l.pipEntityType),C=n(l.pipId),w=n(l.pipImageUrl),I=a.getAvatarColors(),E=a.getColorClasses(),_=a.getEntityTypes();g.load(function(e){v=$(e.target),c.setImageMarginCSS(i,v)}),i.addClass("pip-avatar flex-fixed"),l.ngClass&&e.$watch(l.ngClass,function(){setTimeout(function(){c.setImageMarginCSS(i,v)},50)}),p(),o.toBoolean(l.pipRebindAvatar)&&t.$on("pipPartyAvatarUpdated",u),o.toBoolean(l.pipRebind)&&(e.$watch(y,function(e,t){t!==e&&p()}),e.$watch(C,function(e,t){t!==e&&p()}),e.$watch(w,function(e,t){t!==e&&p()}))}])}(),function(){"use strict";var e=angular.module("pipAvatarEdit",["ui.event","angularFileUpload","pipPicturePaste","pipData","pipImageUtils","pipPictures.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{PICTURE_EDIT_TEXT:"Click here to upload a picture"}),e.translations("ru",{PICTURE_EDIT_TEXT:"Нажмите сюда для загрузки картинки"})}]),e.directive("pipAvatarEdit",function(){return{restrict:"EA",scope:{ngDisabled:"&",pipPartyId:"&",pipEntityType:"&",pipId:"&",pipCreated:"&",pipChanged:"&",pipReset:"&"},templateUrl:"picture_edit/picture_edit.html",controller:"pipAvatarEditController"}}),e.controller("pipAvatarEditController",["$scope","$element","$attrs","$http","$upload","$rootScope","pipPicturePaste","pipDataAvatar","pipImageUtils",function(e,t,i,l,n,o,a,r,d){function c(t){if(e.control.progress=0,e.control.uploading=!1,e.control.uploaded=!1,e.control.file=null,e.control.state="original",e.control.url="",t)e.onChange();else{var i=r.getAvatarUrl(e.pipPartyId(),"",e.pipId(),e.pipEntityType(),!1,!0);if(!i)return;e.control.progress=0,e.control.url=i,e.control.uploaded=""!=e.control.url,e.onChange()}}function u(){return{entityType:e.pipEntityType(),id:e.pipId(),partyId:e.pipPartyId()}}function p(){var t=e.control.url,i=t.slice(t.lastIndexOf("/")+1,t.length).split("?")[0],l=i+"&url="+t;return r.getAvatarPostUrl(u(),l)}function s(t,i){var l=e.control,n=l.file;if(null!==e.control.file){var o=new FileReader;o.onload=function(e){l.uploading=!0;r.createAvatar({name:n.name,params:u(),type:n.type,data:e.target.result},function(e){l.reset(),t&&t(e)},function(e){l.uploading=!1,l.upload=!1,l.progress=0,i?i(e):console.error(e)},function(e){l.progress=Math.min(100,parseInt(100*e.loaded/e.total))})},o.readAsArrayBuffer(n)}else l.uploading=!0,r.createAvatarByUrl(p(),function(e){l.reset(),t&&t(e)},function(e){l.uploading=!1,l.upload=!1,i?i(e):console.error(e)})}function g(t,i){var l=e.control;r.deleteDocument(u(),function(e){l.reset(!0),t&&t()},function(e){l.uploading=!1,l.upload=!1,l.progress=0,i?i(e):console.error(e)})}function f(t,i){"changed"==e.control.state?s(t,i):"deleted"==e.control.state?g(t,i):t&&t()}function h(){return""==e.control.url&&!e.control.uploading}function m(){return"original"!=e.control.state}function P(t,i){e.control.file=i,e.control.url=t,e.control.state="changed",e.onChange()}function v(t){t.stopPropagation(),w.focus(),e.control.file=null,e.control.url="",e.control.state="deleted",e.onChange()}function y(t){13==t.keyCode||32==t.keyCode?setTimeout(function(){w.trigger("click")},0):46==t.keyCode||8==t.keyCode?(e.control.file=null,e.control.url="",e.control.state="deleted",e.onChange()):27==t.keyCode&&e.control.reset()}function x(t){e.$apply(function(){e.control.url="";var i=$(t.target);d.setErrorImageCSS(i,{width:"auto",height:"100%"})})}function b(t){var i=$(t.target);d.setImageMarginCSS({clientWidth:80,clientHeight:80},i),e.control.uploading=!1}function C(){e.pipChanged&&e.pipChanged({$event:{sender:e.control},$control:e.control})}var w=t.children(".pip-picture-upload"),I=w.children("input[type=file]");r.getEntityTypes();e.text=i.pipDefaultText||"PICTURE_EDIT_TEXT",e.icon=i.pipDefaultIcon||"picture-no-border",e.control={url:"",progress:0,uploaded:!1,uploading:!1,loaded:!1,file:null,state:"original"},e.control.reset=c,e.control.save=f,e.empty=h,e.isUpdated=m,e.readItemLocally=P,e.onDeleteClick=v,e.onKeyDown=y,e.onImageError=x,e.onImageLoad=b,e.onChange=C,e.$watch(e.pipId,function(t){e.pipReset()!==!1&&e.control.reset()}),e.$watch(e.pipPartyId,function(t){e.pipReset()!==!1&&e.control.reset()}),e.$watch(e.ngDisabled,function(t){I.attr("disabled",e.control.disabled)}),t.children(".pip-picture-upload").focus(function(){a.addPasteListener(function(t){e.readItemLocally(t.url,t.file)})}),t.children(".pip-picture-upload").blur(function(){a.removePasteListener()}),t.addClass("pip-picture-edit"),e.pipCreated&&e.pipCreated({$event:{sender:e.control},$control:e.control}),e.control.reset()}])}(),function(){"use strict";var e=angular.module("pipCameraDialog",["ngMaterial","pipCore","pipPictures.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{TAKE_PICTURE:"Take a picture",WEB_CAM_ERROR:"Webcam is missing or was not found"}),e.translations("ru",{TAKE_PICTURE:"Сделать фото",WEB_CAM_ERROR:"Web-камера отсутствует или не найдена"})}]),e.factory("pipCameraDialog",["$mdDialog",function(e){return{show:function(t){e.show({templateUrl:"camera_dialog/camera_dialog.html",clickOutsideToClose:!0,controller:"pipCameraController"}).then(function(e){Webcam.reset(),t&&t(e)},function(){Webcam.reset()})}}}]),e.controller("pipCameraController",["$scope","$rootScope","$timeout","$mdMenu","$mdDialog","pipUtils",function(e,t,i,l,n,o){function a(){navigator.camera.getPicture(r,d,{sourceType:Camera.PictureSourceType.CAMERA,correctOrientation:!0,quality:75,targetWidth:200,destinationType:Camera.DestinationType.DATA_URL})}function r(e){var t=e,t="data:image/jpeg;base64,"+e;n.hide(t)}function d(e){alert("Failed because: "+e),n.hide()}function c(){Webcam&&(e.$freeze?Webcam.snap(function(t){e.$freeze=!1,n.hide(t)}):(e.$freeze=!0,Webcam.freeze()))}function u(){e.$freeze=!1,Webcam.unfreeze()}function p(){n.cancel()}e.browser=o.getBrowser().os,e.theme=t.$theme,"android"!==e.browser?(Webcam.init(),setTimeout(function(){Webcam.attach(".camera-stream")},0),Webcam.on("error",function(t){e.webCamError=!0,console.error(t)}),Webcam.set({width:400,height:300,dest_width:400,dest_height:300,crop_width:400,crop_height:300,image_format:"jpeg",jpeg_quality:90}),Webcam.setSWFLocation("webcam.swf")):document.addEventListener("deviceready",a,!1),e.$freeze=!1,e.onTakePictureClick=c,e.onResetPicture=u,e.onCancelClick=p}])}(),function(){"use strict";var e=angular.module("pipCollage",["pipCore","pipData"]);e.directive("pipCollage",function(){return{restrict:"EA",scope:!1,controller:"pipCollageController"}}),e.controller("pipCollageController",["$scope","$element","$attrs","$parse","$rootScope","pipUtils","pipStrings","pipImageUtils","pipDataPicture",function(e,t,i,l,n,o,a,r,d){function c(){var e=t.find("img"),i=0;for(i;i<e.length;i++){var l=angular.element(e[i].parentElement),n=angular.element(e[i]);"none"!=n.css("display")&&r.setImageMarginCSS(l,n)}var o=t.find("md-icon"),i=0;for(i;i<o.length;i++){var l=angular.element(o[i].parentElement),a=angular.element(o[i]);"none"!=l.css("display")&&r.setIconMarginCSS(l[0],a)}}function u(){var e={h:t.height(),w:t.width()};return e}function p(e){var t=$(e.target),i=t.parent(),l=i.children("div"),n=t.parent().find("md-icon");l.css("display","block"),t.css("display","none"),r.setIconMarginCSS(i[0],n),n.empty().append(E)}function s(e){var t=$(e.target),i=t.parent(),l=i.children("div");r.setImageMarginCSS(i,t),l.css("display","none")}function g(t){var i=I[t-1];if(1==i.length)return i[0];var l=b?""+b(e):"",n=a.hashCode(l);return i[n%i.length]}function f(){if(x){var t=x(e);return _.clone(t)}if(y){for(var i=y(e)||[],l=[],n=0;n<i.length;n++)l.push(d.getPictureContentUrl(i[n]));return l}return[]}function h(e,t){var i=e[0],l="",n="";return e.splice(0,1),l+=t.fullWidth?" pip-full-width":"",l+=t.fullHeight?" pip-full-height":"",l+=" flex-"+t.flex,n+=t.leftPadding?" pip-left":"",n+=t.rightPadding?" pip-right":"",n+=t.topPadding?" pip-top":"",n+=t.bottomPadding?" pip-bottom":"",w?'<a class="pip-picture-container'+l+'" flex="'+t.flex+'" href="'+i+'"  target="_blank"><div class="pip-picture'+n+'"><img src="'+i+'"/><div><md-icon></md-icon></div></div></a>':'<div class="pip-picture-container'+l+'" flex="'+t.flex+'"><div class="pip-picture'+n+'"><img src="'+i+'"/><div><md-icon></md-icon></div></div></div>'}function m(e,t){var i,l="";l+=t.fullWidth?" pip-full-width":"",l+=t.fullHeight?" pip-full-height":"",l+=" flex-"+t.flex,l+=" layout-"+t.layout,i='<div class="pip-picture-group layout'+l+'" flex="'+t.flex+'" layout="'+t.layout+'">';for(var n=0;n<t.children.length;n++)i+=P(e,t.children[n]);return i+="</div>"}function P(e,t){return t.group?m(e,t):h(e,t)}function v(i){t.find("img").unbind("error").unbind("load"),t.empty();var i=f();if(0==i.length)return void t.hide();if(i.length>8){var l=!!C&&C(e);l||(i.length=8)}if(i.length<=8){var n=g(i.length),o='<div class="pip-collage-section">'+P(i,n)+"</div>";o+='<div class="clearfix"></div>',t.html(o)}else{for(var o="";i.length>0;){var a=i.splice(0,8),n=g(a.length);o+='<div class="pip-collage-section">'+P(a,n)+"</div>"}o+='<div class="clearfix"></div>',t.html(o)}t.find("img").bind("error",p).bind("load",s),t.show()}var y=i.pipPictureIds?l(i.pipPictureIds):null,x=i.pipSrcs?l(i.pipSrcs):null,b=i.pipUniqueCode?l(i.pipUniqueCode):null,C=i.pipMultiple?l(i.pipMultiple):null,w=o.toBoolean(i.pipOpen),I=r.getCollageSchemes(),E='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg version="1.1"xmlns="http://www.w3.org/2000/svg"xmlns:xlink="http://www.w3.org/1999/xlink"x="0px" y="0px"viewBox="0 0 510 510"style="enable-background:new 0 0 515 515;"xml:space="preserve"><defs><style type="text/css"><![CDATA[#symbol-picture-no-border {        transform-origin: 50% 50%;        transform: scale(0.6, -0.6);    }        ]]></style>        </defs><rect x="0" width="515" height="515"/><path id="symbol-picture-no-border" d="M120 325l136-102 69 33 136-82 0-54-410 0 0 136z m341 15c0-28-23-51-51-51-29 0-52 23-52 51 0 29 23 52 52 52 28 0 51-23 51-52z" /></svg>';t.addClass("pip-collage"),o.toBoolean(i.pipRebind)&&(x?(e.$watch(x,function(e){v()}),e.$watchCollection(x,function(e){v()})):y&&e.$watch(y,function(e){v()})),e.getElementDimensions=u;_.debounce(c,50);e.$watch(e.getElementDimensions,function(e,t){e&&t&&t.h==e.h&&t.w==e.w||c()},!0),v()}])}(),function(){"use strict";var e=angular.module("pipGallerySearchDialog",["ngMaterial","pipCore","pipPictures.Templates","pipRest"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{IMAGE_GALLERY:"Add from image gallery",SEARCH_PICTURES:"Search for pictures...",IMAGE_START_SEARCH:"Images will appear here once you start searching"}),e.translations("ru",{IMAGE_GALLERY:"Добавить из галереи изображений",SEARCH_PICTURES:"Поиск изображений...",IMAGE_START_SEARCH:"Картинки появятся после начала поиска"})}]),e.factory("pipGallerySearchDialog",["$mdDialog",function(e){return{show:function(t,i){e.show({templateUrl:"gallery_search_dialog/gallery_search_dialog.html",clickOutsideToClose:!0,controller:"pipGallerySearchController",locals:{multiple:i}}).then(function(e){t&&t(e)},function(){})}}}]),e.controller("pipGallerySearchController",["$scope","$rootScope","$timeout","$mdMenu","$mdDialog","$http","pipRest","multiple","pipTransaction",function(e,t,i,l,n,o,a,r,d){function c(){if(!e.transaction.busy()&&""!=e.$search&&e.$search!=P){P=e.$search,e.$images=[],e.stop=null;var t=v+"?q="+e.$search,i=e.transaction.begin("ENTERING");i&&o.get(t).success(function(t){if(!e.transaction.aborted(i)){for(var l=0;l<t.length;l++)e.$images.push({checked:!1,url:t[l].link,thumbnail:t[l].thumbnail});e.transaction.end()}}).error(function(e){console.error(e)})}}function u(){e.transaction.abort(),P=""}function p(t){13===t.keyCode&&e.onSearchClick()}function s(t){e.transaction.busy()||(t.checked=!t.checked,r?t.checked?y.push(t):_.remove(y,{url:t.url}):t.checked?y.length>0?(y[0].checked=!1,y[0]=t):y.push(t):y=[])}function g(){if(!e.transaction.busy()){var t=[];y.forEach(function(e){e.checked&&t.push(e.url)}),n.hide(t)}}function f(){n.cancel()}function h(){return 0==y.length||e.transaction.busy()}function m(){setTimeout(function(){var e=$(".pip-gallery-search-dialog .search-images");e.length>0&&e.focus()},0)}var P="",v=a.serverUrl()+"/api/images/search",y=[];e.theme=t.$theme,e.$serverUrl=a.serverUrl(),e.$search="",e.$images=[],e.transaction=d("search",e),e.onSearchClick=c,e.onKeyPress=p,e.onImageClick=s,e.onAddClick=g,e.onCancelClick=f,e.addButtonDisabled=h,e.onStopSearchClick=u,m()}])}(),function(){"use strict";var e=angular.module("pipPicture",["pipCore","pipData"]);e.directive("pipPicture",function(){return{restrict:"EA",scope:{src:"&pipSrc",pictureId:"=pipPictureId",defaultIcon:"=pipDefaultIcon"},template:"<img ui-event=\"{ error: 'onImageError($event)', load: 'onImageLoad($event)' }\"/><div><span></span></div>",controller:"pipPictureController"}}),e.controller("pipPictureController",["$scope","$element","$attrs","$rootScope","pipUtils","pipImageUtils","pipDataPicture",function(e,t,i,l,n,o,a){function r(t){e.$apply(function(){var e=$(t.target);o.setErrorImageCSS(e),p.css("display","block")})}function d(e){var i=$(e.target);o.setImageMarginCSS(t,i),p.css("display","none")}function c(){if(e.pictureId){var t=pipDatPicture.getPictureContentUrl(e.pictureId);u.attr("src",t)}else e.src?u.attr("src",e.src()):u.attr("src","")}var u=t.children("img"),p=t.children("div");e.onImageError=r,e.onImageLoad=d,t.addClass("pip-picture"),c(),n.toBoolean(i.pipRebind)&&e.$watch(e.pictureId,function(t){e.pictureId!=t&&c()}),n.toBoolean(i.pipRebind)&&e.$watch(e.src,function(t){e.src!=t&&c()})}])}(),function(){"use strict";var e=angular.module("pipPictureEdit",["ui.event","angularFileUpload","pipData","pipPicturePaste","pipTranslate","pipPictures.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{ERROR_WRONG_IMAGE_FILE:"Incorrect image file. Please, choose another one",PICTURE_EDIT_TEXT:"Click here to upload a picture"}),e.translations("ru",{ERROR_WRONG_IMAGE_FILE:"Неправильный файл с изображением. Выберете другой файл",PICTURE_EDIT_TEXT:"Нажмите сюда для загрузки картинки"})}]),e.directive("pipPictureEdit",function(){return{restrict:"EA",scope:{ngDisabled:"&",pipCreated:"&",pipChanged:"&",pipReset:"&",pipPictureId:"=",pipPartyId:"=",pipAddedPicture:"="},templateUrl:"picture_edit/picture_edit.html",controller:"pipPictureEditController"}}),e.controller("pipPictureEditController",["$scope","$element","$attrs","$http","$upload","$timeout","$rootScope","$parse","pipDataPicture","pipPicturePaste","pipImageUtils","pipUtils",function(e,t,i,l,n,o,a,r,d,c,u,p){function s(t){e.control.progress=0,e.control.uploading=!1,e.control.uploaded=!1,e.control.file=null,e.control.state=e.pictureStartState,e.control.url="";var i="";if(t)e.onChange();else{if(a.$party&&a.$party.id&&e.pipPictureId&&(i=d.getPictureContentUrl(e.pipPictureId)),!i)return;e.control.url=i,e.control.uploaded=!0,e.onChange()}}function g(){c.addPasteListener(function(t){e.readItemLocally(t.url,t.file)})}function f(){c.removePasteListener()}function h(t,i){var l=e.control,n=l.file;if(null!==e.control.file){var o=new FileReader;o.onload=function(o){l.uploading=!0;d.createPicture({name:n.name,type:n.type,data:o.target.result},function(i){e.pipPictureId=i.data.id,l.reset(),t&&t(i)},function(){l.uploading=!1,l.upload=!1,l.progress=0,i?i(error):console.error(error)},function(e){item.progress=Math.min(100,parseInt(100*e.loaded/e.total))})},o.readAsArrayBuffer(n)}else{var a=e.control.url.slice(item.url.lastIndexOf("/")+1,e.control.url.length).split("?")[0],r=a+"&url="+e.control.url;l.uploading=!0,pipDataAvatar.createAvatarByUrl(pipDatPicture.getPicturePostUrl(r),function(i){e.pipPictureId=i.id,l.reset(),t&&t(i)},function(e){l.uploading=!1,l.upload=!1,i?i(e):console.error(e)})}}function m(t,i){var l=e.control;d.deletePicture(e.pipPictureId,function(){e.pipPictureId=null,l.reset(!0),t&&t()},function(e){l.uploading=!1,l.upload=!1,l.progress=0,i?i(e):console.error(e)})}function P(t,i){"changed"==e.control.state?h(t,i):"deleted"==e.control.state?m(t,i):t&&t()}function v(){return""==e.control.url&&!e.control.uploading}function y(){return"original"!=e.control.state}function x(t,i){e.control.file=i,e.control.url=t,e.control.state="changed",e.onChange()}function b(t){t.stopPropagation(),_.focus(),e.control.file=null,e.control.url="","copied"!=e.control.state&&(e.control.state="deleted"),e.onChange()}function C(t){13==t.keyCode||32==t.keyCode?setTimeout(function(){
_.trigger("click")},0):46==t.keyCode||8==t.keyCode?(e.control.file=null,e.control.url="",e.control.state="deleted",e.onChange()):27==t.keyCode&&e.control.reset()}function w(t){e.$apply(function(){e.control.url="";var i=$(t.target);u.setErrorImageCSS(i,{width:"auto",height:"100%"})})}function I(t){var i=$(t.target);u.setImageMarginCSS({clientWidth:80,clientHeight:80},i),e.control.uploading=!1}function E(){e.pipChanged&&e.pipChanged({$event:{sender:e.control},$control:e.control})}var _=t.children(".pip-picture-upload"),k=_.children("input[type=file]");e.text=i.pipDefaultText||"PICTURE_EDIT_TEXT",e.icon=i.pipDefaultIcon||"picture-no-border",e.pictureStartState=p.toBoolean(e.pipAddedPicture)?"copied":"original",e.control={url:"",progress:0,uploaded:!1,uploading:!1,loaded:!1,file:null,state:e.pictureStartState},e.control.reset=s,e.control.save=P,e.empty=v,e.isUpdated=y,e.readItemLocally=x,e.onDeleteClick=b,e.onKeyDown=C,e.onImageError=w,e.onImageLoad=I,e.onChange=E,e.onBlur=f,e.onFocus=g,p.toBoolean(i.pipRebind)&&e.$watch("pipPictureId",function(t){e.control.reset()}),e.$watch(e.ngDisabled,function(t){k.attr("disabled",e.control.disabled)}),t.addClass("pip-picture-edit"),e.control.reset(),e.pipCreated&&e.pipCreated({$event:{sender:e.control},$control:e.control})}])}(),function(){"use strict";var e=angular.module("pipPictureListEdit",["ui.event","angularFileUpload","pipCore","pipFocused","pipData","pipPicturePaste"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{PICTURE_LIST_EDIT_TEXT:"Click here to add a picture",ERROR_TRANSACTION_IN_PROGRESS:"Transaction is in progress. Please, wait until it is finished or abort",ERROR_IMAGE_PRELOADING:"Image loading error. The picture can not be saved"}),e.translations("ru",{PICTURE_LIST_EDIT_TEXT:"Нажмите сюда чтобы добавить картинку",ERROR_TRANSACTION_IN_PROGRESS:"Транзакция еще не завершена. Подождите окончания или прервите её",ERROR_IMAGE_PRELOADING:"Ошибка при загрузки картинки. Картинка не сохранена."})}]),e.directive("pipPictureListEdit",function(){return{restrict:"EA",scope:{pipPictureIds:"=",pipAddedPicture:"=",ngDisabled:"&",pipCreated:"&",pipChanged:"&"},templateUrl:"picture_list_edit/picture_list_edit.html",controller:"pipPictureListEditController"}}),e.controller("pipPictureListEditController",["$scope","$rootScope","$element","$attrs","$parse","$http","$upload","$timeout","pipUtils","pipDataPicture","pipPicturePaste","pipImageUtils",function(e,t,i,l,n,o,a,r,d,c,u,p){function s(e){return c.getPictureContentUrl(e)}function g(e,t){t.error=!0}function f(t){u.addPasteListener(function(t){e.readItemLocally(t.url,t.file)})}function h(){u.removePasteListener()}function m(){var t=e.pipPictureIds,i=[];if(null==t||0==t.length)return i;for(var l=0;l<t.length;l++)i.push({pin:R++,id:t[l],uploading:!1,uploaded:!1,progress:0,file:null,url:s(t[l]),state:e.pictureStartState});return i}function P(){e.pipPictureIds&&e.pipPictureIds.length>0&&e.pipPictureIds.splice(0,e.pipPictureIds.length);for(var t=0;t<e.control.items.length;t++){var i=e.control.items[t];i.id&&e.pipPictureIds.push(i.id)}}function v(){e.control.uploading=0,e.control.items=m()}function y(e,t){if(null!==e.file){var i=e.file,l=new FileReader;l.onload=function(i){e.uploading||(e.uploading=!0,e.upload=c.createPicture({name:e.file.name,type:e.file.type,data:i.target.result},function(i){e.id=i.data?i.data.id:null,e.uploaded=!0,e.uploading=!1,e.progress=0,e.upload=null,e.file=null,e.url=s(e.id),e.state="original",t()},function(){e.uploaded=!1,e.uploading=!1,e.progress=0,e.upload=null,t(error)},function(t){e.progress=Math.min(100,parseInt(100*t.loaded/t.total))}))},l.readAsArrayBuffer(i)}else{var n=e.url.slice(e.url.lastIndexOf("/")+1,e.url.length).split("?")[0],o=n+"&url="+e.url;e.uploading=!0,pipDataAvatar.createAvatarByUrl(c.getPicturePostUrl(o),function(i){e.id=i.data?i.data.id:i.id||null,e.uploaded=!0,e.uploading=!1,e.progress=0,e.upload=null,e.file=null,e.url=s(e.id),e.state="original",t()},function(i){e.uploaded=!1,e.uploading=!1,e.progress=0,e.upload=null,t()})}}function x(t,i){var l=e.control;t.upload&&(t.upload.abort(),t.upload=null),"deleted"==t.state&&c.deletePicture(t.id,function(){_.remove(l.items,{pin:t.pin}),i()},function(e){null==e?_.remove(l.items,{pin:t.pin}):(t.uploaded=!1,t.uploading=!1,t.progress=0,t.upload=null),i(e)})}function b(t,i){var l=e.control;if(l.uploading)return void(i&&i("ERROR_TRANSACTION_IN_PROGRESS"));l.error=null,l.uploading=0;for(var n=function(e){e&&!l.error&&(l.error=e),l.uploading--,0==l.uploading&&(l.error?i?i(l.error):console.error(l.error):(P(),t&&t()))},o=0;o<l.items.length;o++){var a=l.items[o];"added"!=a.state||a.error?"deleted"==a.state&&(l.uploading++,x(a,n)):(l.uploading++,y(a,n))}0==l.uploading&&t&&t()}function C(){for(var t=e.control,i=0;i<t.items.length;i++){var l=t.items[i];l.uploading&&(l.upload&&l.upload.abort(),l.uploaded=!1,l.uploading=!1,l.progress=0,l.upload=null)}t.uploading=0}function w(t,i){e.control.items.push({pin:R++,id:null,uploading:!1,uploaded:!1,progress:0,file:i,url:t,state:"added"}),e.onChange()}function I(e){if(W.focus(),null!=e&&0!=e.length)for(var t=0;t<e.length;t++){var i=e[t];i.type.indexOf("image")>-1&&w(i)}}function E(t){"added"==t.state||"copied"==t.state?_.remove(e.control.items,{pin:t.pin}):t.state="deleted",e.onChange()}function k(t,i){i?46!=t.keyCode&&8!=t.keyCode||("added"==i.state?_.remove(e.control.items,{pin:i.pin}):i.state="deleted",e.onChange()):13!=t.keyCode&&32!=t.keyCode||setTimeout(function(){W.trigger("click")},0)}function A(e,t){t.error=!1,setTimeout(function(){var t=$(e.target);p.setImageMarginCSS({clientWidth:80,clientHeight:80},t)},250),t.loaded=!0}function T(){e.pipChanged&&e.pipChanged({$event:{sender:e.control},$control:e.control})}var W=i.children(".pip-picture-drop"),R=0;e.text=l.pipDefaultText||"PICTURE_LIST_EDIT_TEXT",e.icon=l.pipDefaultIcon||"picture-no-border",e.pipRebind=d.toBoolean(l.pipRebind),e.pictureStartState=d.toBoolean(e.pipAddedPicture)?"copied":"original",e.control={uploading:0,items:[]},e.control.reset=v,e.control.save=b,e.control.abort=C,e.filterItem=function(e){return"deleted"!=e.state},e.readItemLocally=w,e.onSelectClick=I,e.onDeleteClick=E,e.onKeyDown=k,e.onImageError=g,e.onImageLoad=A,e.onChange=T,e.onBlur=h,e.onFocus=f,e.pipRebind&&e.$watch(function(){return e.pipPictureIds},function(t){e.control.reset()}),i.addClass("pip-picture-list-edit"),e.control.reset(),e.pipCreated&&e.pipCreated({$event:{sender:e.control},$control:e.control})}])}(),function(){"use strict";var e=angular.module("pipPictureUrlDialog",["ngMaterial","pipCore","pipPictures.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{PICTURE_FROM_WEBLINK:"Add from web link",LINK_PICTURE:"Link to the picture..."}),e.translations("ru",{PICTURE_FROM_WEBLINK:"Добавить из веб ссылки",LINK_PICTURE:"Ссылка на изображение..."})}]),e.factory("pipPictureUrlDialog",["$mdDialog",function(e){return{show:function(t){e.show({templateUrl:"picture_url_dialog/picture_url_dialog.html",clickOutsideToClose:!0,controller:"pipPictureUrlDialogController"}).then(function(e){t&&t(e)})}}}]),e.controller("pipPictureUrlDialogController",["$scope","$rootScope","$timeout","$mdMenu","$mdDialog","pipImageUtils",function(e,t,i,l,n,o){function a(e){var t=e.width(),i=e.height(),l={};t>i?(l.width="250px",l.height="auto"):(l.width="auto",l.height="250px"),e.css(l)}function r(){var t=$("img#url_image").on("error",function(){e.invalid=!0,e.$apply()}).on("load",function(){e.invalid=!1,a(t),e.$apply()}).attr("src",e.url)}function d(){n.cancel()}function c(){n.hide(e.url)}e.url="",e.invalid=!0,e.theme=t.$theme,e.checkUrl=r,e.onCancelClick=d,e.onAddClick=c}])}(),function(){"use strict";var e=angular.module("pipPicturePaste",[]);e.factory("pipPicturePaste",["$timeout",function(e){var t={},i=null;return t.addPasteListener=function(t){window.Clipboard||(null!==i&&this.removePasteElement(),i=document.createElement("div"),i.setAttribute("contenteditable","true"),$(i).css({position:"absolute",left:"-999",width:"0",height:"0",overflow:"hidden",outline:0}),document.body.appendChild(i)),$(document).on("paste",function(i){if(null==i.clipboardData&&i.originalEvent&&(i=i.originalEvent),i.clipboardData){var l=i.clipboardData.items;_.each(l,function(i){if(i.type.indexOf("image")!=-1){var l=i.getAsFile(),n=new FileReader;n.onload=function(i){e(function(){t({url:i.target.result,file:l})})},n.readAsDataURL(l)}})}else window.clipboardData&&window.clipboardData.files&&_.each(window.clipboardData.files,function(i){var l=new FileReader;l.onload=function(l){e(function(){t({url:l.target.result,file:i})})},l.readAsDataURL(i)})})},t.removePasteListener=function(){window.Clipboard||null!==i&&(document.body.removeChild(i),i=null),$(document).off("paste")},t}])}(),function(){"use strict";var e=angular.module("pipImageUtils",[]);e.service("pipImageUtils",["$http","pipStrings","$rootScope","pipRest",function(e,t,i,l){function n(){return d}function o(e,t){var i={width:"","margin-left":"",height:"","margin-top":""};t&&(i=_.assign(i,t)),e&&e.css(i)}function a(e,t,i){var l=e.width?e.width():e.clientWidth,n=e.height?e.height():e.clientHeight,o=t[0].naturalWidth||t.width,a=t[0].naturalHeight||t.height,r=0,d={};o/l>a/n?(r=-((o/a*n-l)/2),d["margin-left"]=""+r+"px",d.height=""+n+"px",d.width=""+o*n/a+"px",d["margin-top"]=""):(r=-((a/o*l-n)/2),d["margin-top"]=""+r+"px",d.height=""+a*l/o+"px",d.width=""+l+"px",d["margin-left"]=""),i&&(d=_.assign(d,i)),t.css(d)}function r(e,t){var i=e.clientWidth?e.clientWidth:e.width,l=e.clientHeight?e.clientHeight:e.height,n=0,o=i>l?l:i,a={width:""+o+"px","margin-left":"",height:""+o+"px","margin-top":""};i>l?(n=(i-l)/2,a["margin-left"]=""+n+"px"):(n=(l-i)/2,a["margin-top"]=""+n+"px"),t.css(a)}var d=[[{flex:100,fullWidth:!0,fullHeight:!0}],[{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:50,fullHeight:!0,rightPadding:!0},{flex:50,fullHeight:!0,leftPadding:!0}]}],[{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:33,fullHeight:!0,rightPadding:!0},{flex:33,fullHeight:!0,leftPadding:!0,rightPadding:!0},{flex:33,fullHeight:!0,leftPadding:!0}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:50,fullHeight:!0,rightPadding:!0},{group:!0,layout:"column",flex:50,fullHeight:!0,children:[{flex:50,leftPadding:!0,bottomPadding:!0},{flex:50,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:70,fullHeight:!0,rightPadding:!0},{group:!0,layout:"column",flex:30,fullHeight:!0,children:[{flex:50,leftPadding:!0,bottomPadding:!0},{flex:50,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{flex:50,fullWidth:!0,bottomPadding:!0},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,rightPadding:!0,topPadding:!0},{flex:50,leftPadding:!0,topPadding:!0}]}]}],[{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:30,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:70,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:100,fullWidth:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}],[{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:50,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:67,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:100,fullWidth:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}],[{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:67,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:50,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}],[{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"column",flex:100,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:50,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]},{group:!0,layout:"row",flex:100,fullHeight:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0},{group:!0,layout:"column",flex:75,fullHeight:!0,children:[{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullHeight:!0,children:[{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:33,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]}],[{group:!0,layout:"column",flex:100,fullHeight:!0,fullWidth:!0,children:[{group:!0,layout:"row",flex:50,fullWidth:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,bottomPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,bottomPadding:!0}]},{group:!0,layout:"row",flex:50,fullWidth:!0,children:[{flex:25,fullWidth:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,rightPadding:!0,topPadding:!0},{flex:25,fullWidth:!0,leftPadding:!0,topPadding:!0}]}]}]];return{setErrorImageCSS:o,setImageMarginCSS:a,setIconMarginCSS:r,getCollageSchemes:n}}])}();
!function(){"use strict";angular.module("pipComposite",["pipContentSwitch","pipChecklistEdit","pipChecklistView","pipCompositeEdit","pipCompositeView","pipCompositeSummary","pipCompositeToolbar","pipCompositeFocused","pipMobileMouseup","pipMobileMousedown"])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("checklist_edit/checklist_edit.html",'<div ng-class="{\'pip-checklist-draggable\': selected.drag}" id="{{\'checklist-\' + selected.id}}"><div ng-repeat="item in checklistContent" ng-mousedown="onClick($event, $index)" class="pip-checklist-item" id="{{\'check-item-\' + selected.id + \'-\' + $index}}" pip-drag="checklistContent.length > 1 && selected.drag && !item.empty" pip-drag-data="item" pip-force-touch="true" pip-touch-delay="30" pip-drop="true" pip-drag-stop="onStop(selected.id)" pip-drag-start="onStart(selected.id)" pip-scroll-container="pipScrollContainer" pip-drop-success="onDropComplete($index, $data, $event, selected.id)"><div ng-class="{\'put_place\': selected.drag}"></div><div class="pip-checklist-item-body layout-row layout-align-start-start" pip-cancel-drag="true" ng-class="{ \'select-active-item\': isSelectedItem($index) }"><div class="pip-checklist-button" pip-cancel-drag="true"><md-button pip-drag-handle="" class="pip-icon-checklist-button md-icon-button no-ripple-container" aria-label="REARRANGE" tabindex="-1" pip-mobile-mousedown="onDownDragg(item)" pip-mobile-mouseup="onDraggEnd()" ng-if="pipDraggable && checklistContent.length > 2 && !item.empty" ng-class="checklistContent.length > 1 ? \'cursor-move\' : \'cursor-default\'" ng-disabled="ngDisabled()"><md-icon class="text-grey" md-svg-icon="icons:vhandle"></md-icon></md-button></div><div class="pip-checklist-button" style="overflow: hidden" pip-cancel-drag="true"><div class="pip-checklist-button-container"><md-button class="pip-icon-checklist-button md-icon-button" ng-show="item.empty" ng-disabled="ngDisabled()" md-ink-ripple="" ng-click="onAddItem()" tabindex="-1" aria-label="PLUS"><md-icon class="text-grey" md-svg-icon="icons:plus"></md-icon></md-button><md-checkbox ng-model="item.checked" ng-show="!item.empty" aria-label="COMPLETE" pip-cancel-drag="true" ng-focus="onItemFocus($index)" ng-change="onChecked(item)" ng-disabled="ngDisabled()"></md-checkbox></div></div><div class="pip-checklist-text flex" pip-cancel-drag="true"><md-input-container md-no-float="" class="flex"><textarea ng-model="item.text" name="{{\'text\' + $index}}" aria-label="TEXT" class="pip-text-checkbox" ng-focus="onItemFocus($index)" ng-change="onChangeItem($index)" ng-keydown="onTextareaKeyDown($event, $index, item)" placeholder="{{::\'TEXT\' | translate}}" id="{{\'check-item-text-\' + selected.id + \'-\' + $index}}" ng-disabled="ngDisabled()">\n                    </textarea></md-input-container></div><div class="pip-checklist-button" pip-cancel-drag="true"><md-button class="pip-icon-checklist-button md-icon-button" md-ink-ripple="" ng-click="onDeleteItem($index, item)" ng-disabled="ngDisabled()" tabindex="-1" ng-focus="onItemFocus($index)" ng-show="isSelectedItem($index)" aria-label="DELETE-ITEM"><md-icon class="text-grey" md-svg-icon="icons:cross-circle"></md-icon></md-button></div></div></div><div id="{{\'check-item-empty-\' + selected.id}}" class="pip-empty-text" pip-drag="false" pip-drop="true" pip-drop-success="onDropComplete(checklistContent.length, $data, $event, selected.id)"><div ng-class="{\'put_place\': selected.drag}"></div></div></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("checklist_view/checklist_view.html",'<div ng-repeat="item in checklistContent track by $index"><div class="pip-checklist-item layout-row layout-align-start-start"><div class="pip-checklist-icon"><md-checkbox ng-model="item.checked" ng-click="onClick($event, item)" aria-label="COMPLETE" ng-disabled="ngDisabled()"></md-checkbox></div><div class="pip-checklist-text flex"><pip-markdown pip-text="item.text" pip-rebind="true" ng-disabled="true"></pip-markdown></div></div></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("composite_edit/composite_edit.html",'<div class="divider-top"><div class="pip-composite-body" ng-show="compositeContent.length != 0" ng-class="{\'drag-active\': selected.drag}"><div class="pip-composite-item" ng-repeat="obj in compositeContent track by obj.id" ng-mousedown="onClick($event, $index, obj)" ng-class="{\'selected-content\': isSelectedSection($index, obj), \'composite-animate\': !obj.empty && compositeContent.length > 1}" ng-keyup="onKeyUp($event)" ng-keydown="onKeyDown($event, $index, obj)" pip-drag="compositeContent.length > 1 && selected.drag" pip-touch-delay="10" pip-drag-data="obj" pip-scroll-container="pipScrollContainer" pip-drop="true" pip-force-touch="true" pip-drag-stop="onStop(selected.id)" pip-drag-start="onStart(selected.id)" pip-drop-success="onDropComplete($index, $data, $event, selected.id)" id="{{\'composite-item-\' + selected.id + \'-\' + $index}}"><div class="putt_box"></div><div class="pip-section-header layout-row layout-align-start-center" ng-if="!obj.empty"><div class="w38"></div><md-button class="md-icon-button md-icon-button-little icon-rearrange-btn no-ripple-container rm8 cursor-move" ng-if="!ngDisabled() && compositeContent.length > 1" pip-drag-handle="" pip-mobile-mousedown="onDownDragg($event, obj)" pip-mobile-mouseup="onDraggEnd()" tabindex="-1" aria-label="COMPOSITE-DRAGG" ng-hide="compositeContent.length == 1"><md-icon class="composite-icon cursor-move" md-svg-icon="icons:handle"></md-icon></md-button><div><md-button class="md-icon-button md-icon-button-little rm8" ng-click="onDeleteItem($index)" ng-disabled="ngDisabled()" aria-label="COMPOSITE-DELETE"><md-icon class="composite-icon" md-svg-icon="icons:cross"></md-icon></md-button></div></div><div class="pip-section-content rp24-flex lp24-flex tp16 bp16" ng-if="obj.type == \'text\'" pip-cancel-drag="true"><md-input-container class="p0 m0 w-stretch" md-no-float=""><textarea ng-model="obj.text" aria-label="text" placeholder="{{ isFirst ? compositePlaceholder : \'TEXT\' | translate}}" id="{{\'composite-item-text-\' + selected.id + \'-\' + $index}}" ng-change="onContentChange(obj)" pip-cancel-drag="true" ng-disabled="ngDisabled()">\n                            </textarea></md-input-container></div><div class="pip-section-content rp24-flex lp24-flex vp20" ng-if="obj.type == \'pictures\'" pip-cancel-drag="true"><pip-picture-list-edit class="w-stretch" pip-cancel-drag="true" pip-picture-ids="obj.pic_ids" pip-changed="onContentChange(obj)" pip-created="obj.pictures = $event.sender" pip-added-picture="addedContent" ng-disabled="ngDisabled()"></pip-picture-list-edit></div><div class="pip-section-content rp24-flex lp24-flex vp20" ng-if="obj.type == \'documents\'" pip-cancel-drag="true"><pip-document-list-edit class="w-stretch" pip-documents="obj.docs" pip-cancel-drag="true" pip-changed="onContentChange(obj)" pip-created="obj.documents = $event.sender" pip-added-document="addedContent" ng-disabled="ngDisabled()"></pip-document-list-edit></div><div class="pip-section-content layout-row layout-align-start-center" ng-if="obj.type == \'checklist\'" pip-cancel-drag="true"><pip-checklist-edit pip-options="obj.checklist" pip-draggable="isActiveChecklist(obj)" pip-changed="onContentChange(obj)" ng-disabled="ngDisabled()" pip-scroll-container="{{pipScrollContainer}}" pip-rebind="true"></pip-checklist-edit></div><div class="pip-section-content vp20 rp24-flex lp24-flex" ng-if="obj.type == \'location\'" pip-cancel-drag="true"><pip-location-edit class="pip-location-attachments w-stretch" pip-location-name="obj.loc_name" pip-location-pos="obj.loc_pos" pip-cancel-drag="true" pip-location-holder="pipLocationHolder" pip-changed="onContentChange(obj)" ng-disabled="ngDisabled()"></pip-location-edit></div><div class="pip-section-content bp16-flex rp24-flex lp24-flex tp20" ng-if="obj.type == \'time\'" pip-cancel-drag="true"><pip-time-range-edit class="w-stretch" pip-start-date="obj.start" pip-end-date="obj.end" pip-size="$sizeGtSmall" pip-changed="onContentChange(obj)" ng-disabled="ngDisabled()" pip-start-label="{{ \'COMPOSITE_START_TIME\' | translate }}" pip-end-label="{{ \'COMPOSITE_END_TIME\' | translate }}"></pip-time-range-edit></div></div><div class="pip-composite-item w-stretch" pip-drag="false" pip-drop="true" pip-drop-success="onDropComplete(compositeContent.length, $data, $event, selected.id)" pip-drag-stop="onStop(selected.id)" pip-drag-start="onStart(selected.id)" id="{{\'pip-composite-last-\' + selected.id}}"><div class="putt_box"></div><div class="pip-section-content h24" style="border: 0px!important;"></div></div></div></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("composite_toolbar/composite_toolbar.html",'<div class="layout-row layout-align-start-start flex"><md-button class="pip-composite-button" ng-if="!emptyState" ng-class="{ \'remove-item\': !emptyState , \'new-item\': !emptyState }" ng-click="onAddItem(\'text\');" aria-label="COMPOSITE-BUTTON-TEXT" ng-disabled="ngDisabled()"><md-icon class="icon-text-block" md-svg-icon="icons:text"></md-icon><md-tooltip>{{::\'TEXT\'| translate}}</md-tooltip></md-button><md-button ng-if="toolbarButton.checklist" ng-click="onAddItem(\'checklist\')" ng-disabled="ngDisabled()" class="pip-composite-button" aria-label="COMPOSITE-BUTTON-CHECKLIST"><md-icon class="icon-checkbox-on" md-svg-icon="icons:checkbox-on"></md-icon><md-tooltip>{{::\'CHECKLIST\'| translate}}</md-tooltip></md-button><md-button ng-if="toolbarButton.picture" ng-click="onAddItem(\'pictures\')" ng-disabled="ngDisabled()" class="pip-composite-button" aria-label="COMPOSITE-BUTTON-PICTURES"><md-icon class="icon-camera" md-svg-icon="icons:camera"></md-icon><md-tooltip>{{::\'PICTURE\'| translate}}</md-tooltip></md-button><md-button ng-click="onAddItem(\'documents\')" ng-if="toolbarButton.document" ng-disabled="ngDisabled()" class="pip-composite-button" aria-label="COMPOSITE-BUTTON-DOCUMENTS"><md-icon class="icon-document" md-svg-icon="icons:document"></md-icon><md-tooltip>{{::\'DOCUMENT\'| translate}}</md-tooltip></md-button><md-button ng-click="onAddItem(\'location\')" ng-if="toolbarButton.location" ng-disabled="ngDisabled()" class="pip-composite-button" aria-label="COMPOSITE-BUTTON-LOCATIONS"><md-icon class="icon-location" md-svg-icon="icons:location"></md-icon><md-tooltip>{{::\'LOCATION\'| translate}}</md-tooltip></md-button><md-button ng-click="onAddItem(\'time\')" ng-if="toolbarButton.event" ng-disabled="ngDisabled()" class="pip-composite-button" aria-label="COMPOSITE-BUTTON-TIME"><md-icon class="icon-time" md-svg-icon="icons:time"></md-icon><md-tooltip>{{::\'TIME\'| translate}}</md-tooltip></md-button></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("composite_summary/composite_summary.html",'<div ng-repeat="item in compositeContent track by $index"><div class="pip-composite-text" ng-if="item.type == \'text\' && item.text"><pip-markdown pip-text="item.text" pip-line-count="{{textSize}}" pip-rebind="true" ng-disabled="true"></pip-markdown></div><div ng-if="item.type == \'pictures\' && item.pic_ids.length > 0" ng-class="compositeContent[$index - 1].type != \'pictures\' ? compositeContent[$index + 1].type != \'pictures\' ? \'tm16 bm16\' : \'tm16 bm0\' : compositeContent[$index + 1].type != \'pictures\' ? \'tm8 bm16\' : \'tm8 bm0\'" class="pip-composite-pictures"><pip-collage ng-if="rebind" pip-picture-ids="item.pic_ids" pip-unique-code="item.id" pip-multiple="true" pip-open="disableControl" pip-rebind="true" ng-disabled="disableControl"></pip-collage></div><div ng-if="item.type == \'documents\' && item.docs.length > 0" class="pip-composite-documents layout-row flex"><pip-document-list class="flex" pip-documents="item.docs" pip-rebind="true" pip-document-icon="true" pip-collapse="true" ng-disabled="disableControl"></pip-document-list></div><div ng-if="item.type == \'checklist\' && item.checklist.length > 0" class="pip-composite-checklist"><pip-checklist-view pip-options="item.checklist" pip-changed="onContentChange()" pip-rebind="true" pip-collapse="true" ng-disabled="disabledChecklist"></pip-checklist-view></div><div class="pip-composite-location layout-row layout-align-start-center flex" ng-if="item.type == \'location\' && (item.loc_pos || item.loc_name)"><pip-location class="flex" pip-location-name="item.loc_name" pip-location-pos="item.loc_pos" pip-collapse="true" pip-show-location-icon="true" ng-disabled="disableControl" pip-rebind="true"></pip-location></div><div class="pip-composite-time layout-row layout-align-start-center flex" ng-if="item.type == \'time\' && (item.start || item.end)"><md-icon md-svg-icon="icons:time" class="rm24 lm0"></md-icon><pip-time-range pip-start-date="item.start" pip-end-date="item.end" pip-rebind="true" ng-disabled="disableControl"></pip-time-range></div></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("composite_view/composite_view.html",'<div ng-repeat="item in compositeContent track by $index"><div class="pip-composite-text lp24-flex rp24-flex" ng-if="item.type == \'text\' && item.text" ng-class="{\'bm16\': $last}"><pip-markdown pip-text="item.text" pip-rebind="true" ng-disabled="true"></pip-markdown></div><div ng-if="item.type == \'pictures\' && item.pic_ids.length > 0" ng-class="compositeContent[$index - 1].type != \'pictures\' ? compositeContent[$index + 1].type != \'pictures\' ? \'tm16 bm16\' : \'tm16 bm0\' : compositeContent[$index + 1].type != \'pictures\' ? \'tm8 bm16\' : \'tm8 bm0\'" class="pip-composite-pictures lp24-flex rp24-flex"><pip-collage ng-if="rebind" pip-picture-ids="item.pic_ids" pip-unique-code="item.id" pip-multiple="true" pip-open="true" pip-rebind="true" ng-disabled="ngDisabled()"></pip-collage></div><div ng-if="item.type == \'documents\' && item.docs.length > 0" class="pip-composite-documents layout-row layout-align-start-start flex"><pip-document-list pip-documents="item.docs" pip-document-icon="true" pip-rebind="true" ng-disabled="ngDisabled()"></pip-document-list></div><div ng-if="item.type == \'checklist\' && item.checklist.length > 0" class="pip-composite-checklist lp24-flex rp24-flex"><pip-checklist-view pip-options="item.checklist" pip-changed="onContentChange()" pip-rebind="true" ng-disabled="isDisabled()"></pip-checklist-view></div><div class="pip-composite-location layout-row layout-align-start-start flex" ng-if="item.type == \'location\' && (item.loc_pos || item.loc_name)"><pip-location class="flex" pip-location-name="item.loc_name" pip-location-pos="item.loc_pos" pip-show-location-icon="true" pip-collapse="false" ng-disabled="ngDisabled()" pip-rebind="true"></pip-location></div><div class="pip-composite-time lp24-flex rp24-flex layout-row layout-align-start-center flex" ng-if="item.type == \'time\'"><md-icon md-svg-icon="icons:time" class="lm0"></md-icon><pip-time-range pip-start-date="item.start" pip-end-date="item.end" pip-rebind="true" ng-disabled="ngDisabled()"></pip-time-range></div></div>')}])}(),function(e){try{e=angular.module("pipComposite.Templates")}catch(t){e=angular.module("pipComposite.Templates",[])}e.run(["$templateCache",function(e){e.put("content_switch/content_switch.html",'<md-button ng-click="showPictures = !showPictures; onButtonClick(\'pictures\')" aria-label="showPictures" class="md-icon-button" ng-show="showIconPicture" ng-disabled="transaction.busy()"><md-icon class="active-camera" ng-class="{ \'active-camera\': showPictures }" md-svg-icon="icons:camera"></md-icon></md-button><md-button ng-click="showDocuments = !showDocuments; onButtonClick(\'documents\')" aria-label="showDocuments" class="md-icon-button" ng-show="showIconDocument" ng-disabled="transaction.busy()"><md-icon ng-class="{ \'active-document\': showDocuments }" md-svg-icon="icons:document"></md-icon></md-button><md-button ng-click="showEvent = !showEvent; onButtonClick(\'event\')" aria-label="showEvent" class="md-icon-button" ng-show="showIconEvent" ng-disabled="transaction.busy()"><md-icon ng-class="{ \'active-time\': showEvent }" md-svg-icon="icons:time"></md-icon></md-button><md-button ng-click="showLocation = !showLocation; onButtonClick(\'location\')" aria-label="showLocation" class="md-icon-button" ng-show="showIconLocation" ng-disabled="transaction.busy()"><md-icon ng-class="{ \'active-location\': showLocation }" md-svg-icon="icons:location"></md-icon></md-button>')}])}(),function(){"use strict";var e=angular.module("pipChecklistView",["pipCore","pipComposite.Templates"]);e.directive("pipChecklistView",function(){return{restrict:"EA",replace:!1,scope:{ngDisabled:"&",pipChanged:"&",pipOptions:"="},templateUrl:"checklist_view/checklist_view.html",controller:"pipChecklistViewController"}}),e.controller("pipChecklistViewController",["$scope","$element","$attrs","pipUtils",function(e,t,i,o){function n(){e.selected.isChanged=!0,e.pipOptions=e.checklistContent}function c(){n(),e.pipChanged&&e.pipChanged()}function p(){e.checklistContent=[]}function s(t){return!t||t.length<1?void p():(e.checklistContent=[],void _.each(t,function(t){e.checklistContent.push(t)}))}function l(t,i){t&&t.stopPropagation(),e.ngDisabled&&e.ngDisabled()||c()}e.disableControl=0!=o.toBoolean(e.ngDisabled()),e.rebind=o.toBoolean(i.pipRebind),e.selected={},e.selected.isChanged=!1,s(e.pipOptions),t.addClass("pip-checklist-view"),o.toBoolean(i.pipRebind)&&e.$watchCollection("pipOptions",function(t){e.selected.isChanged?e.selected.isChanged=!1:s(e.pipOptions)}),e.updateContents=n,e.onClick=l}])}(),function(){"use strict";var e=angular.module("pipChecklistEdit",["pipCore","pipComposite.Templates"]);e.directive("pipChecklistEdit",function(){return{restrict:"EA",replace:!1,scope:{ngDisabled:"&",pipChanged:"=",pipDraggable:"=",pipOptions:"=",pipScrollContainer:"@"},templateUrl:"checklist_edit/checklist_edit.html",controller:"pipChecklistEditController"}}),e.controller("pipChecklistEditController",["$scope","$element","$attrs","$document","pipUtils","$rootScope",function(e,t,i,o,n,c){function p(e){if(e.selectionStart)return e.selectionStart;if(o.selection){e.focus();var t=o.selection.createRange();if(null==t)return 0;var i=e.createTextRange(),n=i.duplicate();return i.moveToBookmark(t.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length}return 0}function s(){return!!e.ngDisabled&&e.ngDisabled()}function l(t){s()||(e.selected.index=t)}function d(t){var i;try{i=e.checklistContent[t].empty}catch(o){i=!0}return e.selected.index==t&&e.pipDraggable&&!i}function a(e,t,i){if(e.setSelectionRange)e.focus(),e.setSelectionRange(t,i);else if(e.createTextRange){var o=e.createTextRange();o.collapse(!0),o.moveEnd("character",i),o.moveStart("character",t),o.select()}}function r(e,t){a(e,t,t)}function m(t,i,o){if(!s()&&e.selected.index!=-1){if(t&&t.target){var n=p(t.target);if(void 0!==t.target.value)var c=t.target.value.length}if(e.selected.index>0&&""!=o.text&&0==n&&8==t.keyCode&&!t.ctrlKey&&!t.shiftKey){if(!o.empty){var l=e.checklistContent[e.selected.index-1].text.length;e.checklistContent[e.selected.index-1].text=e.checklistContent[e.selected.index-1].text+o.text,e.selected.index-=1,e.checklistContent.splice(e.selected.index+1,1),e.onChecklistChange(),E(e.selected.index,l)}return t&&t.stopPropagation(),!1}if(!(""!=o.text||8!=t.keyCode&&46!=t.keyCode||t.ctrlKey||t.shiftKey))return o.empty||y(i,o),t&&t.stopPropagation(),!1;if(!(13!=t.keyCode&&45!=t.keyCode||t.ctrlKey||t.shiftKey)){if(void 0!==n&&0==n)return e.selected.index>0?$("",e.selected.index-1):(e.selected.index=-1,$("",-1)),t&&t.stopPropagation(),t&&t.preventDefault(),!1;if(c&&n&&c==n)return o.empty||$("",e.selected.index),t&&t.stopPropagation(),t&&t.preventDefault(),!1;if(c&&n&&c>n){if(!o.empty){var d,a;d=o.text.substring(0,n),a=o.text.substring(n),o.text=d,$(a,e.selected.index),E(e.selected.index,0)}return t&&t.stopPropagation(),t&&t.preventDefault(),!1}return t&&t.preventDefault(),!1}if((0===n||n==c)&&e.checklistContent.length>1&&38==t.keyCode&&!t.ctrlKey&&!t.shiftKey){if(t&&t.stopPropagation(),t&&t.preventDefault(),void 0!==n&&void 0!==c&&0==n)if(0==e.selected.index){e.selected.index=e.checklistContent.length-1;var l=e.checklistContent[e.selected.index].text.length;E(e.selected.index,l)}else{e.selected.index-=1;var l=e.checklistContent[e.selected.index].text.length;E(e.selected.index,l)}else E(e.selected.index,0);return!1}return 0!==n&&n!=c||!(e.checklistContent.length>1)||40!=t.keyCode||t.ctrlKey||t.shiftKey?o.empty||46!=t.keyCode||!t.ctrlKey||t.shiftKey?32==t.keyCode&&t.ctrlKey&&!t.shiftKey?(t&&t.stopPropagation(),t&&t.preventDefault(),o&&(o.checked=!o.checked,e.onChecklistChange()),!1):void 0:(t&&t.stopPropagation(),t&&t.preventDefault(),y(i,o),!1):(t&&t.stopPropagation(),t&&t.preventDefault(),void 0!==n&&void 0!==c&&n==c?e.selected.index>=e.checklistContent.length-1?(e.selected.index=0,E(e.selected.index,0)):(e.selected.index+=1,E(e.selected.index,0)):E(e.selected.index,c),!1)}}function u(){$("",e.selected.index-1)}function g(t){t>-1&&e.checklistContent[t]&&e.checklistContent[t].empty&&e.checklistContent[t].empty&&(e.checklistContent[t].empty=!1,e.checklistContent.push(S("",!0))),e.onChecklistChange()}function h(t,i){s()||(e.selected.index=i)}function C(t,i){s()||(e.selected.index=i)}function b(t,i,o,n){if(e.selected.id==n&&e.selected.drag){var c=t,p=e.selected.index,s=_.cloneDeep(e.checklistContent);if(0!=p||1!=t){if(p>c){c>s.length-1&&(c=s.length-1);for(var l=0;l<p-c;l++)s[p-l]=s[p-l-1];s[c]=i}if(p<c){c-=1;for(var l=0;l<c-p;l++)s[p+l]=s[p+l+1];s[c]=i}e.selected.index=c}e.checklistContent=s,e.onChecklistChange()}}function f(){M(),e.isWidth=!0}function v(t){setTimeout(function(){e.selected.drag=e.selected.dragInit,e.selected.dragId=0,e.$apply()},50),e.isWidth&&(P(),e.isWidth=!1)}function k(t){e.selected.isChanged=!0,t&&t!=e.selected.dragId&&(e.selected.drag=!1)}function x(t){e.pipDraggable&&e.checklistContent.length>2&&!t.empty&&(c.$broadcast("onChecklistDrag"),e.selected.dragId=e.selected.id)}function y(t,i){if(1==e.checklistContent.length)e.checklistContent[0].text="",e.checklistContent[0].checked=!1,e.checklistContent[0].empty=!0,e.selected.index=0;else{if(!(t>=0&&t<=e.checklistContent.length))return;e.checklistContent.splice(t,1)}e.selected.index>=e.checklistContent.length&&(e.selected.index=e.checklistContent.length-1),E(e.selected.index,0),e.onChecklistChange()}function T(t){e.onChecklistChange()}function w(){e.selected.isChanged=!0;var t,i=[];for(t=0;t<e.checklistContent.length;t++)e.checklistContent[t]&&!e.checklistContent[t].empty&&i.push({checked:e.checklistContent[t].checked,text:e.checklistContent[t].text});e.pipOptions=i}function D(){w(),e.pipChanged&&e.pipChanged()}function E(t,i){t>-1&&setTimeout(function(){var o=angular.element("#check-item-text-"+e.selected.id+"-"+t);o&&(o.focus(),void 0!==i&&o[0]&&r(o[0],i))},50)}function $(t,i){var o=S(t,!1);i>-1&&(e.selected.index=i),e.checklistContent.length<2?e.checklistContent.unshift(o):e.checklistContent.splice(e.selected.index+1,0,o),e.selected.index+=1,E(e.selected.index),e.onChecklistChange()}function S(e,t){return{checked:!1,text:e||"",empty:t}}function I(){return+new Date}function O(){e.selected.index=0,e.checklistContent=[],e.checklistContent.push(S("",!0))}function B(t){!t||t.length<1?O():(e.checklistContent=[],_.each(t,function(t){e.checklistContent.push(t)}),e.checklistContent.push(S("",!0)))}function P(){var t=angular.element("#check-item-"+ +e.selected.id+"-"+e.selected.index);t.css("width","none"),t.css("max-width","none")}function M(){if(!e.isWidth){var t=angular.element("#check-item-empty-"+e.selected.id),i=t.width(),o=angular.element("#check-item-"+e.selected.id+"-"+e.selected.index);o&&(o.css("width",i+"px"),o.css("max-width",i+"px"))}}e.selected={},e.selected.index=0,e.selected.drag=e.pipDraggable,e.selected.dragInit=e.pipDraggable,e.selected.dragId=0,e.selected.id=I(),e.selected.isChanged=!1,B(e.pipOptions),e.onTextareaKeyDown=m,e.onAddItem=u,e.onChangeItem=g,e.onClick=h,e.onTextAreaClick=C,e.onDropComplete=b,e.onDeleteItem=y,e.onChecked=T,e.updateContents=w,e.onItemFocus=l,e.onMove=f,e.onStart=k,e.onStop=v,e.isDisabled=s,e.onDownDragg=x,e.isSelectedItem=d,n.toBoolean(i.pipRebind)&&e.$watchCollection("pipOptions",function(t){e.selected.isChanged?e.selected.isChanged=!1:B(e.pipOptions)}),n.toBoolean(i.pipRebind)&&e.$watchCollection("pipDraggable",function(t){e.pipDraggable=t}),e.onChecklistChange=_.debounce(D,200),t.addClass("pip-checklist-edit")}])}(),function(){"use strict";var e=angular.module("pipCompositeEdit",["pipCore","pipDocuments","pipLocations","pipPictures","pipComposite.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{COMPOSITE_TITLE:"What's on your mind?",COMPOSITE_PLACEHOLDER:"Type text ...",COMPOSITE_START_TIME:"Start time",COMPOSITE_END_TIME:"End time"}),e.translations("ru",{COMPOSITE_TITLE:"Что у вас на уме?",COMPOSITE_PLACEHOLDER:"Введите текст ...",COMPOSITE_START_TIME:"Время начала",COMPOSITE_END_TIME:"Время окончания"})}]),e.directive("pipCompositeEdit",function(){return{restrict:"EA",replace:!1,scope:{ngDisabled:"&",pipChanged:"&",pipContents:"=",compositeId:"=pipCompositeId",pipCompositePlaceholder:"=",pipScrollContainer:"@",pipAddedContent:"&"},templateUrl:"composite_edit/composite_edit.html",controller:"pipCompositeEditController"}}),e.controller("pipCompositeEditController",["$scope","$element","$attrs","$rootScope","pipUtils","pipTranslate","$document",function(e,t,i,o,n,c,p){function s(t){return t.id==e.selected.index}function l(){e.selected.isChanged=!0,e.pipContents=e.compositeContent}function d(t){if(t.length<1)return null;var i=t.parent();if(i[0]&&i[0].id&&i[0].id.indexOf("composite-item-"+e.selected.id)>-1){var o=i[0].id.split("-"),n=parseInt(o[o.length-1],10);return n}return d(i)}function a(t){9==t.keyCode&&setTimeout(function(){var t=angular.element(p[0].activeElement),i=d(t);null!=i&&(e.selected.index=i),e.$apply(e.selected.index=e.compositeContent[i].id)},50)}function r(t,i,o){if(!e.ngDisabled())return o&&!o.empty&&46==t.keyCode&&!t.ctrlKey&&t.shiftKey?(t&&t.stopPropagation(),t&&t.preventDefault(),i>-1&&u(i),!1):void 0}function m(){l(),e.pipChanged&&e.pipChanged()}function u(t){t<0||0==e.compositeContent.length||(1==e.compositeContent.length?(e.compositeContent[0]={empty:!0,id:D(),type:"text",text:"",docs:[],pic_ids:[],loc_pos:null,loc_name:"",start:null,end:null,checklist:[]},e.selected.index=e.compositeContent[0].id,y(0),e.isFirst=!0,I()):(t>=0&&t<e.compositeContent.length&&e.compositeContent.splice(t,1),t==e.compositeContent.length?e.selected.index=e.compositeContent[e.compositeContent.length-1].id:e.selected.index=e.compositeContent[t].id,y()),I(),e.onCompositeChange())}function g(t){t&&t.empty&&t.text&&(t.empty=!1,e.isFirst=!1,I()),e.ngDisabled()||e.onCompositeChange()}function h(t,i){return e.selected.index==i.id&&!i.empty}function C(){e.selected.drag=!0}function b(t){t&&t!=e.selected.dragId&&(e.selected.drag=!1)}function f(t){setTimeout(function(){e.selected.drag=!0,e.selected.dragId=0,e.$apply()},500)}function v(t,i){e.ngDisabled&&e.ngDisabled()||(e.selected.dragId=e.selected.id,e.selected.drag=!0,e.selected.index=i.id)}function k(t,i,o){if(!e.ngDisabled||!e.ngDisabled())return e.selected.event="onClick",t&&t.target&&t.target.tagName&&("INPUT"==t.target.tagName||"TEXTAREA"==t.target.tagName)?void(e.selected.index=o.id):void(e.selected.index==o.id&&"checklist"==o.type&&o.checklist.length>0||e.selected.index==o.id&&"location"==o.type||(e.selected.index=o.id,y()))}function x(t,i,o,n){if(n!=e.selected.id||!i||!i.type)return void(e.compositeContent=_.cloneDeep(e.pipContents));var c=t,p=_.findIndex(e.compositeContent,{id:i.id});if(0!=p||1!=t){if(p>c){c>e.compositeContent.length-1&&(c=e.compositeContent.length-1);for(var s=0;s<p-c;s++)e.compositeContent[p-s]=e.compositeContent[p-s-1];e.compositeContent[c]=i}if(p<c){c-=1;for(var s=0;s<c-p;s++)e.compositeContent[p+s]=e.compositeContent[p+s+1];e.compositeContent[c]=i}e.selected.index=e.compositeContent[c].id}y(),e.onCompositeChange()}function y(t){if(t||(t=_.findIndex(e.compositeContent,{id:e.selected.index})),!(t<0)){var i=e.compositeContent[t];if(!_.isEmpty(i))switch(i.type){case"pictures":setTimeout(function(){var i=angular.element("#composite-item-"+e.selected.id+"-"+t+" button.pip-picture-upload");i&&!i.is(":focus")&&i.focus()},50);break;case"documents":setTimeout(function(){var i=angular.element("#composite-item-"+e.selected.id+"-"+t+" button.pip-document-upload");i&&!i.is(":focus")&&i.focus()},50);break;case"location":setTimeout(function(){var i=angular.element("#composite-item-"+e.selected.id+"-"+t+" .pip-location-empty  button");i&&!i.is(":focus")&&i.focus()},50);break;case"time":}}}function T(){e.compositePlaceholder=void 0===e.pipCompositePlaceholder||null===e.pipCompositePlaceholder?c.translate("COMPOSITE_PLACEHOLDER"):c.translate(e.pipCompositePlaceholder)}function w(t,i){if(!(_.indexOf(P,t)<0)){var o={id:D(),type:t,text:"text"==t?i:"",docs:"documents"==t&&i?i:[],pic_ids:"pictures"==t&&i?i:[],loc_pos:"location"==t&&i?i.loc_pos:null,loc_name:"location"==t&&i?i.loc_name:"",start:"time"==t&&i?i.start:null,end:"time"==t&&i?i.end:null,checklist:"checklist"==t&&i?i:[]},n=_.findIndex(e.compositeContent,{id:e.selected.index});n=n<0?0:n,1==e.compositeContent.length&&e.compositeContent[0].empty?e.compositeContent[0]=o:(e.compositeContent.splice(n+1,0,o),n+=1),e.selected.index=o.id,y(),setTimeout(E(e.pipScrollContainer,"#composite-item-"+e.selected.id+"-"+n),1e3),e.isFirst=!1,I(),e.onCompositeChange()}}function D(){var t=-1;return _.each(e.compositeContent,function(e){t<e.id&&(t=e.id)}),t+1}function E(e,t){e&&t&&setTimeout(function(){if($(t).position()){var i=Math.abs($(e).scrollTop()-$(t).position().top);if(!(i<20)){var o=$(e).scrollTop()+($(t).position().top-20);$(e).animate({scrollTop:o+"px"},300)}}},100)}function S(t){return!t||t.length<1?void O():(e.compositeContent=[],_.each(t,function(t){t.id=D(),e.compositeContent.push(t)}),e.isFirst=!1,void I())}function I(){e.compositeContent.length>2||o.$emit("pipCompositeNotEmpty",!e.isFirst)}function O(){e.compositeContent=[],e.compositeContent.push({empty:!0,id:D(),type:"text",text:"",docs:[],pic_ids:[],loc_pos:null,loc_name:"",start:null,end:null,checklist:[]}),e.isFirst=!0}function B(){return+new Date}var P=["time","text","pictures","documents","checklist","location"];e.selected={},e.selected.id=B(),e.selected.index=0,e.selected.drag=!0,e.selected.dragId=0,e.selected.isChanged=!1,e.toolbarButton={},e.rebind=n.toBoolean(i.pipRebind),e.disableControl=0!=n.toBoolean(e.ngDisabled()),e.addedContent=1==n.toBoolean(e.pipAddedContent()),S(e.pipContents),T(),o.$on("pipAddCompositeItem",function(t,i){e.compositeId?i.id&&i.id==e.compositeId&&w(i.type):w(i.type)}),n.toBoolean(i.pipRebind)&&(e.$watchCollection("pipContents",function(t,i){(!e.selected.isChanged||e.pipContents&&e.pipContents.length!=e.compositeContent.length)&&(S(e.pipContents),e.selected.isChanged=!1)}),e.$watch("pipCompositePlaceholder",function(e,t){e!==t&&T()})),t.addClass("pip-composite-edit"),e.onDeleteItem=u,e.onContentChange=g,e.isSelectedSection=h,e.onClick=k,e.onDownDragg=v,e.onDraggEnd=C,e.onDropComplete=x,e.onKeyUp=a,e.onKeyDown=r,e.onStart=b,e.onStop=f,e.isActiveChecklist=s,o.$on("onChecklistDrag",function(){e.selected.drag=!1,setTimeout(function(){e.selected.drag=!1,e.$apply()},0)}),o.$on("focusedComposite",function(){e.isFirst&&setTimeout(function(){var t=angular.element("#composite-item-text-"+e.selected.id+"-0");
t&&!t.is(":focus")&&t.focus()},50)}),e.onCompositeChange=_.debounce(m,200)}])}(),function(){"use strict";var e=angular.module("pipCompositeSummary",["pipCore","pipDocuments","pipLocations","pipPictures","pipComposite.Templates"]);e.directive("pipCompositeSummary",function(){return{restrict:"EA",scope:{pipContents:"=",pipChecklistSize:"=",pipTextSize:"=",pipPrimaryBlockLimit:"=",pipSecondaryBlockLimit:"=",pipSecondaryBlockTypes:"="},templateUrl:"composite_summary/composite_summary.html",controller:"pipCompositeSummaryController"}}),e.controller("pipCompositeSummaryController",["$scope","$element","$attrs","pipUtils",function(e,t,i,o){function n(e,t){t&&_.each(e,function(e){if(e&&"checklist"==e.type){var i=e.checklist.length;e.checklist=_.take(e.checklist,t),i>t&&e.checklist.push({text:"...",checked:!1})}})}function c(t){var i=[],o=0;return _.each(t,function(t){return e.primaryBlockLimit>=0&&o>=e.primaryBlockLimit?i:void(e.secondaryBlockTypes.indexOf(t.type)<0&&(i.push(t),o+=1))}),i}function p(t,i){var o,n=e.secondaryBlockLimit<0?t.length:e.secondaryBlockLimit,c=[];for(o=0;o<t.length&&!(i.indexOf(t[o].type)>-1&&(c.push(t[o]),c.length>=n));o++);return c}function s(t){if(!t||t.length<1)return void l();var i=_.cloneDeep(t),o=c(i);0==o.length&&(o=p(i,e.secondaryBlockTypes)),n(o,e.checklistSize);var s=0;_.each(o,function(e){e.id=s,s++}),e.compositeContent=o}function l(){e.compositeContent=[]}e.rebind=o.toBoolean(i.pipRebind),e.disableControl=!0,e.disabledChecklist=!0,e.secondaryBlockTypes=void 0!==e.pipSecondaryBlockTypes&&Array.isArray(e.pipSecondaryBlockTypes)?e.pipSecondaryBlockTypes:["checklist","documents","location","time"],e.textSize=void 0!==e.pipTextSize&&e.pipTextSize>0?e.pipTextSize:0,e.secondaryBlockLimit=void 0!==e.pipSecondaryBlockLimit&&e.pipSecondaryBlockLimit>0?e.pipSecondaryBlockLimit:-1,e.checklistSize=void 0!==e.pipChecklistSize&&e.pipChecklistSize>0?e.pipChecklistSize:0,e.primaryBlockLimit=void 0!==e.pipPrimaryBlockLimit?e.pipPrimaryBlockLimit:-1,s(e.pipContents),o.toBoolean(i.pipRebind)&&e.$watchCollection("pipContents",function(t){if(!Array.isArray(e.pipContents))throw new Error("Error: Attribute pip-contents must be array!");s(e.pipContents)}),t.addClass("pip-composite-summary")}])}(),function(){"use strict";var e=angular.module("pipCompositeToolbar",["pipCore","pipComposite.Templates"]);e.config(["pipTranslateProvider",function(e){e.translations("en",{TEXT:"Text",CHECKLIST:"Checklist",LOCATION:"Location",PICTURE:"Picture",TIME:"Time",DOCUMENT:"Document"}),e.translations("ru",{TEXT:"Текст",CHECKLIST:"Список",LOCATION:"Локация",PICTURE:"Изображение",TIME:"Время",DOCUMENT:"Document"})}]),e.directive("pipCompositeToolbar",function(){return{restrict:"EA",replace:!1,scope:{ngDisabled:"&",pipCompositeEmpty:"&",pipToolbarButton:"=",compositeId:"=pipCompositeId"},templateUrl:"composite_toolbar/composite_toolbar.html",controller:"pipCompositeToolbarController"}}),e.controller("pipCompositeToolbarController",["$scope","$element","$attrs","$rootScope","pipUtils",function(e,t,i,o,n){function c(t){o.$emit("pipAddCompositeItem",{type:t,id:e.compositeId})}function p(){null!==e.pipToolbarButton&&void 0!==e.pipToolbarButton?(e.toolbarButton.picture=e.pipToolbarButton.picture!==!1||e.pipToolbarButton.picture,e.toolbarButton.document=e.pipToolbarButton.document!==!1||e.pipToolbarButton.document,e.toolbarButton.location=e.pipToolbarButton.location!==!1||e.pipToolbarButton.location,e.toolbarButton.event=e.pipToolbarButton.event!==!1||e.pipToolbarButton.event,e.toolbarButton.checklist=e.pipToolbarButton.checklist!==!1||e.pipToolbarButton.checklist):(e.toolbarButton.picture=!0,e.toolbarButton.document=!0,e.toolbarButton.location=!0,e.toolbarButton.event=!0,e.toolbarButton.checklist=!0),e.toolbarButton.text=!0}e.toolbarButton={},e.emptyState=0!=n.toBoolean(e.pipCompositeEmpty()),e.disableControl=0!=n.toBoolean(e.ngDisabled()),p(),e.onAddItem=c,o.$on("pipCompositeNotEmpty",function(t,i){e.emptyState=!i}),t.addClass("pip-composite-toolbar")}])}(),function(){"use strict";var e=angular.module("pipCompositeView",["pipCore","pipDocuments","pipLocations","pipPictures","pipComposite.Templates"]);e.directive("pipCompositeView",function(){return{restrict:"EA",scope:{ngDisabled:"&",pipDisabledChecklist:"&",pipChanged:"&",pipContents:"="},templateUrl:"composite_view/composite_view.html",controller:"pipCompositeViewController"}}),e.controller("pipCompositeViewController",["$scope","$element","$attrs","pipUtils",function(e,t,i,o){function n(){return 1==o.toBoolean(e.pipDisabledChecklist())||1==o.toBoolean(e.ngDisabled())}function c(){e.selected.isChanged=!0,e.pipContents=e.compositeContent}function p(){s()}function s(){c(),e.pipChanged&&e.pipChanged()}function l(t){if(!t||t.length<1)return void d();e.compositeContent=[];var i=0;_.each(t,function(t){if("object"!=typeof t||null==t)throw new Error("Error: content error!");t.id=i,i++,e.compositeContent.push(t)})}function d(){e.compositeContent=[]}e.rebind=o.toBoolean(i.pipRebind),e.disableControl=0!=o.toBoolean(e.ngDisabled()),e.disabledChecklist=0!=o.toBoolean(e.pipDisabledChecklist()),e.selected={},e.selected.isChanged=!1,l(e.pipContents),e.onContentChange=p,e.isDisabled=n,o.toBoolean(i.pipRebind)&&e.$watchCollection("pipContents",function(t){Array.isArray(e.pipContents)&&(e.selected.isChanged?e.selected.isChanged=!1:l(e.pipContents))}),t.addClass("pip-composite-view")}])}(),function(){"use strict";var e=angular.module("pipMobileMousedown",[]);e.directive("pipMobileMousedown",function(){return function(e,t,i){t.bind("touchstart mousedown",function(t){e.$apply(i.pipMobileMousedown)})}})}(),function(){"use strict";var e=angular.module("pipMobileMouseup",[]);e.directive("pipMobileMouseup",function(){return function(e,t,i){t.bind("touchend mouseup",function(t){e.$apply(i.pipMobileMouseup)})}})}(),function(){"use strict";var e=angular.module("pipContentSwitch",["pipComposite.Templates"]);e.directive("pipContentSwitch",["$parse",function(e){return{restrict:"EA",scope:!1,templateUrl:"content_switch/content_switch.html",link:function(t,i,o){function n(e){setTimeout(function(){var t=Math.abs($(l).scrollTop()-$(e).position().top);if(!(t<20)){var i=$(l).scrollTop()+($(e).position().top-20);$(l).animate({scrollTop:i+"px"},300)}},100)}function c(){null!==t.contentSwitchOption&&void 0!==t.contentSwitchOption?(t.showIconPicture=t.contentSwitchOption.picture?t.contentSwitchOption.picture:t.showIconPicture,t.showIconDocument=t.contentSwitchOption.document?t.contentSwitchOption.document:t.showIconDocument,t.showIconLocation=t.contentSwitchOption.location?t.contentSwitchOption.location:t.showIconLocation,t.showIconEvent=t.contentSwitchOption.event?t.contentSwitchOption.event:t.showIconEvent):(t.showIconPicture=!0,t.showIconDocument=!0,t.showIconLocation=!0,t.showIconEvent=!0)}function p(e){if(l)switch(e){case"event":t.showEvent&&n(".event-edit");break;case"documents":t.showDocuments&&n(".pip-document-list-edit");break;case"pictures":t.showPictures&&n(".pip-picture-list-edit");break;case"location":t.showLocation&&n(".pip-location-edit")}}var s=e(o.pipParentElementName),l=s(t);t.onButtonClick=p,c(),i.addClass("pip-content-switch")}}}])}(),function(){"use strict";var e=angular.module("pipCompositeFocused",[]);e.directive("pipCompositeFocused",function(){return{restrict:"A",scope:!1,controller:"pipCompositeFocusedController"}}),e.controller("pipCompositeFocusedController",["$scope","$element","$rootScope",function(e,t,i){t.bind("touchstart mousedown",function(e){i.$broadcast("focusedComposite")})}])}();
!function(){"use strict";var e=angular.module("pipEntry",["ui.router","ngMessages","pipCore","pipData","pipBasicControls","pipLocations","pipPictures","pipRest","pipRest.State","pipEntry.Strings","pipEntry.Common","pipEntry.Signin","pipEntry.Signup","pipEntry.PostSignup","pipEntry.RecoverPassword","pipEntry.ResetPassword","pipEntry.VerifyEmail","pipEntry.Templates"]);e.config(["$stateProvider","$locationProvider","$httpProvider","pipAuthStateProvider","pipDataPartyProvider",function(e,t,r,a,i){e.state("signin",{url:"/signin?email&server_url&redirect_to",auth:!1,controller:"pipSigninController",templateUrl:"signin/signin.html"}).state("recover_password",{url:"/recover_password?server_url&email",auth:!1,controller:"pipRecoverPasswordController",templateUrl:"recover_password/recover_password.html"}).state("reset_password",{url:"/reset_password?server_url&email&code",auth:!1,controller:"pipResetPasswordController",templateUrl:"reset_password/reset_password.html"}).state("signout",{url:"/signout",auth:!1}).state("signup",{url:"/signup?name&email&server_url",auth:!1,controller:"pipSignupController",templateUrl:"signup/signup.html"}).state("post_signup",{url:"/post_signup?party_id",auth:!1,controller:"pipPostSignupController",templateUrl:"post_signup/post_signup.html",resolve:{$party:i.readPartiesResolver()}}).state("verify_email",{url:"/verify_email?server_url&email&code",auth:!1,controller:"pipVerifyEmailController",templateUrl:"verify_email/verify_email.html"}).state("verify_email_success",{url:"/verify_email_success",auth:!1,controller:"pipVerifyEmailSuccessController",templateUrl:"verify_email/verify_email_success.html"}),a.signinState("signin"),a.signoutState("signout")}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("recover_password/recover_password.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><pip-recover-password-panel pip-data="data" pip-created="$panel = $control"></pip-recover-password-panel><div class="pip-footer"><md-button ng-hide="transaction.busy()" ng-click="goBack()" class="rm8" aria-label="CANCEL">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" class="md-accent" ng-click="onRecover()" aria-label="RECOVER_PWD_RECOVER" ng-disabled="(form.$pristine && !data.email) || data.serverUrl.length == 0 || data.email.length == 0">{{::\'RECOVER_PWD_RECOVER\' | translate}}</md-button><md-button ng-show="transaction.busy()" class="md-warn" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></div></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("recover_password/recover_password_dialog.html",'<md-dialog class="pip-entry lp0 rp0"><md-dialog-content><pip-recover-password-panel pip-data="data" pip-created="$panel = $control" pip-goto-reset="pipGotoReset"></pip-recover-password-panel></md-dialog-content><md-dialog-actions class="layout-row layout-align-end-center"><md-button ng-hide="transaction.busy()" ng-click="goBack()" class="rm8" aria-label="CANCEL">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" class="md-accent" ng-click="onRecover()" aria-label="RECOVER_PWD_RECOVER" ng-disabled="(form.$pristine && !data.email) || data.email== undefined || || data.serverUrl.length == 0 || data.email.length == 0">{{::\'RECOVER_PWD_RECOVER\' | translate}}</md-button><md-button ng-show="transaction.busy()" class="md-warn" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("recover_password/recover_password_panel.html",'<div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy() && !hideObject.progress" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2 ng-if="!hideObject.title">{{\'RECOVER_PWD_TITLE\' | translate}}</h2><p class="text-primary tm0 bm16" ng-if="!hideObject.subTitle1">{{\'RECOVER_PWD_TEXT_1\' | translate}}</p><p class="text-primary tm0 bm16" ng-if="!hideObject.subTitle2">{{\'RECOVER_PWD_TEXT_2\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8" md-auto-hide="false"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><a ng-hide="showServerUrl || fixedServerUrl || hideObject.server" ng-click="showServerUrl = true" href="">{{\'ENTRY_CHANGE_SERVER\' | translate}}</a><div ng-show="showServerUrl && !hideObject.server"><md-autocomplete ng-initial="" autofocus="" tabindex="1" class="pip-combobox w-stretch bm8" name="server" ng-enabled="!transaction.busy()" placeholder="{{::\'ENTRY_SERVER_URL\' | translate}}" md-no-cache="true" md-selected-item="data.serverUrl" md-search-text="selected.searchURLs" md-items="item in getMatches()" md-item-text="item" md-selected-item-change="onServerUrlChanged()" md-delay="200" ng-model="data.serverUrl" pip-clear-errors=""><span md-highlight-text="selected.searchURLs">{{item}}</span></md-autocomplete></div><md-input-container class="pip-no-hint" style="padding-bottom: 4px!important;"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" pip-email-unique="data.email" required="" step="any" pip-clear-errors="" ng-disabled="transaction.busy()" tabindex="2"><div class="hint" ng-if="touchedErrorsWithHint(form, form.email).hint && !hideObject.hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.email)" class="md-input-error" md-auto-hide="false"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="emailUnique">{{::\'ERROR_1104\' | translate}}</div><div ng-message="ERROR_1100">{{::\'ERROR_1100\' | translate}}</div><div ng-message="ERROR_1106">{{::\'ERROR_1106\' | translate}}</div></div></md-input-container></form></div></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("post_signup/post_signup.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><pip-post-signup-panel pip-data="data" pip-created="$panel = $control" pip-party="$party"></pip-post-signup-panel><div class="pip-footer"><md-button ng-hide="transaction.busy()" class="md-accent" ng-click="onPostSignupSubmit()" aria-label="CONTINUE">{{::\'CONTINUE\' | translate}}</md-button><md-button ng-show="transaction.busy()" class="md-warn" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></div></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("post_signup/post_signup_dialog.html",'<md-dialog class="pip-entry lp0 rp0"><md-dialog-content><pip-post-signup-panel pip-data="data" pip-created="$panel = $control" pip-party="$party"></pip-post-signup-panel></md-dialog-content><md-dialog-actions class="layout-row layout-align-end-center"><md-button ng-hide="transaction.busy()" class="md-accent" ng-click="onPostSignupSubmit()" aria-label="CONTINUE">{{::\'CONTINUE\' | translate}}</md-button><md-button ng-show="transaction.busy()" class="md-warn" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("post_signup/post_signup_panel.html",'<div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy() && !hideObject.progress" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2 class="text-overflow" ng-if="!hideObject.title">{{\'POST_SIGNUP_TITLE\' | translate}}</h2><p class="bm0 line-height-string" ng-if="!hideObject.successTitle">{{\'POST_SIGNUP_TEXT_1\' | translate}}</p><p class="line-height-string m0" ng-if="!hideObject.subTitle">{{\'POST_SIGNUP_TEXT_2\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8" md-auto-hide="false"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_1002">{{::\'ERROR_1002\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><div class="pip-ref-item"><pip-avatar-edit ng-disabled="transaction.busy()" pip-reset="false" pip-party-id="data.id" pip-created="onPictureCreated($event)" pip-changed="onPictureChanged($control, $event)" class="rm16 flex-fixed"></pip-avatar-edit><div class="pip-content"><p class="pip-title">{{data.name}}</p><p class="pip-subtitle">{{data.email}}</p></div></div><md-input-container class="pip-no-hint bp4"><label>{{\'HINT_ABOUT\' | translate}}</label> <textarea ng-model="data.about" ng-initial="" ng-disabled="transaction.busy()" pip-clear-errors="">\n                        </textarea></md-input-container><div class="tm2"><p class="text-caption bm0">{{\'GENDER\' | translate}}</p><md-select class="w-stretch tm0 tp0 bp8" ng-disabled="transaction.busy()" ng-model="data.gender" label="{{\'GENDER\' | translate}}" ng-change="onStatusChange(data)" pip-clear-errors=""><md-option ng-value="opt.id" ng-repeat="opt in genders track by opt.id">{{ opt.name }}</md-option></md-select></div><div class="tm2"><p class="text-caption bm0">{{::\'BIRTHDAY\' | translate}}</p><pip-date ng-disabled="transaction.busy()" ng-model="data.birthday" pip-time-mode="past" pip-clear-errors="" time-mode="past"></pip-date></div><md-input-container><label>{{::\'LANGUAGE\' | translate}}</label><md-select class="w-stretch tm0 tp0 bp16" ng-disabled="transaction.busy()" ng-model="data.language" ng-change="onStatusChange(data)" pip-clear-errors=""><md-option ng-value="opt.id" ng-repeat="opt in languages track by opt.id">{{ opt.name }}</md-option></md-select></md-input-container></form></div></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signin/signin.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><pip-signin-panel pipfixedserverurl="fixedServerUrl"></pip-signin-panel></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signin/signin_dialog.html",'<md-dialog class="pip-entry"><md-dialog-content><pip-signin-panel pip-goto-signup-dialog="pipGotoSignupDialog" pip-goto-recover-password-dialog="pipGotoRecoverPasswordDialog"></pip-signin-panel></md-dialog-content></md-dialog>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signin/signin_panel.html",'<div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy() && !hideObject.progress" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2 pip-translate="SIGNIN_TITLE" ng-if="!hideObject.title"></h2><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8 color-error" md-auto-hide="false"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><a ng-hide="showServerUrl || fixedServerUrl || hideObject.server" ng-click="showServerUrl = true" href="" id="link-server-url" pip-test="link-server-url">{{::\'ENTRY_CHANGE_SERVER\' | translate}}</a><div ng-show="showServerUrl && !hideObject.server"><md-autocomplete ng-initial="" autofocus="" tabindex="1" class="pip-combobox w-stretch bm8" name="server" placeholder="{{::\'ENTRY_SERVER_URL\' | translate}}" md-no-cache="true" md-selected-item="data.serverUrl" md-search-text="selected.searchURLs" md-items="item in getMatches()" md-item-text="item" md-selected-item-change="onServerUrlChanged()" md-delay="200" ng-model="data.serverUrl" ng-disabled="transaction.busy()" pip-clear-errors="" pip-test="autocomplete-server"><span md-highlight-text="selected.searchURLs">{{item}}</span></md-autocomplete></div><md-input-container class="display bp4"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" required="" step="any" ng-keypress="onEnter($event)" pip-clear-errors="" ng-disabled="transaction.busy()" tabindex="2" pip-test="input-email"><div class="hint" ng-if="touchedErrorsWithHint(form, form.email).hint && !hideObject.hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.email)" md-auto-hide="false"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="ERROR_1100">{{::\'ERROR_1100\' | translate}}</div><div ng-message="ERROR_1106">{{::\'ERROR_1106\' | translate}}</div><div ng-message="ERROR_1114">{{::\'ERROR_1114\' | translate}}</div></div></md-input-container><md-input-container class="display bp4"><label>{{::\'PASSWORD\' | translate}}</label> <input name="password" ng-disabled="transaction.busy()" pip-clear-errors="" type="password" tabindex="3" ng-model="data.password" ng-keypress="onEnter($event)" required="" minlength="6" pip-test="input-password"><div class="hint" ng-if="touchedErrorsWithHint(form, form.password).hint && !hideObject.hint">{{::\'SIGNIN_HINT_PASSWORD\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.password)" md-auto-hide="false"><div ng-message="required">{{::\'SIGNIN_HINT_PASSWORD\' | translate}}</div><div ng-message="ERROR_1102">{{::\'ERROR_1102\' | translate}}</div><div ng-message="ERROR_1107">{{::\'ERROR_1107\' | translate}}</div></div></md-input-container><a href="" class="display bm16" ng-if="!hideObject.forgotPassword" ng-click="gotoRecoverPassword()" tabindex="4">{{::\'SIGNIN_FORGOT_PASSWORD\' | translate}}</a><md-checkbox ng-disabled="transaction.busy()" ng-if="!hideObject.forgotPassword" md-no-ink="" class="lm0" aria-label="{{\'SIGNIN_REMEMBER\' | translate}}" tabindex="5" ng-model="data.remember" pip-test-checkbox="remember"><label class="label-check">{{::\'SIGNIN_REMEMBER\' | translate}}</label></md-checkbox><div style="height: 36px; overflow: hidden;"><md-button ng-if="!transaction.busy()" ng-click="onSignin()" aria-label="SIGNIN" class="md-raised md-accent w-stretch m0" tabindex="6" ng-disabled="(data.email == undefined) || data.email.length == 0 || data.serverUrl == \'\' || data.serverUrl == undefined || data.serverUrl.length == 0 || (data.password == undefined)" pip-test="button-signin">{{::\'SIGNIN_TITLE\' | translate}}</md-button><md-button ng-if="transaction.busy()" ng-click="transaction.abort()" class="md-raised md-warn m0 w-stretch" tabindex="5" aria-label="ABORT" pip-test="button-cancel">{{::\'CANCEL\' | translate}}</md-button></div><div class="tm24 layout-row" ng-if="!adminOnly && $mdMedia(\'gt-xs\') && !hideObject.signup"><p class="m0 text-small">{{::\'SIGNIN_NOT_MEMBER\' | translate}} <a href="" ng-click="gotoSignup()" tabindex="6">{{::\'SIGNIN_SIGNUP_HERE\' | translate}}</a></p></div><div class="tm24 divider-top text-signup" ng-if="!adminOnly && $mdMedia(\'xs\') && !hideObject.signup"><div class="h48 layout-row layout-align-center-end"><p class="m0 text-small">{{::\'SIGNIN_NOT_MEMBER\' | translate}}</p></div><div class="h48 layout-row layout-align-center-start"><a class="text-small" ng-click="gotoSignup()" href="" tabindex="6">{{::\'SIGNIN_SIGNUP_HERE\' | translate}}</a></div></div></form></div></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("verify_email/verify_email.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2>{{\'VERIFY_EMAIL_TITLE\' | translate}}</h2><p class="title-padding">{{\'VERIFY_EMAIL_TEXT_1\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><a ng-hide="showServerUrl || fixedServerUrl" ng-click="showServerUrl = true" href="">{{\'ENTRY_CHANGE_SERVER\' | translate}}</a><div ng-show="showServerUrl"><md-autocomplete ng-initial="" autofocus="" tabindex="1" class="pip-combobox w-stretch bm8" name="server" ng-enabled="!transaction.busy()" placeholder="{{::\'ENTRY_SERVER_URL\' | translate}}" md-no-cache="true" md-selected-item="data.serverUrl" md-search-text="selected.searchURLs" md-items="item in getMatches()" md-item-text="item" md-selected-item-change="onServerUrlChanged()" md-delay="200" ng-model="data.serverUrl" pip-clear-errors=""><span md-highlight-text="selected.searchURLs">{{item}}</span></md-autocomplete></div><md-input-container class="pip-no-hint" style="padding-bottom: 4px!important;"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" required="" step="any" pip-clear-errors="" ng-disabled="transaction.busy()" tabindex="2"><div ng-messages="touchedErrorsWithHint(form, form.email)" ng-if="!form.email.$pristine" class="md-input-error"><div ng-message="hint" class="pip-input-hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="ERROR_1100">{{::\'ERROR_1100\' | translate}}</div><div ng-message="ERROR_1104">{{::\'ERROR_1104\' | translate}}</div><div ng-message="ERROR_1305">{{::\'ERROR_1305\' | translate}}</div><div ng-message="ERROR_1106">{{::\'ERROR_1106\' | translate}}</div></div></md-input-container><md-input-container class="pip-no-hint"><label>{{::\'ENTRY_RESET_CODE\' | translate}}</label> <input name="code" ng-disabled="transaction.busy()" ng-model="data.code" required="" tabindex="3"><div ng-messages="touchedErrorsWithHint(form, form.code)" ng-if="!form.fullName.$pristine" class="md-input-error"><div ng-message="hint" class="pip-input-hint">{{::\'ENTRY_RESET_CODE\' | translate}}</div><div ng-message="required">{{::\'ERROR_CODE_INVALID\' | translate }}</div><div ng-message="ERROR_1108">{{::\'ERROR_1108\' | translate}}</div></div></md-input-container><p>{{\'VERIFY_EMAIL_TEXT_21\' | translate}} <a ng-click="onRecover()" class="pointer" href="">{{\'VERIFY_EMAIL_RESEND\' | translate}}</a> {{\'VERIFY_EMAIL_TEXT_22\' | translate}}</p></form></div></div><div class="pip-footer"><md-button ng-click="goBack()" ng-hide="transaction.busy()" class="rm8" aria-label="CANCEL">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent" ng-click="onVerify()" ng-hide="transaction.busy()" aria-label="VERIFY" ng-disabled="data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)">{{::\'VERIFY\' | translate}}</md-button><md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></div></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("verify_email/verify_email_success.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><div class="pip-footer"><md-button ng-click="onContinue()" class="md-accent">{{\'CONTINUE\' | translate}}</md-button></div><div class="pip-body"><div class="pip-content"><h2>{{\'VERIFY_EMAIL_TITLE\' | translate}}</h2><p class="title-padding">{{\'VERIFY_EMAIL_SUCCESS_TEXT\' | translate}}</p></div></div></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signup/signup.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><pip-signup-panel></pip-signup-panel></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signup/signup_dialog.html",'<md-dialog class="pip-entry"><md-dialog-content><pip-signup-panel pip-goto-signin-dialog="pipGotoSigninDialog" pip-post-signup="pipPostSignup"></pip-signup-panel></md-dialog-content></md-dialog>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("signup/signup_panel.html",'<div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy() && !hideObject.progress" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2 pip-translate="SIGNUP_TITLE" ng-if="!hideObject.title"></h2><form name="form" novalidate="" autocomplete="off"><input type="email" style="display:none"> <input type="password" style="display:none"><div ng-messages="form.$serverError" class="text-error bm8" md-auto-hide="false"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><a ng-hide="showServerUrl || fixedServerUrl || hideObject.server" ng-click="showServerUrl = true" href="">{{::\'ENTRY_CHANGE_SERVER\' | translate}}</a><div ng-show="showServerUrl && !hideObject.server"><md-autocomplete ng-initial="" autofocus="" tabindex="1" class="pip-combobox w-stretch bm8" name="server" ng-enabled="!transaction.busy()" placeholder="{{::\'ENTRY_SERVER_URL\' | translate}}" md-no-cache="true" md-selected-item="data.serverUrl" md-search-text="selected.searchURLs" md-items="item in getMatches()" md-item-text="item" md-selected-item-change="onServerUrlChanged()" md-delay="200" ng-model="data.serverUrl" ng-disabled="transaction.busy()" pip-clear-errors=""><span md-highlight-text="selected.searchURLs">{{item}}</span></md-autocomplete></div><md-input-container class="display bp4"><label>{{::\'FULLNAME\' | translate}}</label> <input name="signupFullName" ng-disabled="transaction.busy()" autocomplete="off" ng-model="data.name" ng-init="data.name = \'\'" required="" tabindex="2" pip-clear-errors="" ng-keypress="onEnter($event)"><div class="hint text-overflow w-stretch" ng-if="touchedErrorsWithHint(form, form.signupFullName).hint && !hideObject.hint">{{::\'HINT_FULLNAME\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.signupFullName)" md-auto-hide="false"><div ng-message="required">{{::\'HINT_FULLNAME\' | translate}} {{::\'ERROR_FULLNAME_INVALID\' | translate }}</div><div ng-message="ERROR_1101">{{::\'ERROR_1101\' | translate}}</div></div></md-input-container><md-input-container class="display bp4"><label>{{::\'EMAIL\' | translate}}</label> <input name="userEmail" ng-disabled="transaction.busy()" pip-clear-errors="" type="email" tabindex="3" ng-model="data.email" required="" pip-email-unique="data.email" ng-keypress="onEnter($event)" pip-test="input-password"><div class="hint" ng-if="touchedErrorsWithHint(form, form.userEmail).hint && !hideObject.hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.userEmail)" md-auto-hide="false"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="emailUnique">{{::\'ERROR_1104\' | translate}}</div><div ng-message="ERROR_1100">{{::\'ERROR_1100\' | translate}}</div><div ng-message="ERROR_1106">{{::\'ERROR_1106\' | translate}}</div><div ng-message="ERROR_1104">{{::\'ERROR_1104\' | translate}}</div><div ng-message="ERROR_1300">{{::\'ERROR_1300\' | translate}}</div><div ng-message="ERROR_1305">{{::\'ERROR_1305\' | translate}}</div><div ng-message="ERROR_1301">{{::\'ERROR_1301\' | translate}}</div><div ng-message="ERROR_1114">{{::\'ERROR_1114\' | translate}}</div></div></md-input-container><md-input-container class="display bp4"><label>{{::\'PASSWORD_SET\' | translate}}</label> <input name="password" ng-disabled="transaction.busy()" pip-clear-errors="" type="password" tabindex="4" ng-model="data.password" required="" minlength="6" ng-keypress="onEnter($event)" pip-test="input-password"><div class="hint" ng-if="touchedErrorsWithHint(form, form.password).hint && !hideObject.hint">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.password)" md-auto-hide="false"><div ng-message="required">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-message="ERROR_1102" ng-if="!form.password.$pristine">{{::\'ERROR_1102\' | translate}}</div><div ng-message="ERROR_1107" ng-if="!form.password.$pristine">{{::\'ERROR_1107\' | translate}}</div></div></md-input-container><md-input-container class="display bp4" ng-if="!hideObject.passwordConfirm"><label>{{::\'PASSWORD_CONFIRM\' | translate}}</label> <input name="passwordConfirm" type="password" tabindex="4" required="" minlength="6" ng-model="confirmPassword" ng-disabled="transaction.busy()" pip-clear-errors="" compare-to="data.password" ng-keypress="onEnter($event)" pip-test="input-password"><div class="hint" ng-if="touchedErrorsWithHint(form, form.passwordConfirm).hint && !hideObject.hint">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.passwordConfirm)" md-auto-hide="false"><div ng-message="compareTo">{{::\'PASSWORD_MATCH\' | translate}}</div><div ng-message="required">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate}}</div></div></md-input-container><p class="text-small-secondary" ng-if="!hideObject.agreement">{{::\'SIGNUP_TEXT_11\' | translate}} <a href="#/legal/privacy">{{::\'SIGNUP_PRIVACY\' | translate}}</a> {{::\'SIGNUP_TEXT_12\' | translate}} <a href="#/legal/services">{{::\'SIGNUP_SERVICES\' | translate}}</a></p><md-button ng-hide="transaction.busy()" class="md-raised m0 md-accent w-stretch" ng-click="onSignup()" aria-label="SIGNUP" ng-disabled="form.$invalid || (form.$pristine && !data.email) || data.serverUrl.length == 0 || data.email.length == 0 || (!data.password) || (!data.name) || data.name.length == 0 || data.password.length == 0">{{::\'SIGNUP_TITLE\' | translate}}</md-button><md-button ng-show="transaction.busy()" ng-click="transaction.abort()" class="md-raised md-warn m0 w-stretch" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button><div class="tm24 layout-row" ng-if="$mdMedia(\'gt-xs\') && !hideObject.signin"><p class="text-small m0">{{::\'SIGNUP_TEXT_2\' | translate}} <a href="" ng-click="gotoSignin()">{{::\'SIGNUP_SIGNIN_HERE\' | translate}}</a></p></div><div class="tm24 divider-top" ng-if="$mdMedia(\'xs\') && !hideObject.signin" style="margin-right: -16px; margin-left: -16px; background-color: rgb(238, 238, 238);"><div class="h48 layout-row layout-align-center-end"><p class="bm0 text-small">{{::\'SIGNUP_TEXT_2\' | translate}}</p></div><div class="h48 layout-row layout-align-center-start"><p class="bm0 text-small"><a href="" ng-click="gotoSignin()">{{::\'SIGNUP_SIGNIN_HERE\' | translate}}</a></p></div></div></form></div></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("reset_password/reset_password.html",'<div class="pip-card-container pip-outer-scroll pip-entry"><pip-card width="400"><pip-reset-password-panel pip-data="data" pip-created="$panel = $control"></pip-reset-password-panel><div class="pip-footer"><md-button ng-hide="transaction.busy()" ng-click="goBack()" class="rm8" aria-label="CANCEL">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" ng-click="onReset()" aria-label="ENTRY_SET_PASSWORD" ng-disabled="(form.$pristine && !data.email) || data.serverUrl.length == 0 || data.email.length == 0 || data.code.length == 0 || data.password.length < 6" class="md-accent" type="submit">{{::\'ENTRY_SET_PASSWORD\' | translate}}</md-button><md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></div></pip-card></div>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("reset_password/reset_password_dialog.html",'<md-dialog class="pip-entry lp0 rp0"><md-dialog-content><pip-reset-password-panel pip-data="data" pip-created="$panel = $control"></pip-reset-password-panel></md-dialog-content><md-dialog-actions class="layout-row layout-align-end-center"><md-button ng-hide="transaction.busy()" ng-click="goBack()" class="rm8" aria-label="CANCEL">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" ng-click="onReset()" aria-label="ENTRY_SET_PASSWORD" ng-disabled="(form.$pristine && !data.email) || data.serverUrl.length == 0 || data.email.length == 0 || data.code.length == 0 || data.password.length < 6" class="md-accent" type="submit">{{::\'ENTRY_SET_PASSWORD\' | translate}}</md-button><md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" aria-label="ABORT">{{::\'CANCEL\' | translate}}</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("pipEntry.Templates")}catch(t){e=angular.module("pipEntry.Templates",[])}e.run(["$templateCache",function(e){e.put("reset_password/reset_password_panel.html",'<div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy() && showServerError && !hideObject.progress" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2 ng-if="!hideObject.title">{{::\'RESET_PWD_PASSWORD\' | translate}}</h2><p class="title-padding bm16" ng-if="!hideObject.subTitle">{{::\'RESET_PWD_TEXT\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8" md-auto-hide="false"><div ng-message="ERROR_1000">{{::\'ERROR_1000\' | translate}}</div><div ng-message="ERROR_1110">{{::\'ERROR_1110\' | translate}}</div><div ng-message="ERROR_1111">{{::\'ERROR_1111\' | translate}}</div><div ng-message="ERROR_1112">{{::\'ERROR_1112\' | translate}}</div><div ng-message="ERROR_-1">{{::\'ERROR_SERVER\' | translate}}</div><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><a ng-hide="showServerUrl || fixedServerUrl || hideObject.server" ng-click="showServerUrl = true" href="">{{::\'ENTRY_CHANGE_SERVER\' | translate}}</a><div ng-show="showServerUrl && !hideObject.server"><md-autocomplete ng-initial="" autofocus="" tabindex="1" class="pip-combobox w-stretch bm8" name="server" ng-enabled="!transaction.busy()" placeholder="{{::\'ENTRY_SERVER_URL\' | translate}}" md-no-cache="true" md-selected-item="data.serverUrl" md-search-text="selected.searchURLs" md-items="item in getMatches()" md-item-text="item" md-selected-item-change="onServerUrlChanged()" md-delay="200" ng-model="data.serverUrl" pip-clear-errors=""><span md-highlight-text="selected.searchURLs">{{item}}</span></md-autocomplete></div><md-input-container class="pip-no-hint" style="padding-bottom: 4px!important;"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" required="" step="any" pip-clear-errors="" ng-disabled="transaction.busy()" tabindex="2" pip-email-unique="data.email"><div class="hint" ng-if="touchedErrorsWithHint(form, form.email).hint && !hideObject.hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.email)" class="md-input-error" md-auto-hide="false"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="emailUnique">{{::\'ERROR_1104\' | translate}}</div><div ng-message="ERROR_1100">{{::\'ERROR_1100\' | translate}}</div><div ng-message="ERROR_1106">{{::\'ERROR_1106\' | translate}}</div></div></md-input-container><md-input-container class="pip-no-hint"><label>{{::\'ENTRY_RESET_CODE\' | translate}}</label> <input name="code" ng-disabled="transaction.busy()" ng-model="data.code" required="" tabindex="3" pip-clear-errors=""><div class="hint" ng-if="touchedErrorsWithHint(form, form.code).hint && !hideObject.hint">{{::\'ENTRY_RESET_CODE\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.code)" class="md-input-error" md-auto-hide="false"><div ng-message="required">{{::\'ERROR_CODE_INVALID\' | translate }}</div><div ng-message="ERROR_1108">{{::\'ERROR_1108\' | translate}}</div><div ng-message="ERROR_1109">{{::\'ERROR_1109\' | translate}}</div></div></md-input-container><md-input-container class="pip-no-hint" style="padding-bottom: 4px!important;"><label>{{::\'PASSWORD\' | translate}}</label> <input name="password" ng-disabled="transaction.busy()" pip-clear-errors="" type="password" tabindex="4" ng-model="data.password" required="" minlength="6"><div class="hint" ng-if="touchedErrorsWithHint(form, form.password).hint && !hideObject.hint">{{::\'HINT_PASSWORD\' | translate}}</div><div ng-messages="touchedErrorsWithHint(form, form.password)" class="md-input-error" md-auto-hide="false"><div ng-message="required">{{::\'MINLENGTH_PASSWORD\' | translate}}</div><div ng-message="minlength">{{::\'MINLENGTH_PASSWORD\' | translate}}</div><div ng-message="ERROR_1102">{{::\'ERROR_1102\' | translate}}</div><div ng-message="ERROR_1103">{{::\'ERROR_1103\' | translate}}</div><div ng-message="ERROR_1105">{{::\'ERROR_1105\' | translate}}</div></div></md-input-container></form></div></div>');
}])}(),function(){"use strict";var e=angular.module("pipEmailUnique",["ngResource","pipDataUser"]);e.directive("pipEmailUnique",["$http","pipDataUser",function(e,t){return{restrict:"A",require:"ngModel",link:function(e,r,a,i){var n=a.pipEmailUnique;e.$watch(a.ngModel,_.throttle(function(e){var r=i.$validators.emailUnique;return e&&0!=e.length&&n!=e?(e||i.$setValidity("emailUnique",!0),void t.signupValidate(e,function(e){i.$setValidity("emailUnique",!0)},function(e){i.$setValidity("emailUnique",!1)})):void i.$setValidity("emailUnique",r)},500))}}}])}(),function(){"use strict";var e=angular.module("pipEntry.Common",[]);e.provider("pipEntry",function(){var e=!1,t=null;this.adminOnly=function(t){e=t},this.fixedServerUrl=function(e){t=e},this.$get=function(){return{adminOnly:function(){return e},fixedServerUrl:function(){return t}}}}),e.factory("pipEntryCommon",["$rootScope","$state","$window","pipAppBar","pipSession","pipDataConfig","pipEntry","pipFormErrors",function(e,t,r,a,i,n,s,o){function l(){a.hideNavIcon(),a.config().appTitleLogo?a.showTitleLogo(a.config().appTitleLogo):a.showTitleLogo("images/piplife_logo.svg"),a.showLanguage(),a.showShadow(),a.hideSearch()}function d(e){function r(t){var r=e.selected.searchURLs&&t&&t.toLowerCase().indexOf(e.selected.searchURLs.toLowerCase())>=0;return r}function a(){return e.selected.searchURLs?(e.data.serverUrl=e.selected.searchURLs,_.filter(e.serverUrls,e.filterItem)):e.showServerUrl}function l(){if(n.serverUrl(e.data.serverUrl),e.selected.searchURLs){var r=e.servers[e.data.serverUrl];r&&"signup"!=t.name&&(e.data.email=r.email,e.data.password=r.password),o.resetFormErrors(e.form,!1),o.resetFieldsErrors(e.form)}}if(e.adminOnly=s.adminOnly(),e.data={serverUrl:n.serverUrl(),email:"signup"!=t.name&&t.params.email?t.params.email:null,password:"",remember:!1,adminOnly:e.adminOnly,name:t.params.name||null,code:t.params.code||null},e.showServerUrl=!1,e.fixedServerUrl=!1,e.data.serverUrl=e.data.serverUrl||i.usedServerUrls(),s.fixedServerUrl()&&(e.data.serverUrl=n.serverUrl(),e.fixedServerUrl=!0),"signup"!=t.name&&(e.data.email=e.data.email||i.lastUsedEmail(e.data.serverUrl)),e.serverUrls=i.usedServerUrls(),e.servers=i.usedServers(),e.selected={},e.selected.searchURLs=e.data.serverUrl,e.data.serverUrl&&!e.data.email&&"signup"!=t.name){var d=e.servers[e.data.serverUrl];e.data.email=(d||{}).email}e.filterItem=r,e.getMatches=a,e.onServerUrlChanged=l,e.isEmpty=_.isEmpty}return{configureAppBar:l,initScope:d}}])}(),function(){"use strict";var e=angular.module("pipEntry.Strings",[]);e.config(["pipTranslateProvider",function(e){e.translations("en",{FULLNAME:"First and last name",EMAIL:"Email",PASSWORD:"Password",LANGUAGE:"Language",GENDER:"Gender",BIRTHDAY:"Birthday",LOCATION:"Location",HINT_FULLNAME:"Use your real name, so others know who you are",HINT_PASSWORD:"Minimum 6 characters",SIGNIN_HINT_PASSWORD:"Please, type password",HINT_ABOUT:"Few words about yourself",VERIFY_EMAIL:"Please, verify your email address. ",HINT_EMAIL:"Please, type your email address.",SIGNIN_TITLE:"Sign in",SIGNIN_NOT_MEMBER:"Not a member?",SIGNIN_REMEMBER:"Remember",SIGNIN_FORGOT_PASSWORD:"Forgot password?",SIGNIN_SIGNUP_HERE:" Sign up here",SIGNUP_TITLE:"Sign up",SIGNUP_NOT_MEMBER:"Not a member? Sign up now",SIGNUP_TEXT_11:"By clicking Sign up, you agree to the",SIGNUP_PRIVACY:"privacy statement",SIGNUP_TEXT_12:"and",SIGNUP_SERVICES:"services agreement",SIGNUP_TEXT_2:"Do you have an account?",SIGNUP_SIGNIN_HERE:" Sign in here",SIGNUP_EMAIL_REGISTERED:"This email is already registered",SIGNUP_FULLNAME_WRONG:"xxxx",SIGNUP_EMAIL_WRONG:"xxxx",POST_SIGNUP_TITLE:"Welcome to Pip.Life",POST_SIGNUP_TEXT_1:"Your account was successfully created.",POST_SIGNUP_TEXT_2:"Tell us some more about yourself.",RECOVER_PWD_TITLE:"Forgot password?",RECOVER_PWD_TEXT_1:"Enter the email address you used when you joined and we'll send you instructions to reset your password.",RECOVER_PWD_TEXT_2:"For security reasons, we do NOT store your password. So rest assured that we will never send your password via email.",RECOVER_PWD_RECOVER:"Recover password",RESET_PWD_PASSWORD:"Reset password",RESET_PWD_TEXT:"Enter the email address together with the reset code you received in email from PipLife. Remember the code is only active for 24 hours.",RESET_PWD_SUCCESS_TEXT:"Your password was successfully changed",VERIFY_EMAIL_TITLE:"Email verification",VERIFY_EMAIL_TEXT_1:"Confirm your email address using verification code",VERIFY_EMAIL_TEXT_21:"If you haven't received the code, press ",VERIFY_EMAIL_RESEND:"resend",VERIFY_EMAIL_TEXT_22:"to send it again.",VERIFY_EMAIL_SUCCESS_TEXT:"Your email address was successfully verified. Thank you!",PASSWORD_MATCH:"Passwords don't match",PASSWORD_CONFIRM:"Confirm the password",PASSWORD_SET:"Set a password",ENTRY_CHANGE_SERVER:"Change server",ENTRY_SERVER_URL:"Server URL",ENTRY_RESET_CODE:"Reset code",ENTRY_VERIFICATION_CODE:"Verification code",ENTRY_NEW_PASSWORD:"New password",ENTRY_SET_PASSWORD:"Set Password",ENTRY_FREE:"Free",ENTRY_REPEAT:"Repeat",ERROR_EMAIL_INVALID:"Enter a valid email",ERROR_PASSWORD_INVALID:"Enter a valid password",ERROR_FULLNAME_INVALID:"Enter full name",ERROR_CODE_INVALID:"Enter a code from mail",ERROR_ACCOUNT_NOT_FOUND:"User name or password are incorrect",ERROR_WRONG_PASSWORD:"User name or password are incorrect",ERROR_CODE_WRONG:"Wrong recovery code",ERROR_SERVER:"Server is not responding",ERROR_SERVER_INVALID:"Enter server URL",LANGUAGE_RUSSIAN:"Russian",LANGUAGE_ENGLISH:"English"}),e.translations("ru",{FULLNAME:"Имя и фамилия",EMAIL:"Адрес эл.почты",PASSWORD:"Пароль",LANGUAGE:"Язык",GENDER:"Пол",BIRTHDAY:"Дата рождения",LOCATION:"Местонахождение",HINT_FULLNAME:"Используйте своё настоящее имя, чтобы другие знали с кем имеют дело",HINT_PASSWORD:"Минимум 6 символов",SIGNIN_HINT_PASSWORD:"Введите пароль",HINT_ABOUT:"Несколько слов о себе",VERIFY_EMAIL:"Подтвердите адрес своей эл.почты",HINT_EMAIL:"Введите адрес своей эл.почты",SIGNIN_TITLE:"Вход в систему",SIGNIN_NOT_MEMBER:"Еще не зарегистрировались?",SIGNIN_REMEMBER:"Запомнить",SIGNIN_FORGOT_PASSWORD:"Забыли пароль?",SIGNIN_SIGNUP_HERE:" Зарегистрироваться здесь",SIGNUP_TITLE:"Регистрация",SIGNUP_NOT_MEMBER:"Новенький? Зарегистрируйтесь сейчас",SIGNUP_TEXT_11:"Нажимая кнопку регистрация, я соглашаюсь с",SIGNUP_SERVICES:"договором об услугах",SIGNUP_TEXT_12:"и",SIGNUP_PRIVACY:"соглашением о личных данных",SIGNUP_TEXT_2:"Уже зарегистрировались?",SIGNUP_SIGNIN_HERE:" Вход здесь",SIGNUP_EMAIL_REGISTERED:"Данный адрес эл.почты уже занят",POST_SIGNUP_TITLE:"Добро пожаловать в Pip.Life",POST_SIGNUP_TEXT_1:"Ваша учетная запись создана.",POST_SIGNUP_TEXT_2:"Несклько слов о о себе",RECOVER_PWD_TITLE:"Забыли пароль?",RECOVER_PWD_TEXT_1:"Введите адрес эл.почты, который вы использовали при регистрации и мы вышлем вам инструкции как изменить пароль.",RECOVER_PWD_TEXT_2:"По соображениям безопасности мы НЕ храним пароли. Таким образом, мы никогда не пошлем ваш пароль по электронной почте.",RECOVER_PWD_RECOVER:"Восстановить пароль",RESET_PWD_PASSWORD:"Изменить пароль",RESET_PWD_TEXT:"Введите адрес эл.почты вместе с кодом, который вы получили в почтовом сообщении от PipLife. Помните, что код действителен только 24 часа.",RESET_PWD_SUCCESS_TEXT:"Ваш пароль успешно изменён",VERIFY_EMAIL_TITLE:"Подтверждение адреса эл.почты",VERIFY_EMAIL_TEXT_1:"Введите код, который вы получили по эл.почте",VERIFY_EMAIL_TEXT_21:"Если вы не получили почтовое сообщение с кодом, нажмите ",VERIFY_EMAIL_RESEND:"отправить снова",VERIFY_EMAIL_TEXT_22:".",VERIFY_EMAIL_SUCCESS_TEXT:"Адрес вашей электронной почты успешно подтвержден. Спасибо!",PASSWORD_MATCH:"Пароли не совпадают",PASSWORD_CONFIRM:"Подтвердите пароль",PASSWORD_SET:"Задайте пароль",ENTRY_CHANGE_SERVER:"Изменить сервер",ENTRY_SERVER_URL:"URL сервера",ENTRY_RESET_CODE:"Код подтверждения",ENTRY_VERIFICATION_CODE:"Код проверки",ENTRY_NEW_PASSWORD:"Новый пароль",ENTRY_SET_PASSWORD:"Изменить пароль",ENTRY_FREE:"бесплатно",ENTRY_REPEAT:"Повторить",ERROR_EMAIL_INVALID:"Введите адрес электронной почты",ERROR_PASSWORD_INVALID:"Введите пароль",ERROR_FULLNAME_INVALID:"Введите полное имя",ERROR_CODE_INVALID:"Введите код",ERROR_ACCOUNT_NOT_FOUND:"Введено неверное имя пользователя или пароль",ERROR_WRONG_PASSWORD:"Введено неверное имя пользователя или пароль",ERROR_CODE_WRONG:"Неправильный код",ERROR_SERVER:"Сервер не отвечает. Проверьте URL сервера.",ERROR_SERVER_INVALID:"Введите URL сервера",LANGUAGE_RUSSIAN:"Русский",LANGUAGE_ENGLISH:"Английский"})}])}(),function(){"use strict";var e=angular.module("pipPasswordMatch",[]);e.directive("compareTo",function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(e,t,r,a){a.$validators.compareTo=function(t){return t==e.otherModelValue},e.$watch("otherModelValue",function(){a.$validate()})}}})}(),function(){"use strict";var e=angular.module("pipEntry.PostSignup",["pipEntry.Common","pipPostSignupPanel"]);e.controller("pipPostSignupController",["$scope","$rootScope","pipAuthState","$party",function(e,t,r,a){function i(){e.$panel&&e.$panel.onPostSignupSubmit()}e.$party=a,e.onPostSignupSubmit=i,e.$panel&&(e.transaction=e.$panel.transacton)}])}(),function(){"use strict";var e=angular.module("pipEntry.PostSignupDialog",["pipEntry.Common","pipPostSignupPanel"]);e.factory("pipPostSignupDialog",["$mdDialog",function(e){return{show:function(t,r,a){e.show({targetEvent:t.event,templateUrl:"post_signup/post_signup_dialog.html",controller:"pipPostSignupDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){r&&r()},function(){a&&a()})}}}]),e.controller("pipPostSignupDialogController",["$scope","$rootScope","$location","params",function(e,t,r,a){function i(){e.$panel&&e.$panel.onPostSignupSubmit()}e.$party=a.$party,e.onPostSignupSubmit=i,e.$panel&&(e.transaction=e.$panel.transacton)}])}(),function(){"use strict";var e=angular.module("pipPostSignupPanel",["pipUtils","pipFocused","pipEntry.Strings"]);e.directive("pipPostSignupPanel",function(){return{restrict:"EA",replace:!0,scope:{data:"=pipData",created:"&pipCreated",$party:"=pipParty",hideElements:"=pipHideElements"},templateUrl:"post_signup/post_signup_panel.html",controller:"pipPostSignupPanelController"}}),e.controller("pipPostSignupPanelController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipDataSession","pipFormErrors","pipEntryCommon","$state","$mdMedia","pipTranslate","pipEnums","pipDataParty","pipUtils",function(e,t,r,a,i,n,s,o,l,d,p,c,m,g){function u(){e.hideObject=angular.isObject(e.hideElements)?e.hideElements:{},e.hideObject.subTitle=1==g.toBoolean(e.hideObject.subTitle),e.hideObject.title=1==g.toBoolean(e.hideObject.title),e.hideObject.successTitle=1==g.toBoolean(e.hideObject.successTitle),e.hideObject.progress=1==g.toBoolean(e.hideObject.progress)}function R(t){e.picture&&e.picture.save(function(){},function(e){console.error(e)})}function E(t){e.picture=t.sender}function v(){if(e.form.$invalid)return void s.resetFormErrors(e.form,!0);var t=e.transaction.begin("PROCESSING");t&&m.createParty(e.data,function(r){if(s.resetFormErrors(e.form,!1),!e.transaction.aborted(t))return e.transaction.end(),g.checkSupported()?void i.goToAuthorized({party_id:r.id}):(n.signout(),void l.go("errors_unsupported"))},function(t){e.error=t,e.transaction.end(e.error),s.resetFormErrors(e.form,!0),s.setFormError(e.form,t,{1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"})})}e.$mdMedia=d,u(),o.initScope(e),e.showServerError=!0,e.genders=p.translateSet(c.GENDERS),e.languages=p.translateSet(c.LANGUAGES),e.data={id:e.$party.id,name:e.$party.name,email:e.$party.email,about:e.$party.about,language:p.use(),birthday:e.$party.birthday,gender:e.$party.gender||c.GENDER.NOT_SPECIFIED,location:e.$party.location},e.transaction=a("entry.post_signup",e),e.$control={},e.$control.onPostSignupSubmit=v,e.$control.transaction=e.transaction,e.created&&e.created({$control:e.$control}),e.onPictureChanged=R,e.onPictureCreated=E,e.onPostSignupSubmit=v}])}(),function(){"use strict";var e=angular.module("pipEntry.RecoverPassword",["pipEntry.Common","pipRecoverPasswordPanel"]);e.controller("pipRecoverPasswordController",["$scope","$rootScope","pipUtils","pipAuthState","pipTransaction","pipDataUser","pipFormErrors","pipEntryCommon","$window",function(e,t,r,a,i,n,s,o,l){function d(){l.history.back()}function p(){e.$panel&&e.$panel.onRecover()}o.configureAppBar(),e.goBack=d,e.onRecover=p,e.transaction=i("entry.recover_password",e)}])}(),function(){"use strict";var e=angular.module("pipEntry.RecoverPasswordDialog",["pipEntry.Common","pipRecoverPasswordPanel","pipEntry.ResetPasswordDialog"]);e.factory("pipRecoverPasswordDialog",["$mdDialog",function(e){return{show:function(t,r,a){e.show({targetEvent:t.event,templateUrl:"recover_password/recover_password_dialog.html",controller:"pipRecoverPasswordDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){r&&r()},function(){a&&a()})}}}]),e.controller("pipRecoverPasswordDialogController",["$scope","$rootScope","$location","params","$mdDialog","pipResetPasswordDialog",function(e,t,r,a,i,n){function s(){e.$panel&&e.$panel.onRecover()}function o(){n.show({})}e.onRecover=s,e.$panel&&(e.transaction=e.$panel.transacton),e.goBack=i.cancel,e.pipGotoReset=o}])}(),function(){"use strict";var e=angular.module("pipRecoverPasswordPanel",["pipUtils","pipFocused","pipEntry.Strings"]);e.directive("pipRecoverPasswordPanel",function(){return{restrict:"EA",replace:!0,scope:{data:"=pipData",created:"&pipCreated",gotoReset:"=pipGotoReset",hideElements:"=pipHideElements"},templateUrl:"recover_password/recover_password_panel.html",controller:"pipRecoverPasswordPanelController"}}),e.controller("pipRecoverPasswordPanelController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipFormErrors","pipEntryCommon","$state","$mdMedia","pipTranslate","pipEnums","pipDataUser","pipUtils",function(e,t,r,a,i,n,s,o,l,d,p,c,m){function g(){e.hideObject=angular.isObject(e.hideElements)?e.hideElements:{},e.hideObject.title=1==m.toBoolean(e.hideObject.title),e.hideObject.subTitle1=1==m.toBoolean(e.hideObject.subTitle1),e.hideObject.subTitle2=1==m.toBoolean(e.hideObject.subTitle2),e.hideObject.server=1==m.toBoolean(e.hideObject.server),e.hideObject.hint=1==m.toBoolean(e.hideObject.hint),e.hideObject.progress=1==m.toBoolean(e.hideObject.progress)}function u(){if(e.form.$invalid)return void n.resetFormErrors(e.form,!0);var t=e.transaction.begin("PROCESSING");t&&c.recoverPassword({serverUrl:e.data.serverUrl,email:e.data.email},function(r){n.resetFormErrors(e.form,!1),e.transaction.aborted(t)||(e.transaction.end(),e.gotoReset?e.gotoReset():i.go("reset_password",{server_url:e.data.serverUrl,email:e.data.email}))},function(t){e.error=t,e.transaction.end(e.error),n.setFormError(e.form,e.error,{1100:"email",1106:"email",1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"}),n.resetFormErrors(e.form,!0)})}e.$mdMedia=l,g(),s.initScope(e),e.showServerError=!0,e.touchedErrorsWithHint=n.touchedErrorsWithHint,e.onRecover=u,e.transaction=a("entry.recover_password",e),e.$control={},e.$control.onRecover=u,e.created&&e.created({$control:e.$control})}])}(),function(){"use strict";var e=angular.module("pipEntry.ResetPassword",["pipEntry.Common","pipResetPasswordPanel","pipEmailUnique"]);e.controller("pipResetPasswordController",["$scope","$rootScope","pipUtils","pipAuthState","pipTransaction","pipDataUser","pipToasts","pipTranslate","pipFormErrors","pipEntryCommon","$window",function(e,t,r,a,i,n,s,o,l,d,p){function c(){p.history.back()}function m(){e.$panel&&e.$panel.onReset()}d.configureAppBar(),e.goBack=c,e.onReset=m,e.transaction=i("entry.reset_password",e)}])}(),function(){"use strict";var e=angular.module("pipEntry.ResetPasswordDialog",["pipEntry.Common","pipResetPasswordPanel"]);e.factory("pipResetPasswordDialog",["$mdDialog",function(e){return{show:function(t,r,a){e.show({targetEvent:t.event,templateUrl:"entry/dialogs/reset_password.html",controller:"pipResetPasswordDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){r&&r()},function(){a&&a()})}}}]),e.controller("pipResetPasswordDialogController",["$scope","$rootScope","$location","params","$mdDialog",function(e,t,r,a,i){function n(){e.$panel&&e.$panel.onReset()}e.onReset=n,e.$panel&&(e.transaction=e.$panel.transacton),e.goBack=i.cancel}])}(),function(){"use strict";var e=angular.module("pipResetPasswordPanel",["pipUtils","pipFocused","pipEntry.Strings"]);e.directive("pipResetPasswordPanel",function(){return{restrict:"EA",replace:!0,scope:{data:"=pipData",created:"&pipCreated",hideElements:"=pipHideElements"},templateUrl:"reset_password/reset_password_panel.html",controller:"pipResetPasswordPanelController"}}),e.controller("pipResetPasswordPanelController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipToasts","pipFormErrors","pipEntryCommon","$state","$mdMedia","pipTranslate","pipEnums","pipDataUser","pipUtils",function(e,t,r,a,i,n,s,o,l,d,p,c,m,g){function u(){e.hideObject=angular.isObject(e.hideElements)?e.hideElements:{},e.hideObject.subTitle=1==g.toBoolean(e.hideObject.subTitle),e.hideObject.title=1==g.toBoolean(e.hideObject.title),e.hideObject.server=1==g.toBoolean(e.hideObject.server),e.hideObject.hint=1==g.toBoolean(e.hideObject.hint),e.hideObject.progress=1==g.toBoolean(e.hideObject.progress)}function R(e,t){if(e)return e=p.translate(e),t=t||"message","message"==t?void n.showMessage(e):"error"==t?void n.showError(e):void 0}function E(){if(e.form.$invalid)return void s.resetFormErrors(e.form,!0);var t=e.transaction.begin("PROCESSING");t&&m.resetPassword({serverUrl:e.data.serverUrl,email:e.data.email,code:e.data.code,password:e.data.password},function(r){if(s.resetFormErrors(e.form,!1),!e.transaction.aborted(t)){var a=String()+"RESET_PWD_SUCCESS_TEXT";R(a,"message"),e.transaction.end(),i.go("signin",{server_url:e.data.serverUrl,email:e.data.email})}},function(t){e.error=t,e.transaction.end(e.error),s.resetFormErrors(e.form,!0),s.setFormError(e.form,t,{1100:"email",1106:"email",1102:"password",1103:"password",1105:"password",1108:"code",1109:"code",1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"})})}e.$mdMedia=d,u(),o.initScope(e),e.showServerError=!0,e.touchedErrorsWithHint=s.touchedErrorsWithHint,e.onReset=E,e.transaction=a("entry.recover_password",e),e.$control={},e.$control.onReset=E,e.created&&e.created({$control:e.$control})}])}(),function(){"use strict";var e=angular.module("pipEntry.Signin",["pipEntry.Common","pipSigninPanel"]);e.controller("pipSigninController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipDataSession","pipFormErrors","pipEntryCommon",function(e,t,r,a,i,n,s,o){o.configureAppBar(),t.isSignin||n.signout(),t.isSignin=!1}])}(),function(){"use strict";var e=angular.module("pipEntry.SigninDialog",["pipEntry.Common","pipSigninPanel","pipEntry.SignupDialog","pipEntry.RecoverPasswordDialog"]);e.factory("pipSigninDialog",["$mdDialog",function(e){return{show:function(t,r,a){e.show({targetEvent:t.event,templateUrl:"signin/signin_dialog.html",controller:"pipSigninDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){r&&r()},function(){a&&a()})}}}]),e.controller("pipSigninDialogController",["$scope","$rootScope","$location","pipDataSession","pipSignupDialog","pipRecoverPasswordDialog",function(e,t,r,a,i,n){function s(){i.show({})}function o(){n.show({})}a.signout(),e.pipGotoSignupDialog=s,e.pipGotoRecoverPasswordDialog=o}])}(),function(){"use strict";var e=angular.module("pipSigninPanel",["pipUtils","pipFocused","pipEntry.Strings"]);e.directive("pipSigninPanel",function(){return{restrict:"EA",replace:!0,scope:{gotoSignupPage:"=pipGotoSignupPage",gotoSignupDialog:"=pipGotoSignupDialog",gotoRecoverPasswordDialog:"=pipGotoRecoverPasswordDialog",rememberDefault:"=pipRemember",hideElements:"=pipHideElements"},templateUrl:"signin/signin_panel.html",controller:"pipSigninPanelController"}}),e.controller("pipSigninPanelController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipDataSession","pipFormErrors","pipEntryCommon","$state","$mdMedia","pipTheme","pipUtils",function(e,t,r,a,i,n,s,o,l,d,p,c){function m(){e.hideObject=angular.isObject(e.hideElements)?e.hideElements:{},e.hideObject.remember=1==c.toBoolean(e.hideObject.remember),e.hideObject.title=1==c.toBoolean(e.hideObject.title),e.hideObject.server=1==c.toBoolean(e.hideObject.server),e.hideObject.forgotPassword=1==c.toBoolean(e.hideObject.forgotPassword),e.hideObject.signup=1==c.toBoolean(e.hideObject.signup),e.hideObject.hint=1==c.toBoolean(e.hideObject.hint),e.hideObject.progress=1==c.toBoolean(e.hideObject.progress)}function g(){return e.gotoSignupPage||e.gotoSignupDialog?e.gotoSignupPage?void l.go(e.gotoSignupPage):e.gotoSignupDialog?void e.gotoSignupDialog():void 0:void l.go("signup",{server_url:e.data.serverUrl,email:e.data.email})}function u(){return e.gotoRecoverPasswordDialog?e.gotoRecoverPasswordDialog?void e.gotoRecoverPasswordDialog():void 0:void l.go("recover_password",{server_url:e.data.serverUrl,email:e.data.email})}function R(){if(e.form.$invalid)return void s.resetFormErrors(e.form,!0);var a=e.transaction.begin("ENTERING");a&&(t.isSignin=!0,e.hideObject.remember&&e.rememberDefault&&(e.data.remember=!0),n.signin(e.data,function(t){if(s.resetFormErrors(e.form,!1),!e.transaction.aborted(a))return e.transaction.end(),c.checkSupported()?void(i.params.redirect_to?r.url(i.params.redirect_to):i.goToAuthorized()):(n.signout(),void l.go("errors_unsupported"))},function(r){t.isSignin=!1,s.resetFormErrors(e.form,!0),s.setFormError(e.form,r,{1100:"email",1106:"email",1114:"email",1102:"password",1107:"password",1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"}),e.transaction.end({message:r})}))}function E(e){13===e.keyCode&&R()}e.$mdMedia=d,m(),e.showServerError=!0,e.transaction=a("entry.signin",e),e.touchedErrorsWithHint=s.touchedErrorsWithHint,e.onSignin=R,e.gotoSignup=g,e.gotoRecoverPassword=u,e.onEnter=E,o.initScope(e)}])}(),function(){"use strict";var e=angular.module("pipEntry.Signup",["pipEntry.Common","pipEmailUnique","pipSignupPanel","pipPasswordMatch"]);e.controller("pipSignupController",["$scope","$rootScope","pipAuthState","pipTransaction","pipFormErrors","pipEntryCommon",function(e,t,r,a,i,n){n.configureAppBar()}])}(),function(){"use strict";var e=angular.module("pipEntry.SignupDialog",["pipEntry.Common","pipSignupPanel","pipEntry.SigninDialog","pipEntry.PostSignupDialog"]);e.factory("pipSignupDialog",["$mdDialog",function(e){return{show:function(t,r,a){e.show({targetEvent:t.event,templateUrl:"signup/signup_dialog.html",controller:"pipSignupDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){r&&r()},function(){a&&a()})}}}]),e.controller("pipSignupDialogController",["$scope","$rootScope","$location","pipDataSession","pipSigninDialog","pipPostSignupDialog",function(e,t,r,a,i,n){function s(){i.show({})}function o(e){n.show({$party:e})}a.signout(),e.pipGotoSigninDialog=s,e.pipPostSignup=o}])}(),function(){"use strict";var e=angular.module("pipSignupPanel",["pipUtils","pipFocused","pipEntry.Strings"]);e.directive("pipSignupPanel",function(){return{restrict:"EA",replace:!0,scope:{gotoPostSignup:"=pipPostSignup",gotoSigninPage:"=pipGotoSigninPage",gotoSigninDialog:"=pipGotoSigninDialog",hideElements:"=pipHideElements"},templateUrl:"signup/signup_panel.html",controller:"pipSignupPanelController"}}),e.controller("pipSignupPanelController",["$scope","$rootScope","$location","pipTransaction","pipAuthState","pipDataSession","pipDataUser","pipFormErrors","pipEntryCommon","$mdMedia","$state","pipUtils",function(e,t,r,a,i,n,s,o,l,d,p,c){function m(){e.hideObject=angular.isObject(e.hideElements)?e.hideElements:{},e.hideObject.title=1==c.toBoolean(e.hideObject.title),e.hideObject.server=1==c.toBoolean(e.hideObject.server),e.hideObject.passwordConfirm=1==c.toBoolean(e.hideObject.passwordConfirm),e.hideObject.agreement=1==c.toBoolean(e.hideObject.agreement),e.hideObject.signin=1==c.toBoolean(e.hideObject.signin),e.hideObject.hint=1==c.toBoolean(e.hideObject.hint),e.hideObject.progress=1==c.toBoolean(e.hideObject.progress)}function g(){return e.gotoSigninPage||e.gotoSigninDialog?e.gotoSigninPage?void p.go(e.gotoSigninPage):e.gotoSigninDialog?void e.gotoSigninDialog():void 0:void p.go("signin",{})}function u(t){var r=e.selected.searchURLs&&t&&t.toLowerCase().indexOf(e.selected.searchURLs.toLowerCase())>=0;return r}function R(){return e.selected.searchURLs?(e.data.serverUrl=e.selected.searchURLs,_.filter(e.serverUrls,e.filterItem)):e.showServerUrl}function E(){if(e.form.$invalid)return void o.resetFormErrors(e.form,!0);var r=e.transaction.begin("PROCESSING");r&&s.signup({serverUrl:e.data.serverUrl,name:e.data.name,email:e.data.email,password:e.data.password,language:t.$language||"en",theme:t.theme||"blue"},function(t){o.resetFormErrors(e.form,!1),e.transaction.aborted(r)||(e.transaction.end(),n.open({serverUrl:e.data.serverUrl,user:t,password:e.data.password,remember:!1}),e.gotoPostSignup?e.gotoPostSignup(t):i.go("post_signup",{party_id:t.id}))},function(t){e.error=t,o.resetFormErrors(e.form,!0),o.setFormError(e.form,t,{1101:"signupFullName",1100:"userEmail",1106:"userEmail",1104:"userEmail",1305:"userEmail",1114:"userEmail",1301:"userEmail",1300:"userEmail",1102:"password",1103:"password",1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"}),e.transaction.end(t)})}function v(e){13===e.keyCode&&E()}e.$mdMedia=d,m(),l.initScope(e),e.confirmPassword="",e.isEmpty=_.isEmpty,e.onEnter=v,e.showServerError=!0,e.transaction=a("entry.signup",e),e.filterItem=u,e.getMatches=R,e.touchedErrorsWithHint=o.touchedErrorsWithHint,e.onServerUrlChanged=function(){},e.onSignup=E,e.gotoSignin=g}])}(),function(){"use strict";var e=angular.module("pipEntry.VerifyEmail",["pipEntry.Common"]);e.controller("pipVerifyEmailController",["$scope","$rootScope","pipAuthState","pipTransaction","pipDataUser","pipFormErrors","pipEntryCommon",function(e,t,r,a,i,n,s){function o(){if(e.form.$invalid)return void n.resetFormErrors(e.form,!0);var t=e.transaction.begin("PROCESSING");t&&i.verifyEmail({serverUrl:e.data.serverUrl,email:e.data.email,code:e.data.code},function(a){n.resetFormErrors(e.form,!1),e.transaction.aborted(t)||(e.transaction.end(),r.go("verify_email_success",{}))},function(t){e.error=t,e.transaction.end(e.error),n.resetFormErrors(e.form,!0),n.setFormError(e.form,e.error,{1100:"email",1106:"email",1104:"email",1305:"email",1108:"code",1e3:"form",1110:"form",1111:"form",1112:"form","-1":"form"})})}function l(){if(t.$user&&t.$user.id){var a=e.transaction.begin("PROCESSING");a&&i.requestEmailVerification({serverUrl:e.data.serverUrl,email:e.data.email},function(t){e.transaction.aborted(a)||(e.transaction.end(),r.go("reset_password",{server_url:e.data.serverUrl,email:e.data.email}))},function(t){e.transaction.end(t)})}}s.configureAppBar(),s.initScope(e),e.showServerError=!0,e.transaction=a("entry.verify_email",e),e.touchedErrorsWithHint=n.touchedErrorsWithHint,e.onVerify=o,e.onRecover=l}]),e.controller("pipVerifyEmailSuccessController",["$scope","pipAuthState","pipEntryCommon",function(e,t,r){function a(){t.goToAuthorized({})}r.configureAppBar(),e.onContinue=a}])}();
!function(){"use strict";angular.module("pipErrorHandling",["pipErrors.Pages","pipNoConnectionPanel"])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("maintenance/maintenance.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/maintenance.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_AVAILABLE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_AVAILABLE_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="timeoutInterval">{{::\'ERROR_AVAILABLE_TRY_AGAIN\' | translate}} {{timeoutInterval}} sec.</div><div class="pip-error-actions h48 layout-column layout-align-center-center" ng-if="isCordova"><md-button class="md-accent" ng-click="onClose($event)" aria-label="CLOSE">{{::\'ERROR_AVAILABLE_CLOSE\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("missing_route/missing_route.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/invalid_route.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_ROUTE_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_ROUTE_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="CONTINUE" class="md-accent" ng-click="onContinue($event)">{{::\'ERROR_ROUTE_CONTINUE\' | translate}}</md-button></div><div class="h48" ng-if="url"><a ng-href="{{url}}">{{::\'ERROR_ROUTE_TRY_AGAIN\' | translate }}: {{url}}</a></div><div class="h48" ng-if="urlBack"><a ng-href="{{urlBack}}">{{::\'ERROR_ROUTE_GO_BACK\' | translate }}: {{urlBack}}</a></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection/no_connection.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/no_response.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("no_connection/pip_no_connection_panel.html",'<div class="pip-empty pip-error layout-column layout-align-center-center flex"><img src="images/no_response.svg" class="pip-pic block"><div class="pip-error-text">{{::\'ERROR_RESPONDING_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_RESPONDING_SUBTITLE\' | translate}}</div><div class="pip-error-actions h48 layout-column layout-align-center-center"><md-button aria-label="RETRY" class="md-accent" ng-click="onRetry($event)">{{::\'ERROR_RESPONDING_RETRY\' | translate}}</md-button></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unsupported/unsupported.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div class="pip-error-text">{{::\'ERROR_UNSUPPORTED_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNSUPPORTED_SUBTITLE\' | translate}}</div><div class="pip-error-details layout-row layout-align-center-center" ng-if="$mdMedia(\'gt-xs\')"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div><div class="pip-error-details" ng-if="$mdMedia(\'xs\')"><div class="layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/ie.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx">{{::\'ERROR_UNSUPPORTED_IE\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_IE_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/fm.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.mozilla.org/ru/firefox/new/">{{::\'ERROR_UNSUPPORTED_FM\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_FM_VER\' | translate}}</p></div></div></div><div class="tm16 layout-row layout-align-center-center"><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/gc.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="https://www.google.com/chrome/browser/desktop/index.html?platform=win64#">{{::\'ERROR_UNSUPPORTED_GC\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_GC_VER\' | translate}}</p></div></div><div class="pip-error-details-item layout-column layout-align-center-center"><div style="background-image: url(\'images/o.svg\');" class="pip-pic"></div><div class="h64 tp16 bp16"><a class="text-body2 m0" target="_blank" href="http://www.opera.com/ru/download">{{::\'ERROR_UNSUPPORTED_O\' | translate}}</a><p class="text-body1 m0">{{::\'ERROR_UNSUPPORTED_O_VER\' | translate}}</p></div></div></div></div></div>')}])}(),function(r){try{r=angular.module("pipErrors.Templates")}catch(e){r=angular.module("pipErrors.Templates",[])}r.run(["$templateCache",function(r){r.put("unknown/unknown.html",'<div class="pip-error pip-empty layout-column flex layout-align-center-center"><div style="background-image: url(\'images/unknown_error.svg\');" class="pip-pic"></div><div class="pip-error-text">{{::\'ERROR_UNKNOWN_TITLE\' | translate}}</div><div class="pip-error-subtext">{{::\'ERROR_UNKNOWN_SUBTITLE\' | translate}}</div><div class="pip-error-subtext" ng-if="showError && error_details && error_details.status"><div ng-if="error_details.code">Code: {{error_details.code}}</div><div ng-if="error_details.description">Description: {{error_details.description}}</div><div ng-if="error_details.status">HTTP status: {{error_details.status}}</div><div ng-if="error_details.server_stacktrace">Server stacktrace: {{error_details.server_stacktrace}}</div><div ng-if="error_details.client_stacktrace">Client stacktrace stacktrace: {{error_details.client_stacktrace}}</div></div><div class="pip-error-actions layout-column layout-align-center-center"><div class="h48" ng-if="isCordova"><md-button aria-label="CLOSE" class="md-accent" ng-click="onClose($event)">{{::\'ERROR_UNKNOWN_CLOSE\' | translate}}</md-button></div><div class="h48"><md-button aria-label="DETAILS" class="md-accent" ng-click="onDetails($event)">{{::\'ERROR_UNKNOWN_DETAILS\' | translate}}</md-button></div></div></div>')}])}(),function(){"use strict";var r=angular.module("pipErrors.Pages",["pipAppBar","pipRest.State","pipTransactions","pipRest","ngMaterial","pipErrors.Strings","pipErrors.NoConnection","pipErrors.MissingRoute","pipErrors.Unsupported","pipErrors.Unknown","pipErrors.Maintenance","pipErrors.Templates"]);r.config(["pipAuthStateProvider",function(r){r.state("errors_no_connection",{url:"/errors/no_connection",params:{error:null},auth:!1,controller:"pipErrorNoConnectionController",templateUrl:"no_connection/no_connection.html"}).state("errors_maintenance",{url:"/errors/maintenance",params:{error:null},auth:!1,controller:"pipErrorMaintenanceController",templateUrl:"maintenance/maintenance.html"}).state("errors_missing_route",{url:"/errors/missing_route",params:{unfoundState:null,fromState:null},auth:!0,controller:"pipErrorMissingRouteController",templateUrl:"missing_route/missing_route.html"}).state("errors_unsupported",{url:"/errors/unsupported",params:{error:null},auth:!1,controller:"pipErrorUnsupportedController",templateUrl:"unsupported/unsupported.html"}).state("errors_unknown",{url:"/errors/unknown",params:{error:null},auth:!1,controller:"pipErrorUnknownController",templateUrl:"unknown/unknown.html"})}])}(),function(){"use strict";var r=angular.module("pipErrors.Strings",["pipTranslate"]);r.config(["pipTranslateProvider",function(r){r.translations("en",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to the server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 36+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 48+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 45+"}),r.translations("ru",{ERROR_ROUTE_TITLE:"Sorry, the page isn't available",ERROR_ROUTE_SUBTITLE:"The link you followed may be broken, or the page may have been removed.",ERROR_ROUTE_CONTINUE:"Continue",ERROR_ROUTE_TRY_AGAIN:"Try again",ERROR_ROUTE_GO_BACK:"Go Back",ERROR_ROUTE_PAGE_TITLE:"Wrong page",ERROR_UNKNOWN_TITLE:"Oops. Something went wrong",ERROR_UNKNOWN_SUBTITLE:"Unknown error occurred, but don't worry we already have been notified.",ERROR_UNKNOWN_CLOSE:"Close",ERROR_UNKNOWN_DETAILS:"Details",ERROR_AVAILABLE_TITLE:"The server is on maintenance",ERROR_AVAILABLE_SUBTITLE:"Sorry for the inconvenience. This application is undergoing maintenance for a short period. We'll be back soon. Thank for your patience.",ERROR_AVAILABLE_CLOSE:"Close",ERROR_AVAILABLE_TRY_AGAIN:"Try after",ERROR_RESPONDING_TITLE:"No connection to the server",ERROR_RESPONDING_SUBTITLE:"Unable to connect to server. Check your Internet connection and try again.",ERROR_RESPONDING_RETRY:"Retry",ERROR_UNSUPPORTED_TITLE:"This browser is not supported",ERROR_UNSUPPORTED_SUBTITLE:"Our application using the latest technology. This makes the application faster and easier to use. Unfortunately, your browser doesn't support those technologies. Download on of these great browsers and you'll be on your way:",ERROR_UNSUPPORTED_O:"Opera",ERROR_UNSUPPORTED_O_VER:"Version 35+",ERROR_UNSUPPORTED_IE:"Internet Explorer",ERROR_UNSUPPORTED_IE_VER:"Version 11+",ERROR_UNSUPPORTED_GC:"Google Chrome",ERROR_UNSUPPORTED_GC_VER:"Version 47+",ERROR_UNSUPPORTED_FM:"Mozilla Firefox",ERROR_UNSUPPORTED_FM_VER:"Version 43+"})}])}(),function(){"use strict";var r=angular.module("pipErrors.Maintenance",[]);r.controller("pipErrorMaintenanceController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function a(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_AVAILABLE_TITLE",[]),o.showLocalActions(null,[])}function n(){}t.$routing=!1,r.isCordova=!1,a(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.timeoutInterval=r.error&&r.error.config&&r.error.config.params&&r.error.config.params.interval?r.error.config.params.interval:0,r.onClose=n}])}(),function(){"use strict";var r=angular.module("pipErrors.MissingRoute",[]);r.controller("pipErrorMissingRouteController",["$scope","$state","$rootScope","pipAppBar","pipAuthState",function(r,e,t,o,a){function n(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_ROUTE_PAGE_TITLE",[]),o.showLocalActions(null,[])}function i(){a.goToAuthorized()}n(),t.$routing=!1,r.error=e&&e.params&&e.params.error?e.params.fromState:{},r.unfoundState=e&&e.params?e.params.unfoundState:{},r.url=r.unfoundState&&r.unfoundState.to?e.href(r.unfoundState.to,r.unfoundState.toParams,{absolute:!0}):"",r.urlBack=r.fromState&&r.fromState.to?e.href(r.fromState.to,r.fromState.fromParams,{absolute:!0}):"",r.onContinue=i}])}(),function(){"use strict";var r=angular.module("pipErrors.Unknown",[]);r.controller("pipErrorUnknownController",["$scope","$state","$rootScope","pipAppBar",function(r,e,t,o){function a(){o.showMenuNavIcon(),o.showShadow(),o.showTitleBreadcrumb("ERROR_UNKNOWN_TITLE",[]),o.showLocalActions(null,[])}function n(){r.error_details={},r.error_details.code=r.error.code,r.error_details.description=r.error.message,r.error_details.status=r.error.status,r.error_details.server_stacktrace=function(){},r.error_details.client_stacktrace=function(){}}function i(){r.showError=!0}function s(){}t.$routing=!1,r.isCordova=!1,a(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.error_details=null,r.onDetails=i,r.onClose=s,n()}])}(),function(){"use strict";var r=angular.module("pipErrors.Unsupported",[]);r.controller("pipErrorUnsupportedController",["$scope","$state","$rootScope","$mdMedia","pipAppBar",function(r,e,t,o,a){function n(){a.showMenuNavIcon(),a.showShadow(),a.showTitleBreadcrumb("ERROR_UNSUPPORTED_TITLE",[]),a.showLocalActions(null,[])}r.$mdMedia=o,t.$routing=!1,n(),r.error=e&&e.params&&e.params.error?e.params.error:{}}])}(),function(){"use strict";var r=angular.module("pipErrors.NoConnection",[]);r.controller("pipErrorNoConnectionController",["$scope","$state","$rootScope","$window","pipAppBar",function(r,e,t,o,a){function n(){o.history.back()}function i(){a.showMenuNavIcon(),a.showShadow(),a.showTitleBreadcrumb("ERROR_RESPONDING_TITLE",[]),a.showLocalActions(null,[])}t.$routing=!1,i(),r.error=e&&e.params&&e.params.error?e.params.error:{},r.onRetry=n}])}(),function(){"use strict";var r=angular.module("pipNoConnectionPanel",[]);r.directive("pipNoConnectionPanel",function(){return{restrict:"E",scope:{error:"=pipError",retry:"=pipRetry"},templateUrl:"no_connection/pip_no_connection_panel.html",controller:"pipNoConnectionPanelController"}}),r.controller("pipNoConnectionPanelController",["$scope","$element","$attrs","pipTranslate",function(r,e,t,o){function a(){r.retry&&angular.isFunction(r.retry)&&r.retry()}r.onRetry=a}])}();
!function(e){"use strict";e.module("pipSettings",["pipSettings.Service","pipSettings.Page"])}(window.angular),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("settings_page/settings_page.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar><pip-document width="800" min-height="400" class="pip-settings"><div class="pip-menu-container" ng-hide="manager === false || !tabs || tabs.length < 1"><md-list class="pip-menu pip-simple-list hide-xs" pip-selected="selected.tabIndex" pip-selected-watch="selected.navId" pip-select="onNavigationSelect($event.id)"><md-list-item class="pip-simple-list-item pip-selectable flex" ng-repeat="tab in tabs track by tab.state" ng-if="$party.id == $user.id || tab.state == \'settings.basic_info\'|| tab.state ==\'settings.contact_info\' || tab.state ==\'settings.blacklist\'" md-ink-ripple="" pip-id="{{:: tab.state }}"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class="pip-content-container" ng-if="selected.tab"><pip-dropdown class="hide-gt-xs" pip-actions="tabs" pip-dropdown-select="onDropdownSelect" pip-active-index="selected.tabIndex"></pip-dropdown><div class="pip-body tp24-flex layout-column" ui-view=""></div></div></div><div class="layout-column layout-align-center-center flex" ng-show="manager === false || !tabs || tabs.length < 1">{{::\'ERROR_400\' | translate}}</div></pip-document>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_basic_info.html",'<form name="form" class="w-stretch" novalidate=""><md-progress-linear class="pip-progress-top" ng-show="transaction.busy()" md-mode="indeterminate"></md-progress-linear><div class="layout-row bm12"><div class="md-tile-left"><pip-avatar-edit pip-party-id="$party.id" pip-created="onPictureCreated($event)" pip-changed="onPictureChanged($control, $event)"></pip-avatar-edit></div><div class="md-tile-content tp0 layout-align-center"><h3 class="tm16 bm8 text-one-line">{{ nameCopy }}</h3><p class="text-primary text-overflow m0">{{::\'SETTINGS_BASIC_INFO_FROM\' | translate}} {{$user.signup | formatLongDate }}</p></div></div><md-input-container class="md-block"><label>{{::\'SETTINGS_BASIC_INFO_FULL_NAME\' | translate}}</label> <input name="fullName" step="any" type="text" tabindex="0" required="" ng-model="$party.name" ng-disabled="transaction.busy()" ng-change="onChangeBasicInfo()"><div class="hint" ng-if="errorsWithHint(form, form.fullName).hint">{{::\'ERROR_FULLNAME_INVALID\' | translate}}</div></md-input-container><md-input-container class="md-block bm0"><label>{{::\'SETTINGS_BASIC_INFO_PRIMARY_EMAIL\' | translate}}</label> <input name="email" type="email" required="" ng-model="$party.email" ng-change="onChangeBasicInfo()" pip-email-unique="{{$party.email}}"><div class="hint" ng-if="errorsWithHint(form, form.email).hint && !$user.email_ver">{{::\'SETTINGS_BASIC_INFO_VERIFY_HINT\' | translate}}</div><div ng-messages="errorsWithHint(form.email)" ng-hide="$party.type ==\'team\'"><div ng-message="email">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div><div ng-message="emailUnique">{{::\'ERROR_EMAIL_INVALID\' | translate}}</div></div></md-input-container><md-button class="md-raised bm16 tm8 rm8" ng-click="onVerifyEmail($event)" ng-hide="$user.email_ver || $party.type ==\'team\'">{{::\'SETTINGS_BASIC_INFO_VERIFY_CODE\' | translate}}</md-button><md-button ng-click="onChangePassword($event)" class="md-raised bm16 tm8" ng-hide="$party.type ==\'team\'">{{::\'SETTINGS_BASIC_INFO_CHANGE_PASSWORD\' | translate}}</md-button><md-input-container class="md-block flex"><label>{{::\'SETTINGS_BASIC_INFO_WORDS_ABOUT_ME\' | translate }}</label> <textarea ng-model="$party.about" columns="1" ng-change="onChangeBasicInfo()"></textarea></md-input-container><md-input-container class="md-block" ng-hide="$party.type ==\'team\'"><label>{{::\'GENDER\' | translate}}</label><md-select ng-model="$party.gender" ng-change="onChangeBasicInfo()" placeholder="{{\'GENDER\' | translate}}"><md-option ng-value="gender.id" ng-repeat="gender in genders">{{gender.name}}</md-option></md-select></md-input-container><div ng-hide="$party.type ==\'team\'"><p class="text-caption text-grey tm0 bm0">{{::\'SETTINGS_BASIC_INFO_BIRTHDAY\' | translate}}</p><pip-date ng-model="$party.birthday" ng-change="onChangeBasicInfo()" pip-time-mode="past time-mode=" past"=""></pip-date></div><md-input-container class="md-block" ng-hide="$party.type ==\'team\'"><label>{{::\'LANGUAGE\' | translate}}</label><md-select placeholder="{{\'LANGUAGE\' | translate}}" ng-model="$user.language" ng-change="onChangeUser()"><md-option ng-value="language.id" ng-repeat="language in languages">{{language.name}}</md-option></md-select></md-input-container><md-input-container class="md-block" ng-if="$party.type !=\'team\'"><label>{{::\'THEME\' | translate}}</label><md-select class="w-stretch theme-text-primary" ng-model="$user.theme" ng-change="onChangeUser()" ng-disabled="transaction.busy()"><md-option ng-value="theme" ng-repeat="theme in themes" ng-selected="$theme == theme ? true : false">{{ theme | translate }}</md-option></md-select></md-input-container><pip-location-edit class="map-edit bm24-flex" ng-hide="$party.type ==\'team\'" pip-changed="onChangeBasicInfo()" pip-location-name="$party.loc_name" pip-location-pos="loc_pos"></pip-location-edit></form>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_change_password.html",'<md-dialog class="pip-dialog layout-column" width="440"><form name="form" ng-submit="onApply()"><div class="pip-header"><h3 class="m0">{{::\'SETTINGS_CHANGE_PASSWORD_TITLE\' | translate : module}}</h3></div><div class="pip-body"><div class="pip-content"><div class="text-error bm8" ng-messages="form.$serverError"><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class="md-block"><label>{{::\'SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD\' | translate }}</label> <input name="oldPassword" type="password" ng-model="changePasData.old_password" ng-required="change_password.$submitted" pip-clear-errors=""><div ng-messages="errorsWithHint(form, form.oldPassword)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate }}</div><div ng-message="ERROR_1107">{{::\'ERROR_WRONG_PASSWORD\' | translate }}</div></div></md-input-container><md-input-container class="md-block"><label>{{\'SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD\' | translate }}</label> <input name="newPassword" type="password" ng-model="changePasData.new_password" ng-change="onCheckRepeatPassword()" ng-required="change_password.$submitted" ng-minlength="6" pip-clear-errors=""><div class="hint" ng-if="errorsWithHint(form, form.newPassword).hint">{{ \'HINT_PASSWORD\' | translate }}</div><div ng-messages="errorsWithHint(form, form.newPassword)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate}}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate }}</div><div ng-message="ERROR_1105">{{::\'ERROR_IDENTICAL_PASSWORDS\' | translate }}</div></div></md-input-container><md-input-container class="md-block"><label>{{ \'SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD\' | translate }}</label> <input name="repeat" type="password" ng-model="repeat" ng-change="onCheckRepeatPassword()" ng-required="change_password.$submitted" ng-minlength="6"><div class="hint" ng-if="errorsRepeatWithHint(form.repeat).hint">{{::\'HINT_REPEAT_PASSWORD\' | translate }}</div><div ng-messages="errorsRepeatWithHint(form.repeat)"><div ng-message="required">{{::\'ERROR_REQUIRED\' | translate }}</div><div ng-message="minlength">{{::\'HINT_PASSWORD\' | translate }}</div><div ng-message="repeat">{{::\'REPEAT_PASSWORD_INVALID\' | translate }}</div></div></md-input-container></div></div><div class="pip-footer"><div><md-button aria-label="xxx" ng-click="onCancel()">{{::\'CANCEL\' | translate }}</md-button><md-button type="submit" class="md-accent" aria-label="xxx">{{::\'APPLY\' | translate : module}}</md-button></div></div></form></md-dialog>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_sessions.html",'<md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><div class="pip-details-title pip-sessions"><p class="pip-title bm16">{{::\'SETTINGS_ACTIVE_SESSIONS_TITLE\' | translate}}</p><p class="pip-subtitle">{{::\'SETTINGS_ACTIVE_SESSIONS_SUBTITLE\' | translate}}</p></div><md-list class="w-stretch"><div ng-repeat="session in sessions"><div class="layout-row" ng-init="showBlock = session.id != sessionId" ng-click="showBlock = !showBlock"><p class="m0 text-subhead2 text-overflow max-w50-stretch">{{::session.client}}</p><p class="m0 lp4 text-body1 color-secondary-text flex">{{::\'SETTINGS_ACTIVE_SESSION_ACTIVE\' | translate}}</p><p class="m0 text-body1 color-secondary-text">{{::country}}<md-icon ng-if="showBlock" md-svg-icon="icons:triangle-up"></md-icon><md-icon ng-if="!showBlock" md-svg-icon="icons:triangle-down"></md-icon></p></div><div class="layout-row bm8 bp8" ng-class="{\'divider-bottom\':!$last}"><div class="flex-50"><p class="m0 bm4 text-body1 text-overflow color-secondary-text">{{session.last_req | date : \'medium\'}}</p><p class="m0 bm4 text-body1 text-overflow color-secondary-text" ng-show="showBlock">{{::\'SETTINGS_ACTIVE_SESSION_OS\' | translate}}{{::session.platform}}</p><p class="m0 bm4 text-body1 text-overflow color-secondary-text" ng-show="showBlock">{{::\'SETTINGS_ACTIVE_SESSION_IP\' | translate}}{{::session.address}}</p><md-button class="md-raised" ng-show="showBlock && session.id != sessionId" ng-click="onRemove(session)">{{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION\' | translate}}</md-button></div><pip-location-ip class="map-edit flex-50" ng-if="showBlock" pip-ipaddress="session.address" pip-extra-info="country = extraInfo.country"></pip-location-ip></div></div></md-list><div class="layout-row layout-align-end-center"><md-button class="md-raised" ng-show="sessions.length > 1" ng-click="onRemoveAll()">{{::\'SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS\' | translate}}</md-button></div>')}])}(),function(e){try{e=angular.module("pipSettings.Templates")}catch(t){e=angular.module("pipSettings.Templates",[])}e.run(["$templateCache",function(e){e.put("user_settings/user_settings_verify_email.html",'<md-dialog class="pip-dialog layout-column" width="440"><div class="pip-body"><div class="pip-content"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-top"></md-progress-linear><h2>{{::\'VERIFY_EMAIL_TITLE\' | translate}}</h2><p class="title-padding">{{::\'VERIFY_EMAIL_TEXT_1\' | translate}}</p><form name="form" novalidate=""><div ng-messages="form.$serverError" class="text-error bm8"><div ng-message="ERROR_UNKNOWN">{{ form.$serverError.ERROR_UNKNOWN | translate }}</div></div><md-input-container class="display bp4 md-block"><label>{{::\'EMAIL\' | translate}}</label> <input name="email" type="email" ng-model="data.email" required="" step="any" pip-clear-errors="" tabindex="1" ng-disabled="transaction.busy()" pip-test="input-email"><div class="hint" ng-if="errorsWithHint(form, form.email).hint">{{::\'HINT_EMAIL\' | translate}}</div><div ng-messages="errorsWithHint(form, form.email)" xng-if="!form.email.$pristine"><div ng-message="required">{{::\'ERROR_EMAIL_INVALID\' | translate }}</div><div ng-message="ERROR_1106">{{::\'ERROR_USER_NOT_FOUND\' | translate}}</div></div></md-input-container><md-input-container class="md-block"><label>{{::\'ENTRY_VERIFICATION_CODE\' | translate}}</label> <input name="code" ng-disabled="transaction.busy()" tabindex="0" ng-model="data.code" required="" pip-clear-errors=""><div ng-messages="errorsWithHint(form, form.code)"><div ng-message="required">{{::\'ERROR_CODE_INVALID\' | translate }}</div><div ng-message="ERROR_1103">{{::\'ERROR_CODE_WRONG\' | translate }}</div></div></md-input-container><p>{{::\'VERIFY_EMAIL_TEXT_21\' | translate}} <a ng-click="onRequestVerificationClick()" class="pointer" tabindex="0">{{::\'VERIFY_EMAIL_RESEND\' | translate}}</a> {{::\'VERIFY_EMAIL_TEXT_22\' | translate}}</p></form></div></div><div class="pip-footer"><md-button ng-click="onCancel()" ng-hide="transaction.busy()" aria-label="xxx">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent" ng-click="onVerify()" ng-hide="transaction.busy()" tabindex="0" aria-label="xxx" ng-disabled="data.code.length == 0 || data.email.length == 0 || (!data.email && form.$pristine) || (!data.code)">{{::\'VERIFY\' | translate}}</md-button><md-button class="md-warn" ng-show="transaction.busy()" ng-click="transaction.abort()" tabindex="0" aria-label="xxx">{{::\'CANCEL\' | translate}}</md-button></div></md-dialog>')}])}(),function(e,t){"use strict";var n=e.module("pipSettings.Page",["pipState","pipSettings.Service","pipAppBar","pipSelected","pipTranslate","pipSettings.Templates"]);n.config(["pipAuthStateProvider",function(e){e.state("settings",{url:"/settings?party_id",auth:!0,controller:"pipSettingsPageController",templateUrl:"settings_page/settings_page.html"})}]),n.controller("pipSettingsPageController",["$scope","$state","$rootScope","$timeout","pipAppBar","pipSettings",function(e,n,a,s,i,o){function r(){var e=o.showTitleText();o.showNavIcon()&&i.showMenuNavIcon(),e?i.showTitleText(e):i.showTitleLogo(o.showTitleLogo()),i.showLocalActions(null,[]),i.showShadowSm(),i.hideSearch()}function l(e){d(e.state)}function d(t){c(t),e.selected.tab&&n.go(t)}function c(n){e.selected.tab=t.find(e.tabs,function(e){return e.state===n}),e.selected.tabIndex=t.indexOf(e.tabs,e.selected.tab),e.selected.tabId=n}e.tabs=t.filter(o.getTabs(),function(e){if(e.visible===!0&&(!e.access||e.access(a.$user,e)))return e}),e.tabs=t.sortBy(e.tabs,"index"),e.selected={},"settings"!==n.current.name&&c(n.current.name),"settings"===n.current.name&&o.getDefaultTab()?c(o.getDefaultTab().state):s(function(){o.getDefaultTab()&&c(o.getDefaultTab().state),!o.getDefaultTab()&&e.tabs.length>0&&c(e.tabs[0].state)}),r(),e.onNavigationSelect=d,e.onDropdownSelect=l}])}(window.angular,window._),function(e,t){"use strict";var n=e.module("pipSettings.Service",[]);n.provider("pipSettings",["pipAuthStateProvider",function(e){function n(e){return"settings."+e}function a(){return t.clone(p,!0)}function s(){var e;return e=t.find(p,function(t){return t.state===e}),t.clone(e,!0)}function i(a){var s;if(r(a),s=t.find(p,function(e){return e.state===n(a.state)}))throw new Error('Tab with state name "'+a.state+'" is already registered');p.push({state:n(a.state),title:a.title,index:a.index||1e5,access:a.access,visible:a.visible!==!1,stateConfig:t.clone(a.stateConfig,!0)}),e.state(n(a.state),a.stateConfig),"undefined"==typeof S&&1===p.length&&o(a.state)}function o(a){if(!t.find(p,function(e){return e.state===n(a)}))throw new Error('Tab with state name "'+a+'" is not registered');S=n(a),e.redirect("settings",n(a))}function r(e){if(!e||!t.isObject(e))throw new Error("Invalid object");if(null===e.state||""===e.state)throw new Error("Tab should have valid Angular UI router state name");if(e.access&&!t.isFunction(e.access))throw new Error('"access" should be a function');if(!e.stateConfig||!t.isObject(e.stateConfig))throw new Error("Invalid state configuration object")}function l(e){return e&&(_=e,T=null),_}function d(e){return e&&(T=e,_=null),T}function c(e){return null!==e&&void 0!==e&&(m=!!e),m}var S,p=[],_="SETTINGS_TITLE",T=null,m=!0;return this.showTitleText=l,this.showTitleLogo=d,this.showNavIcon=c,{addTab:i,getTabs:a,setDefaultTab:o,getDefaultTab:s,showTitleText:l,showTitleLogo:d,showNavIcon:c,$get:function(){return{getTabs:a,addTab:i,getDefaultTab:s,setDefaultTab:o,showTitleText:l,showTitleLogo:d,showNavIcon:c}}}}])}(window.angular,window._),function(e){"use strict";e.module("pipUserSettings",["ngMaterial","pipData","pipSettings.Service","pipSettings.Page","pipUserSettings.Strings","pipUserSettings.Sessions","pipUserSettings.BasicInfo","pipSettings.Templates"])}(window.angular),function(e,t){"use strict";var n=e.module("pipUserSettings.BasicInfo",["pipUserSettings.ChangePassword","pipUserSettings.VerifyEmail","pipSettings.Service","pipSettings.Page"]);n.config(["pipSettingsProvider",function(e){e.addTab({state:"basic_info",index:1,title:"SETTINGS_BASIC_INFO_TITLE",stateConfig:{url:"/basic_info",controller:"pipUserSettingsBasicInfoController",templateUrl:"user_settings/user_settings_basic_info.html",auth:!0}}),e.setDefaultTab("basic_info")}]),n.controller("pipUserSettingsBasicInfoController",["$scope","$rootScope","$mdDialog","$state","$window","$timeout","$mdTheming","pipTranslate","pipTransaction","pipTheme","pipToasts","pipDataUser","pipDataParty","pipFormErrors",function(n,a,s,i,o,r,l,d,c,S,p,_,T,m){function g(){n.picture.save(function(){a.$broadcast("pipPartyAvatarUpdated")},function(e){return new Error(e)})}function I(e){n.picture=e.sender,n.picture.save(function(){a.$broadcast("pipPartyAvatarUpdated")},function(e){return new Error(e)})}function u(){if(n.form&&n.form.$setSubmitted(),a.$party){if("person"===a.$party.type&&n.form.$invalid)return;a.$party.loc_pos=n.loc_pos;try{var t=e.toJson(a.$party)}catch(s){throw s}if(t!==n.originalParty){var i=n.transaction.begin("UPDATING");T.updateParty(a.$party,function(e){n.transaction.aborted(i)||(n.transaction.end(),n.originalParty=t,n.nameCopy=e.name)},function(t){n.transaction.end(t),n.message=String()+"ERROR_"+t.status||t.data.status_code,a.$party=e.fromJson(n.originalParty)})}}}function E(){var e=n.transaction.begin("RequestEmailVerification");a.$user.id===a.$party.id&&_.updateUser({item:a.$user},function(t){n.transaction.aborted(e)||(n.transaction.end(),d.use(t.language),a.$user.language=t.language,a.$user.theme=t.theme,a.$user.theme&&S.setCurrentTheme(a.$user.theme,!0))},function(e){var t;n.transaction.end(e),t=String()+"ERROR_"+e.status||e.data.status_code,p.showNotification(d.translate(t),null,null,null)})}function N(e){var t;s.show({templateUrl:"user_settings/user_settings_change_password.html",controller:"pipUserSettingsChangePasswordController",targetEvent:e,locals:{email:a.$party.email}}).then(function(e){e&&(t=String()+"RESET_PWD_SUCCESS_TEXT",p.showNotification(d.translate(t),null,null,null))})}function A(e){var t;s.show({templateUrl:"user_settings/user_settings_verify_email.html",controller:"pipUserSettingsVerifyEmailController",targetEvent:e,locals:{email:a.$party.email}}).then(function(e){n.user.email_ver=e,e&&(t=String()+"VERIFY_EMAIL_SUCCESS_TEXT",p.showNotification(d.translate(t),null,null,null))})}try{n.originalParty=e.toJson(a.$party)}catch(f){throw f}n.nameCopy=a.$party.name,r(function(){n.loc_pos=a.$party.loc_pos}),n.genders=d.translateSet(["male","female","n/s"]),n.languages=d.translateSet(["ru","en"]),n.transaction=c("settings.basic_info",n),n.themes=t.keys(t.omit(l.THEMES,"default")),i.get("settings.basic_info").onExit=u,n.errorsWithHint=m.errorsWithHint,n.onChangePassword=N,n.onVerifyEmail=A,n.onPictureCreated=I,n.onPictureChanged=g,n.onChangeUser=t.debounce(E,2e3),n.onChangeBasicInfo=t.debounce(u,2e3)}])}(window.angular,window._),function(e){"use strict";var t=e.module("pipUserSettings.ChangePassword",[]);t.controller("pipUserSettingsChangePasswordController",["$scope","$rootScope","$mdDialog","email","pipDataUser","pipTransaction","pipFormErrors",function(e,t,n,a,s,i,o){function r(){n.cancel()}function l(){e.changePasData&&(e.repeat!==e.changePasData.new_password&&""!==e.repeat&&e.repeat?(e.showRepeatHint=!0,e.form.repeat.$setValidity("repeat",!1)):(e.form.repeat.$setValidity("repeat",!0),e.repeat===e.changePasData.new_password?e.showRepeatHint=!1:e.showRepeatHint=!0))}function d(){e.onCheckRepeatPassword(),e.form.$invalid||e.transaction.begin("CHANGE_PASSWORD")&&(e.changePasData.email=a,s.changePassword(e.changePasData,function(){e.transaction.end(),n.hide(!0)},function(t){e.transaction.end(t),o.setFormError(e.form,t,{1107:"oldPassword",1105:"newPassword"})}))}e.transaction=i("settings.change_password",e),e.errorsRepeatWithHint=function(t,n){return e.showRepeatHint?o.errorsWithHint(t,n):{}},e.showRepeatHint=!0,e.changePasData={},e.errorsWithHint=o.errorsWithHint,e.onCancel=r,e.onCheckRepeatPassword=l,e.onApply=d}])}(window.angular),function(e,t,n){"use strict";var a=e.module("pipUserSettings.Sessions",["pipSettings.Service","pipSettings.Page"]);a.config(["pipSettingsProvider","pipDataSessionProvider",function(e,t){e.addTab({state:"sessions",index:3,title:"SETTINGS_ACTIVE_SESSIONS_TITLE",stateConfig:{url:"/sessions",controller:"pipUserSettingsSessionsController",templateUrl:"user_settings/user_settings_sessions.html",auth:!0,resolve:{sessions:t.readSessionsResolver,sessionId:t.readSessionIdResolver}}})}]),a.controller("pipUserSettingsSessionsController",["$scope","pipTransaction","pipDataSession","sessions","sessionId",function(e,a,s,i,o){function r(){n.each(e.sessions,function(t){t.id!==e.sessionId&&e.onRemove(t)})}function l(n){if(n.id!==e.sessionId){var a=e.transaction.begin("REMOVING");s.removeSession({session:n},function(){e.transaction.aborted(a)||(e.transaction.end(),e.sessions=t.without(e.sessions,n))},function(t){e.transaction.end(t),e.message="ERROR_"+t.status||t.data.status_code})}}e.sessionId=o,e.transaction=a("settings.sessions",e),e.sessions=i,e.onRemoveAll=r,e.onRemove=l}])}(window.angular,window._,window.async),function(e){"use strict";var t=e.module("pipUserSettings.Strings",["pipTranslate"]);t.config(["pipTranslateProvider",function(e){e.translations("en",{SETTINGS_TITLE:"Settings",SETTINGS_BASIC_INFO_TITLE:"Basic info",SETTINGS_ACTIVE_SESSIONS_TITLE:"Active sessions",SETTINGS_BASIC_INFO_FULL_NAME:"Full name",SETTINGS_BASIC_INFO_VERIFY_HINT:"Please, verify your email address.",SETTINGS_BASIC_INFO_VERIFY_CODE:"Verify email address",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Your password was changed on ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Change your password",SETTINGS_BASIC_INFO_NAME_HINT:"Please, use your real name to let other people know who you are.",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Few words about yourself",SETTINGS_BASIC_INFO_GENDER:"Gender",SETTINGS_BASIC_INFO_BIRTHDAY:"Birthday",SETTINGS_BASIC_INFO_LOCATION:"Current location",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Primary email",SETTINGS_BASIC_INFO_FROM:"User since ",SETTINGS_BASIC_INFO_USER_ID:"User ID",SETTINGS_CHANGE_PASSWORD_TITLE:"Change password",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"New password",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Repeat password",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Current password",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:' If you notice any unfamiliar devices or locations, click"Close Session" to end the session.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Close session",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Close active sessions",SETTINGS_ACTIVE_SESSION_OS:"OS: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"active",SETTINGS_BLACKLIST_TITLE:"Blacklist",SETTINGS_BLACKLIST_SUBTITLE:"Parties from blacklist will not be able to send you invitations and private messages.",SETTINGS_BLACKLIST_UNBLOCK:"Unblock",SETTINGS_BLACKLIST_EMPTY:"You have no blocked parties",SETTINGS_CONTACT_INFO_TITLE:"Contact info",SETTINGS_CONTACT_INFO_EMAIL:"Email",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Add email",SETTINGS_CONTACT_INFO_ADD_PHONE:"Add phone",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Add address",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Add account",SETTINGS_CONTACT_INFO_ADD_URL:"Add URL",SETTINGS_CONTACT_INFO_ADDRESS:"Address",SETTINGS_CONTACT_INFO_PHONE:"Phone",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Account name",SETTINGS_CONTACT_INFO_URL:"URL",THEME:"Theme",HINT_PASSWORD:"Minimum 6 characters",HINT_REPEAT_PASSWORD:"Repeat password",ERROR_WRONG_PASSWORD:"Wrong password",ERROR_IDENTICAL_PASSWORDS:"Old and new passwords are identical",REPEAT_PASSWORD_INVALID:"Password does not match",ERROR_EMAIL_INVALID:"Please, enter a valid email"}),e.translations("ru",{SETTINGS_TITLE:"Настройки",SETTINGS_BASIC_INFO_TITLE:"Основные данные",SETTINGS_ACTIVE_SESSIONS_TITLE:"Активные сессии",SETTINGS_BASIC_INFO_FULL_NAME:"Полное имя",SETTINGS_BASIC_INFO_NAME_HINT:"Пожалуйста, используйте реальное имя, чтоб люди могли вас узнать",SETTINGS_BASIC_INFO_VERIFY_HINT:"Пожалуйста, подтвердите адрес своей электронной почты",SETTINGS_BASIC_INFO_VERIFY_CODE:"Подтвердите адрес эл.почты",SETTINGS_BASIC_INFO_DATE_CHANGE_PASSWORD:"Ваш пароль был изменен ",SETTINGS_BASIC_INFO_CHANGE_PASSWORD:"Поменять пароль",SETTINGS_BASIC_INFO_WORDS_ABOUT_ME:"Несколько слов о себе",SETTINGS_BASIC_INFO_GENDER:"Пол",SETTINGS_BASIC_INFO_BIRTHDAY:"Дата рождения",SETTINGS_BASIC_INFO_LOCATION:"Текущее местонахождение",SETTINGS_BASIC_INFO_PRIMARY_EMAIL:"Основной адрес эл. почты",SETTINGS_BASIC_INFO_FROM:"Начиная с",SETTINGS_BASIC_INFO_USER_ID:"Личный код",SETTINGS_CHANGE_PASSWORD_TITLE:"Изменить пароль",SETTINGS_CHANGE_PASSWORD_NEW_PASSWORD:"Новый пароль",SETTINGS_CHANGE_PASSWORD_REPEAT_RASSWORD:"Повтор",SETTINGS_CHANGE_PASSWORD_CURRENT_PASSWORD:"Текущий пароль",SETTINGS_ACTIVE_SESSIONS_SUBTITLE:'Если вы заметили какие-либо незнакомые устройства или месторасположение, нажмите кнопку "Закончить сеанс", чтобы завершить сеанс.',SETTINGS_ACTIVE_SESSIONS_CLOSE_SESSION:"Закрыть сессию",SETTINGS_ACTIVE_SESSIONS_CLOSE_ACTIVE_SESSIONS:"Закрыть активные сессии",SETTINGS_ACTIVE_SESSION_OS:"ОС: ",SETTINGS_ACTIVE_SESSION_IP:"IP: ",SETTINGS_ACTIVE_SESSION_ACTIVE:"Активно",SETTINGS_BLACKLIST_TITLE:"Блокировки",SETTINGS_BLACKLIST_SUBTITLE:"Участники из черного списка не смогут посылать вам приглашения и личные сообщения.",SETTINGS_BLACKLIST_UNBLOCK:"Разблокировать",SETTINGS_BLACKLIST_EMPTY:"У вас нет заблокированных участников",SETTINGS_CONTACT_INFO_TITLE:"Контакты",SETTINGS_CONTACT_INFO_EMAIL:"Адрес электронной почты",SETTINGS_CONTACT_INFO_ADD_EMAIL:"Добавить адрес эл. почты",SETTINGS_CONTACT_INFO_ADD_PHONE:"Добавить телефон",SETTINGS_CONTACT_INFO_ADD_ADDRESS:"Добавить адрес",SETTINGS_CONTACT_INFO_ADD_ACCOUNT:"Добавить аккаунт",SETTINGS_CONTACT_INFO_ADD_URL:"Добавить веб-сайт",SETTINGS_CONTACT_INFO_ADDRESS:"Адрес",SETTINGS_CONTACT_INFO_PHONE:"Телефон",SETTINGS_CONTACT_INFO_ACCOUNT_NAME:"Учетка в мессенджере",SETTINGS_CONTACT_INFO_URL:"Веб сайт",THEME:"Тема",HINT_PASSWORD:"Минимум 6 знаков",HINT_REPEAT_PASSWORD:"Повторите пароль",ERROR_WRONG_PASSWORD:"Неправильный пароль",ERROR_IDENTICAL_PASSWORDS:"Старый и новый пароли идентичны",REPEAT_PASSWORD_INVALID:"Пароль не совпадает",ERROR_EMAIL_INVALID:"Пожалуйста, введите правильный почт.адрес"})}])}(window.angular),function(e){"use strict";var t=e.module("pipUserSettings.VerifyEmail",[]);t.controller("pipUserSettingsVerifyEmailController",["$scope","$rootScope","$mdDialog","pipTransaction","pipFormErrors","pipDataUser","email",function(e,t,n,a,s,i,o){function r(){e.transaction.abort()}function l(){n.cancel()}function d(){var t=e.transaction.begin("RequestEmailVerification");i.requestEmailVerification({},function(n){e.transaction.aborted(t)||e.transaction.end()},function(t){e.transaction.end(t)})}function c(){if(e.form.$setSubmitted(),!e.form.$invalid){var t=e.transaction.begin("Verifying");i.verifyEmail({email:e.data.email,code:e.data.code},function(a){e.transaction.aborted(t)||(e.transaction.end(),n.hide(!0))},function(t){e.transaction.end(t),s.setFormError(e.form,t,{1106:"email",1103:"code"})})}}e.emailVerified=!1,e.data={email:o,code:""},e.transaction=a("settings.verify_email",e),e.onAbort=r,e.onRequestVerificationClick=d,e.errorsWithHint=s.errorsWithHint,e.onVerify=c,e.onCancel=l}])}(window.angular);
!function(){"use strict";angular.module("pipGuidance",["pipTips.Service","pipIntroGuidance.Service","pipGuidance.Dialog","pipReleaseIntroDialog"])}(window.angular),function(e){try{e=angular.module("pipGuidance.Templates")}catch(t){e=angular.module("pipGuidance.Templates",[])}e.run(["$templateCache",function(e){e.put("guidance/guidance_dialog.html",'<md-dialog class="pip-dialog pip-guidance-dialog layout-column" width="768" md-theme="{{theme}}"><div class="pip-header layout-row"><h3 class="rm16 flex">{{title | translate}}</h3><md-button class="pip-dialog-close" ng-click="onCancel()" aria-label="{{::\'CLOSE\' | translate}}"><span class="icon-cross"></span></md-button></div><div class="pip-body"><div class="pip-content"><pip-picture pip-src="imageUrl" ng-hide="!imageUrl || imageUrl == \'\'" class="bm16 center-block" ng-style="{ width: imageWidth, height: imageHeight, display: \'block\' }"></pip-picture><div class="bm16" pip-translate-html="{{::content}}"></div><md-button class="md-raised md-accent w-stretch" ng-click="onAction()" ng-hide="!action || action==\'\'" arial-label="{{::action | translate}}">{{::action | translate}}</md-button><md-checkbox aria-label="{{\'DO_NOT_SHOW\' | translate}}" class="w-stretch m0 tm16 regular_14" ng-model="hideToggle" ng-change="onHideToggle()" ng-show="showHideToggle">{{::\'GUIDANCE_DO_NOT_SHOW\' | translate}}</md-checkbox></div></div></md-dialog>')}])}(),function(e){try{e=angular.module("pipGuidance.Templates")}catch(t){e=angular.module("pipGuidance.Templates",[])}e.run(["$templateCache",function(e){e.put("tips/tip.template.html",'<div ng-if="title" class="pip-title p24-flex flex-fixed bp16">{{ title | translate }}</div><div class="pip-content pip-popover-content lp24-flex rp24-flex text-body1 bm64 pip-scroll" ng-class="{\'tm24\' : !title }"><div ng-if="image && $mdMedia(\'gt-xs\')" class="pip-pic"></div><pip-markdown pip-text="content" pip-rebind="true"></pip-markdown></div><div class="pip-footer lm24-flex rm24-flex position-bottom layout-row layout-align-start-center"><a ng-if="link" target="_blank" href="{{ link }}" class="text-body2 flex">{{:: \'MORE_URL\' | translate }}</a><div ng-if="!link" class="flex"></div><md-button ng-click="onNextClick()" class="rm0">{{:: \'NEXT\' | translate }}</md-button></div>')}])}(),function(e){try{e=angular.module("pipGuidance.Templates")}catch(t){e=angular.module("pipGuidance.Templates",[])}e.run(["$templateCache",function(e){e.put("intro_guidance/intro_guidance_dialog.html",'<md-dialog class="pip-dialog pip-guidance-dialog pip-guide-preview layout-column" md-theme="{{theme}}"><div ng-if="!$routing" ng-swipe-left="onNextPage()" ng-swipe-right="onBackPage()" class="h-stretch flex layout layout-column {{\'bg-\' + data.pages[number].color}}"><div class="layout layout-row layout-align-space-between-center layout-align-xs-center-center w-stretch pip-guide-page"><md-button ng-click="onBackPage()" class="lm16 hide-xs" aria-label="BACK" ng-disabled="transaction.busy() || number == 0"><md-icon md-svg-icon="icons:arrow-left" class="pip-arrow-button" ng-class="{\'opacity-disabled\' :number == 0}"></md-icon></md-button><div class="layout layout-column layout-align-center-center bm16"><pip-collage class="flex-fixed" ng-if="data.pages[number].pic_id && (!data.pictures || !data.pictures[number])" pip-picture-ids="data.pages[number].picId" pip-unique-code="data.id" pip-multiple="false" pip-open="false" pip-rebind="true"></pip-collage><div class="pip-pic" ng-if="!data.pages[number].pic_id || data.pictures[number]" style="background-image: url({{data.pictures[number]}})"></div><div class="layout layout-column layout-align-center-center pip-text"><p class="pip-preview-title" ng-if="data.pages[number].title[ln]">{{data.pages[number].title[ln]}}</p><p class="pip-preview-content" ng-if="data.pages[number].content[ln]">{{data.pages[number].content[ln]}}</p></div></div><md-button ng-click="onNextPage()" class="rm16 hide-xs" aria-label="DOWN" ng-disabled="transaction.busy() || number == data.pages.length - 1"><md-icon md-svg-icon="icons:arrow-right" class="pip-arrow-button" ng-class="{\'opacity-disabled\' : number == data.pages.length - 1}"></md-icon></md-button></div><div class="flex-fixed flex w-stretch pip-guide-page-footer"><div class="layout-row layout-align-center-center" ng-if="data.pages.length > 1"><md-icon ng-repeat="radio in data.pages" ng-click="onChangePage($index)" class="pip-radio-button" md-svg-icon="{{radio != data.pages[number] ? \'icons:radio-off\' : \'icons:circle\'}}"></md-icon></div><div class="h64 layout-row layout-align-xs-space-between-center layout-align-center-center"><md-button ng-click="onBackPage()" class="lm16" ng-if="$mdMedia(\'xs\')" aria-label="BACK" ng-disabled="transaction.busy() || number == 0"><md-icon md-svg-icon="icons:arrow-left" class="pip-arrow-button" ng-class="{\'opacity-disabled\' :number == 0}"></md-icon></md-button><md-button ng-click="onClose()" class="pip-button-got rm8 lm8 {{number == data.pages.length - 1 ? \'fg-\' + data.pages[number].color : \'bg-\' + data.pages[number].color}}" ng-class="{\'md-raised\': number == data.pages.length - 1}" aria-label="NEXT" ng-disabled="transaction.busy()">GOT IT !</md-button><md-button ng-click="onNextPage()" class="rm16" ng-if="$mdMedia(\'xs\')" aria-label="DOWN" ng-disabled="transaction.busy() || number == data.pages.length - 1"><md-icon md-svg-icon="icons:arrow-right" class="pip-arrow-button" ng-class="{\'opacity-disabled\' : number == data.pages.length - 1}"></md-icon></md-button></div></div></div></md-dialog>')}])}(),function(e){"use strict";var t=e.module("pipGuidance.Dialog",["ngMaterial","pipTranslate","pipGuidance.Templates"]);t.config(["pipTranslateProvider",function(e){e.translations("en",{GUIDANCE_TITLE:"What should you do here?",GUIDANCE_ACTION:"Do it now!",GUIDANCE_DO_NOT_SHOW:"Don't show it again"}),e.translations("ru",{GUIDANCE_TITLE:"Что здесь делать?",GUIDANCE_ACTION:"Сделать это сейчас!",GUIDANCE_DO_NOT_SHOW:"Не показывать это снова"})}]),t.factory("pipGuidanceDialog",["$mdDialog",function(e){return{show:function(t,i,n){e.show({targetEvent:t.event,templateUrl:"guidance/guidance_dialog.html",controller:"pipGuidanceDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){i&&i()},function(){n&&n()})}}}]),t.controller("pipGuidanceDialogController",["$scope","$rootScope","$mdDialog","params",function(e,t,i,n){e.theme=t.$theme,e.title=n.title||"GUIDANCE_TITLE",e.imageUrl=n.imageUrl||"",e.imageWidth=n.imageWidth||"100%",e.imageHeight=n.imageHeight||"150px",e.content=n.content,e.action=n.action||"GUIDANCE_ACTION",e.hideToggle=n.hideToggle,e.showHideToggle=null!=n.hideToggleCallback,e.onCancel=function(){i.cancel()},e.onAction=function(){i.hide()},e.onHideToggle=function(){n.hideToggleCallback&&n.hideToggleCallback(e.hideToggle)}}])}(window.angular),function(e,t){"use strict";var i=e.module("pipReleaseIntroDialog",["ngMaterial","pipTranslate","pipGuidance.Templates"]);i.config(["pipTranslateProvider",function(e){e.translations("en",{GUIDANCE_TITLE:"What should you do here?",GUIDANCE_ACTION:"Do it now!",GUIDANCE_DO_NOT_SHOW:"Don't show it again"}),e.translations("ru",{GUIDANCE_TITLE:"Что здесь делать?",GUIDANCE_ACTION:"Сделать это сейчас!",GUIDANCE_DO_NOT_SHOW:"Не показывать это снова"})}]),i.factory("pipReleaseIntroDialog",["$mdDialog",function(e){return{show:function(t,i,n){e.show({targetEvent:t.event,templateUrl:"intro_guidance/intro_guidance_dialog.html",controller:"pipReleaseIntroDialogController",locals:{params:t},clickOutsideToClose:!0}).then(function(){i&&i()},function(){n&&n()})}}}]),i.controller("pipReleaseIntroDialogController",["$scope","$rootScope","$mdDialog","$mdMedia","params",function(e,i,n,a,l){e.theme=i.$theme,e.settings=l.settings,e.admin=l.admin,e.$mdMedia=a;var o=l.guide;!e.admin&&e.settings[l.settingsName]&&e.settings[l.settingsName].lastId&&(l.settingsName="release"),e.number=0,e.ln=l.ln||i.$language||"en",e.data=o,t.each(e.data.pages,function(e){if(e.pic_id){var t=e.pic_id;e.picId=[],e.picId.push(t)}}),e.onChangePage=function(t){e.number=t},e.onBackPage=function(){0!==e.number&&(e.number-=1)},e.onNextPage=function(){e.number!==e.data.pages.length-1&&(e.number+=1)},e.onClose=function(){e.admin||(e.settings[l.settingsName].lastId=e.data.id,e.settings[l.settingsName].date=new Date,l.pipDataSettings.saveSettings(e.settings,l.settingsName)),n.cancel()}}])}(window.angular,window._),function(e,t){"use strict";var i=e.module("pipIntroGuidance.Service",["pipReleaseIntroDialog"]);i.factory("pipGuidance",["pipReleaseIntroDialog","pipDataSettings","pipDataGuide","$rootScope",function(e,i,n,a){function l(i){n.readGuides({filter:i},function(i){i=t.filter(i,function(e){return e.type="completed"===e.status}),i.length>0&&e.show({guide:i[0],settings:{},settingsName:"new release",pipDataSettings:null,admin:!0,ln:a.$language})})}function o(i){n.readIntroGuides({filter:i},function(i){i=t.filter(i,function(e){return e.type="completed"===e.status}),i.length>0&&e.show({guide:i[0],settings:{},settingsName:"intro",pipDataSettings:null,admin:!0,ln:a.$language})})}function s(t,n,a,l,o,s){t&&o.id===s.id&&e.show({guide:t,settings:n,settingsName:"intro"===t.type?"intro":"release",pipDataSettings:i,admin:a,ln:l})}function c(e,i,n){var a,n=n||"pip-life";return i.intro&&i.intro.lastId?(a=t.filter(e,function(e){return"new release"===e.type&&"completed"===e.status&&e.app===n}),a=t.sortBy(a,function(e){return-new Date(e.created).getTime()}),!i.intro.date||a.length>0&&new Date(i.intro.date)<new Date(a[0].created)&&a[0].id!=i.release.lastId?a[0]:null):(a=t.filter(e,function(e){return"intro"===e.type&&"completed"===e.status&&e.app===n}),a=t.sortBy(a,function(e){return-new Date(e.created).getTime()}),a[0])}return{showIntroReleaseGuide:s,findIntroReleaseGuide:c,showIntroGuidance:o,showReleaseGuidance:l}}])}(window.angular,window._),function(e){"use strict";var t=e.module("pipTips.Service",["pipGuidance.Templates"]);t.factory("pipTips",["$timeout","$rootScope","$pipPopover","pipDataTip","pipRest","pipDataSettings",function(e,t,i,n,a,l){function o(e){return"completed"===e.status}function s(){return Math.random()-.5}function c(e,t){g=[];var i,n=_.filter(e,o);for(i=0;i<n.length;i++){var t=_.find(n[i].topics,function(e){return e==t});t&&g.push(n[i])}return g.sort(s),g}function r(e,t,n){function l(){e.title=e.locals.tips[e.index].title[e.locals.ln],e.content=e.locals.tips[e.index].content[e.locals.ln],e.locals.tips[e.index].pic_id&&(e.image=a.serverUrl()+"/api/parties/"+e.locals.tips[e.index].creator_id+"/files/"+e.locals.tips[e.index].pic_id+"/content"),e.link=e.locals.tips[e.index].more_url,e.image&&t(function(){var t=$(".pip-popover-backdrop"),i=t.find(".pip-popover");i.find(".pip-pic").css("background-image","url("+e.image+")")},100)}e.index=0,e.$mdMedia=n,l(),e.onNextClick=function(){e.index++,e.index===e.locals.tips.length?i.hide():(l(),i.resize())},e.$on("pipWindowResized",l)}function p(e,t,n){e&&e.length>0&&(i.hide(),i.show({element:n?n.currentTarget:null,"class":"pip-tip",cancelCallback:function(){return!1},locals:{tips:e,ln:t||"en"},controller:["$scope","$timeout","$mdMedia",r],templateUrl:"tips/tip.template.html"}))}function d(e,t,n,a,o){var s,t=t||"en",o=o||2,c=new Date;a&&a[n].tips?(s=(c.getTime()-new Date(a[n].tips).getTime())/864e5,s>o&&(i.hide(),p(e,t),a[n].tips=new Date,l.saveSettings(a,n))):a[n]&&(i.hide(),p(e,t),a[n].tips=new Date,l.saveSettings(a,n))}function u(e,t,i,a){n.readTips({item:{}},null,function(e){return c(e.data,i),a&&a(g),g},function(){return null})}var g;return{getTips:u,filterTips:c,showTips:p,firstShowTips:d}}])}(window.angular);
!function(e){"use strict";e.module("pipHelp",["pipHelp.Service","pipHelp.Page"])}(window.angular),function(e){try{e=angular.module("pipHelp.Templates")}catch(t){e=angular.module("pipHelp.Templates",[])}e.run(["$templateCache",function(e){e.put("help_page/help_page.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar><pip-document width="800" min-height="400"><div class="pip-menu-container pip-help" ng-if="manager !== false"><md-list class="pip-menu pip-simple-list hide-xs" pip-selected="selected.tabIndex" pip-selected-watch="selected.navId" pip-select="onNavigationSelect($event.id)"><md-list-item class="pip-simple-list-item pip-selectable" ng-repeat="tab in tabs track by tab.state" md-ink-ripple="" pip-id="{{::tab.state }}"><p>{{::tab.title | translate}}</p></md-list-item></md-list><div class="pip-content-container"><pip-dropdown class="hide-gt-xs" pip-actions="tabs" pip-dropdown-select="onDropdownSelect" pip-active-index="selected.tabIndex"></pip-dropdown><div class="pip-body layout-column flex" ui-view=""></div></div></div><div class="layout-column layout-align-center-center flex" ng-if="manager === false">{{::\'ERROR_400\' | translate}}</div></pip-document>')}])}(),function(e,t){"use strict";function i(e){e.state("help",{url:"/help",auth:!1,controller:"pipHelpPageController",templateUrl:"help_page/help_page.html"})}function a(i,a,n,p,s){function l(e){r(e.state)}function o(){p.showMenuNavIcon(),p.showTitleText("Help"),p.showShadowSm(),p.showLocalActions(null,[])}function r(e){c(e),a.selected.tab&&n.go(e)}function c(e){a.selected.tab=t.find(a.tabs,function(t){return t.state===e}),a.selected.tabIndex=t.indexOf(a.tabs,a.selected.tab),a.selected.tabId=e}a.tabs=t.filter(s.getTabs(),function(t){if(t.visible&&(t.access===e.noop||t.access(i.$user,t)))return t}),a.selected={},c("help"!==n.current.name?n.current.name:s.getDefaultTab().state),o(),a.onNavigationSelect=r,a.onDropdownSelect=l}i.$inject=["pipStateProvider"],a.$inject=["$rootScope","$scope","$state","pipAppBar","pipHelp"],e.module("pipHelp.Page",["pipState","pipHelp.Service","pipAppBar","pipSelected","pipTranslate","pipHelp.Templates"]).config(i).controller("pipHelpPageController",a)}(window.angular,window._),function(e,t){"use strict";e.module("pipHelp.Service",["pipState"]).provider("pipHelp",["pipAuthStateProvider",function(i){function a(e){return"help."+e}function n(){return t.clone(c,!0)}function p(){return t.clone(t.find(c,function(e){return e.state===r}),!0)}function s(n){var p;if(o(n),p=t.find(c,function(e){return e.state===a(n.state)}))throw new Error('Tab with state name "'+n.state+'" is already registered');c.push({state:a(n.state),title:n.title,access:n.access||e.noop,visible:n.visible||!0,stateConfig:t.clone(n.stateConfig,!0)}),i.state(a(n.state),n.stateConfig),t.isUndefined(r)&&1===c.length&&l(n.state)}function l(e){var n,p;if(n=t.find(c,function(t){return t.state===a(e)}),!n)throw p=new Error('Tab with state name "'+e+'" is not registered');r=a(e),i.redirect("help",a(e))}function o(e){if(!e||!t.isObject(e))throw new Error("Invalid object");if(!e.state||""===e.state)throw new Error("Tab should have valid Angular UI router state name");if(e.access&&!t.isFunction(e.access))throw new Error('"access" should be a function');if(!e.stateConfig||!t.isObject(e.stateConfig))throw new Error("Invalid state configuration object")}var r,c=[];this.addTab=s,this.setDefaultTab=l,this.getTabs=n,this.getDefaultTab=p,this.$get=function(){return{getTabs:n,getDefaultTab:p,addTab:s,setDefaultTab:l}}}])}(window.angular,window._);
!function(){"use strict";angular.module("pipSupport",["pipFeedback","pipAnalytics"])}(),function(t){try{t=angular.module("pipSupport.Templates")}catch(e){t=angular.module("pipSupport.Templates",[])}t.run(["$templateCache",function(t){t.put("feedback/feedback.html",'<md-toolbar class="pip-appbar-ext"></md-toolbar><pip-document width="800"><pip-feedback-panel data="data" pip-created="$panel = $control" show-pictures="showPictures" show-documents="showDocuments" save-callback="saveCallback" type-collection="typeCollection"></pip-feedback-panel><div class="pip-footer"><pip-content-switch class="hide-xs"></pip-content-switch><div class="flex"></div><div class="flex-fixed layout-row"><md-button ng-show="transaction.busy()" ng-click="transaction.abort()" class="md-raised md-warn">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" ng-click="goBack()">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent" ng-hide="transaction.busy()" ng-click="onSave()" ng-disabled="data.content == \'\' && data.title == \'\'">{{::\'SEND\' | translate}}</md-button></div></div></pip-document>')}])}(),function(t){try{t=angular.module("pipSupport.Templates")}catch(e){t=angular.module("pipSupport.Templates",[])}t.run(["$templateCache",function(t){t.put("feedback/feedback_dialog.html",'<md-dialog width="800" class="pip-feedback-dialog"><md-dialog-content class="lp24-flex rp24-flex"><pip-feedback-panel data="data" pip-created="$panel = $control" show-pictures="showPictures" show-documents="showDocuments" save-callback="saveCallback" type-collection="typeCollection"></pip-feedback-panel></md-dialog-content><md-dialog-actions class="layout-row"><pip-content-switch class="show-gt-sm"></pip-content-switch><div class="flex"></div><div class="layout-row flex-fixed"><md-button ng-show="transaction.busy()" ng-click="transaction.abort()" class="md-raised md-warn">{{::\'CANCEL\' | translate}}</md-button><md-button ng-hide="transaction.busy()" ng-click="goBack()">{{::\'CANCEL\' | translate}}</md-button><md-button class="md-accent rm8" ng-hide="transaction.busy()" ng-click="onSave()" ng-disabled="data.content == \'\' && data.title == \'\'">{{::\'SEND\' | translate}}</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("pipSupport.Templates")}catch(e){t=angular.module("pipSupport.Templates",[])}t.run(["$templateCache",function(t){t.put("feedback/feedback_panel.html",'<div class="pip-body tp24-flex"><div class="pip-content layout-column"><md-progress-linear ng-show="transaction.busy()" md-mode="indeterminate" class="pip-progress-ontop"></md-progress-linear><form name="form" novalidate=""><md-input-container class="md-block hide-gt-xs"><md-select ng-model="typeIndex" ng-disabled="transaction.busy()" aria-label="DROPDOWN"><md-option ng-repeat="action in typeCollection" value="{{ ::$index }}">{{ (action.title || action.name) | translate }}</md-option></md-select></md-input-container><pip-toggle-buttons ng-model="data.type" pip-buttons="typeCollection" class="bm16 hide-xs"></pip-toggle-buttons><p class="tm0 bm16 text-small text-grey line-height-string" ng-if="data.type==\'feedback\' || data.type==\'support\'">{{::\'FEEDBACK_HINT_FEEDBACK\' | translate}}</p><div ng-if="data.type==\'copyright\'"><p class="tm0 bm16 text-small text-grey line-height-string">{{::\'FEEDBACK_HINT_COPYRIGHT\' | translate}}</p><p class="tm0 bm16 text-small text-grey line-height-string">{{::\'FEEDBACK_HINT_COPYRIGHT2\' | translate }}</p></div><div class="pip-ref-item"><pip-avatar pip-party-id="$party.id" pip-party-name="$party.name" class="pip-pic pip-face"></pip-avatar><div class="pip-content"><p class="pip-title">{{$party.name}}</p><p class="pip-subtitle">{{$party.email}}</p></div></div><div ng-if="data.type!=\'copyright\'"><md-input-container class="md-block" md-no-float=""><input type="text" ng-model="data.title" ng-disabled="transaction.busy()" placeholder="{{:: \'SUBJECT\' | translate}}"></md-input-container><md-input-container class="md-block" md-no-float=""><textarea ng-model="data.content" ng-disabled="transaction.busy()" placeholder="{{::\'FEEDBACK_MESSAGE\'|translate}}">\n                        </textarea></md-input-container></div><div ng-if="data.type==\'copyright\'"><md-input-container class="md-block"><label>{{::\'FEEDBACK_COMPANY\'|translate}}</label> <input type="text" ng-model="data.company_name" ng-disabled="transaction.busy()" placeholder="Company Name"></md-input-container><md-input-container class="md-block"><label>{{::\'FEEDBACK_ADDRESS\'|translate}}</label> <input type="text" ng-model="data.company_addr" ng-disabled="transaction.busy()"></md-input-container><md-input-container class="md-block"><label>{{::\'FEEDBACK_COPYRIGHT_HOLDER\' | translate}}</label> <input name="data.copyright_holder" ng-model="data.copyright_holder" ng-disabled="transaction.busy()" step="any" type="text" tabindex="0" required=""><div ng-messages="errorsWithHint(form.data.copyright_holder)"><div ng-message="hint">{{::\'FEEDBACK_COPYRIGHT_HOLDER_HINT\' | translate}}</div></div></md-input-container><md-input-container class="md-block flex"><label>{{::\'FEEDBACK_ORIGINAL_LOCATION\'|translate}}</label> <input type="text" ng-model="data.original_loc" ng-disabled="transaction.busy()"></md-input-container><md-input-container class="md-block"><label>{{::\'FEEDBACK_DESCRIBE_COPYRIGHTED\' | translate}}</label> <input name="data.copyrighted_work" ng-model="data.copyrighted_work" ng-disabled="transaction.busy()" step="any" type="text" tabindex="0" required=""><div ng-messages="errorsWithHint(form.data.copyrighted_work)"><div ng-message="hint">{{::\'FEEDBACK_DESCRIBE_COPYRIGHTED_HINT\'| translate}}</div></div></md-input-container><md-input-container class="md-block"><label>{{::\'FEEDBACK_UNAUTHORIZE_LOCATION\' | translate}}</label> <textarea name="data.unauth_loc" ng-model="data.unauth_loc" ng-disabled="transaction.busy()" step="any" type="text" tabindex="0" required=""></textarea><div ng-messages="errorsWithHint(form.data.unauth_loc)"><div ng-message="hint">{{::\'FEEDBACK_UNAUTHORIZE_LOCATION_HINT\' | translate}}</div></div></md-input-container><div class="bm16 layout-row"><md-checkbox ng-model="data.copyright_conc" class="lm0 bm0 flex-fixed" aria-label="FEEDBACK_COPYRIGHT_CONC" style="min-width: 24px; margin-top: -2px"></md-checkbox><p class="m0 text-small text-grey line-height-string">{{::\'FEEDBACK_COPYRIGHT_CONC\'|translate}}</p></div><div class="bm16 layout-row"><md-checkbox ng-model="data.request_conc" class="lm0 bm0 flex-fixed" aria-label="FEEDBACK_REGUEST_CONC" style="min-width: 24px; margin-top: -2px"></md-checkbox><p class="m0 text-small text-grey line-height-string">{{::\'FEEDBACK_REGUEST_CONC\'|translate}}</p></div><md-input-container class="md-block"><label>{{::\'FEEDBACK_SIGNATURE\' | translate}}</label> <input name="data.signature" ng-model="data.signature" ng-disabled="transaction.busy()" step="any" type="text" tabindex="0" required=""><div ng-messages="errorsWithHint(form.data.signature)"><div ng-message="hint">{{::\'FEEDBACK_SIGNATURE_HINT\' | translate}}</div></div></md-input-container></div><pip-picture-list-edit class="bm8" ng-show="showPictures" pip-picture-ids="data.pic_ids" pip-created="pictures = $event.sender" ng-disabled="transaction.busy()"></pip-picture-list-edit><pip-document-list-edit ng-show="showDocuments" pip-documents="data.docs" pip-created="docs = $event.sender" ng-disabled="transaction.busy()"></pip-document-list-edit></form></div></div>')}])}(),function(){"use strict";var t=angular.module("pipFeedback",["pipAppBar","pipRest.State","pipTransactions","pipRest","pipDropdown","ngMaterial","pipTranslate","pipDataFeedback","pipToasts","pipFeedback.Strings","pipFeedbackPanel","pipSupport.Templates"]);t.config(["pipAuthStateProvider",function(t){t.state("feedback",{url:"/feedback",controller:"FeedbackController",templateUrl:"feedback/feedback.html",auth:!0})}]),t.controller("FeedbackController",["$scope","$rootScope","$state","pipUtils","pipAppBar","pipToasts","pipTranslate",function(t,e,a,n,i,o,s){function l(){i.showBackNavIcon(),i.showTitleText("FEEDBACK_TITLE"),i.showLocalActions([{"class":"icon-send",hideSmall:!0,callback:p}],[]),i.showShadowSm()}function p(){t.$panel&&t.$panel.onSave()}function r(){t.$panel&&t.$panel.onTypeChange(t.item)}function c(){n.goBack(),o.showNotification(s.translate("FEEDBACK_SUCCESS"),null,null,null)}l(),t.data={},t.contentSwitchOption={picture:!0,document:!0,location:!1,event:!1},t.goBack=n.goBack,t.onSave=p,t.onTypeChange=r,t.saveCallback=c}])}(),function(){"use strict";var t=angular.module("pipFeedbackDialog",["pipAppBar","pipRest.State","pipTransactions","pipRest","pipDropdown","ngMaterial","pipTranslate","pipDataFeedback","pipToasts","pipFeedback.Strings","pipFeedbackPanel","pipSupport.Templates"]);t.controller("FeedbackDialogController",["$scope","$rootScope","$state","pipUtils","party","$mdDialog","pipToasts","pipTranslate",function(t,e,a,n,i,o,s,l){function p(){t.$panel&&t.$panel.onSave()}function r(){t.$panel&&t.$panel.onTypeChange(t.item)}function c(){o.cancel(),s.showNotification(l.translate("FEEDBACK_SUCCESS"),null,null,null)}e.$party=i,t.data={},t.contentSwitchOption={picture:!0,document:!0,location:!1,event:!1},t.goBack=o.cancel,t.onSave=p,t.onTypeChange=r,t.saveCallback=c}])}(),function(t){"use strict";var e=t.module("pipFeedbackPanel",["pipUtils","pipFocused","pipSupport.Templates"]);e.directive("pipFeedbackPanel",function(){return{restrict:"EA",replace:!0,scope:{data:"=",created:"&pipCreated",showPictures:"=",showDocuments:"=",typeCollection:"=typeCollection",saveCallback:"="},templateUrl:"feedback/feedback_panel.html",controller:"pipFeedbackPanelController"}}),e.controller("pipFeedbackPanelController",["$scope","$rootScope","$state","pipUtils","pipAppBar","pipTranslate","pipDataFeedback","pipTransaction","pipToasts","pipFormErrors",function(t,e,a,n,i,o,s,l,p,r){function c(){t.form.$setSubmitted(),t.form.$invalid||s.createFeedbackWithFiles({transaction:t.transaction,pictures:t.pictures,documents:t.docs,item:t.data},t.saveCallback)}function d(e){t.data.type=t.typeCollection[t.typeIndex],t.type=e.name}t.$party=e.$party,t.typeCollection=[{id:"support",name:"SUPPORT"},{id:"feedback",name:"FEEDBACK"},{id:"copyright",name:"COPYRIGHT"},{id:"business",name:"BUSINESS"},{id:"advertising",name:"ADVERTISING"}],o.translateObjects(t.typeCollection,"name","name"),t.transaction=l("feedback",t),t.type=o.translate("FEEDBACK"),t.data.sender_id=e.$party.id,t.data.sender_name=e.$party.name,t.data.sender_email=e.$party.email,t.data.pic_ids=[],t.data.docs=[],t.data.type=t.typeCollection[0].id,t.$control={},t.$control.goBack=n.goBack,t.$control.onSave=c,t.$control.onTypeChange=d,t.created&&t.created({$control:t.$control}),t.errorsWithHint=r.errorsWithHint,t.onTypeChange=d}])}(window.angular),function(){"use strict";var t=angular.module("pipFeedback.Strings",["pipTranslate"]);t.config(["pipTranslateProvider",function(t){t.translations("en",{FEEDBACK_TITLE:"Contact us",FEEDBACK_HINT_FEEDBACK:"If you need help or you have some ideas or suggestions to improve Pip.Life just use form below",FEEDBACK_HINT_COPYRIGHT:"If you believe that content available on Pip.Life infringes one or more of your copyrights, you can use the form below to submit a DMCA notice. Upon receipt of a valid notice, we are required by law to respond to it by disabling access to the allegedly infringing content. Your Infringement Notice may be forwarded to the party that made the content available, or to third parties such as ChillingEffects.org.",FEEDBACK_HINT_COPYRIGHT2:"If you choose to request removal of content by submitting an infringement notification, please remember that you are initiating a legal process. Do not make false claims. Please be advised that under 17 U.S.C. § 512(f), you may be liable for damages (including costs and attorneys’ fees) if you knowingly misrepresent that a product or activity is infringing your copyrights. Thus, if you are not sure content located on or linked-to by Dribbble infringes your copyright, you should consider first contacting an attorney.",FEEDBACK_COMPANY:"Company name",FEEDBACK_MESSAGE:"Message",FEEDBACK_ADDRESS:"Address",FEEDBACK_COPYRIGHT_HOLDER:"Copyright holder you represent",FEEDBACK_COPYRIGHT_HOLDER_HINT:"If representing someone other than yourself",FEEDBACK_ORIGINAL_LOCATION:"Location of original copyrighted work",FEEDBACK_DESCRIBE_COPYRIGHTED:"Describe the copyrighted work",FEEDBACK_DESCRIBE_COPYRIGHTED_HINT:"Helps us identify the specific referenced work",FEEDBACK_UNAUTHORIZE_LOCATION:"Location of unauthorized material",FEEDBACK_UNAUTHORIZE_LOCATION_HINT:"Please provide specific page URLs, one per line",FEEDBACK_COPYRIGHT_CONC:"I have a good faith belief that use of the copyrighted materials described above as allegedly infringing is not authorized by the copyright owner, its agent, or the law",FEEDBACK_REGUEST_CONC:"I swear, under penalty of perjury, that the information in the notification is accurate and that I am the copyright owner or am authorized to act on behalf of the owner of an exclusive right that is allegedly infringed.",FEEDBACK_SIGNATURE:"You first and last name",FEEDBACK_SIGNATURE_HINT:"Signature",FEEDBACK_SUBJECT:"Subject",FEEDBACK_SUCCESS:"Your message was sent to Pip.Life support team. They will contact you via personal messaging soon. Thanks for your interest in PipLife!"}),t.translations("ru",{FEEDBACK_TITLE:"Обратная связь",FEEDBACK_HINT_FEEDBACK:"Если Вам нужна помощь или у вас есть идеи или предложения по улучшению Pip.Life используйте рассположенную ниже форму",FEEDBACK_HINT_COPYRIGHT:"Если вы считаете, что контент, доступный на Pip.Life нарушает одно или более ваших авторских прав, вы можете использовать форму ниже, чтобы представить уведомление DMCA. После получения уведомления, мы по закону обязаны ответить на него, отключив доступ к контенту, который предположительно нарушает авторские права. Уведомление может быть направлено со стороны, представившей контент или третьих сторон, таких как ChillingEffects.org.",FEEDBACK_HINT_COPYRIGHT2:"Если вы решите запросить удаление содержания, подав уведомление о нарушении, пожалуйста, помните, что вы инициируете судебный процесс. Пожалуйста, обратите внимание, что исодя из статьи 17 U.S.C. § 512 (F), вы можете нести ответственность за убытки (включая расходы и гонорары адвокатам), если вы сознательно искажаете действительность, что продукт или деятельность нарушает ваши авторские права. Таким образом, если вы не уверены, что содержание, расположенное на PipLife нарушает Ваши авторские права посоветуйтесь с адвокатом.",FEEDBACK_COMPANY:"Название компании",FEEDBACK_MESSAGE:"Сообщение",FEEDBACK_ADDRESS:"Адрес",FEEDBACK_COPYRIGHT_HOLDER:"Владелец авторского права",FEEDBACK_COPYRIGHT_HOLDER_HINT:"Заполните поле, если Вы  представляете кого-то кроме себя",FEEDBACK_ORIGINAL_LOCATION:"Расположение оригинальной авторской работы",FEEDBACK_DESCRIBE_COPYRIGHTED:"Опишите авторские права на произведение",FEEDBACK_DESCRIBE_COPYRIGHTED_HINT:"Это поможет нам идентифицировать ссылки на работу",FEEDBACK_UNAUTHORIZE_LOCATION:"Расположение несанкционированного материала",FEEDBACK_UNAUTHORIZE_LOCATION_HINT:"Пожалуйста, укажите конкретную страницу URL, по одной в строке",FEEDBACK_COPYRIGHT_CONC:"У меня есть добросовестное предположение, что использование защищенных авторским правом материалов, описанных выше, в качестве якобы нарушает авторские права, не разрешено владельцем авторского права, его агентом или законом",FEEDBACK_REGUEST_CONC:"Я клянусь под страхом наказания за лжесвидетельство, что содержащаяся в уведомлении информация верна и что я являюсь владельцем авторского права или имею право действовать от имени владельца эксклюзивных прав, которые якобы нарушены.",FEEDBACK_SIGNATURE:"Ваше имя и фамилия",FEEDBACK_SIGNATURE_HINT:"Подпись",FEEDBACK_SUBJECT:"Заголовок",FEEDBACK_SUCCESS:"Ваш запрос передан команде технической поддержки Pip.Life. C вами свяжутся в ближайшее время по электронной почте. Спасибо за ваш интерес и поддержку PipLife."})}])}(),function(){"use strict";var t=angular.module("pipAnalytics",[]);t.run(["$rootScope","$location","pipAnalytics",function(t,e,a){t.$on("$stateChangeSuccess",function(n,i,o,s,l){var p=e.url(),r=(t.$user||{}).id,c=t.$language||"en",d=p.indexOf("?");d>0&&(p=p.substring(0,d)),a.pageView(p,r,c)})}]),t.provider("pipAnalytics",function(){function t(t){return t&&(i=t,n=!0,window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=1*new Date,window.ga("create",t)),n}function e(t,e,a){n&&window.ga&&window.ga("send","pageview",{page:t,userId:e,language:a})}function a(t,e,a,i,o){n&&window.ga&&window.ga("send","event",{eventCategory:t,eventAction:e,eventValue:a,userId:i,language:o})}var n=!1,i=null;this.enable=t,this.$get=function(){return{enabled:n,trackingId:i,pageView:e,event:a}}})}();
!function(e){"use strict";e.module("pipData",["pipDataConfig","pipDataDocument","pipDataAvatar","pipDataPicture","pipDataUser","pipDataParty","pipDataSession","pipDataUser","pipDataSettings","pipCacheTag","pipDataTag","pipCacheAnnouncement","pipDataAnnouncement","pipCacheFeedback","pipDataFeedback","pipCacheImageSet","pipDataImageSets","pipCacheGuide","pipDataGuide","pipCacheTip","pipDataTip"])}(window.angular),function(){"use strict";var e=angular.module("pipCacheAnnouncement",["pipDataAnnouncement"]);e.service("pipCacheAnnouncement",["pipEnums","pipDataCache","pipCacheTag",function(e,t,a){function r(e,a,r){return e=e||{},e.resource="announces",e.item=e.item||{},t.retrieveOrLoad(e,a,r)}function n(e,r){return t.addDecorator("announces",e,a.tagsUpdateDecorator(e,r))}function i(e,r){return t.updateDecorator("announces",e,a.tagsUpdateDecorator(e,r))}function s(e,a){return t.removeDecorator("announces",e,a)}return{readAnnounces:r,onAnnounceCreate:n,onAnnounceUpdate:i,onAnnounceDelete:s}}])}(),function(){"use strict";var e=angular.module("pipCacheFeedback",["pipDataFeedback"]);e.service("pipCacheFeedback",["pipEnums","pipDataCache","pipCacheTag",function(e,t,a){function r(e,a,r){return e=e||{},e.resource="feedbacks",e.item=e.item||{},t.retrieveOrLoad(e,a,r)}function n(e,r){return t.addDecorator("feedbacks",e,a.tagsUpdateDecorator(e,r))}function i(e,r){return t.updateDecorator("feedbacks",e,a.tagsUpdateDecorator(e,r))}function s(e,a){return t.removeDecorator("feedbacks",e,a)}return{readFeedbacks:r,onFeedbackCreate:n,onFeedbackUpdate:i,onFeedbackDelete:s}}])}(),function(){"use strict";var e=angular.module("pipCacheGuide",["pipDataGuide","pipCacheTag"]);e.service("pipCacheGuide",["pipEnums","pipDataCache","pipCacheTag",function(e,t,a){function r(e,a,r){return e=e||{},e.resource="guides",e.item=e.item||{},t.retrieveOrLoad(e,a,r)}function n(e,r){return t.addDecorator("guides",e,a.tagsUpdateDecorator(e,r))}function i(e,r){return t.updateDecorator("guides",e,a.tagsUpdateDecorator(e,r))}function s(e,a){return t.removeDecorator("guides",e,a)}return{readGuides:r,onGuideCreate:n,onGuideUpdate:i,onGuideDelete:s}}])}(),function(){"use strict";var e=angular.module("pipCacheImageSet",["pipDataImageSets"]);e.service("pipCacheImageSet",["pipEnums","pipDataCache","pipCacheTag",function(e,t,a){function r(e,a,r){return e=e||{},e.resource="image_sets",e.item=e.item||{},t.retrieveOrLoad(e,a,r)}function n(e,r){return t.addDecorator("image_sets",e,a.tagsUpdateDecorator(e,r))}function i(e,r){return t.updateDecorator("image_sets",e,a.tagsUpdateDecorator(e,r))}function s(e,a){return t.removeDecorator("image_sets",e,a)}return{readImageSets:r,onImageSetCreate:n,onImageSetUpdate:i,onImageSetDelete:s}}])}(),function(){"use strict";var e=angular.module("pipCacheTag",["pipUtils","pipDataCache"]);e.service("pipCacheTag",["pipTags","pipDataCache",function(e,t){function a(a,r){var n=r?e.extractTags(r):[];if(0!=n.length){var i="partyTags";a&&null!==a.party_id&&void 0!==a.party_id?i=i+"_"+a.party_id:a&&a.item&&null!==a.item.party_id&&void 0!==a.item.party_id&&(i=i+"_"+a.item.party_id);var s=t.retrieve(i);s&&(_.each(n,function(t){var a=_.find(s.tags,function(a){return e.equalTags(a.tag,t)});a?(a.tag=t,a.count=a.count+1,a.used=new Date):(s.tags||(s.tags=[]),s.tags.push({tag:t,count:1,used:new Date}))}),t.store(i,s))}}function r(e,t){return function(r){a(e,r),t&&t(r)}}function n(e,a,r){return e.resource="partyTags",e.singleResult=!0,t.retrieveOrLoad(e,a,r)}function i(e,t){return r(e,t)}return{readTags:n,onTagsUpdate:i,tagsUpdateDecorator:r}}])}(),function(){"use strict";var e=angular.module("pipCacheTip",["pipDataTip"]);e.service("pipCacheTip",["pipEnums","pipDataCache","pipCacheTag",function(e,t,a){function r(e,a,r){return e=e||{},e.resource="tips",e.item=e.item||{},t.retrieveOrLoad(e,a,r)}function n(e,r){return t.addDecorator("tips",e,a.tagsUpdateDecorator(e,r))}function i(e,r){return t.updateDecorator("tips",e,a.tagsUpdateDecorator(e,r))}function s(e,a){return t.removeDecorator("tips",e,a)}return{readTips:r,onTipCreate:n,onTipUpdate:i,onTipDelete:s}}])}(),function(){"use strict";var e=angular.module("pipDataAnnouncement",["pipRest","pipDataModel","pipCacheAnnouncement"]);e.provider("pipDataAnnouncement",function(){this.readAnnouncesResolver=function(){return["$stateParams","pipRest","pipEnums",function(e,t,a){return t.announces().query().$promise}]},this.readCompletedAnnouncesResolver=function(){return["$stateParams","pipRest","pipEnums",function(e,t,a){return t.announces().query({status:a.EXECUTION_STATUS.COMPLETED}).$promise}]},this.readAnnounceResolver=function(){return["$stateParams","pipRest",function(e,t){return t.announces().get({id:e.id}).$promise}]},this.$get=["pipRest","$stateParams","pipDataModel","pipCacheAnnouncement",function(e,t,a,r){return{partyId:e.partyId,readAnnounces:function(a,n,i){return a.resource="announces",a.item=a.item||{},a.item.search=t.search,a.item.tags=t.search,a.item.party_id=e.partyId(t),r.readAnnounces(a,n,i)},updateAnnounce:function(e,t,n){e.resource="announces",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.update(e,r.onAnnounceCreate(e,t),n)},updateAnnounceWithFiles:function(e,t,n){e.skipTransactionEnd=!0,a.saveFiles(e,function(){e.resource="announces",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.update(e,r.onAnnounceUpdate(e,t),n)})},createAnnounceWithFiles:function(e,t,n){e.skipTransactionEnd=!0,a.saveFiles(e,function(){e.resource="announces",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.create(e,r.onAnnounceCreate(e,t),n)})},createAnnounce:function(e,t,n){e.resource="announces",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.create(e,r.onAnnounceCreate(e,t),n)},deleteAnnounce:function(e,t,n){e.resource="announces",a.remove(e,r.onAnnounceDelete(e,t),n)}}}]})}(),function(){"use strict";var e=angular.module("pipDataAvatar",["pipDataConfig","pipDataSession","angularFileUpload"]);e.provider("pipDataAvatar",function(){this.$get=["$http","$upload","pipDataConfig","pipDataSession","pipStrings",function(e,t,a,r,n){function i(e){return e}function s(e){return e}function p(e){var t,r=a.serverUrl();return t=e.type&&e.id&&e.partyId&&("goals"==c[e.type]||"areas"==c[e.type])?r+"/api/parties/"+e.partyId+"/"+c[e.type]+"/"+e.id+"/avatar":r+"/api/parties/"+e.partyId+"/avatar"}var o=["pip-avatar-color-0","pip-avatar-color-1","pip-avatar-color-2","pip-avatar-color-3","pip-avatar-color-4","pip-avatar-color-5","pip-avatar-color-6","pip-avatar-color-7","pip-avatar-color-8","pip-avatar-color-9","pip-avatar-color-10","pip-avatar-color-11","pip-avatar-color-12","pip-avatar-color-13","pip-avatar-color-14","pip-avatar-color-15"],u=["rgba(239,83,80,1)","rgba(236,64,122,1)","rgba(171,71,188,1)","rgba(126,87,194,1)","rgba(92,107,192,1)","rgba(3,169,244,1)","rgba(0,188,212,1)","rgba(0,150,136,1)","rgba(76,175,80,1)","rgba(139,195,74,1)","rgba(205,220,57,1)","rgba(255,193,7,1)","rgba(255,152,0,1)","rgba(255,87,34,1)","rgba(121,85,72,1)","rgba(96,125,139,1)"],c={goal:"goals",objective:"goals",dream:"goals",accomplishment:"goals",area:"areas",overall:"visions",vision:"visions",event:"events",instance:"events"};return{getEntityTypes:function(){return c},getColorClasses:function(){return o},getAvatarColors:function(){return u},getAvatarUrl:function(e){var t=1e3*Math.floor((new Date).getTime()/1e3),a=n.hashCode(e.id)%u.length,r=null,i=null,s="",o=e.noRedirect&&e.noRedirect===!0?"&no_redirect=true":"";if(e.type&&e.id&&e.partyId||e.partyId)if(e.type&&e.id&&e.partyId){if("category"==e.type)return"";e.noDefault||(s="default_template="+e.type+"&bg="+u[a]+"&fg=white&"),"goals"!=c[e.type]&&"areas"!=c[e.type]||(i=p(e)+"?"+s+"timestamp="+t+"&obj_id="+e.id+o)}else e.partyId&&e.partyName?(a=n.hashCode(e.partyId)%u.length,r=(e.partyName[0]||"?").toUpperCase(),e.noDefault||(s="default_template=letter&bg="+u[a]+"&fg=white&chr="+r+"&"),i=p(e)+"?"+s+"timestamp="+t+"&obj_id="+e.partyId+o):!e.partyId||e.type||e.id||(i=p(e)+"?timestamp="+t+"&obj_id="+e.partyId+o);return i},getAvatarPostUrl:function(e,t){var r,n=a.serverUrl();if(e.entityType&&e.id&&e.partyId)r=n+"/api/parties/"+e.partyId+"/"+c[e.entityType]+"/"+e.id+"/avatar";else if(e.partyId&&!e.entityType){if(e.entityType||e.id)return"";r=n+"/api/parties/"+e.partyId+"/avatar"}return r+"?name="+t},deleteAvatar:function(t,a,r){e({method:"DELETE",url:p(t)}).then(a,function(e){r(s(e))})},createAvatar:function(e,a,r,n){return t.http({url:this.getAvatarPostUrl(e.params,e.name),headers:{"Content-Type":e.type},data:e.data}).then(function(e){null!=a&&a(i(e))},function(e){r(s(e))},n)},createAvatarByUrl:function(t,a,r){return e.post(t).success(function(e){null!=a&&a(i(e))}).error(function(e){r(s(e))})}}}]})}(),function(){"use strict";var e=angular.module("pipDataConfig",["pipRest"]);e.provider("pipDataConfig",["pipRestProvider",function(e){e.version("1.0"),this.version=function(t){e.version(t)},this.serverUrlFixed=function(t){e.serverUrlFixed(t)},this.serverUrl=function(t){e.serverUrl(t)},this.$get=["$rootScope","$http","$resource","pipRest",function(e,t,a,r){return{serverUrl:function(e){return r.serverUrl(e)},serverUrlFixed:function(){return r.serverUrlFixed(serverUrlFixed)},about:function(e,t){return r.about().call({},e,t)}}}]}])}(),function(){"use strict";var e=angular.module("pipDataDocument",["pipDataConfig","pipDataSession","angularFileUpload"]);e.provider("pipDataDocument",function(){this.$get=["$http","$upload","pipDataConfig","pipDataSession",function(e,t,a,r){var n=function(e){return e},i=function(e){return e};return{getDocumentUrl:function(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files/"+e},getDocumentPostUrl:function(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files?name="+e},getDocumentContentUrl:function(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files/"+e+"/content"},deleteDocument:function(t,a,r){e({method:"DELETE",url:getDocumentUrl(t)}).then(a,function(e){r(i(e))})},createDocument:function(e,a,r,s){return t.http({url:this.getDocumentPostUrl(e.name),headers:{"Content-Type":e.type},data:e.data}).then(function(e){null!=a&&a(n(e))},function(e){r(i(e))},s)}}}]})}(),function(){"use strict";var e=angular.module("pipDataFeedback",["pipRest","pipDataModel","pipCacheFeedback"]);e.provider("pipDataFeedback",function(){this.readFeedbacksResolver=function(){return["$stateParams","pipRest",function(e,t){return t.feedbacks().query().$promise}]},this.readFeedbackResolver=function(){return["$stateParams","pipRest",function(e,t){return t.feedbacks().get({id:e.id}).$promise}]},this.$get=["$stateParams","pipRest","pipDataModel","pipCacheFeedback",function(e,t,a,r){return{sendFeedback:function(e,t,r){e.resource="feedbacks",a.create(e,t,r)},readFeedbacks:function(a,n,i){return a.resource="feedbacks",a.item=a.item||{},a.item.party_id=t.partyId(e),r.readFeedbacks(a,n,i)},createFeedbackWithFiles:function(e,t,r){e.skipTransactionEnd=!0,a.saveFiles(e,function(){e.resource="feedbacks",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.create(e,t,r)})},updateFeedback:function(e,t,r){e.resource="feedbacks",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.update(e,t,r)},deleteFeedback:function(e,t,r){e.resource="feedbacks",a.remove(e,t,r)}}}]})}(),function(){"use strict";var e=angular.module("pipDataGuide",["pipRest","pipDataModel"]);e.provider("pipDataGuide",function(){this.$get=["pipRest","$stateParams","pipDataModel","pipCacheGuide",function(e,t,a,r){return{partyId:e.partyId,readGuides:function(a,n,i){return a.resource="guides",a.party_id=e.partyId(t),r.readGuides(a,n,i)},readIntroGuides:function(a,n,i){return a.resource="guides",a.party_id=e.partyId(t),a.type="intro",a.status="completed",r.readGuides(a,n,i)},readGuide:function(n,i,s){return n.resource="guides",n.item=n.item||{},n.item.party_id=e.partyId(t),n.item.id=n.item.id||t.id,a.readOne(n,r.onGuideUpdate(n,i),s)},createGuide:function(n,i,s){n.resource="guides",n.item=n.item||{},n.item.party_id=e.partyId(t),a.create(n,r.onGuideCreate(n,i),s)},createGuideWithFiles:function(e,t,n){e.skipTransactionEnd=!0,a.saveFiles(e,function(){e.resource="guides",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.create(e,r.onGuideCreate(e,t),n)})},updateGuide:function(e,t,n){e.resource="guides",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.update(e,r.onGuideUpdate(e,t),n)},updateGuideWithFiles:function(e,t,n){e.skipTransactionEnd=!0,a.saveFiles(e,function(){e.resource="guides",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,a.update(e,r.onGuideUpdate(e,t),n)})},deleteGuide:function(e,t,n){e.resource="guides",a.remove(e,r.onGuideDelete(e,t),n)}}}]})}(),function(){"use strict";var e=angular.module("pipDataImageSets",["pipRest","pipDataModel","pipCacheImageSet"]);e.provider("pipDataImageSets",function(){var e=15;this.readImageSetsResolver=function(){return["$stateParams","pipRest",function(t,a){return a.image_sets().get({paging:1,skip:0,take:e,search:t.search}).$promise}]},this.readImageSetResolver=function(){return["$stateParams","pipRest",function(e,t){return t.image_sets().get({id:e.id}).$promise}]},this.$get=["pipRest","$stateParams","pipDataModel","pipCacheImageSet",function(t,a,r,n){return{partyId:t.partyId,readImageSets:function(n,i,s,p){return n.resource="image_sets",n.skipTransactionBegin=!0,n.skipTransactionEnd=!1,n.item=n.item||{},n.item.skip=n.item.skip||0,n.item.search=a.search||n.item.search,n.item.party_id=t.partyId(a),n.item.take=e,n.item.paging=1,r.page(n,s,p)},readImageSet:function(e,i,s){return e.resource="image_sets",e.item=e.item||{},e.item.party_id=t.partyId(a),e.item.id=e.item.id||a.id,r.readOne(e,n.onImageSetUpdate(e,i),s)},updateImageSet:function(e,t,a){return e.resource="image_sets",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,r.update(e,t,a)},createImageSet:function(e,t,a){e.resource="image_sets",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,r.create(e,n.onImageSetCreate(e,t),a)},createImageSetWithFiles:function(e,t,a){e.skipTransactionEnd=!0,r.saveFiles(e,function(){e.resource="image_sets",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,r.create(e,n.onImageSetCreate(e,t),a)})},updateImageSetWithFiles:function(e,t,a){e.skipTransactionEnd=!0,r.saveFiles(e,function(){e.resource="image_sets",e.skipTransactionBegin=!0,e.skipTransactionEnd=!1,r.update(e,t,a)})},deleteImageSet:function(e,t,a){e.resource="image_sets",r.remove(e,t,a)}}}]})}(),function(){"use strict";var e=angular.module("pipDataParty",["pipDataConfig","pipRest","pipDataSession"]);e.provider("pipDataParty",function(){this.readPartiesResolver=function(){return["$rootScope","$stateParams","pipRest","pipDataSession",function(e,t,a,r){var n=r.userId(),i=t.party_id||n;if(i!=n)throw"ERROR_NOT_ALLOWED";return a.parties().get({id:i}).$promise}]},this.$get=["pipRest","pipDataConfig",function(e,t){var a=function(e){return e},r=function(e){return e},n=function(e){return e};return{readParty:function(t){return params.resource="parties",params.item=params.item||{},params.item.id=e.partyId($stateParams),pipDataModel.readOne(params,successCallback,errorCallback)},createParty:function(t,n,i){e.parties().update(r(t),function(e){n(a(e))},i)},updateParty:function(t,i,s){e.parties().update(r(t),function(e){i(a(e))},function(e){s(n(e))})},partySettings:function(){return e.partySettings()}}}]})}(),function(){"use strict";var e=angular.module("pipDataPicture",["pipDataConfig","pipDataSession","angularFileUpload"]);e.provider("pipDataPicture",function(){this.$get=["$http","$upload","pipDataConfig","pipDataSession",function(e,t,a,r){function n(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files/"+e}function i(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files?name="+e}function s(e){var t=r.userId(),n=r.partyId()||t;return a.serverUrl()+"/api/parties/"+n+"/files/"+e+"/content"}function p(t,a,r){e({method:"DELETE",url:n(t)}).then(a,function(e){r(d(e))})}function o(e,a,r,n){return t.http({url:i(e.name),headers:{"Content-Type":e.type},data:e.data}).then(function(e){null!=a&&a(c(e))},function(e){r(d(e))},n)}function u(t,a,r){return e.post(t).success(function(e){null!=a&&a(c(e))}).error(function(e){r(d(e))})}var c=function(e){return e},d=function(e){return e};return{getPictureUrl:n,getPicturePostUrl:i,getPictureContentUrl:s,deletePicture:p,createPicture:o,createPictureByUrl:u}}]})}(),function(){"use strict";var e=angular.module("pipDataSession",["pipDataConfig","pipRest","pipRest.Session"]);e.provider("pipDataSession",function(){this.readSessionsResolver=["$stateParams","pipRest",function(e,t){return t.userSessions().query({party_id:t.partyId(e)}).$promise}],this.readSessionIdResolver=["$stateParams","pipRest",function(e,t){return t.sessionId()}],this.$get=["pipRest","pipSession","pipDataConfig","$stateParams",function(e,t,a,r){var n=function(e){return e},i=function(e){return e};return{signin:function(e,a,r){return t.signin({serverUrl:e.serverUrl,email:e.email,password:e.password,remember:e.remember,adminOnly:!!e.adminOnly},function(e){a(n(e))},function(e){r(i(e))})},open:function(e){return t.open(e.serverUrl,e.user,e.password,e.remember)},signout:function(){return e.signout()},userSessions:function(){return e.userSessions()},userId:function(){return e.userId()},sessionId:function(){return e.sessionId()},partyId:function(){return e.partyId(r)},removeSession:function(t,a,n){e.userSessions().remove({id:t.session.id,party_id:e.partyId(r)},a,function(e){n(i(e))})}}}]})}(),function(){"use strict";var e=angular.module("pipDataSettings",["pipRest","pipSessionData","pipSessionCache","pipDataModel"]);e.provider("pipDataSettings",["pipSessionDataProvider",function(e){this.readSettingsResolver=e.readSettingsResolver,this.$get=["$rootScope","$stateParams","pipRest","pipSessionCache","pipSession","pipDataModel",function(e,t,a,r,n,i){function s(e,t){return r.readSettings(e,t)}function p(e,t){return a.partySettings().get({party_id:n.userId()},function(t){t=t||{},r.onSettingsUpdate(t),e&&e(t)},t).$promise}function o(t,a,s,p){t=a?_.pick(t,a):t,t.party_id=n.userId();var o=_.cloneDeep(e.$settings);r.onSettingsUpdate(t);var u={};u.resource="partySettings",u.item=t,u.item.creator_id=n.userId(),i.create(u,s,function(e){r.onSettingsUpdate(o),p&&p(e)})}return{saveSettings:o,readSettings:s,reReadSettings:p}}]}])}(),function(){"use strict";var e=angular.module("pipDataTag",["pipRest","pipDataModel","pipCacheTag"]);e.provider("pipDataTag",function(){this.readTagsResolver=function(){return["$stateParams","pipRest","pipCacheTag",function(e,t,a){return a.readTags({item:{party_id:t.partyId(e)}})}]},this.$get=["$stateParams","$state","pipRest","pipDataModel","pipCacheTag",function(e,t,a,r,n){return{partyId:a.partyId,readTags:function(t,r,i){return t=t||{},t.item=t.item||{},null==t.item.party_id&&(t.item.party_id=a.partyId(e)),n.readTags(t,r,i)}}}]})}(),function(){"use strict";var e=angular.module("pipDataTip",["pipRest","pipDataModel"]);e.provider("pipDataTip",function(){this.readTipsResolver=function(){return["$stateParams","pipRest",function(e,t){return t.tips().query().$promise}]},this.readTipResolver=function(){return["$stateParams","pipRest",function(e,t){return t.tips().get({id:e.id}).$promise}]},this.$get=["pipRest","$stateParams","pipDataModel","pipCacheTip",function(e,t,a,r){return{partyId:e.partyId,readTips:function(a,n,i){return a.resource="tips",a.item=a.item||{},a.item.search=t.search,a.item.tags=t.search,a.item.party_id=e.partyId(t),r.readTips(a,n,i)},readTip:function(n,i,s){return n.resource="tips",n.item=n.item||{},n.item.party_id=e.partyId(t),n.item.id=n.item.id||t.id,a.readOne(n,r.onTipsUpdate(n,i),s)},createTip:function(n,i,s){n.resource="tips",n.item=n.item||{},n.item.party_id=e.partyId(t),a.create(n,r.onTipCreate(n,i),s)},createTipWithFiles:function(n,i,s){n.skipTransactionEnd=!0,n.item=n.item||{},n.item.party_id=e.partyId(t),a.saveFiles(n,function(){n.resource="tips",n.skipTransactionBegin=!0,n.skipTransactionEnd=!1,n.item.party_id=e.partyId(t),a.create(n,r.onTipCreate(n,i),s)},s)},updateTip:function(n,i,s){n.resource="tips",n.item=n.item||{},n.item.party_id=e.partyId(t),a.update(n,r.onTipUpdate(n,i),s)},updateTipWithFiles:function(n,i,s){n.skipTransactionEnd=!0,n.item=n.item||{},n.item.party_id=e.partyId(t),a.saveFiles(n,function(){n.resource="tips",n.skipTransactionBegin=!0,n.skipTransactionEnd=!1,n.item.party_id=e.partyId(t),a.update(n,r.onTipUpdate(n,i),s)})},deleteTip:function(e,t,n){e.resource="tips",a.remove(e,r.onTipDelete(e,t),n)}}}]})}(),function(){"use strict";var e=angular.module("pipDataUser",["pipDataConfig","pipRest"]);e.provider("pipDataUser",function(){this.$get=["pipRest","pipDataConfig","$stateParams","pipDataModel",function(e,t,a,r){var n=function(e){return e},i=function(e){return{name:e.name,email:e.email,password:e.password,language:e.language,theme:e.theme}},s=function(e){return e};return this.readUsersResolver=function(){return["$stateParams","pipRest",function(e,t){return t.users().page({party_id:e.id,paging:e.paging||1,skip:e.skip||0,take:e.take||15}).$promise}]},this.readUserResolver=function(){return["$stateParams","pipRest",function(e,t){return t.users().get({id:e.id,party_id:t.partyId(e)}).$promise}]},this.readActivitiesUserResolver=["$stateParams","pipRest","$rootScope",function(e,t,a){return t.partyActivities().page({party_id:a.$user.id,paging:1,skip:0,take:25}).$promise}],{signup:function(t,a,r){return e.signup(t.serverUrl).call(i(t),function(e){a(n(e))},function(e){s(s(e))})},recoverPassword:function(t,a,r){return e.recoverPassword(t.serverUrl).call({email:t.email},a,function(e){r(s(e))})},resetPassword:function(t,a,r){return e.resetPassword(t.serverUrl).call({email:t.email,code:t.code,password:t.password},a,function(e){r(s(e))})},changePassword:function(t,a,r){return e.changePassword().call(t,a,function(e){r(s(e))})},requestEmailVerification:function(t,r,n){return e.requestEmailVerification(t.serverUrl).get({party_id:e.partyId(a),email:t.email},r,function(e){n(s(e))})},verifyEmail:function(t,a,r){return e.verifyEmail(t.serverUrl).call({email:t.email,code:t.code},a,function(e){r(s(e))})},signupValidate:function(t,a,r){return e.signupValidate().call({email:t.email},a,r)},currentUser:function(t,a){return e.currentUser().call({},function(e){t(n(e))},function(e){a(s(e))})},readUsers:function(t,r,n,i){return e.users().page({party_id:e.partyId(a),paging:1,skip:t.start||t.item.skip||0,search:t.item.search,active:t.item.active,paid:t.item.paid,admin:t.item.admin,take:15},function(e){n&&n(e)},function(e){i(e)})},readUser:function(t,n,i){return t.resource="users",t.item=t.item||{},t.item.party_id=e.partyId(a),t.item.id=t.item.id||a.id,r.readOne(t,n,i)},updateUser:function(t,a,r){e.users().update(t.item,function(e){a(n(e))},function(e){r(s(e))})}}}]})}();